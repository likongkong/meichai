<t_f title='{{c_title}}' arrow='{{c_arrow}}' backcolor='{{c_backcolor}}'></t_f>
<view style='width:100%;height:{{statusBarHeightMc}}px;'></view>
<view class="wrap">
  <view class="headWrap">
    <view class="card">
      <image catchtap="clickme" src="https://cdn.51chaidan.com/images/brandSettledIcon/set.png" mode="widthFix"></image>
      <view>
        <text class="amount">￥{{info.lumpSum}}</text>
        <text class="amountTxt">钱包余额</text>
        <view class="withdrawBtn" catchtap="bideWithdraw">立即提现</view>
        <text class="withdrawTxt">每天可提现一次</text>
      </view>
    </view>
    <view class="filterWrap">
      <view class="filterItem"> 
        <picker mode="date" value="{{date}}" fields='month' end="{{endTime}}" bindchange="bindDateChange">
          <view class="picker">
            <view><text>{{date!=''?date:'全部日期'}}</text><image src="/pages/images/comtriangle.png" mode="widthFix"></image></view> 
          </view>
        </picker>
      </view>
      <view class="filterItem"> 
        <picker bindchange="bindPickerChange" value="{{transactionType}}" range="{{transactionTypeArray}}" range-key="name">
          <view class="picker">
            <view><text>{{transactionTypeArray[transactionType].name}}</text><image src="/pages/images/comtriangle.png" mode="widthFix"></image></view>
          </view>
        </picker>
      </view>
    </view>
  </view>
  <view class="content">
    <block wx:for="{{orderData}}" wx:key="{{index}}">
      <block wx:if="{{item.type == 1}}">
        <view class="orderItem" data-type="9031" data-whref="id={{item.id}}&statustype={{item.status_type}}" catchtap="comjumpwxnav">
          <view class="orderItemL">
            <image src="{{item.litpic}}" mode="widthFix"></image>
          </view>
          <view class="orderItemR">
            <view>
              <text class="color101010">{{item.title}}</text>
              <block wx:if="{{item.status_type == 1 || item.status_type == 2}}">
                <text class="colorFFB730">+{{item.order_amount}}</text>
              </block>
              <block wx:else>
                <!-- <text class="color101010">-{{item.order_amount}}</text> -->
              </block>
            </view>
            <view>
              <text class="colorA2A2A2">{{item.insert_time_date}}</text>
              <!-- <text class="colorA2A2A2">余额 {{item.overage}}</text> -->
            </view>
          </view>
        </view>
      </block>
     <block wx:else>
      <view class="orderItem" data-type="9031" data-whref="id={{item.id}}&statustype={{item.status_type}}" catchtap="comjumpwxnav">
          <view class="orderItemL">
            <image src="https://cdn.51chaidan.com/images/brandSettledIcon/orderIcon/withdraw.png" mode="widthFix"></image>
          </view>
          <view class="orderItemR" style="{{item.status == 3?'display: flex;align-items: center;':''}}">
            <view>
              <text class="color101010">{{item.title}}</text>
              <text class="color101010">-{{item.share_amount}}</text>
            </view>
            <block wx:if="{{item.status != 3}}">
              <block wx:if="{{item.order_amount != 0 && item.status == 1}}">
                <view>
                  <text class="colorA2A2A2">{{item.insert_time_date}}</text>
                  <text class="colorFF2742">提现失败(￥{{item.order_amount}})</text>
                </view>
                <view>
                  <text class="colorA2A2A2"></text>
                  <text class="colorA2A2A2">余额 {{item.overage}}</text>
                </view>
              </block>
              <block wx:else>
                <view>
                  <text class="colorA2A2A2">{{item.insert_time_date}}</text>
                  <text class="colorA2A2A2">余额 {{item.overage}}</text>
                </view>
              </block>
            </block>
          </view>
        </view>
     </block>
    </block>
    <view class="noData" wx:if="{{noData}}">
      <image src="https://cdn.51chaidan.com/images/brandSettledIcon/deal.png" mode="widthFix"></image>
      暂无交易记录
    </view>
  </view>
</view>





<!--设置弹出框  -->
<view class="commodity_screen" bindtap="hideModal" wx:if="{{showModalStatus}}"></view>
<view animation="{{animationData}}" class="commodity_attr_box" style="height:{{popHeight}}rpx" wx:if="{{showModalStatus}}">
  <text class="popTitle">{{currentAccount?'修改绑定账户':'首次提现请先绑定提现账户类型'}}</text>
  <view class="popContentWrap">
    <block wx:for="{{accountList}}" wx:key="index">
      <view class="popContentItem" data-ind="{{index}}" catchtap="chooseAccount">
        <view class="accountTitle" data-type="{{item.account_type}}" catchtap="toggleDescriptionMask">
          <text>{{item.title}}</text> 
          <image src="https://cdn.51chaidan.com/images/brandSettledIcon/wenhao.png" mode="widthFix"></image>
        </view>
        <view class="quotaWrap">
          <view>{{item.remark}}</view>
          <text wx:if="{{currentAccount.account_type == item.account_type}}">当前提现账户</text>
          <image wx:if="{{item.isdefault}}" src="https://cdn.51chaidan.com/images/brandSettledIcon/duihao.png" mode="widthFix"></image>
        </view>
      </view>
    </block>
    <view wx:if="{{withdrawAccount.account_type == 1}}" class="merchantNoInput">
      <text>请输入商户号</text>
      <input type="text" bindinput="bindKeyInput" value="{{withdrawAccount.account}}" />
    </view>
  </view>
  <view class="setfooter">
    <view class="footerWrap">
        <view bindtap="hideModal">关闭</view>
        <view catchtap="submitAudit">确认</view>
    </view>
  </view>
</view>


<!-- 说明弹框 -->
<view class="mask" wx:if="{{isDescriptionMask}}" catchtouchmove="true" catchtap="toggleDescriptionMask">
  <view class="descriptionWrap" catchtap="true">
    <text class="explainTitle">{{clickType==1?'商户账号':'个人账号'}}</text>
    <text class="explain">{{explain}}</text>
    <button catchtap="toggleDescriptionMask">关闭</button>
  </view>
</view>

<!-- 认证弹框 -->
<view class="mask" wx:if="{{isAuthenticationMask}}" catchtouchmove="true" catchtap="toggleAuthenticationMask">
  <view class="authenticationWrap" catchtap="true">
    <text class="title">提现认证</text>

    <view class="authenticationInfo">
      <text>提现金额：{{info.lumpSum}}</text>
      <text>商户号：{{merchantNo}}</text>
    </view>

    <view class="footerWrap">
        <view catchtap="toggleAuthenticationMask">取消</view>
        <view catchtap="confirmWithdrawal">确认</view>
    </view>
  </view>
</view>