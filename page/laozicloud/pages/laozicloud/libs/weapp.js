!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).AMRT={})}(this,(function(e){"use strict";function t(){}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=a(e);if(t){var r=a(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var g;if(wx.getPerformance){var p=wx.getSystemInfoSync().platform,f=wx.getPerformance(),v=f.now(),C=Object.assign({},f,{now:function(){return(f.now()-v)/1e3}});g="devtools"===p?f:C}var y=g,I=wx.getSystemInfoSync(),b=I.screenWidth,B=I.screenHeight,x=I.devicePixelRatio,M=b,E=B,T={width:b,height:B,availWidth:M,availHeight:E,availLeft:0,availTop:0};function S(e,t){var n,i;"parentNode"in e||(n=0===t?function(){return null}:1===t?function(){return q.documentElement}:function(){return q.body},Object.defineProperty(e,"parentNode",{enumerable:!0,get:n}));"parentElement"in e||(i=0===t?function(){return null}:1===t?function(){return q.documentElement}:function(){return q.body},Object.defineProperty(e,"parentElement",{enumerable:!0,get:i}))}function F(e){e.style=e.style||{},Object.assign(e.style,{top:"0px",left:"0px",width:M+"px",height:E+"px",margin:"0px",padding:"0px"})}function U(e){"clientLeft"in e||(e.clientLeft=0,e.clientTop=0),"clientWidth"in e||(e.clientWidth=M,e.clientHeight=E),"getBoundingClientRect"in e||(e.getBoundingClientRect=function(){var e={x:0,y:0,top:0,left:0,width:this.clientWidth,height:this.clientHeight};return e.right=e.width,e.bottom=e.height,e})}function R(e){"offsetLeft"in e||(e.offsetLeft=0,e.offsetTop=0),"offsetWidth"in e||(e.offsetWidth=M,e.offsetHeight=E)}function L(e){"scrollLeft"in e||(e.scrollLeft=0,e.scrollTop=0),"scrollWidth"in e||(e.scrollWidth=M,e.scrollHeight=E)}function H(e){var t=function(){};e.classList=[],e.classList.add=t,e.classList.remove=t,e.classList.contains=t,e.classList.toggle=t}function G(e,t){var n,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var A,a=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,A=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw A}}}}(Object.getOwnPropertyNames(t));try{for(i.s();!(n=i.n()).done;){var r=n.value;if("constructor"!==r&&"prototype"!==r&&"name"!==r){var A=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,A)}}}catch(e){i.e(e)}finally{i.f()}}var P=new WeakMap,Q=function(){function e(){n(this,e),P.set(this,{})}return r(e,[{key:"addEventListener",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=P.get(this);i||(i={},P.set(this,i)),i[e]||(i[e]=[]),i[e].push(t),n.capture&&console.warn("EventTarget.addEventListener: options.capture is not implemented."),n.once&&console.warn("EventTarget.addEventListener: options.once is not implemented."),n.passive&&console.warn("EventTarget.addEventListener: options.passive is not implemented.")}},{key:"removeEventListener",value:function(e,t){var n=P.get(this);if(n){var i=n[e];if(i&&i.length>0)for(var r=i.length;r--;r>0)if(i[r]===t){i.splice(r,1);break}}}},{key:"dispatchEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=P.get(this)[e.type];if(t)for(var n=0;n<t.length;n++)t[n](e)}}]),e}(),D=function(e){A(i,e);var t=c(i);function i(){var e;return n(this,i),(e=t.call(this)).className="",e.children=[],e}return r(i,[{key:"setAttribute",value:function(e,t){this[e]=t}},{key:"getAttribute",value:function(e){return this[e]}},{key:"setAttributeNS",value:function(e,t){this[e]=t}},{key:"getAttributeNS",value:function(e){return this[e]}}]),i}(function(e){A(i,e);var t=c(i);function i(){var e;return n(this,i),(e=t.call(this)).childNodes=[],e}return r(i,[{key:"appendChild",value:function(e){if(this.childNodes.push(e),!(e instanceof i))throw new TypeError("Failed to executed 'appendChild' on 'Node': parameter 1 is not of type 'Node'.");this.childNodes.push(e)}},{key:"cloneNode",value:function(){var e=Object.create(this);return Object.assign(e,this),e}},{key:"removeChild",value:function(e){var t=this.childNodes.findIndex((function(t){return t===e}));return t>-1?this.childNodes.splice(t,1):null}}]),i}(Q)),N=function(e){A(r,e);var i=c(r);function r(){var e,A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;return n(this,r),(e=i.call(this)).className="",e.children=[],e.focus=t,e.blur=t,e.insertBefore=t,e.appendChild=t,e.removeChild=t,e.remove=t,e.innerHTML="",e.tagName=A.toUpperCase(),S(s(e),a),F(s(e)),H(s(e)),U(s(e)),R(s(e)),L(s(e)),e}return r}(D),V=null,O=new Map;function k(e){if(!e)throw new Error("need arguments");return"string"==typeof e?O.delete(e):e._canvasId?O.delete(e._canvasId):(V=null,!1)}var W={0:"animation-delay",1:"animation-direction",2:"animation-duration",3:"animation-fill-mode",4:"animation-iteration-count",5:"animation-name",6:"animation-play-state",7:"animation-timing-function",8:"background-attachment",9:"background-blend-mode",10:"background-clip",11:"background-color",12:"background-image",13:"background-origin",14:"background-position",15:"background-repeat",16:"background-size",17:"border-bottom-color",18:"border-bottom-left-radius",19:"border-bottom-right-radius",20:"border-bottom-style",21:"border-bottom-width",22:"border-collapse",23:"border-image-outset",24:"border-image-repeat",25:"border-image-slice",26:"border-image-source",27:"border-image-width",28:"border-left-color",29:"border-left-style",30:"border-left-width",31:"border-right-color",32:"border-right-style",33:"border-right-width",34:"border-top-color",35:"border-top-left-radius",36:"border-top-right-radius",37:"border-top-style",38:"border-top-width",39:"bottom",40:"box-shadow",41:"box-sizing",42:"break-after",43:"break-before",44:"break-inside",45:"caption-side",46:"clear",47:"clip",48:"color",49:"content",50:"cursor",51:"direction",52:"display",53:"empty-cells",54:"float",55:"font-family",56:"font-kerning",57:"font-size",58:"font-stretch",59:"font-style",60:"font-variant",61:"font-variant-ligatures",62:"font-variant-caps",63:"font-variant-numeric",64:"font-variant-east-asian",65:"font-weight",66:"height",67:"image-rendering",68:"isolation",69:"justify-items",70:"justify-self",71:"left",72:"letter-spacing",73:"line-height",74:"list-style-image",75:"list-style-position",76:"list-style-type",77:"margin-bottom",78:"margin-left",79:"margin-right",80:"margin-top",81:"max-height",82:"max-width",83:"min-height",84:"min-width",85:"mix-blend-mode",86:"object-fit",87:"object-position",88:"offset-distance",89:"offset-path",90:"offset-rotate",91:"opacity",92:"orphans",93:"outline-color",94:"outline-offset",95:"outline-style",96:"outline-width",97:"overflow-anchor",98:"overflow-wrap",99:"overflow-x",100:"overflow-y",101:"padding-bottom",102:"padding-left",103:"padding-right",104:"padding-top",105:"pointer-events",106:"position",107:"resize",108:"right",109:"scroll-behavior",110:"speak",111:"table-layout",112:"tab-size",113:"text-align",114:"text-align-last",115:"text-decoration",116:"text-decoration-line",117:"text-decoration-style",118:"text-decoration-color",119:"text-decoration-skip-ink",120:"text-underline-position",121:"text-indent",122:"text-rendering",123:"text-shadow",124:"text-size-adjust",125:"text-overflow",126:"text-transform",127:"top",128:"touch-action",129:"transition-delay",130:"transition-duration",131:"transition-property",132:"transition-timing-function",133:"unicode-bidi",134:"vertical-align",135:"visibility",136:"white-space",137:"widows",138:"width",139:"will-change",140:"word-break",141:"word-spacing",142:"word-wrap",143:"z-index",144:"zoom",145:"-webkit-appearance",146:"backface-visibility",147:"-webkit-border-horizontal-spacing",148:"-webkit-border-image",149:"-webkit-border-vertical-spacing",150:"-webkit-box-align",151:"-webkit-box-decoration-break",152:"-webkit-box-direction",153:"-webkit-box-flex",154:"-webkit-box-flex-group",155:"-webkit-box-lines",156:"-webkit-box-ordinal-group",157:"-webkit-box-orient",158:"-webkit-box-pack",159:"-webkit-box-reflect",160:"column-count",161:"column-gap",162:"column-rule-color",163:"column-rule-style",164:"column-rule-width",165:"column-span",166:"column-width",167:"align-content",168:"align-items",169:"align-self",170:"flex-basis",171:"flex-grow",172:"flex-shrink",173:"flex-direction",174:"flex-wrap",175:"justify-content",176:"-webkit-font-smoothing",177:"grid-auto-columns",178:"grid-auto-flow",179:"grid-auto-rows",180:"grid-column-end",181:"grid-column-start",182:"grid-template-areas",183:"grid-template-columns",184:"grid-template-rows",185:"grid-row-end",186:"grid-row-start",187:"grid-column-gap",188:"grid-row-gap",189:"-webkit-highlight",190:"hyphens",191:"-webkit-hyphenate-character",192:"-webkit-line-break",193:"-webkit-line-clamp",194:"-webkit-locale",195:"-webkit-margin-before-collapse",196:"-webkit-margin-after-collapse",197:"-webkit-mask-box-image",198:"-webkit-mask-box-image-outset",199:"-webkit-mask-box-image-repeat",200:"-webkit-mask-box-image-slice",201:"-webkit-mask-box-image-source",202:"-webkit-mask-box-image-width",203:"-webkit-mask-clip",204:"-webkit-mask-composite",205:"-webkit-mask-image",206:"-webkit-mask-origin",207:"-webkit-mask-position",208:"-webkit-mask-repeat",209:"-webkit-mask-size",210:"order",211:"perspective",212:"perspective-origin",213:"-webkit-print-color-adjust",214:"-webkit-rtl-ordering",215:"shape-outside",216:"shape-image-threshold",217:"shape-margin",218:"-webkit-tap-highlight-color",219:"-webkit-text-combine",220:"-webkit-text-decorations-in-effect",221:"-webkit-text-emphasis-color",222:"-webkit-text-emphasis-position",223:"-webkit-text-emphasis-style",224:"-webkit-text-fill-color",225:"-webkit-text-orientation",226:"-webkit-text-security",227:"-webkit-text-stroke-color",228:"-webkit-text-stroke-width",229:"transform",230:"transform-origin",231:"transform-style",232:"-webkit-user-drag",233:"-webkit-user-modify",234:"user-select",235:"-webkit-writing-mode",236:"-webkit-app-region",237:"buffered-rendering",238:"clip-path",239:"clip-rule",240:"mask",241:"filter",242:"flood-color",243:"flood-opacity",244:"lighting-color",245:"stop-color",246:"stop-opacity",247:"color-interpolation",248:"color-interpolation-filters",249:"color-rendering",250:"fill",251:"fill-opacity",252:"fill-rule",253:"marker-end",254:"marker-mid",255:"marker-start",256:"mask-type",257:"shape-rendering",258:"stroke",259:"stroke-dasharray",260:"stroke-dashoffset",261:"stroke-linecap",262:"stroke-linejoin",263:"stroke-miterlimit",264:"stroke-opacity",265:"stroke-width",266:"alignment-baseline",267:"baseline-shift",268:"dominant-baseline",269:"text-anchor",270:"writing-mode",271:"vector-effect",272:"paint-order",273:"d",274:"cx",275:"cy",276:"x",277:"y",278:"r",279:"rx",280:"ry",281:"caret-color",282:"line-break",display:"inline",dominantBaseline:"auto",emptyCells:"show",fill:"rgb(0, 0, 0)",fillOpacity:"1",fillRule:"nonzero",filter:"none",flex:"0 1 auto",flexBasis:"auto",flexDirection:"row",flexFlow:"row nowrap",flexGrow:"0",flexShrink:"1",flexWrap:"nowrap",float:"none",floodColor:"rgb(0, 0, 0)",floodOpacity:"1",font:'normal normal 400 normal 16px / normal "PingFang SC"',fontDisplay:"",fontFamily:'"PingFang SC"',fontFeatureSettings:"normal",fontKerning:"auto",fontSize:"16px",fontStretch:"100%",fontStyle:"normal",fontVariant:"normal",fontVariantCaps:"normal",fontVariantEastAsian:"normal",fontVariantLigatures:"normal",fontVariantNumeric:"normal",fontVariationSettings:"normal",fontWeight:"400",grid:"none / none / none / row / auto / auto",gridArea:"auto / auto / auto / auto",gridAutoColumns:"auto",gridAutoFlow:"row",gridAutoRows:"auto",gridColumn:"auto / auto",gridColumnEnd:"auto",gridColumnGap:"0px",gridColumnStart:"auto",gridGap:"0px 0px",gridRow:"auto / auto",gridRowEnd:"auto",gridRowGap:"0px",gridRowStart:"auto",gridTemplate:"none / none / none",gridTemplateAreas:"none",gridTemplateColumns:"none",gridTemplateRows:"none",height:"0px",hyphens:"manual",imageRendering:"auto",inlineSize:"0px",isolation:"auto",justifyContent:"normal",justifyItems:"normal",justifySelf:"auto",left:"auto",letterSpacing:"normal",lightingColor:"rgb(255, 255, 255)",lineBreak:"auto",lineHeight:"normal",listStyle:"disc outside none",listStyleImage:"none",listStylePosition:"outside",listStyleType:"disc",margin:"0px",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",marker:"",markerEnd:"none",markerMid:"none",markerStart:"none",mask:"none",maskType:"luminance",maxBlockSize:"none",maxHeight:"none",maxInlineSize:"none",maxWidth:"none",maxZoom:"",minBlockSize:"0px",minHeight:"0px",minInlineSize:"0px",minWidth:"0px",minZoom:"",mixBlendMode:"normal",objectFit:"fill",objectPosition:"50% 50%",offset:"none 0px auto 0deg",offsetDistance:"0px",offsetPath:"none",offsetRotate:"auto 0deg",opacity:"1",order:"0",orientation:"",orphans:"2",outline:"rgb(0, 0, 0) none 0px",outlineColor:"rgb(0, 0, 0)",outlineOffset:"0px",outlineStyle:"none",outlineWidth:"0px",overflow:"visible",overflowAnchor:"auto",overflowWrap:"normal",overflowX:"visible",overflowY:"visible",overscrollBehavior:"auto auto",overscrollBehaviorX:"auto",overscrollBehaviorY:"auto",padding:"0px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",page:"",pageBreakAfter:"auto",pageBreakBefore:"auto",pageBreakInside:"auto",paintOrder:"fill stroke markers",perspective:"none",perspectiveOrigin:"0px 0px",placeContent:"normal normal",placeItems:"normal normal",placeSelf:"auto auto",pointerEvents:"auto",position:"static",quotes:"",r:"0px",resize:"none",right:"auto",rx:"auto",ry:"auto",scrollBehavior:"auto",shapeImageThreshold:"0",shapeMargin:"0px",shapeOutside:"none",shapeRendering:"auto",size:"",speak:"normal",src:"",stopColor:"rgb(0, 0, 0)",stopOpacity:"1",stroke:"none",strokeDasharray:"none",strokeDashoffset:"0px",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeOpacity:"1",strokeWidth:"1px",tabSize:"8",tableLayout:"auto",textAlign:"start",textAlignLast:"auto",textAnchor:"start",textCombineUpright:"none",textDecoration:"none solid rgb(0, 0, 0)",textDecorationColor:"rgb(0, 0, 0)",textDecorationLine:"none",textDecorationSkipInk:"auto",textDecorationStyle:"solid",textIndent:"0px",textOrientation:"mixed",textOverflow:"clip",textRendering:"auto",textShadow:"none",textSizeAdjust:"auto",textTransform:"none",textUnderlinePosition:"auto",top:"auto",touchAction:"auto",transform:"none",transformBox:"view-box",transformOrigin:"0px 0px",transformStyle:"flat",transition:"all 0s ease 0s",transitionDelay:"0s",transitionDuration:"0s",transitionProperty:"all",transitionTimingFunction:"ease",unicodeBidi:"normal",unicodeRange:"",userSelect:"auto",userZoom:"",vectorEffect:"none",verticalAlign:"baseline",visibility:"visible",webkitAppRegion:"no-drag",webkitAppearance:"none",webkitBorderAfter:"0px none rgb(0, 0, 0)",webkitBorderAfterColor:"rgb(0, 0, 0)",webkitBorderAfterStyle:"none",webkitBorderAfterWidth:"0px",webkitBorderBefore:"0px none rgb(0, 0, 0)",webkitBorderBeforeColor:"rgb(0, 0, 0)",webkitBorderBeforeStyle:"none",webkitBorderBeforeWidth:"0px",webkitBorderEnd:"0px none rgb(0, 0, 0)",webkitBorderEndColor:"rgb(0, 0, 0)",webkitBorderEndStyle:"none",webkitBorderEndWidth:"0px",webkitBorderHorizontalSpacing:"0px",webkitBorderImage:"none",webkitBorderStart:"0px none rgb(0, 0, 0)",webkitBorderStartColor:"rgb(0, 0, 0)",webkitBorderStartStyle:"none",webkitBorderStartWidth:"0px",webkitBorderVerticalSpacing:"0px",webkitBoxAlign:"stretch",webkitBoxDecorationBreak:"slice",webkitBoxDirection:"normal",webkitBoxFlex:"0",webkitBoxFlexGroup:"1",webkitBoxLines:"single",webkitBoxOrdinalGroup:"1",webkitBoxOrient:"horizontal",webkitBoxPack:"start",webkitBoxReflect:"none",webkitColumnBreakAfter:"auto",webkitColumnBreakBefore:"auto",webkitColumnBreakInside:"auto",webkitFontSizeDelta:"",webkitFontSmoothing:"auto",webkitHighlight:"none",webkitHyphenateCharacter:"auto",webkitLineBreak:"auto",webkitLineClamp:"none",webkitLocale:"auto",webkitLogicalHeight:"0px",webkitLogicalWidth:"0px",webkitMarginAfter:"0px",webkitMarginAfterCollapse:"collapse",webkitMarginBefore:"0px",webkitMarginBeforeCollapse:"collapse",webkitMarginBottomCollapse:"collapse",webkitMarginCollapse:"",webkitMarginEnd:"0px",webkitMarginStart:"0px",webkitMarginTopCollapse:"collapse",webkitMask:"",webkitMaskBoxImage:"none",webkitMaskBoxImageOutset:"0px",webkitMaskBoxImageRepeat:"stretch",webkitMaskBoxImageSlice:"0 fill",webkitMaskBoxImageSource:"none",webkitMaskBoxImageWidth:"auto",webkitMaskClip:"border-box",webkitMaskComposite:"source-over",webkitMaskImage:"none",webkitMaskOrigin:"border-box",webkitMaskPosition:"0% 0%",webkitMaskPositionX:"0%",webkitMaskPositionY:"0%",webkitMaskRepeat:"repeat",webkitMaskRepeatX:"",webkitMaskRepeatY:"",webkitMaskSize:"auto",webkitMaxLogicalHeight:"none",webkitMaxLogicalWidth:"none",webkitMinLogicalHeight:"0px",webkitMinLogicalWidth:"0px",webkitPaddingAfter:"0px",webkitPaddingBefore:"0px",webkitPaddingEnd:"0px",webkitPaddingStart:"0px",webkitPerspectiveOriginX:"",webkitPerspectiveOriginY:"",webkitPrintColorAdjust:"economy",webkitRtlOrdering:"logical",webkitRubyPosition:"before",webkitTapHighlightColor:"rgba(0, 0, 0, 0.4)",webkitTextCombine:"none",webkitTextDecorationsInEffect:"none",webkitTextEmphasis:"",webkitTextEmphasisColor:"rgb(0, 0, 0)",webkitTextEmphasisPosition:"over right",webkitTextEmphasisStyle:"none",webkitTextFillColor:"rgb(0, 0, 0)",webkitTextOrientation:"vertical-right",webkitTextSecurity:"none",webkitTextStroke:"",webkitTextStrokeColor:"rgb(0, 0, 0)",webkitTextStrokeWidth:"0px",webkitTransformOriginX:"",webkitTransformOriginY:"",webkitTransformOriginZ:"",webkitUserDrag:"auto",webkitUserModify:"read-only",webkitWritingMode:"horizontal-tb",whiteSpace:"normal",widows:"2",width:"0px",willChange:"auto",wordBreak:"normal",wordSpacing:"0px",wordWrap:"normal",writingMode:"horizontal-tb",x:"0px",y:"0px",zIndex:"auto",zoom:"1"};var Z=function e(i){n(this,e),this.cancelBubble=!1,this.cancelable=!1,this.target=null,this.currentTarget=null,this.preventDefault=t,this.stopPropagation=t,this.type=i,this.timeStamp=Date.now()},X={href:"app.js",reload:function(){},replace:function(e){this.href=e}};function _(){var e=V;if(!e)throw new Error("please register a canvas");var t=e.createImage();return"tagName"in t||(t.tagName="IMG"),S(t),H(t),t}var z=function(e){A(i,e);var t=c(i);function i(){return n(this,i),t.call(this,"html",0)}return i}(N),K=function(e){A(i,e);var t=c(i);function i(){return n(this,i),t.call(this,"body",0)}return i}(N),Y=function(e){A(i,e);var t=c(i);function i(e){var r;return n(this,i),(r=t.call(this,e)).touches=[],r.targetTouches=[],r.changedTouches=[],r.target=null,r.currentTarget=null,r}return i}(Z),j=function e(t){n(this,e),this.identifier=t.identifier,this.force=void 0===t.force?1:t.force,this.pageX=t.pageX||t.x,this.pageY=t.pageY||t.y,this.clientX=t.clientX||t.x,this.clientY=t.clientY||t.y,this.screenX=this.pageX,this.screenY=this.pageY},J={},q={readyState:"complete",visibilityState:"visible",hidden:!1,fullscreen:!0,location:X,scripts:[],style:{},ontouchstart:null,ontouchmove:null,ontouchend:null,onvisibilitychange:null,parentNode:null,parentElement:null,createElement:function(e){if("canvas"===(e=e.toLowerCase())){if(null==V)throw new Error("please register a canvas");return V}return"img"===e?new _:new N(e)},createElementNS:function(e,t){return this.createElement(t)},createTextNode:function(e){return e},getElementById:function(e){return O.has(e)?O.get(e):null},getElementsByTagName:function(e){return"head"===(e=e.toLowerCase())?[q.head]:"body"===e?[q.body]:"canvas"===e?u(O):[]},getElementsByTagNameNS:function(e,t){return this.getElementsByTagName(t)},getElementsByName:function(e){return"head"===e?[q.head]:"body"===e?[q.body]:"canvas"===e?u(O):[]},querySelector:function(e){if("head"===e)return q.head;if("body"===e)return q.body;if("canvas"===e)return V;var t=e.slice(1);return O.has(t)?O.get(t):null},querySelectorAll:function(e){return"head"===e?[q.head]:"body"===e?[q.body]:"canvas"===e?u(O):[]},addEventListener:function(e,t){J[e]||(J[e]=[]),J[e].push(t)},removeEventListener:function(e,t){var n=J[e];if(n&&n.length>0)for(var i=n.length;i--;i>0)if(n[i]===t){n.splice(i,1);break}},dispatchEvent:function(e){var t=e.type,n=J[t];if(n)for(var i=0;i<n.length;i++)n[i](e);e.target&&"function"==typeof e.target["on"+t]&&e.target["on"+t](e)}};function $(e){return function(){q.visibilityState=e?"visible":"hidden";var t=!e;if(q.hidden!==t){q.hidden=t;var n=new Z("visibilitychange");n.target=q,n.timeStamp=Date.now(),q.dispatchEvent(n)}}}q.documentElement=new z,q.head=new N("head"),q.body=new K,wx.onHide&&wx.onHide($(!1)),wx.onShow&&wx.onShow($(!0));var ee=wx.getSystemInfoSync(),te=ee.system,ne=ee.platform,ie=ee.language,re=-1!==te.toLowerCase().indexOf("android")?"Android; CPU Android 6.0":"iPhone; CPU iPhone OS 10_3_1 like Mac OS X",Ae="Mozilla/5.0 (".concat(re,") AppleWebKit/603.1.30 (KHTML, like Gecko) Mobile/14E8301 MicroMessenger/6.6.0 MiniGame NetType/WIFI Language/").concat(ie),ae={platform:ne,language:ie,appVersion:"5.0 (".concat(re,") AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1"),userAgent:Ae,onLine:!0,geolocation:{getCurrentPosition:t,watchPosition:t,clearWatch:t}};wx.onNetworkStatusChange&&wx.onNetworkStatusChange((function(e){ae.onLine=e.isConnected}));var oe=new WeakMap,se=new WeakMap,le=new WeakMap;function ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.target=t.target||this,"function"==typeof this["on".concat(e)]&&this["on".concat(e)].call(this,t)}function ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.readyState=e,t.readyState=e,ce.call(this,"readystatechange",t)}function he(e){return!/^(http|https|ftp|wxfile):\/\/.*/i.test(e)}var de=function(e){A(i,e);var t=c(i);function i(){var e;return n(this,i),(e=t.call(this)).onabort=null,e.onerror=null,e.onload=null,e.onloadstart=null,e.onprogress=null,e.ontimeout=null,e.onloadend=null,e.onreadystatechange=null,e.readyState=0,e.response=null,e.responseText=null,e.responseType="text",e.dataType="string",e.responseXML=null,e.status=0,e.statusText="",e.upload={},e.withCredentials=!1,oe.set(s(e),{"content-type":"application/x-www-form-urlencoded"}),se.set(s(e),{}),e}return r(i,[{key:"abort",value:function(){var e=le.get(this);e&&e.abort()}},{key:"getAllResponseHeaders",value:function(){var e=se.get(this);return Object.keys(e).map((function(t){return"".concat(t,": ").concat(e[t])})).join("\n")}},{key:"getResponseHeader",value:function(e){return se.get(this)[e]}},{key:"open",value:function(e,t){this._method=e,this._url=t,ue.call(this,i.OPENED)}},{key:"overrideMimeType",value:function(){}},{key:"send",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.readyState!==i.OPENED)throw new Error("Failed to execute 'send' on 'XMLHttpRequest': The object's state must be OPENED.");var n,r=this._url,A=oe.get(this),a=this.responseType,o=this.dataType,s=he(r);"arraybuffer"===a||(n="utf8"),delete this.response,this.response=null;var l=function(t){var n=t.data,r=t.statusCode,A=t.header;if(r=void 0===r?200:r,"string"!=typeof n&&!(n instanceof ArrayBuffer))try{n=JSON.stringify(n)}catch(e){n=n}e.status=r,A&&se.set(e,A),ce.call(e,"loadstart"),ue.call(e,i.HEADERS_RECEIVED),ue.call(e,i.LOADING),e.response=n,n instanceof ArrayBuffer?Object.defineProperty(e,"responseText",{enumerable:!0,configurable:!0,get:function(){throw"InvalidStateError : responseType is "+this.responseType}}):e.responseText=n,ue.call(e,i.DONE),ce.call(e,"load"),ce.call(e,"loadend")},c=function(t){var n=t.errMsg;-1!==n.indexOf("abort")?ce.call(e,"abort"):ce.call(e,"error",{message:n}),ce.call(e,"loadend"),s&&console.warn(n)};if(s){var u=wx.getFileSystemManager(),h={filePath:r,success:l,fail:c};return n&&(h.encoding=n),void u.readFile(h)}wx.request({data:t,url:r,method:this._method,header:A,dataType:o,responseType:a,success:l,fail:c})}},{key:"setRequestHeader",value:function(e,t){var n=oe.get(this);n[e]=t,oe.set(this,n)}},{key:"addEventListener",value:function(e,t){var n=this;"function"==typeof t&&(this["on"+e]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.target=e.target||n,t.call(n,e)})}},{key:"removeEventListener",value:function(e,t){this["on"+e]===t&&(this["on"+e]=null)}}]),i}(Q);function ge(){}if(de.UNSEND=0,de.OPENED=1,de.HEADERS_RECEIVED=2,de.LOADING=3,de.DONE=4,"devtools"!==wx.getSystemInfoSync().platform){var pe=wx.getPerformance?wx.getPerformance():Date,fe={};console.time=function(e){fe[e]=pe.now()},console.timeEnd=function(e){var t=fe[e];if(t){var n=pe.now()-t;console.log(e+": "+n/1e3+"ms"),delete fe[e]}}}function me(e,t){return function(n){var i=new Y(t);i.changedTouches=n.changedTouches.map((function(e){return new j(e)})),i.touches=n.touches.map((function(e){return new j(e)})),i.targetTouches=Array.prototype.slice.call(n.touches.map((function(e){return new j(e)}))),i.timeStamp=n.timeStamp,"document"==e?(i.target=q,i.currentTarget=q,q.dispatchEvent(i)):(i.target=V,i.currentTarget=V,V.dispatchEvent(i))}}wx.onWindowResize&&wx.onWindowResize((function(e){var t=new Z("resize");t.target=q,t.timeStamp=Date.now(),t.res=e,t.windowWidth=e.windowWidth,t.windowHeight=e.windowHeight,q.dispatchEvent(t)}));var ve=V?V.requestAnimationFrame:t,Ce=V?V.cancelAnimationFrame:t;function ye(e,t){q.addEventListener(e,t)}function Ie(e,t){q.removeEventListener(e,t)}var we=wx.arrayBufferToBase64||t,be=wx.base64ToArrayBuffer||t,Be=Object.freeze({__proto__:null,AudioContext:null,Element:D,HTMLElement:N,Image:_,TouchEvent:Y,VRFrameData:t,XMLHttpRequest:de,_canvasMap:O,addEventListener:ye,alert:function(e){console.log(e)},arrayBufferToBase64:we,base64ToArrayBuffer:be,blur:function(){},cancelAnimationFrame:Ce,get canvas(){return V},clearCanvas:function(){O.clear(),V=null},devicePixelRatio:x,document:q,focus:ge,getComputedStyle:function(e){var t,n,i,r,A=e.tagName;return"CANVAS"===A?(r=e.getBoundingClientRect(),Object.assign(W,{display:"inline",position:"static",inlineSize:r.width+"px",perspectiveOrigin:r.width/2+"px "+r.height/2+"px",transformOrigin:r.width/2+"px "+r.height/2+"px",webkitLogicalWidth:r.width+"px",webkitLogicalHeight:r.height+"px",width:r.width+"px",height:r.height+"px"})):"IMG"===A?(n=(t=e).width,i=t.height,Object.assign(W,{display:"inline",position:"static",inlineSize:n+"px",perspectiveOrigin:n/2+"px "+i/2+"px",transformOrigin:n/2+"px "+i/2+"px",webkitLogicalWidth:n+"px",webkitLogicalHeight:i+"px",width:n+"px",height:i+"px"})):W},innerHeight:E,innerWidth:M,location:X,navigator:ae,ontouchend:null,ontouchmove:null,ontouchstart:null,performance:y,registerCanvas:function(){for(var e=null,t=null,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];if(0===i.length)throw new Error("need arguments");if(1===i.length&&i[0]._canvasId?(t=i[0],e=i[0]._canvasId):2===i.length&&"string"==typeof i[0]&&i[1]._canvasId&&(e=i[0],t=i[1]),!e||!t)throw new Error("parameter err");if(O.size>=5){console.warn("canvas map size bigger 5 please remove unused canvas!");var A=O.keys().next().value;A&&O.delete(A)}if(O.has(e))V=O.get(e);else{var a=new N("canvas");t.tagName&&"CANVAS"==t.tagName.toUpperCase()||(t.type="canvas",G(t,a),G(t.constructor.prototype,Q.prototype),G(t.constructor.prototype,N.prototype)),O.set(e,t),V=t}return V},removeEventListener:Ie,requestAnimationFrame:ve,screen:T,scrollBy:function(e,t){},scrollTo:function(e,t){},scrollX:0,scrollY:0,touchEventHandlerFactory:me,unregisterCanvas:k,webkitAudioContext:null});function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Te(e,t,n){return t&&Ee(e.prototype,t),n&&Ee(e,n),e}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function He(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Le(e):t}function Ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ue(e);if(t){var r=Ue(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return He(this,n)}}function Pe(e,t,n){return(Pe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ue(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function Qe(e){return function(e){if(Array.isArray(e))return Ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||De(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){if(e){if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ne(e,t):void 0}}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ve(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=De(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var A,a=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,A=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw A}}}}Array.prototype.insert=function(e,t){this.splice(t,0,e)},Array.prototype.removeAt=function(e){return!(isNaN(e)||e>=this.length)&&this.splice(e,1)[0]},Array.prototype.remove=function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)},"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(e){return this.slice(0,e.length)===e}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t});var Oe={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},ke=100,We=201,Ze=204,Xe=205,_e=300,ze=301,Ke=302,Ye=304,je=306,Je=307,qe=1e3,$e=1001,et=1002,tt=1003,nt=1004,it=1005,rt=1006,At=1007,at=1008,ot=1009,st=1012,lt=1014,ct=1015,ut=1016,ht=1020,dt=1022,gt=1023,pt=gt,ft=1026,mt=1027,vt=33776,Ct=33777,yt=33778,It=33779,wt=35840,bt=35841,Bt=35842,xt=35843,Mt=37492,Et=37496,Tt=2200,St=2201,Ft=2300,Ut=2301,Rt=2302,Lt=2400,Ht=2401,Gt=2402,Pt=3e3,Qt=3001,Dt=3007,Nt=3002,Vt=3004,Ot=3005,kt=3006,Wt=3201,Zt=7680,Xt=35044,_t=35048,zt=5e3,Kt=2e3;function Yt(){}Object.assign(Yt.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,e)}}}});for(var jt=[],Jt=0;Jt<256;Jt++)jt[Jt]=(Jt<16?"0":"")+Jt.toString(16);var qt={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(jt[255&e]+jt[e>>8&255]+jt[e>>16&255]+jt[e>>24&255]+"-"+jt[255&t]+jt[t>>8&255]+"-"+jt[t>>16&15|64]+jt[t>>24&255]+"-"+jt[63&n|128]+jt[n>>8&255]+"-"+jt[n>>16&255]+jt[n>>24&255]+jt[255&i]+jt[i>>8&255]+jt[i>>16&255]+jt[i>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*qt.DEG2RAD},radToDeg:function(e){return e*qt.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function $t(e,t){this.x=e||0,this.y=t||0}function en(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==i?i:1}Object.defineProperties($t.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign($t.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,A=this.y-e.y;return this.x=r*n-A*i+e.x,this.y=r*i+A*n+e.y,this}}),Object.assign(en,{slerp:function(e,t,n,i){return n.copy(e).slerp(t,i)},slerpFlat:function(e,t,n,i,r,A,a){var o=n[i+0],s=n[i+1],l=n[i+2],c=n[i+3],u=r[A+0],h=r[A+1],d=r[A+2],g=r[A+3];if(c!==g||o!==u||s!==h||l!==d){var p=1-a,f=o*u+s*h+l*d+c*g,m=f>=0?1:-1,v=1-f*f;if(v>Number.EPSILON){var C=Math.sqrt(v),y=Math.atan2(C,f*m);p=Math.sin(p*y)/C,a=Math.sin(a*y)/C}var I=a*m;if(o=o*p+u*I,s=s*p+h*I,l=l*p+d*I,c=c*p+g*I,p===1-a){var w=1/Math.sqrt(o*o+s*s+l*l+c*c);o*=w,s*=w,l*=w,c*=w}}e[t]=o,e[t+1]=s,e[t+2]=l,e[t+3]=c}}),Object.defineProperties(en.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}}),Object.assign(en.prototype,{isQuaternion:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,i=e._y,r=e._z,A=e.order,a=Math.cos,o=Math.sin,s=a(n/2),l=a(i/2),c=a(r/2),u=o(n/2),h=o(i/2),d=o(r/2);return"XYZ"===A?(this._x=u*l*c+s*h*d,this._y=s*h*c-u*l*d,this._z=s*l*d+u*h*c,this._w=s*l*c-u*h*d):"YXZ"===A?(this._x=u*l*c+s*h*d,this._y=s*h*c-u*l*d,this._z=s*l*d-u*h*c,this._w=s*l*c+u*h*d):"ZXY"===A?(this._x=u*l*c-s*h*d,this._y=s*h*c+u*l*d,this._z=s*l*d+u*h*c,this._w=s*l*c-u*h*d):"ZYX"===A?(this._x=u*l*c-s*h*d,this._y=s*h*c+u*l*d,this._z=s*l*d-u*h*c,this._w=s*l*c+u*h*d):"YZX"===A?(this._x=u*l*c+s*h*d,this._y=s*h*c+u*l*d,this._z=s*l*d-u*h*c,this._w=s*l*c-u*h*d):"XZY"===A&&(this._x=u*l*c-s*h*d,this._y=s*h*c-u*l*d,this._z=s*l*d+u*h*c,this._w=s*l*c+u*h*d),!1!==t&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,i=n[0],r=n[4],A=n[8],a=n[1],o=n[5],s=n[9],l=n[2],c=n[6],u=n[10],h=i+o+u;return h>0?(t=.5/Math.sqrt(h+1),this._w=.25/t,this._x=(c-s)*t,this._y=(A-l)*t,this._z=(a-r)*t):i>o&&i>u?(t=2*Math.sqrt(1+i-o-u),this._w=(c-s)/t,this._x=.25*t,this._y=(r+a)/t,this._z=(A+l)/t):o>u?(t=2*Math.sqrt(1+o-i-u),this._w=(A-l)/t,this._x=(r+a)/t,this._y=.25*t,this._z=(s+c)/t):(t=2*Math.sqrt(1+u-i-o),this._w=(a-r)/t,this._x=(A+l)/t,this._y=(s+c)/t,this._z=.25*t),this._onChangeCallback(),this},setFromUnitVectors:function(e,t){var n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(qt.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(0===n)return this;var i=Math.min(1,t/n);return this.slerp(e,i),this},inverse:function(){return this.conjugate()},invert:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,i=e._y,r=e._z,A=e._w,a=t._x,o=t._y,s=t._z,l=t._w;return this._x=n*l+A*a+i*s-r*o,this._y=i*l+A*o+r*a-n*s,this._z=r*l+A*s+n*o-i*a,this._w=A*l-n*a-i*o-r*s,this._onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,i=this._y,r=this._z,A=this._w,a=A*e._w+n*e._x+i*e._y+r*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=A,this._x=n,this._y=i,this._z=r,this;var o=1-a*a;if(o<=Number.EPSILON){var s=1-t;return this._w=s*A+t*this._w,this._x=s*n+t*this._x,this._y=s*i+t*this._y,this._z=s*r+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(o),c=Math.atan2(l,a),u=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=A*u+this._w*h,this._x=n*u+this._x*h,this._y=i*u+this._y*h,this._z=r*u+this._z*h,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var tn=new rn,nn=new en;function rn(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}Object.assign(rn.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(nn.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(nn.setFromAxisAngle(e,t))},applyMatrix3:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements,A=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*A,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*A,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*A,this},applyQuaternion:function(e){var t=this.x,n=this.y,i=this.z,r=e.x,A=e.y,a=e.z,o=e.w,s=o*t+A*i-a*n,l=o*n+a*t-r*i,c=o*i+r*n-A*t,u=-r*t-A*n-a*i;return this.x=s*o+u*-r+l*-a-c*-A,this.y=l*o+u*-A+c*-r-s*-a,this.z=c*o+u*-a+s*-A-l*-r,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,i=e.y,r=e.z,A=t.x,a=t.y,o=t.z;return this.x=i*o-r*a,this.y=r*A-n*o,this.z=n*a-i*A,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(e){return tn.copy(this).projectOnVector(e),this.sub(tn)},reflect:function(e){return this.sub(tn.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());0===t&&console.error("THREE.Vector3: angleTo() can't handle zero length vectors.");var n=this.dot(e)/t;return Math.acos(qt.clamp(n,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}});var An,an=new rn;function on(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(on.prototype,{isMatrix3:!0,set:function(e,t,n,i,r,A,a,o,s){var l=this.elements;return l[0]=e,l[1]=i,l[2]=a,l[3]=t,l[4]=r,l[5]=o,l[6]=n,l[7]=A,l[8]=s,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(e){for(var t=0,n=e.count;t<n;t++)an.x=e.getX(t),an.y=e.getY(t),an.z=e.getZ(t),an.applyMatrix3(this),e.setXYZ(t,an.x,an.y,an.z);return e},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements,r=this.elements,A=n[0],a=n[3],o=n[6],s=n[1],l=n[4],c=n[7],u=n[2],h=n[5],d=n[8],g=i[0],p=i[3],f=i[6],m=i[1],v=i[4],C=i[7],y=i[2],I=i[5],w=i[8];return r[0]=A*g+a*m+o*y,r[3]=A*p+a*v+o*I,r[6]=A*f+a*C+o*w,r[1]=s*g+l*m+c*y,r[4]=s*p+l*v+c*I,r[7]=s*f+l*C+c*w,r[2]=u*g+h*m+d*y,r[5]=u*p+h*v+d*I,r[8]=u*f+h*C+d*w,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],A=e[4],a=e[5],o=e[6],s=e[7],l=e[8];return t*A*l-t*a*s-n*r*l+n*a*o+i*r*s-i*A*o},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,i=this.elements,r=n[0],A=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=h*s-l*u,g=l*c-h*o,p=u*o-s*c,f=r*d+A*g+a*p;if(0===f){var m="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(m);return console.warn(m),this.identity()}var v=1/f;return i[0]=d*v,i[1]=(a*u-h*A)*v,i[2]=(l*A-a*s)*v,i[3]=g*v,i[4]=(h*r-a*c)*v,i[5]=(a*o-l*r)*v,i[6]=p*v,i[7]=(A*c-u*r)*v,i[8]=(s*r-A*o)*v,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,i,r,A,a){var o=Math.cos(r),s=Math.sin(r);this.set(n*o,n*s,-n*(o*A+s*a)+A+e,-i*s,i*o,-i*(-s*A+o*a)+a+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=this.elements,r=i[0],A=i[3],a=i[6],o=i[1],s=i[4],l=i[7];return i[0]=t*r+n*o,i[3]=t*A+n*s,i[6]=t*a+n*l,i[1]=-n*r+t*o,i[4]=-n*A+t*s,i[7]=-n*a+t*l,this},rotateY:function(e){var t=Math.cos(e),n=Math.sin(e),i=this.elements;return i[0]=t,i[6]=-n,i[2]=n,i[8]=t,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var sn={getDataURL:function(e){var t;if("undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===An&&(An=q.createElementNS("http://www.w3.org/1999/xhtml","canvas")),An.width=e.width,An.height=e.height;var n=An.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=An}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},ln={UPDATE:"update",CHANGE:"change",ENDED:"ended",LOOP:"loop",MAP_INIT:"map_init",MAP_LOADED:"map_loaded",MESH_LOADED:"mesh_loaded",MESH_LOAD_ERROR:"mesh_load_error"};ln.MESH_LOAD_ERROR="mesh_load_error",ln.MATERIAL_LOADED="material_loaded",ln.MATERIAL_LOAD_ERROR="material_load_error",ln.ANIMATION_LOADED="animation_loaded",ln.ANIMATION_LOAD_ERROR="animation_load_error",ln.MODEL_UPDATE="model_update",ln.START=null!==q.ontouchstart?"mousedown":"touchstart",ln.END=null!==q.ontouchend?"mouseup":"touchend",ln.MESSAGE="message";var cn=function(){this._tweens={},this._tweensAddedDuringUpdate={},this._tweens={},this._tweensAddedDuringUpdate={}};cn.prototype={getAll:function(){return Object.keys(this._tweens).map(function(e){return this._tweens[e]}.bind(this))},removeAll:function(){this._tweens={}},add:function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},remove:function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},update:function(e,t){var n=Object.keys(this._tweens);if(0===n.length)return!1;for(e=void 0!==e?e:hn.now();n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var r=this._tweens[n[i]];r&&!1===r.update(e)&&(r._isPlaying=!1,t||delete this._tweens[n[i]])}n=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var un,hn=new cn;hn.Group=cn,hn._nextId=0,hn.nextId=function(){return hn._nextId++},"undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?hn.now=function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?hn.now=self.performance.now.bind(self.performance):void 0!==Date.now?hn.now=Date.now:hn.now=function(){return(new Date).getTime()},hn.Tween=function(e,t){this._object=e,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=hn.Easing.Linear.None,this._interpolationFunction=hn.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=t||hn,this._id=hn.nextId()},hn.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(e,t){return this._valuesEnd=Object.create(e),void 0!==t&&(this._duration=t),this},duration:function(e){return this._duration=e,this},start:function(e){for(var t in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==e?"string"==typeof e?hn.now()+parseFloat(e):e:hn.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[t]instanceof Array){if(0===this._valuesEnd[t].length)continue;this._valuesEnd[t]=[this._object[t]].concat(this._valuesEnd[t])}void 0!==this._object[t]&&(this._valuesStart[t]=this._object[t],this._valuesStart[t]instanceof Array==!1&&(this._valuesStart[t]*=1),this._valuesStartRepeat[t]=this._valuesStart[t]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(1/0),this},stopChainedTweens:function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop()},group:function(e){return this._group=e,this},delay:function(e){return this._delayTime=e,this},repeat:function(e){return this._repeat=e,this},repeatDelay:function(e){return this._repeatDelayTime=e,this},yoyo:function(e){return this._yoyo=e,this},easing:function(e){return this._easingFunction=e,this},interpolation:function(e){return this._interpolationFunction=e,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(e){return this._onStartCallback=e,this},onUpdate:function(e){return this._onUpdateCallback=e,this},onRepeat:function(e){return this._onRepeatCallback=e,this},onComplete:function(e){return this._onCompleteCallback=e,this},onStop:function(e){return this._onStopCallback=e,this},update:function(e){var t,n,i;if(e<this._startTime)return!0;for(t in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(e-this._startTime)/this._duration,n=0===this._duration||n>1?1:n,i=this._easingFunction(n),this._valuesEnd)if(void 0!==this._valuesStart[t]){var r=this._valuesStart[t]||0,A=this._valuesEnd[t];A instanceof Array?this._object[t]=this._interpolationFunction(A,i):("string"==typeof A&&(A="+"===A.charAt(0)||"-"===A.charAt(0)?r+parseFloat(A):parseFloat(A)),"number"==typeof A&&(this._object[t]=r+(A-r)*i))}if(null!==this._onUpdateCallback&&(this._onUpdateCallback(this._object,n),pn.render()),1===n){if(this._repeat>0){for(t in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[t]&&(this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(this._valuesEnd[t])),this._yoyo){var a=this._valuesStartRepeat[t];this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=a}this._valuesStart[t]=this._valuesStartRepeat[t]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var o=0,s=this._chainedTweens.length;o<s;o++)this._chainedTweens[o].start(this._startTime+this._duration);return!1}return!0}},hn.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-hn.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*hn.Easing.Bounce.In(2*e):.5*hn.Easing.Bounce.Out(2*e-1)+.5}}},hn.Interpolation={Linear:function(e,t){var n=e.length-1,i=n*t,r=Math.floor(i),A=hn.Interpolation.Utils.Linear;return t<0?A(e[0],e[1],i):t>1?A(e[n],e[n-1],n-i):A(e[r],e[r+1>n?n:r+1],i-r)},Bezier:function(e,t){for(var n=0,i=e.length-1,r=Math.pow,A=hn.Interpolation.Utils.Bernstein,a=0;a<=i;a++)n+=r(1-t,i-a)*r(t,a)*e[a]*A(i,a);return n},CatmullRom:function(e,t){var n=e.length-1,i=n*t,r=Math.floor(i),A=hn.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(r=Math.floor(i=n*(1+t))),A(e[(r-1+n)%n],e[r],e[(r+1)%n],e[(r+2)%n],i-r)):t<0?e[0]-(A(e[0],e[0],e[1],e[1],-i)-e[0]):t>1?e[n]-(A(e[n],e[n],e[n-1],e[n-1],i-n)-e[n]):A(e[r?r-1:0],e[r],e[n<r+1?n:r+1],e[n<r+2?n:r+2],i-r)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=hn.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:(un=[1],function(e){var t=1;if(un[e])return un[e];for(var n=e;n>1;n--)t*=n;return un[e]=t,t}),CatmullRom:function(e,t,n,i,r){var A=.5*(n-e),a=.5*(i-t),o=r*r;return(2*t-2*n+A+a)*(r*o)+(-3*t+3*n-2*A-a)*o+A*r+t}}};var dn,gn=new uu,pn=new(function(e){Fe(n,e);var t=Ge(n);function n(){var e;return Me(this,n),(e=t.call(this)).container=null,e.containerRect=null,e.renderEnabled=!1,e.scene=null,e.camera=null,e.renderer=null,e.defaultRenderer=null,e.defaultCamera=null,e.animationFrameHandler=null,e.beforeRenderQueue=[],e.afterRenderQueue=[],e.needsUpdate=!0,e.loop=!0,e}return Te(n,[{key:"domElement",get:function(){return this.getRenderer().domElement}},{key:"init",value:function(e){this.needsUpdate=!0,this.loop=!0,this.container=e,this.containerRect=e.getBoundingClientRect();this.renderer=new Ao({antialias:!0,alpha:!0}),this.renderer.setClearAlpha(0),this.renderer.setPixelRatio(x),this.renderer.setSize(this.containerRect.width,this.containerRect.height),this.renderer.debug.checkShaderErrors=!1,this.domElement.style.backgroundColor="#000",e.appendChild(this.domElement),this.defaultRenderer=this.renderer}},{key:"setRenderer",value:function(e){this.renderer=void 0!==e?e:this.defaultRenderer}},{key:"getRenderer",value:function(){return this.renderer.isPostProcessingManager?this.renderer.composer.renderer:this.renderer}},{key:"setCamera",value:function(e){this.camera=void 0!==e?e:this.defaultCamera}},{key:"setLoop",value:function(e){this.loop=e,this.animate()}},{key:"render",value:function(e){this.renderEnabled=!0,e&&this.animate()}},{key:"animate",value:function(){var e=this;this.renderEnabled&&this.needsUpdate&&(dn=gn.getDelta(),this._onBeforeRender(dn),this.beforeRenderQueue.map((function(t){"function"==typeof t&&t(e.renderer,e.scene,e.camera,dn)})),this.renderer.render(this.scene,this.camera),this.afterRenderQueue.map((function(t){"function"==typeof t&&t(e.renderer,e.scene,e.camera,dn)})),hn.update(),this._onAfterRender(dn),this.animationFrameHandler&&this.domElement.cancelAnimationFrame(this.animationFrameHandler),this.loop&&(this.animationFrameHandler=this.domElement.requestAnimationFrame((function(){e.animate()}))),this.dispatchEvent({type:ln.UPDATE}))}},{key:"addBeforeRenderTask",value:function(e){this.beforeRenderQueue.includes(e)||this.beforeRenderQueue.push(e)}},{key:"removeBeforeRenderTask",value:function(e){this.beforeRenderQueue.includes(e)&&this.beforeRenderQueue.remove(e)}},{key:"addAfterRenderTask",value:function(e){this.afterRenderQueue.includes(e)||this.afterRenderQueue.push(e)}},{key:"removeAfterRenderTask",value:function(e){this.afterRenderQueue.includes(e)&&this.afterRenderQueue.remove(e)}},{key:"_onBeforeRender",value:function(e){var t=this,n=this.getRenderer();this.scene.getObjectByName("root").traverse((function(i){i.onBeforeRender&&i.onBeforeRender(n,t.scene,t.camera,e)}))}},{key:"_onAfterRender",value:function(e){var t=this,n=this.getRenderer();this.scene.getObjectByName("root").traverse((function(i){i.update&&i.update(e),i.onAfterRender&&i.onAfterRender(n,t.scene,t.camera,e)}))}},{key:"resize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.containerRect=e,this.getRenderer().setSize(e.width,e.height),this.renderer.composer&&this.renderer.composer.setSize(e.width,e.height),this.render()}},{key:"disabled",value:function(){this.needsUpdate=!1}},{key:"dispose",value:function(){this.domElement.cancelAnimationFrame(this.animationFrameHandler)}}]),n}(Yt)),fn=0;function mn(e,t,n,i,r,A,a,o,s,l){Object.defineProperty(this,"id",{value:fn++}),this.uuid=qt.generateUUID(),this.name="",this.image=void 0!==e?e:mn.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:mn.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:$e,this.wrapT=void 0!==i?i:$e,this.magFilter=void 0!==r?r:rt,this.minFilter=void 0!==A?A:at,this.anisotropy=void 0!==s?s:1,this.format=void 0!==a?a:gt,this.type=void 0!==o?o:ot,this.offset=new $t(0,0),this.repeat=new $t(1,1),this.center=new $t(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new on,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:Pt,this.version=0,this.onUpdate=null}function vn(e,t,n,i){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==i?i:1}function Cn(e,t,n){this.width=e,this.height=t,this.scissor=new vn(0,0,e,t),this.scissorTest=!1,this.viewport=new vn(0,0,e,t),n=n||{},this.texture=new mn(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:rt,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function yn(e,t,n){Cn.call(this,e,t,n),this.samples=4}mn.DEFAULT_IMAGE=void 0,mn.DEFAULT_MAPPING=_e,mn.prototype=Object.assign(Object.create(Yt.prototype),{constructor:mn,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var i=this.image;if(void 0===i.uuid&&(i.uuid=qt.generateUUID()),!t&&void 0===e.images[i.uuid]){var r;if(Array.isArray(i)){r=[];for(var A=0,a=i.length;A<a;A++)r.push(sn.getDataURL(i[A]))}else r=sn.getDataURL(i);e.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==_e)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case qe:e.x=e.x-Math.floor(e.x);break;case $e:e.x=e.x<0?0:1;break;case et:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case qe:e.y=e.y-Math.floor(e.y);break;case $e:e.y=e.y<0?0:1;break;case et:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(mn.prototype,"needsUpdate",{set:function(e){!0===e&&(this.version++,pn.render())}}),Object.defineProperties(vn.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}}),Object.assign(vn.prototype,{isVector4:!0,set:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=this.w,A=e.elements;return this.x=A[0]*t+A[4]*n+A[8]*i+A[12]*r,this.y=A[1]*t+A[5]*n+A[9]*i+A[13]*r,this.z=A[2]*t+A[6]*n+A[10]*i+A[14]*r,this.w=A[3]*t+A[7]*n+A[11]*i+A[15]*r,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,i,r,A=.01,a=.1,o=e.elements,s=o[0],l=o[4],c=o[8],u=o[1],h=o[5],d=o[9],g=o[2],p=o[6],f=o[10];if(Math.abs(l-u)<A&&Math.abs(c-g)<A&&Math.abs(d-p)<A){if(Math.abs(l+u)<a&&Math.abs(c+g)<a&&Math.abs(d+p)<a&&Math.abs(s+h+f-3)<a)return this.set(1,0,0,0),this;t=Math.PI;var m=(s+1)/2,v=(h+1)/2,C=(f+1)/2,y=(l+u)/4,I=(c+g)/4,w=(d+p)/4;return m>v&&m>C?m<A?(n=0,i=.707106781,r=.707106781):(i=y/(n=Math.sqrt(m)),r=I/n):v>C?v<A?(n=.707106781,i=0,r=.707106781):(n=y/(i=Math.sqrt(v)),r=w/i):C<A?(n=.707106781,i=.707106781,r=0):(n=I/(r=Math.sqrt(C)),i=w/r),this.set(n,i,r,t),this}var b=Math.sqrt((p-d)*(p-d)+(c-g)*(c-g)+(u-l)*(u-l));return Math.abs(b)<.001&&(b=1),this.x=(p-d)/b,this.y=(c-g)/b,this.z=(u-l)/b,this.w=Math.acos((s+h+f-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),Cn.prototype=Object.assign(Object.create(Yt.prototype),{constructor:Cn,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),yn.prototype=Object.assign(Object.create(Cn.prototype),{constructor:yn,isWebGLMultisampleRenderTarget:!0,copy:function(e){return Cn.prototype.copy.call(this,e),this.samples=e.samples,this}});var In=new rn,wn=new Tn,bn=new rn(0,0,0),Bn=new rn(1,1,1),xn=new rn,Mn=new rn,En=new rn;function Tn(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Tn.prototype,{isMatrix4:!0,set:function(e,t,n,i,r,A,a,o,s,l,c,u,h,d,g,p){var f=this.elements;return f[0]=e,f[4]=t,f[8]=n,f[12]=i,f[1]=r,f[5]=A,f[9]=a,f[13]=o,f[2]=s,f[6]=l,f[10]=c,f[14]=u,f[3]=h,f[7]=d,f[11]=g,f[15]=p,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Tn).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(e){var t=this.elements,n=e.elements,i=1/In.setFromMatrixColumn(e,0).length(),r=1/In.setFromMatrixColumn(e,1).length(),A=1/In.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*A,t[9]=n[9]*A,t[10]=n[10]*A,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,i=e.y,r=e.z,A=Math.cos(n),a=Math.sin(n),o=Math.cos(i),s=Math.sin(i),l=Math.cos(r),c=Math.sin(r);if("XYZ"===e.order){var u=A*l,h=A*c,d=a*l,g=a*c;t[0]=o*l,t[4]=-o*c,t[8]=s,t[1]=h+d*s,t[5]=u-g*s,t[9]=-a*o,t[2]=g-u*s,t[6]=d+h*s,t[10]=A*o}else if("YXZ"===e.order){var p=o*l,f=o*c,m=s*l,v=s*c;t[0]=p+v*a,t[4]=m*a-f,t[8]=A*s,t[1]=A*c,t[5]=A*l,t[9]=-a,t[2]=f*a-m,t[6]=v+p*a,t[10]=A*o}else if("ZXY"===e.order){p=o*l,f=o*c,m=s*l,v=s*c;t[0]=p-v*a,t[4]=-A*c,t[8]=m+f*a,t[1]=f+m*a,t[5]=A*l,t[9]=v-p*a,t[2]=-A*s,t[6]=a,t[10]=A*o}else if("ZYX"===e.order){u=A*l,h=A*c,d=a*l,g=a*c;t[0]=o*l,t[4]=d*s-h,t[8]=u*s+g,t[1]=o*c,t[5]=g*s+u,t[9]=h*s-d,t[2]=-s,t[6]=a*o,t[10]=A*o}else if("YZX"===e.order){var C=A*o,y=A*s,I=a*o,w=a*s;t[0]=o*l,t[4]=w-C*c,t[8]=I*c+y,t[1]=c,t[5]=A*l,t[9]=-a*l,t[2]=-s*l,t[6]=y*c+I,t[10]=C-w*c}else if("XZY"===e.order){C=A*o,y=A*s,I=a*o,w=a*s;t[0]=o*l,t[4]=-c,t[8]=s*l,t[1]=C*c+w,t[5]=A*l,t[9]=y*c-I,t[2]=I*c-y,t[6]=a*l,t[10]=w*c+C}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(bn,e,Bn)},lookAt:function(e,t,n){var i=this.elements;return En.subVectors(e,t),0===En.lengthSq()&&(En.z=1),En.normalize(),xn.crossVectors(n,En),0===xn.lengthSq()&&(1===Math.abs(n.z)?En.x+=1e-4:En.z+=1e-4,En.normalize(),xn.crossVectors(n,En)),xn.normalize(),Mn.crossVectors(En,xn),i[0]=xn.x,i[4]=Mn.x,i[8]=En.x,i[1]=xn.y,i[5]=Mn.y,i[9]=En.y,i[2]=xn.z,i[6]=Mn.z,i[10]=En.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements,r=this.elements,A=n[0],a=n[4],o=n[8],s=n[12],l=n[1],c=n[5],u=n[9],h=n[13],d=n[2],g=n[6],p=n[10],f=n[14],m=n[3],v=n[7],C=n[11],y=n[15],I=i[0],w=i[4],b=i[8],B=i[12],x=i[1],M=i[5],E=i[9],T=i[13],S=i[2],F=i[6],U=i[10],R=i[14],L=i[3],H=i[7],G=i[11],P=i[15];return r[0]=A*I+a*x+o*S+s*L,r[4]=A*w+a*M+o*F+s*H,r[8]=A*b+a*E+o*U+s*G,r[12]=A*B+a*T+o*R+s*P,r[1]=l*I+c*x+u*S+h*L,r[5]=l*w+c*M+u*F+h*H,r[9]=l*b+c*E+u*U+h*G,r[13]=l*B+c*T+u*R+h*P,r[2]=d*I+g*x+p*S+f*L,r[6]=d*w+g*M+p*F+f*H,r[10]=d*b+g*E+p*U+f*G,r[14]=d*B+g*T+p*R+f*P,r[3]=m*I+v*x+C*S+y*L,r[7]=m*w+v*M+C*F+y*H,r[11]=m*b+v*E+C*U+y*G,r[15]=m*B+v*T+C*R+y*P,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(e){for(var t=0,n=e.count;t<n;t++)In.x=e.getX(t),In.y=e.getY(t),In.z=e.getZ(t),In.applyMatrix4(this),e.setXYZ(t,In.x,In.y,In.z);return e},determinant:function(){var e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],A=e[1],a=e[5],o=e[9],s=e[13],l=e[2],c=e[6],u=e[10],h=e[14];return e[3]*(+r*o*c-i*s*c-r*a*u+n*s*u+i*a*h-n*o*h)+e[7]*(+t*o*h-t*s*u+r*A*u-i*A*h+i*s*l-r*o*l)+e[11]*(+t*s*c-t*a*h-r*A*c+n*A*h+r*a*l-n*s*l)+e[15]*(-i*a*l-t*o*c+t*a*u+i*A*c-n*A*u+n*o*l)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e,t,n){var i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this},getInverse:function(e,t){var n=this.elements,i=e.elements,r=i[0],A=i[1],a=i[2],o=i[3],s=i[4],l=i[5],c=i[6],u=i[7],h=i[8],d=i[9],g=i[10],p=i[11],f=i[12],m=i[13],v=i[14],C=i[15],y=d*v*u-m*g*u+m*c*p-l*v*p-d*c*C+l*g*C,I=f*g*u-h*v*u-f*c*p+s*v*p+h*c*C-s*g*C,w=h*m*u-f*d*u+f*l*p-s*m*p-h*l*C+s*d*C,b=f*d*c-h*m*c-f*l*g+s*m*g+h*l*v-s*d*v,B=r*y+A*I+a*w+o*b;if(0===B){var x="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(x);return console.warn(x),this.identity()}var M=1/B;return n[0]=y*M,n[1]=(m*g*o-d*v*o-m*a*p+A*v*p+d*a*C-A*g*C)*M,n[2]=(l*v*o-m*c*o+m*a*u-A*v*u-l*a*C+A*c*C)*M,n[3]=(d*c*o-l*g*o-d*a*u+A*g*u+l*a*p-A*c*p)*M,n[4]=I*M,n[5]=(h*v*o-f*g*o+f*a*p-r*v*p-h*a*C+r*g*C)*M,n[6]=(f*c*o-s*v*o-f*a*u+r*v*u+s*a*C-r*c*C)*M,n[7]=(s*g*o-h*c*o+h*a*u-r*g*u-s*a*p+r*c*p)*M,n[8]=w*M,n[9]=(f*d*o-h*m*o-f*A*p+r*m*p+h*A*C-r*d*C)*M,n[10]=(s*m*o-f*l*o+f*A*u-r*m*u-s*A*C+r*l*C)*M,n[11]=(h*l*o-s*d*o-h*A*u+r*d*u+s*A*p-r*l*p)*M,n[12]=b*M,n[13]=(h*m*a-f*d*a+f*A*g-r*m*g-h*A*v+r*d*v)*M,n[14]=(f*l*a-s*m*a-f*A*c+r*m*c+s*A*v-r*l*v)*M,n[15]=(s*d*a-h*l*a+h*A*c-r*d*c-s*A*g+r*l*g)*M,this},scale:function(e){var t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=1-n,A=e.x,a=e.y,o=e.z,s=r*A,l=r*a;return this.set(s*A+n,s*a-i*o,s*o+i*a,0,s*a+i*o,l*a+n,l*o-i*A,0,s*o-i*a,l*o+i*A,r*o*o+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var i=this.elements,r=t._x,A=t._y,a=t._z,o=t._w,s=r+r,l=A+A,c=a+a,u=r*s,h=r*l,d=r*c,g=A*l,p=A*c,f=a*c,m=o*s,v=o*l,C=o*c,y=n.x,I=n.y,w=n.z;return i[0]=(1-(g+f))*y,i[1]=(h+C)*y,i[2]=(d-v)*y,i[3]=0,i[4]=(h-C)*I,i[5]=(1-(u+f))*I,i[6]=(p+m)*I,i[7]=0,i[8]=(d+v)*w,i[9]=(p-m)*w,i[10]=(1-(u+g))*w,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this},decompose:function(e,t,n){var i=this.elements,r=In.set(i[0],i[1],i[2]).length(),A=In.set(i[4],i[5],i[6]).length(),a=In.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],wn.copy(this);var o=1/r,s=1/A,l=1/a;return wn.elements[0]*=o,wn.elements[1]*=o,wn.elements[2]*=o,wn.elements[4]*=s,wn.elements[5]*=s,wn.elements[6]*=s,wn.elements[8]*=l,wn.elements[9]*=l,wn.elements[10]*=l,t.setFromRotationMatrix(wn),n.x=r,n.y=A,n.z=a,this},makePerspective:function(e,t,n,i,r,A){void 0===A&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,o=2*r/(t-e),s=2*r/(n-i),l=(t+e)/(t-e),c=(n+i)/(n-i),u=-(A+r)/(A-r),h=-2*A*r/(A-r);return a[0]=o,a[4]=0,a[8]=l,a[12]=0,a[1]=0,a[5]=s,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=u,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,n,i,r,A){var a=this.elements,o=1/(t-e),s=1/(n-i),l=1/(A-r),c=(t+e)*o,u=(n+i)*s,h=(A+r)*l;return a[0]=2*o,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*s,a[9]=0,a[13]=-u,a[2]=0,a[6]=0,a[10]=-2*l,a[14]=-h,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e},invert:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],A=e[4],a=e[5],o=e[6],s=e[7],l=e[8],c=e[9],u=e[10],h=e[11],d=e[12],g=e[13],p=e[14],f=e[15],m=c*p*s-g*u*s+g*o*h-a*p*h-c*o*f+a*u*f,v=d*u*s-l*p*s-d*o*h+A*p*h+l*o*f-A*u*f,C=l*g*s-d*c*s+d*a*h-A*g*h-l*a*f+A*c*f,y=d*c*o-l*g*o-d*a*u+A*g*u+l*a*p-A*c*p,I=t*m+n*v+i*C+r*y;if(0===I)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var w=1/I;return e[0]=m*w,e[1]=(g*u*r-c*p*r-g*i*h+n*p*h+c*i*f-n*u*f)*w,e[2]=(a*p*r-g*o*r+g*i*s-n*p*s-a*i*f+n*o*f)*w,e[3]=(c*o*r-a*u*r-c*i*s+n*u*s+a*i*h-n*o*h)*w,e[4]=v*w,e[5]=(l*p*r-d*u*r+d*i*h-t*p*h-l*i*f+t*u*f)*w,e[6]=(d*o*r-A*p*r-d*i*s+t*p*s+A*i*f-t*o*f)*w,e[7]=(A*u*r-l*o*r+l*i*s-t*u*s-A*i*h+t*o*h)*w,e[8]=C*w,e[9]=(d*c*r-l*g*r-d*n*h+t*g*h+l*n*f-t*c*f)*w,e[10]=(A*g*r-d*a*r+d*n*s-t*g*s-A*n*f+t*a*f)*w,e[11]=(l*a*r-A*c*r-l*n*s+t*c*s+A*n*h-t*a*h)*w,e[12]=y*w,e[13]=(l*g*i-d*c*i+d*n*u-t*g*u-l*n*p+t*c*p)*w,e[14]=(d*a*i-A*g*i-d*n*o+t*g*o+A*n*p-t*a*p)*w,e[15]=(A*c*i-l*a*i+l*n*o-t*c*o-A*n*u+t*a*u)*w,this}});var Sn=new Tn,Fn=new en;function Un(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._order=i||Un.DefaultOrder}function Rn(){this._mask=1}Un.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Un.DefaultOrder="XYZ",Object.defineProperties(Un.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}}),Object.assign(Un.prototype,{isEuler:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._order=i||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var i=qt.clamp,r=e.elements,A=r[0],a=r[4],o=r[8],s=r[1],l=r[5],c=r[9],u=r[2],h=r[6],d=r[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(i(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-a,A)):(this._x=Math.atan2(h,l),this._z=0)):"YXZ"===t?(this._x=Math.asin(-i(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,A),this._z=0)):"ZXY"===t?(this._x=Math.asin(i(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-u,d),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,A))):"ZYX"===t?(this._y=Math.asin(-i(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(s,A)):(this._x=0,this._z=Math.atan2(-a,l))):"YZX"===t?(this._z=Math.asin(i(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,A)):(this._x=0,this._y=Math.atan2(o,d))):"XZY"===t?(this._z=Math.asin(-i(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(o,A)):(this._x=Math.atan2(-c,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,n){return Sn.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Sn,t,n)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return Fn.setFromEuler(this),this.setFromQuaternion(Fn,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new rn(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}}),Object.defineProperties(Rn.prototype,{mask:{get:function(){return this._mask},set:function(e){this._mask=e,this._onChangeCallback()}}}),Object.assign(Rn.prototype,{set:function(e){this.mask=1<<e|0,this._onChangeCallback()},enable:function(e){this.mask|=1<<e|0,this._onChangeCallback()},enableAll:function(){this.mask=-1,this._onChangeCallback()},toggle:function(e){this.mask^=1<<e|0,this._onChangeCallback()},disable:function(e){this.mask&=~(1<<e|0),this._onChangeCallback()},disableAll:function(){this.mask=0,this._onChangeCallback()},test:function(e){return 0!=(this.mask&e.mask)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var Ln=0,Hn=new rn,Gn=new en,Pn=new Tn,Qn=new rn,Dn=new rn,Nn=new rn,Vn=new en,On=new rn(1,0,0),kn=new rn(0,1,0),Wn=new rn(0,0,1),Zn={type:"added"},Xn={type:"removed"};function _n(){Object.defineProperty(this,"id",{value:Ln++}),this.uuid=qt.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=_n.DefaultUp.clone();var e=new rn,t=new Un,n=new en,i=new rn(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Tn},normalMatrix:{value:new on}}),this.matrix=new Tn,this.matrixWorld=new Tn,this.matrixAutoUpdate=_n.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Rn,this.layers._onChange((function(){pn.render()})),this._visible=!0,this._castShadow=!1,this._receiveShadow=!1,this._frustumCulled=!0,this._renderOrder=0,this.userData={},this.isDirty=!1}function zn(){_n.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}_n.DefaultUp=new rn(0,1,0),_n.DefaultMatrixAutoUpdate=!0,Object.defineProperties(_n.prototype,{visible:{get:function(){return this._visible},set:function(e){this._visible!==e&&(pn.render(),this.activeCallback(this._visible)),this._visible=e}},castShadow:{get:function(){return this._castShadow},set:function(e){this._castShadow!==e&&pn.render(),this._castShadow=e}},receiveShadow:{get:function(){return this._receiveShadow},set:function(e){this._receiveShadow!==e&&pn.render(),this._receiveShadow=e}},frustumCulled:{get:function(){return this._frustumCulled},set:function(e){this._frustumCulled!==e&&pn.render(),this._frustumCulled=e}},renderOrder:{get:function(){return this._renderOrder},set:function(e){this._renderOrder!==e&&pn.render(),this._renderOrder=e}}}),Object.assign(_n.prototype,Yt.prototype),_n.prototype=Object.assign(_n.prototype,{constructor:_n,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},setDirty:function(){this.isDirty=!0},activeCallback:function(e){},applyMatrix:function(e){pn.render(),this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyMatrix4:function(e){this.applyMatrix(e)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return Gn.setFromAxisAngle(e,t),this.quaternion.multiply(Gn),this},rotateOnWorldAxis:function(e,t){return Gn.setFromAxisAngle(e,t),this.quaternion.premultiply(Gn),this},rotateX:function(e){return this.rotateOnAxis(On,e)},rotateY:function(e){return this.rotateOnAxis(kn,e)},rotateZ:function(e){return this.rotateOnAxis(Wn,e)},translateOnAxis:function(e,t){return Hn.copy(e).applyQuaternion(this.quaternion),this.position.add(Hn.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(On,e)},translateY:function(e){return this.translateOnAxis(kn,e)},translateZ:function(e){return this.translateOnAxis(Wn,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(Pn.getInverse(this.matrixWorld))},lookAt:function(e,t,n){e.isVector3?Qn.copy(e):Qn.set(e,t,n);var i=this.parent;this.updateWorldMatrix(!0,!1),Dn.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Pn.lookAt(Dn,Qn,this.up):Pn.lookAt(Qn,Dn,this.up),this.quaternion.setFromRotationMatrix(Pn),i&&(Pn.extractRotation(i.matrixWorld),Gn.setFromRotationMatrix(Pn),this.quaternion.premultiply(Gn.inverse()))},add:function(e){if(pn.render(),arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Zn)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(pn.render(),arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Xn)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),Pn.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Pn.multiply(e.parent.matrixWorld)),e.applyMatrix(Pn),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new rn),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new en),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Dn,e,Nn),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new rn),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Dn,Vn,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new rn),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){var e=this.matrix.clone();this.matrix.compose(this.position,this.quaternion,this.scale),this.matrix.equals(e)||pn.render(),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){if(this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldNeedsUpdate||e){var t=this.matrixWorld.clone();null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0,this.matrixWorld.equals(t)||(pn.render(),this.setDirty())}for(var n=this.children,i=0,r=n.length;i<r;i++)n[i].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){pn.render();var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var i=this.children,r=0,A=i.length;r<A;r++)i[r].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var i={};function r(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isMesh&&0!==this.drawMode&&(i.drawMode=this.drawMode),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);var A=this.geometry.parameters;if(void 0!==A&&void 0!==A.shapes){var a=A.shapes;if(Array.isArray(a))for(var o=0,s=a.length;o<s;o++){var l=a[o];r(e.shapes,l)}else r(e.shapes,a)}}if(void 0!==this.material)if(Array.isArray(this.material)){var c=[];for(o=0,s=this.material.length;o<s;o++)c.push(r(e.materials,this.material[o]));i.material=c}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(t){var u=p(e.geometries),h=p(e.materials),d=p(e.textures),g=p(e.images);a=p(e.shapes);u.length>0&&(n.geometries=u),h.length>0&&(n.materials=h),d.length>0&&(n.textures=d),g.length>0&&(n.images=g),a.length>0&&(n.shapes=a)}return n.object=i,n;function p(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(pn.render(),void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var i=e.children[n];this.add(i.clone())}return this}}),zn.prototype=Object.assign(Object.create(_n.prototype),{constructor:zn,isScene:!0,copy:function(e,t){return _n.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=_n.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Kn=[new rn,new rn,new rn,new rn,new rn,new rn,new rn,new rn],Yn=new rn,jn=new oi,Jn=new rn,qn=new rn,$n=new rn,ei=new rn,ti=new rn,ni=new rn,ii=new rn,ri=new rn,Ai=new rn,ai=new rn;function oi(e,t){this.min=void 0!==e?e:new rn(1/0,1/0,1/0),this.max=void 0!==t?t:new rn(-1/0,-1/0,-1/0)}function si(e,t,n,i,r){var A,a;for(A=0,a=e.length-3;A<=a;A+=3){ai.fromArray(e,A);var o=r.x*Math.abs(ai.x)+r.y*Math.abs(ai.y)+r.z*Math.abs(ai.z),s=t.dot(ai),l=n.dot(ai),c=i.dot(ai);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>o)return!1}return!0}Object.assign(oi.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,A=-1/0,a=-1/0,o=0,s=e.length;o<s;o+=3){var l=e[o],c=e[o+1],u=e[o+2];l<t&&(t=l),c<n&&(n=c),u<i&&(i=u),l>r&&(r=l),c>A&&(A=c),u>a&&(a=u)}return this.min.set(t,n,i),this.max.set(r,A,a),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,A=-1/0,a=-1/0,o=0,s=e.count;o<s;o++){var l=e.getX(o),c=e.getY(o),u=e.getZ(o);l<t&&(t=l),c<n&&(n=c),u<i&&(i=u),l>r&&(r=l),c>A&&(A=c),u>a&&(a=u)}return this.min.set(t,n,i),this.max.set(r,A,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var n=Yn.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new rn),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new rn),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(t||console.log(e),null===t.boundingBox&&t.computeBoundingBox(),jn.copy(t.boundingBox),jn.applyMatrix4(e.matrixWorld),this.expandByPoint(jn.min),this.expandByPoint(jn.max));for(var n=e.children,i=0,r=n.length;i<r;i++)this.expandByObject(n[i]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new rn),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,Yn),Yn.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(ii),ri.subVectors(this.max,ii),Jn.subVectors(e.a,ii),qn.subVectors(e.b,ii),$n.subVectors(e.c,ii),ei.subVectors(qn,Jn),ti.subVectors($n,qn),ni.subVectors(Jn,$n);var t=[0,-ei.z,ei.y,0,-ti.z,ti.y,0,-ni.z,ni.y,ei.z,0,-ei.x,ti.z,0,-ti.x,ni.z,0,-ni.x,-ei.y,ei.x,0,-ti.y,ti.x,0,-ni.y,ni.x,0];return!!si(t,Jn,qn,$n,ri)&&(!!si(t=[1,0,0,0,1,0,0,0,1],Jn,qn,$n,ri)&&(Ai.crossVectors(ei,ti),si(t=[Ai.x,Ai.y,Ai.z],Jn,qn,$n,ri)))},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new rn),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Yn.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(Yn).length(),e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()||(Kn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Kn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Kn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Kn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Kn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Kn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Kn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Kn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Kn)),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var li=new oi;function ci(e,t){this.center=void 0!==e?e:new rn,this.radius=void 0!==t?t:0}Object.assign(ci.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){var n=this.center;void 0!==t?n.copy(t):li.setFromPoints(e).getCenter(n);for(var i=0,r=0,A=e.length;r<A;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new rn),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new oi),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});var ui=new rn,hi=new rn,di=new rn,gi=new rn,pi=new rn,fi=new rn,mi=new rn;function vi(e,t){this.origin=void 0!==e?e:new rn,this.direction=void 0!==t?t:new rn(0,0,-1)}Object.assign(vi.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new rn),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,ui)),this},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new rn),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){var t=ui.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ui.copy(this.direction).multiplyScalar(t).add(this.origin),ui.distanceToSquared(e))},distanceSqToSegment:function(e,t,n,i){hi.copy(e).add(t).multiplyScalar(.5),di.copy(t).sub(e).normalize(),gi.copy(this.origin).sub(hi);var r,A,a,o,s=.5*e.distanceTo(t),l=-this.direction.dot(di),c=gi.dot(this.direction),u=-gi.dot(di),h=gi.lengthSq(),d=Math.abs(1-l*l);if(d>0)if(A=l*c-u,o=s*d,(r=l*u-c)>=0)if(A>=-o)if(A<=o){var g=1/d;a=(r*=g)*(r+l*(A*=g)+2*c)+A*(l*r+A+2*u)+h}else A=s,a=-(r=Math.max(0,-(l*A+c)))*r+A*(A+2*u)+h;else A=-s,a=-(r=Math.max(0,-(l*A+c)))*r+A*(A+2*u)+h;else A<=-o?a=-(r=Math.max(0,-(-l*s+c)))*r+(A=r>0?-s:Math.min(Math.max(-s,-u),s))*(A+2*u)+h:A<=o?(r=0,a=(A=Math.min(Math.max(-s,-u),s))*(A+2*u)+h):a=-(r=Math.max(0,-(l*s+c)))*r+(A=r>0?s:Math.min(Math.max(-s,-u),s))*(A+2*u)+h;else A=l>0?-s:s,a=-(r=Math.max(0,-(l*A+c)))*r+A*(A+2*u)+h;return n&&n.copy(this.direction).multiplyScalar(r).add(this.origin),i&&i.copy(di).multiplyScalar(A).add(hi),a},intersectSphere:function(e,t){ui.subVectors(e.center,this.origin);var n=ui.dot(this.direction),i=ui.dot(ui)-n*n,r=e.radius*e.radius;if(i>r)return null;var A=Math.sqrt(r-i),a=n-A,o=n+A;return a<0&&o<0?null:a<0?this.at(o,t):this.at(a,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,i,r,A,a,o,s=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,u=this.origin;return s>=0?(n=(e.min.x-u.x)*s,i=(e.max.x-u.x)*s):(n=(e.max.x-u.x)*s,i=(e.min.x-u.x)*s),l>=0?(r=(e.min.y-u.y)*l,A=(e.max.y-u.y)*l):(r=(e.max.y-u.y)*l,A=(e.min.y-u.y)*l),n>A||r>i?null:((r>n||n!=n)&&(n=r),(A<i||i!=i)&&(i=A),c>=0?(a=(e.min.z-u.z)*c,o=(e.max.z-u.z)*c):(a=(e.max.z-u.z)*c,o=(e.min.z-u.z)*c),n>o||a>i?null:((a>n||n!=n)&&(n=a),(o<i||i!=i)&&(i=o),i<0?null:this.at(n>=0?n:i,t)))},intersectsBox:function(e){return null!==this.intersectBox(e,ui)},intersectTriangle:function(e,t,n,i,r){pi.subVectors(t,e),fi.subVectors(n,e),mi.crossVectors(pi,fi);var A,a=this.direction.dot(mi);if(a>0){if(i)return null;A=1}else{if(!(a<0))return null;A=-1,a=-a}gi.subVectors(this.origin,e);var o=A*this.direction.dot(fi.crossVectors(gi,fi));if(o<0)return null;var s=A*this.direction.dot(pi.cross(gi));if(s<0)return null;if(o+s>a)return null;var l=-A*gi.dot(mi);return l<0?null:this.at(l/a,r)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});var Ci=new rn,yi=new rn,Ii=new on;function wi(e,t){this.normal=void 0!==e?e:new rn(1,0,0),this.constant=void 0!==t?t:0}Object.assign(wi.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,n){var i=Ci.subVectors(n,t).cross(yi.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new rn),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new rn);var n=e.delta(Ci),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?void 0:t.copy(n).multiplyScalar(r).add(e.start)},intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new rn),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){var n=t||Ii.getNormalMatrix(e),i=this.coplanarPoint(Ci).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});var bi=new rn,Bi=new rn,xi=new rn,Mi=new rn,Ei=new rn,Ti=new rn,Si=new rn,Fi=new rn,Ui=new rn,Ri=new rn;function Li(e,t,n){this.a=void 0!==e?e:new rn,this.b=void 0!==t?t:new rn,this.c=void 0!==n?n:new rn}Object.assign(Li,{getNormal:function(e,t,n,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new rn),i.subVectors(n,t),bi.subVectors(e,t),i.cross(bi);var r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)},getBarycoord:function(e,t,n,i,r){bi.subVectors(i,t),Bi.subVectors(n,t),xi.subVectors(e,t);var A=bi.dot(bi),a=bi.dot(Bi),o=bi.dot(xi),s=Bi.dot(Bi),l=Bi.dot(xi),c=A*s-a*a;if(void 0===r&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new rn),0===c)return r.set(-2,-1,-1);var u=1/c,h=(s*o-a*l)*u,d=(A*l-a*o)*u;return r.set(1-h-d,d,h)},containsPoint:function(e,t,n,i){return Li.getBarycoord(e,t,n,i,Mi),Mi.x>=0&&Mi.y>=0&&Mi.x+Mi.y<=1},getUV:function(e,t,n,i,r,A,a,o){return this.getBarycoord(e,t,n,i,Mi),o.set(0,0),o.addScaledVector(r,Mi.x),o.addScaledVector(A,Mi.y),o.addScaledVector(a,Mi.z),o},isFrontFacing:function(e,t,n,i){return bi.subVectors(n,t),Bi.subVectors(e,t),bi.cross(Bi).dot(i)<0}}),Object.assign(Li.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return bi.subVectors(this.c,this.b),Bi.subVectors(this.a,this.b),.5*bi.cross(Bi).length()},getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new rn),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return Li.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new wi),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return Li.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,n,i,r){return Li.getUV(e,this.a,this.b,this.c,t,n,i,r)},containsPoint:function(e){return Li.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return Li.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new rn);var n,i,r=this.a,A=this.b,a=this.c;Ei.subVectors(A,r),Ti.subVectors(a,r),Fi.subVectors(e,r);var o=Ei.dot(Fi),s=Ti.dot(Fi);if(o<=0&&s<=0)return t.copy(r);Ui.subVectors(e,A);var l=Ei.dot(Ui),c=Ti.dot(Ui);if(l>=0&&c<=l)return t.copy(A);var u=o*c-l*s;if(u<=0&&o>=0&&l<=0)return n=o/(o-l),t.copy(r).addScaledVector(Ei,n);Ri.subVectors(e,a);var h=Ei.dot(Ri),d=Ti.dot(Ri);if(d>=0&&h<=d)return t.copy(a);var g=h*s-o*d;if(g<=0&&s>=0&&d<=0)return i=s/(s-d),t.copy(r).addScaledVector(Ti,i);var p=l*d-h*c;if(p<=0&&c-l>=0&&h-d>=0)return Si.subVectors(a,A),i=(c-l)/(c-l+(h-d)),t.copy(A).addScaledVector(Si,i);var f=1/(p+g+u);return n=g*f,i=u*f,t.copy(r).addScaledVector(Ei,n).addScaledVector(Ti,i)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});var Hi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Gi={h:0,s:0,l:0},Pi={h:0,s:0,l:0};function Qi(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function Di(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Ni(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Vi(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}function Oi(e,t,n,i,r,A){this.a=e,this.b=t,this.c=n,this.normal=i&&i.isVector3?i:new rn,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new Qi,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==A?A:0}Object.assign(Qi.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(e,t,n){if(e=qt.euclideanModulo(e,1),t=qt.clamp(t,0,1),n=qt.clamp(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i;this.r=Di(r,i,e+1/3),this.g=Di(r,i,e),this.b=Di(r,i,e-1/3)}return this},setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var i,r=n[1],A=n[2];switch(r){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(A))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,t(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(A))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,t(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(A)){var a=parseFloat(i[1])/360,o=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100;return t(i[5]),this.setHSL(a,o,s)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var l=n[1],c=l.length;if(3===c)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this},setColorName:function(e){var t=Hi[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=Ni(e.r),this.g=Ni(e.g),this.b=Ni(e.b),this},copyLinearToSRGB:function(e){return this.r=Vi(e.r),this.g=Vi(e.g),this.b=Vi(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,i=this.r,r=this.g,A=this.b,a=Math.max(i,r,A),o=Math.min(i,r,A),s=(o+a)/2;if(o===a)t=0,n=0;else{var l=a-o;switch(n=s<=.5?l/(a+o):l/(2-a-o),a){case i:t=(r-A)/l+(r<A?6:0);break;case r:t=(A-i)/l+2;break;case A:t=(i-r)/l+4}t/=6}return e.h=t,e.s=n,e.l=s,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){return this.getHSL(Gi),Gi.h+=e,Gi.s+=t,Gi.l+=n,this.setHSL(Gi.h,Gi.s,Gi.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(Gi),e.getHSL(Pi);var n=qt.lerp(Gi.h,Pi.h,t),i=qt.lerp(Gi.s,Pi.s,t),r=qt.lerp(Gi.l,Pi.l,t);return this.setHSL(n,i,r),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}}),Qi.NAMES=Hi,Object.assign(Oi.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var ki=0;function Wi(){Object.defineProperty(this,"id",{value:ki++}),this.uuid=qt.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=0,this.opacity=1,this.transparent=!1,this.blendSrc=Ze,this.blendDst=Xe,this.blendEquation=ke,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Zt,this.stencilZFail=Zt,this.stencilZPass=Zt,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function Zi(e){Wi.call(this),this.type="MeshBasicMaterial",this.color=new Qi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}function Xi(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=Xt,this.updateRange={offset:0,count:-1},this.version=0}function _i(e,t,n){Xi.call(this,new Int8Array(e),t,n)}function zi(e,t,n){Xi.call(this,new Uint8Array(e),t,n)}function Ki(e,t,n){Xi.call(this,new Uint8ClampedArray(e),t,n)}function Yi(e,t,n){Xi.call(this,new Int16Array(e),t,n)}function ji(e,t,n){Xi.call(this,new Uint16Array(e),t,n)}function Ji(e,t,n){Xi.call(this,new Int32Array(e),t,n)}function qi(e,t,n){Xi.call(this,new Uint32Array(e),t,n)}function $i(e,t,n){Xi.call(this,new Float32Array(e),t,n)}function er(e,t,n){Xi.call(this,new Float64Array(e),t,n)}function tr(e,t,n){Xi.call(this,e,t,n)}function nr(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function ir(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}Wi.prototype=Object.assign(Object.create(Yt.prototype),{constructor:Wi,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e){for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}pn.render()}},toJSON:function(e){var t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),0!==this.side&&(n.side=this.side),0!==this.vertexColors&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var r=i(e.textures),A=i(e.images);r.length>0&&(n.textures=r),A.length>0&&(n.images=A)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexTangents=e.vertexTangents,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var i=t.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"}),pn.render()}}),Object.defineProperty(Wi.prototype,"needsUpdate",{set:function(e){!0===e&&(this.version++,pn.render())}}),Zi.prototype=Object.create(Wi.prototype),Zi.prototype.constructor=Zi,Zi.prototype.isMeshBasicMaterial=!0,Zi.prototype.copy=function(e){return Wi.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},Object.defineProperty(Xi.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Xi.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var A=e[i];void 0===A&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),A=new Qi),t[n++]=A.r,t[n++]=A.g,t[n++]=A.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var A=e[i];void 0===A&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),A=new $t),t[n++]=A.x,t[n++]=A.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var A=e[i];void 0===A&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),A=new rn),t[n++]=A.x,t[n++]=A.y,t[n++]=A.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var A=e[i];void 0===A&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),A=new vn),t[n++]=A.x,t[n++]=A.y,t[n++]=A.z,t[n++]=A.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),_i.prototype=Object.create(Xi.prototype),_i.prototype.constructor=_i,zi.prototype=Object.create(Xi.prototype),zi.prototype.constructor=zi,Ki.prototype=Object.create(Xi.prototype),Ki.prototype.constructor=Ki,Yi.prototype=Object.create(Xi.prototype),Yi.prototype.constructor=Yi,ji.prototype=Object.create(Xi.prototype),ji.prototype.constructor=ji,Ji.prototype=Object.create(Xi.prototype),Ji.prototype.constructor=Ji,qi.prototype=Object.create(Xi.prototype),qi.prototype.constructor=qi,$i.prototype=Object.create(Xi.prototype),$i.prototype.constructor=$i,er.prototype=Object.create(Xi.prototype),er.prototype.constructor=er,tr.prototype=Object.create(Xi.prototype),tr.prototype.constructor=tr,Object.assign(nr.prototype,{computeGroups:function(e){for(var t,n=[],i=void 0,r=e.faces,A=0;A<r.length;A++){var a=r[A];a.materialIndex!==i&&(i=a.materialIndex,void 0!==t&&(t.count=3*A-t.start,n.push(t)),t={start:3*A,materialIndex:i})}void 0!==t&&(t.count=3*A-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,i=e.vertices,r=e.faceVertexUvs,A=r[0]&&r[0].length>0,a=r[1]&&r[1].length>0,o=e.morphTargets,s=o.length;if(s>0){t=[];for(var l=0;l<s;l++)t[l]={name:o[l].name,data:[]};this.morphTargets.position=t}var c,u=e.morphNormals,h=u.length;if(h>0){c=[];for(l=0;l<h;l++)c[l]={name:u[l].name,data:[]};this.morphTargets.normal=c}var d=e.skinIndices,g=e.skinWeights,p=d.length===i.length,f=g.length===i.length;i.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(l=0;l<n.length;l++){var m=n[l];this.vertices.push(i[m.a],i[m.b],i[m.c]);var v=m.vertexNormals;if(3===v.length)this.normals.push(v[0],v[1],v[2]);else{var C=m.normal;this.normals.push(C,C,C)}var y,I=m.vertexColors;if(3===I.length)this.colors.push(I[0],I[1],I[2]);else{var w=m.color;this.colors.push(w,w,w)}if(!0===A)void 0!==(y=r[0][l])?this.uvs.push(y[0],y[1],y[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new $t,new $t,new $t));if(!0===a)void 0!==(y=r[1][l])?this.uvs2.push(y[0],y[1],y[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new $t,new $t,new $t));for(var b=0;b<s;b++){var B=o[b].vertices;t[b].data.push(B[m.a],B[m.b],B[m.c])}for(b=0;b<h;b++){var x=u[b].vertexNormals[l];c[b].data.push(x.a,x.b,x.c)}p&&this.skinIndices.push(d[m.a],d[m.b],d[m.c]),f&&this.skinWeights.push(g[m.a],g[m.b],g[m.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}});var rr=1,Ar=new Tn,ar=new _n,or=new rn,sr=new oi,lr=new oi,cr=new rn;function ur(){Object.defineProperty(this,"id",{value:rr+=2}),this.uuid=qt.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function hr(e,t,n,i,r,A,a,o,s){mn.call(this,e,t,n,i,r,A,a,o,s),this.format=void 0!==a?a:dt,this.minFilter=void 0!==A?A:rt,this.magFilter=void 0!==r?r:rt,this.generateMipmaps=!1}ur.prototype=Object.assign(Object.create(Yt.prototype),{constructor:ur,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(ir(e)>65535?qi:ji)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;void 0!==n&&((new on).getNormalMatrix(e).applyToBufferAttribute(n),n.needsUpdate=!0);var i=this.attributes.tangent;void 0!==i&&((new on).getNormalMatrix(e).applyToBufferAttribute(i),i.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return Ar.makeRotationX(e),this.applyMatrix(Ar),this},rotateY:function(e){return Ar.makeRotationY(e),this.applyMatrix(Ar),this},rotateZ:function(e){return Ar.makeRotationZ(e),this.applyMatrix(Ar),this},translate:function(e,t,n){return Ar.makeTranslation(e,t,n),this.applyMatrix(Ar),this},scale:function(e,t,n){return Ar.makeScale(e,t,n),this.applyMatrix(Ar),this},lookAt:function(e){return ar.lookAt(e),ar.updateMatrix(),this.applyMatrix(ar.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(or).negate(),this.translate(or.x,or.y,or.z),this},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new $i(3*t.vertices.length,3),i=new $i(3*t.colors.length,3);if(this.setAttribute("position",n.copyVector3sArray(t.vertices)),this.setAttribute("color",i.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var r=new $i(t.lineDistances.length,1);this.setAttribute("lineDistance",r.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new $i(t,3)),this},updateFromObject:function(e){var t,n=e.geometry;if(e.isMesh){var i=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(i=void 0,n.elementsNeedUpdate=!1),void 0===i)return this.fromGeometry(n);i.verticesNeedUpdate=n.verticesNeedUpdate,i.normalsNeedUpdate=n.normalsNeedUpdate,i.colorsNeedUpdate=n.colorsNeedUpdate,i.uvsNeedUpdate=n.uvsNeedUpdate,i.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=i}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new nr).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.setAttribute("position",new Xi(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.setAttribute("normal",new Xi(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var i=new Float32Array(3*e.colors.length);this.setAttribute("color",new Xi(i,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var r=new Float32Array(2*e.uvs.length);this.setAttribute("uv",new Xi(r,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var A=new Float32Array(2*e.uvs2.length);this.setAttribute("uv2",new Xi(A,2).copyVector2sArray(e.uvs2))}for(var a in this.groups=e.groups,e.morphTargets){for(var o=[],s=e.morphTargets[a],l=0,c=s.length;l<c;l++){var u=s[l],h=new $i(3*u.data.length,3);h.name=u.name,o.push(h.copyVector3sArray(u.data))}this.morphAttributes[a]=o}if(e.skinIndices.length>0){var d=new $i(4*e.skinIndices.length,4);this.setAttribute("skinIndex",d.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var g=new $i(4*e.skinWeights.length,4);this.setAttribute("skinWeight",g.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new oi);var e=this.attributes.position,t=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,i=t.length;n<i;n++){var r=t[n];sr.setFromBufferAttribute(r),this.morphTargetsRelative?(cr.addVectors(this.boundingBox.min,sr.min),this.boundingBox.expandByPoint(cr),cr.addVectors(this.boundingBox.max,sr.max),this.boundingBox.expandByPoint(cr)):(this.boundingBox.expandByPoint(sr.min),this.boundingBox.expandByPoint(sr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ci);var e=this.attributes.position,t=this.morphAttributes.position;if(e){var n=this.boundingSphere.center;if(sr.setFromBufferAttribute(e),t)for(var i=0,r=t.length;i<r;i++){var A=t[i];lr.setFromBufferAttribute(A),this.morphTargetsRelative?(cr.addVectors(sr.min,lr.min),sr.expandByPoint(cr),cr.addVectors(sr.max,lr.max),sr.expandByPoint(cr)):(sr.expandByPoint(lr.min),sr.expandByPoint(lr.max))}sr.getCenter(n);var a=0;for(i=0,r=e.count;i<r;i++)cr.fromBufferAttribute(e,i),a=Math.max(a,n.distanceToSquared(cr));if(t)for(i=0,r=t.length;i<r;i++){A=t[i];for(var o=this.morphTargetsRelative,s=0,l=A.count;s<l;s++)cr.fromBufferAttribute(A,s),o&&(or.fromBufferAttribute(e,s),cr.add(or)),a=Math.max(a,n.distanceToSquared(cr))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(void 0===t.normal)this.setAttribute("normal",new Xi(new Float32Array(n.length),3));else for(var i=t.normal.array,r=0,A=i.length;r<A;r++)i[r]=0;var a,o,s,l=t.normal.array,c=new rn,u=new rn,h=new rn,d=new rn,g=new rn;if(e){var p=e.array;for(r=0,A=e.count;r<A;r+=3)a=3*p[r+0],o=3*p[r+1],s=3*p[r+2],c.fromArray(n,a),u.fromArray(n,o),h.fromArray(n,s),d.subVectors(h,u),g.subVectors(c,u),d.cross(g),l[a]+=d.x,l[a+1]+=d.y,l[a+2]+=d.z,l[o]+=d.x,l[o+1]+=d.y,l[o+2]+=d.z,l[s]+=d.x,l[s+1]+=d.y,l[s+2]+=d.z}else for(r=0,A=n.length;r<A;r+=9)c.fromArray(n,r),u.fromArray(n,r+3),h.fromArray(n,r+6),d.subVectors(h,u),g.subVectors(c,u),d.cross(g),l[r]=d.x,l[r+1]=d.y,l[r+2]=d.z,l[r+3]=d.x,l[r+4]=d.y,l[r+5]=d.z,l[r+6]=d.x,l[r+7]=d.y,l[r+8]=d.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var i in n)if(void 0!==e.attributes[i])for(var r=n[i].array,A=e.attributes[i],a=A.array,o=A.itemSize*t,s=Math.min(a.length,r.length-o),l=0,c=o;l<s;l++,c++)r[c]=a[l];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)cr.x=e.getX(t),cr.y=e.getY(t),cr.z=e.getZ(t),cr.normalize(),e.setXYZ(t,cr.x,cr.y,cr.z)},toNonIndexed:function(){function e(e,t){for(var n=e.array,i=e.itemSize,r=new n.constructor(t.length*i),A=0,a=0,o=0,s=t.length;o<s;o++){A=t[o]*i;for(var l=0;l<i;l++)r[a++]=n[A++]}return new Xi(r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new ur,n=this.index.array,i=this.attributes;for(var r in i){var A=e(i[r],n);t.setAttribute(r,A)}var a=this.morphAttributes;for(r in a){for(var o=[],s=a[r],l=0,c=s.length;l<c;l++){A=e(s[l],n);o.push(A)}t.morphAttributes[r]=o}t.morphTargetsRelative=this.morphTargetsRelative;for(var u=this.groups,h=(l=0,u.length);l<h;l++){var d=u[l];t.addGroup(d.start,d.count,d.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var i=this.index;null!==i&&(e.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});var r=this.attributes;for(var n in r){var A=(h=r[n]).toJSON();""!==h.name&&(A.name=h.name),e.data.attributes[n]=A}var a={},o=!1;for(var n in this.morphAttributes){for(var s=this.morphAttributes[n],l=[],c=0,u=s.length;c<u;c++){var h;A=(h=s[c]).toJSON();""!==h.name&&(A.name=h.name),l.push(A)}l.length>0&&(a[n]=l,o=!0)}o&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);var d=this.groups;d.length>0&&(e.data.groups=JSON.parse(JSON.stringify(d)));var g=this.boundingSphere;return null!==g&&(e.data.boundingSphere={center:g.center.toArray(),radius:g.radius}),e},clone:function(){return(new ur).copy(this)},copy:function(e){var t,n,i;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var r=e.index;null!==r&&this.setIndex(r.clone());var A=e.attributes;for(t in A){var a=A[t];this.setAttribute(t,a.clone())}var o=e.morphAttributes;for(t in o){var s=[],l=o[t];for(n=0,i=l.length;n<i;n++)s.push(l[n].clone());this.morphAttributes[t]=s}this.morphTargetsRelative=e.morphTargetsRelative;var c=e.groups;for(n=0,i=c.length;n<i;n++){var u=c[n];this.addGroup(u.start,u.count,u.materialIndex)}var h=e.boundingBox;null!==h&&(this.boundingBox=h.clone());var d=e.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),hr.prototype=Object.assign(Object.create(mn.prototype),{constructor:hr,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0,pn.render())}});var dr=new Tn,gr=new vi,pr=new ci,fr=new rn,mr=new rn,vr=new rn,Cr=new rn,yr=new rn,Ir=new rn,wr=new rn,br=new rn,Br=new rn,xr=new $t,Mr=new $t,Er=new $t,Tr=new rn,Sr=new rn;function Fr(e,t){_n.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new ur,this.material=void 0!==t?t:new Zi({color:16777215*Math.random()}),this.drawMode=0,this.updateMorphTargets()}function Ur(e,t,n,i,r,A,a,o){if(null===(1===t.side?i.intersectTriangle(a,A,r,!0,o):i.intersectTriangle(r,A,a,2!==t.side,o)))return null;Sr.copy(o),Sr.applyMatrix4(e.matrixWorld);var s=n.ray.origin.distanceTo(Sr);return s<n.near||s>n.far?null:{distance:s,point:Sr.clone(),object:e}}function Rr(e,t,n,i,r,A,a,o,s,l,c,u){fr.fromBufferAttribute(r,l),mr.fromBufferAttribute(r,c),vr.fromBufferAttribute(r,u);var h=e.morphTargetInfluences;if(t.morphTargets&&A&&h){wr.set(0,0,0),br.set(0,0,0),Br.set(0,0,0);for(var d=0,g=A.length;d<g;d++){var p=h[d],f=A[d];0!==p&&(Cr.fromBufferAttribute(f,l),yr.fromBufferAttribute(f,c),Ir.fromBufferAttribute(f,u),a?(wr.addScaledVector(Cr,p),br.addScaledVector(yr,p),Br.addScaledVector(Ir,p)):(wr.addScaledVector(Cr.sub(fr),p),br.addScaledVector(yr.sub(mr),p),Br.addScaledVector(Ir.sub(vr),p)))}fr.add(wr),mr.add(br),vr.add(Br)}var m=Ur(e,t,n,i,fr,mr,vr,Tr);if(m){o&&(xr.fromBufferAttribute(o,l),Mr.fromBufferAttribute(o,c),Er.fromBufferAttribute(o,u),m.uv=Li.getUV(Tr,fr,mr,vr,xr,Mr,Er,new $t)),s&&(xr.fromBufferAttribute(s,l),Mr.fromBufferAttribute(s,c),Er.fromBufferAttribute(s,u),m.uv2=Li.getUV(Tr,fr,mr,vr,xr,Mr,Er,new $t));var v=new Oi(l,c,u);Li.getNormal(fr,mr,vr,v.normal),m.face=v}return m}Fr.prototype=Object.assign(Object.create(_n.prototype),{constructor:Fr,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return _n.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,i=this.geometry;if(i.isBufferGeometry){var r=i.morphAttributes,A=Object.keys(r);if(A.length>0){var a=r[A[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)n=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var o=i.morphTargets;void 0!==o&&o.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){var n,i=this.geometry,r=this.material,A=this.matrixWorld;if(void 0!==r&&(null===i.boundingSphere&&i.computeBoundingSphere(),pr.copy(i.boundingSphere),pr.applyMatrix4(A),!1!==e.ray.intersectsSphere(pr)&&(dr.getInverse(A),gr.copy(e.ray).applyMatrix4(dr),null===i.boundingBox||!1!==gr.intersectsBox(i.boundingBox))))if(0===this.drawMode){if(i.isBufferGeometry){var a,o,s,l,c,u,h,d,g,p=i.index,f=i.attributes.position,m=i.morphAttributes.position,v=i.morphTargetsRelative,C=i.attributes.uv,y=i.attributes.uv2,I=i.groups,w=i.drawRange;if(null!==p)if(Array.isArray(r))for(l=0,u=I.length;l<u;l++)for(g=r[(d=I[l]).materialIndex],c=Math.max(d.start,w.start),h=Math.min(d.start+d.count,w.start+w.count);c<h;c+=3)a=p.getX(c),o=p.getX(c+1),s=p.getX(c+2),(n=Rr(this,g,e,gr,f,m,v,C,y,a,o,s))&&(n.faceIndex=Math.floor(c/3),n.face.materialIndex=d.materialIndex,t.push(n));else for(l=Math.max(0,w.start),u=Math.min(p.count,w.start+w.count);l<u;l+=3)a=p.getX(l),o=p.getX(l+1),s=p.getX(l+2),(n=Rr(this,r,e,gr,f,m,v,C,y,a,o,s))&&(n.faceIndex=Math.floor(l/3),t.push(n));else if(void 0!==f)if(Array.isArray(r))for(l=0,u=I.length;l<u;l++)for(g=r[(d=I[l]).materialIndex],c=Math.max(d.start,w.start),h=Math.min(d.start+d.count,w.start+w.count);c<h;c+=3)(n=Rr(this,g,e,gr,f,m,v,C,y,a=c,o=c+1,s=c+2))&&(n.faceIndex=Math.floor(c/3),n.face.materialIndex=d.materialIndex,t.push(n));else for(l=Math.max(0,w.start),u=Math.min(f.count,w.start+w.count);l<u;l+=3)(n=Rr(this,r,e,gr,f,m,v,C,y,a=l,o=l+1,s=l+2))&&(n.faceIndex=Math.floor(l/3),t.push(n))}else if(i.isGeometry){var b,B,x,M,E=Array.isArray(r),T=i.vertices,S=i.faces,F=i.faceVertexUvs[0];F.length>0&&(M=F);for(var U=0,R=S.length;U<R;U++){var L=S[U],H=E?r[L.materialIndex]:r;if(void 0!==H&&(b=T[L.a],B=T[L.b],x=T[L.c],n=Ur(this,H,e,gr,b,B,x,Tr))){if(M&&M[U]){var G=M[U];xr.copy(G[0]),Mr.copy(G[1]),Er.copy(G[2]),n.uv=Li.getUV(Tr,b,B,x,xr,Mr,Er,new $t)}n.face=L,n.faceIndex=U,t.push(n)}}}}else console.warn("THREE.Mesh: TriangleStripDrawMode and TriangleFanDrawMode are not supported by .raycast().")},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Fr.prototype.setVideoTexture=function(e){e.addEventListener("play",(function(e){pn.renderEnabled=!0}));var t=new hr(e);t.minFilter=rt,t.magFilter=rt,t.format=dt,(Array.isArray(this.material)?this.material:[this.material]).forEach((function(e){e.albedo0||(e.albedo0=e.albedo),e.albedo=t,e.color.setStyle("#ffffff"),e.needsUpdate=!0}))},Fr.prototype.clearVideoTexture=function(){(Array.isArray(this.material)?this.material:[this.material]).forEach((function(e){void 0!==e.albedo0&&(e.albedo=e.albedo0),e.needsUpdate=!0}))};var Lr=0,Hr=new Tn,Gr=new _n,Pr=new rn;function Qr(){Object.defineProperty(this,"id",{value:Lr+=2}),this.uuid=qt.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1,this._verticesNeedUpdate=!1}Object.defineProperties(Qr.prototype,{verticesNeedUpdate:{get:function(){return this._verticesNeedUpdate},set:function(e){this._verticesNeedUpdate=e,!0===e&&pn.render()}}}),Qr.prototype=Object.assign(Object.create(Yt.prototype),{constructor:Qr,isGeometry:!0,applyMatrix:function(e){for(var t=(new on).getNormalMatrix(e),n=0,i=this.vertices.length;n<i;n++){this.vertices[n].applyMatrix4(e)}for(n=0,i=this.faces.length;n<i;n++){var r=this.faces[n];r.normal.applyMatrix3(t).normalize();for(var A=0,a=r.vertexNormals.length;A<a;A++)r.vertexNormals[A].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return Hr.makeRotationX(e),this.applyMatrix(Hr),this},rotateY:function(e){return Hr.makeRotationY(e),this.applyMatrix(Hr),this},rotateZ:function(e){return Hr.makeRotationZ(e),this.applyMatrix(Hr),this},translate:function(e,t,n){return Hr.makeTranslation(e,t,n),this.applyMatrix(Hr),this},scale:function(e,t,n){return Hr.makeScale(e,t,n),this.applyMatrix(Hr),this},lookAt:function(e){return Gr.lookAt(e),Gr.updateMatrix(),this.applyMatrix(Gr.matrix),this},fromBufferGeometry:function(e){var t=this,n=null!==e.index?e.index.array:void 0,i=e.attributes;if(void 0===i.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var r=i.position.array,A=void 0!==i.normal?i.normal.array:void 0,a=void 0!==i.color?i.color.array:void 0,o=void 0!==i.uv?i.uv.array:void 0,s=void 0!==i.uv2?i.uv2.array:void 0;void 0!==s&&(this.faceVertexUvs[1]=[]);for(var l=0;l<r.length;l+=3)t.vertices.push((new rn).fromArray(r,l)),void 0!==a&&t.colors.push((new Qi).fromArray(a,l));function c(e,n,i,r){var l=void 0===a?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[i].clone()],c=new Oi(e,n,i,void 0===A?[]:[(new rn).fromArray(A,3*e),(new rn).fromArray(A,3*n),(new rn).fromArray(A,3*i)],l,r);t.faces.push(c),void 0!==o&&t.faceVertexUvs[0].push([(new $t).fromArray(o,2*e),(new $t).fromArray(o,2*n),(new $t).fromArray(o,2*i)]),void 0!==s&&t.faceVertexUvs[1].push([(new $t).fromArray(s,2*e),(new $t).fromArray(s,2*n),(new $t).fromArray(s,2*i)])}var u=e.groups;if(u.length>0)for(l=0;l<u.length;l++)for(var h=u[l],d=h.start,g=d,p=d+h.count;g<p;g+=3)void 0!==n?c(n[g],n[g+1],n[g+2],h.materialIndex):c(g,g+1,g+2,h.materialIndex);else if(void 0!==n)for(l=0;l<n.length;l+=3)c(n[l],n[l+1],n[l+2]);else for(l=0;l<r.length/3;l+=3)c(l,l+1,l+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Pr).negate(),this.translate(Pr.x,Pr.y,Pr.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,i=new Tn;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(i),this},computeFaceNormals:function(){for(var e=new rn,t=new rn,n=0,i=this.faces.length;n<i;n++){var r=this.faces[n],A=this.vertices[r.a],a=this.vertices[r.b],o=this.vertices[r.c];e.subVectors(o,a),t.subVectors(A,a),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e){var t,n,i,r,A,a;for(void 0===e&&(e=!0),a=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)a[t]=new rn;if(e){var o,s,l,c=new rn,u=new rn;for(i=0,r=this.faces.length;i<r;i++)A=this.faces[i],o=this.vertices[A.a],s=this.vertices[A.b],l=this.vertices[A.c],c.subVectors(l,s),u.subVectors(o,s),c.cross(u),a[A.a].add(c),a[A.b].add(c),a[A.c].add(c)}else for(this.computeFaceNormals(),i=0,r=this.faces.length;i<r;i++)a[(A=this.faces[i]).a].add(A.normal),a[A.b].add(A.normal),a[A.c].add(A.normal);for(t=0,n=this.vertices.length;t<n;t++)a[t].normalize();for(i=0,r=this.faces.length;i<r;i++){var h=(A=this.faces[i]).vertexNormals;3===h.length?(h[0].copy(a[A.a]),h[1].copy(a[A.b]),h[2].copy(a[A.c])):(h[0]=a[A.a].clone(),h[1]=a[A.b].clone(),h[2]=a[A.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var i=(n=this.faces[e]).vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,i,r;for(n=0,i=this.faces.length;n<i;n++)for((r=this.faces[n]).__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),e=0,t=r.vertexNormals.length;e<t;e++)r.__originalVertexNormals[e]?r.__originalVertexNormals[e].copy(r.vertexNormals[e]):r.__originalVertexNormals[e]=r.vertexNormals[e].clone();var A=new Qr;for(A.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var a=this.morphNormals[e].faceNormals,o=this.morphNormals[e].vertexNormals;for(n=0,i=this.faces.length;n<i;n++)s=new rn,l={a:new rn,b:new rn,c:new rn},a.push(s),o.push(l)}var s,l,c=this.morphNormals[e];for(A.vertices=this.morphTargets[e].vertices,A.computeFaceNormals(),A.computeVertexNormals(),n=0,i=this.faces.length;n<i;n++)r=this.faces[n],s=c.faceNormals[n],l=c.vertexNormals[n],s.copy(r.normal),l.a.copy(r.vertexNormals[0]),l.b.copy(r.vertexNormals[1]),l.c.copy(r.vertexNormals[2])}for(n=0,i=this.faces.length;n<i;n++)(r=this.faces[n]).normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new oi),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ci),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var i,r=this.vertices.length,A=this.vertices,a=e.vertices,o=this.faces,s=e.faces,l=this.colors,c=e.colors;void 0===n&&(n=0),void 0!==t&&(i=(new on).getNormalMatrix(t));for(var u=0,h=a.length;u<h;u++){var d=a[u].clone();void 0!==t&&d.applyMatrix4(t),A.push(d)}for(u=0,h=c.length;u<h;u++)l.push(c[u].clone());for(u=0,h=s.length;u<h;u++){var g,p,f,m=s[u],v=m.vertexNormals,C=m.vertexColors;(g=new Oi(m.a+r,m.b+r,m.c+r)).normal.copy(m.normal),void 0!==i&&g.normal.applyMatrix3(i).normalize();for(var y=0,I=v.length;y<I;y++)p=v[y].clone(),void 0!==i&&p.applyMatrix3(i).normalize(),g.vertexNormals.push(p);g.color.copy(m.color);for(y=0,I=C.length;y<I;y++)f=C[y],g.vertexColors.push(f.clone());g.materialIndex=m.materialIndex+n,o.push(g)}for(u=0,h=e.faceVertexUvs.length;u<h;u++){var w=e.faceVertexUvs[u];void 0===this.faceVertexUvs[u]&&(this.faceVertexUvs[u]=[]);for(y=0,I=w.length;y<I;y++){for(var b=w[y],B=[],x=0,M=b.length;x<M;x++)B.push(b[x].clone());this.faceVertexUvs[u].push(B)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,n,i,r,A,a,o,s={},l=[],c=[],u=Math.pow(10,4);for(n=0,i=this.vertices.length;n<i;n++)e=this.vertices[n],void 0===s[t=Math.round(e.x*u)+"_"+Math.round(e.y*u)+"_"+Math.round(e.z*u)]?(s[t]=n,l.push(this.vertices[n]),c[n]=l.length-1):c[n]=c[s[t]];var h=[];for(n=0,i=this.faces.length;n<i;n++){(r=this.faces[n]).a=c[r.a],r.b=c[r.b],r.c=c[r.c],A=[r.a,r.b,r.c];for(var d=0;d<3;d++)if(A[d]===A[(d+1)%3]){h.push(n);break}}for(n=h.length-1;n>=0;n--){var g=h[n];for(this.faces.splice(g,1),a=0,o=this.faceVertexUvs.length;a<o;a++)this.faceVertexUvs[a].splice(g,1)}var p=this.vertices.length-l.length;return this.vertices=l,p},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var i=e[t];this.vertices.push(new rn(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var i,r,A=this.faceVertexUvs[0],a=this.faceVertexUvs[1];A&&A.length===t&&(i=[]),a&&a.length===t&&(r=[]);for(n=0;n<t;n++){var o=e[n]._id;i&&i.push(A[o]),r&&r.push(a[o])}i&&(this.faceVertexUvs[0]=i),r&&(this.faceVertexUvs[1]=r)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}for(var i=[],r=0;r<this.vertices.length;r++){var A=this.vertices[r];i.push(A.x,A.y,A.z)}var a=[],o=[],s={},l=[],c={},u=[],h={};for(r=0;r<this.faces.length;r++){var d=this.faces[r],g=void 0!==this.faceVertexUvs[0][r],p=d.normal.length()>0,f=d.vertexNormals.length>0,m=1!==d.color.r||1!==d.color.g||1!==d.color.b,v=d.vertexColors.length>0,C=0;if(C=b(C,0,0),C=b(C,1,!0),C=b(C,2,!1),C=b(C,3,g),C=b(C,4,p),C=b(C,5,f),C=b(C,6,m),C=b(C,7,v),a.push(C),a.push(d.a,d.b,d.c),a.push(d.materialIndex),g){var y=this.faceVertexUvs[0][r];a.push(M(y[0]),M(y[1]),M(y[2]))}if(p&&a.push(B(d.normal)),f){var I=d.vertexNormals;a.push(B(I[0]),B(I[1]),B(I[2]))}if(m&&a.push(x(d.color)),v){var w=d.vertexColors;a.push(x(w[0]),x(w[1]),x(w[2]))}}function b(e,t,n){return n?e|1<<t:e&~(1<<t)}function B(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==s[t]||(s[t]=o.length/3,o.push(e.x,e.y,e.z)),s[t]}function x(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==c[t]||(c[t]=l.length,l.push(e.getHex())),c[t]}function M(e){var t=e.x.toString()+e.y.toString();return void 0!==h[t]||(h[t]=u.length/2,u.push(e.x,e.y)),h[t]}return e.data={},e.data.vertices=i,e.data.normals=o,l.length>0&&(e.data.colors=l),u.length>0&&(e.data.uvs=[u]),e.data.faces=a,e},clone:function(){return(new Qr).copy(this)},copy:function(e){var t,n,i,r,A,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var o=e.vertices;for(t=0,n=o.length;t<n;t++)this.vertices.push(o[t].clone());var s=e.colors;for(t=0,n=s.length;t<n;t++)this.colors.push(s[t].clone());var l=e.faces;for(t=0,n=l.length;t<n;t++)this.faces.push(l[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var c=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),i=0,r=c.length;i<r;i++){var u=c[i],h=[];for(A=0,a=u.length;A<a;A++){var d=u[A];h.push(d.clone())}this.faceVertexUvs[t].push(h)}}var g=e.morphTargets;for(t=0,n=g.length;t<n;t++){var p={};if(p.name=g[t].name,void 0!==g[t].vertices)for(p.vertices=[],i=0,r=g[t].vertices.length;i<r;i++)p.vertices.push(g[t].vertices[i].clone());if(void 0!==g[t].normals)for(p.normals=[],i=0,r=g[t].normals.length;i<r;i++)p.normals.push(g[t].normals[i].clone());this.morphTargets.push(p)}var f=e.morphNormals;for(t=0,n=f.length;t<n;t++){var m={};if(void 0!==f[t].vertexNormals)for(m.vertexNormals=[],i=0,r=f[t].vertexNormals.length;i<r;i++){var v=f[t].vertexNormals[i],C={};C.a=v.a.clone(),C.b=v.b.clone(),C.c=v.c.clone(),m.vertexNormals.push(C)}if(void 0!==f[t].faceNormals)for(m.faceNormals=[],i=0,r=f[t].faceNormals.length;i<r;i++)m.faceNormals.push(f[t].faceNormals[i].clone());this.morphNormals.push(m)}var y=e.skinWeights;for(t=0,n=y.length;t<n;t++)this.skinWeights.push(y[t].clone());var I=e.skinIndices;for(t=0,n=I.length;t<n;t++)this.skinIndices.push(I[t].clone());var w=e.lineDistances;for(t=0,n=w.length;t<n;t++)this.lineDistances.push(w[t]);var b=e.boundingBox;null!==b&&(this.boundingBox=b.clone());var B=e.boundingSphere;return null!==B&&(this.boundingSphere=B.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Dr=function(e){Fe(n,e);var t=Ge(n);function n(e,i,r,A,a,o){var s;return Me(this,n),(s=t.call(this)).type="BoxGeometry",s.parameters={width:e,height:i,depth:r,widthSegments:A,heightSegments:a,depthSegments:o},s.fromBufferGeometry(new Nr(e,i,r,A,a,o)),s.mergeVertices(),s}return n}(Qr),Nr=function(e){Fe(n,e);var t=Ge(n);function n(e,i,r,A,a,o){var s;Me(this,n),(s=t.call(this)).type="BoxBufferGeometry",s.parameters={width:e,height:i,depth:r,widthSegments:A,heightSegments:a,depthSegments:o};var l=Le(s);e=e||1,i=i||1,r=r||1,A=Math.floor(A)||1,a=Math.floor(a)||1,o=Math.floor(o)||1;var c=[],u=[],h=[],d=[],g=0,p=0;function f(e,t,n,i,r,A,a,o,s,f,m){var v,C,y=A/s,I=a/f,w=A/2,b=a/2,B=o/2,x=s+1,M=f+1,E=0,T=0,S=new rn;for(C=0;C<M;C++){var F=C*I-b;for(v=0;v<x;v++){var U=v*y-w;S[e]=U*i,S[t]=F*r,S[n]=B,u.push(S.x,S.y,S.z),S[e]=0,S[t]=0,S[n]=o>0?1:-1,h.push(S.x,S.y,S.z),d.push(v/s),d.push(1-C/f),E+=1}}for(C=0;C<f;C++)for(v=0;v<s;v++){var R=g+v+x*C,L=g+v+x*(C+1),H=g+(v+1)+x*(C+1),G=g+(v+1)+x*C;c.push(R,L,G),c.push(L,H,G),T+=6}l.addGroup(p,T,m),p+=T,g+=E}return f("z","y","x",-1,-1,r,i,e,o,a,0),f("z","y","x",1,-1,r,i,-e,o,a,1),f("x","z","y",1,1,e,r,i,A,o,2),f("x","z","y",1,-1,e,r,-i,A,o,3),f("x","y","z",1,-1,e,i,r,A,a,4),f("x","y","z",-1,-1,e,i,-r,A,a,5),s.setIndex(c),s.setAttribute("position",new $i(u,3)),s.setAttribute("normal",new $i(h,3)),s.setAttribute("uv",new $i(d,2)),s}return n}(ur);function Vr(e){var t={};for(var n in e)for(var i in t[n]={},e[n]){var r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}return t}function Or(e){for(var t={},n=0;n<e.length;n++){var i=Vr(e[n]);for(var r in i)t[r]=i[r]}return t}var kr={clone:Vr,merge:Or};function Wr(e){Wi.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="\nvoid main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n",this.fragmentShader="\nvoid main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}\n",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Zr(){_n.call(this),this.type="Camera",this.matrixWorldInverse=new Tn,this.matrixWorldInverseR=new Tn,this.rotateMatrix=(new Tn).makeRotationFromEuler(new Un(0,1.570863267948966,0)),this.projectionMatrix=new Tn,this.projectionMatrixInverse=new Tn}function Xr(e,t,n,i){Zr.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==i?i:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Wr.prototype=Object.create(Wi.prototype),Wr.prototype.constructor=Wr,Wr.prototype.isShaderMaterial=!0,Wr.prototype.copy=function(e){return Wi.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Vr(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},Wr.prototype.toJSON=function(e){var t=Wi.prototype.toJSON.call(this,e);for(var n in t.uniforms={},this.uniforms){var i=this.uniforms[n].value;i&&i.isTexture?t.uniforms[n]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[n]={type:"m4",value:i.toArray()}:t.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var r={};for(var A in this.extensions)!0===this.extensions[A]&&(r[A]=!0);return Object.keys(r).length>0&&(t.extensions=r),t},Zr.prototype=Object.assign(Object.create(_n.prototype),{constructor:Zr,isCamera:!0,copy:function(e,t){return _n.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new rn),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){_n.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverseR.getInverse(this.matrixWorld.clone().multiply(this.rotateMatrix)),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Xr.prototype=Object.assign(Object.create(Zr.prototype),{constructor:Xr,isPerspectiveCamera:!0,copy:function(e,t){return Zr.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*qt.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*qt.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*qt.RAD2DEG*Math.atan(Math.tan(.5*qt.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,A){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=A,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*qt.DEG2RAD*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,A=this.view;if(null!==this.view&&this.view.enabled){var a=A.fullWidth,o=A.fullHeight;r+=A.offsetX*i/a,t-=A.offsetY*n/o,i*=A.width/a,n*=A.height/o}var s=this.filmOffset;0!==s&&(r+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=_n.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});var _r=90;function zr(e,t,n,i){_n.call(this),this.type="CubeCamera";var r=new Xr(_r,1,e,t);r.up.set(0,-1,0),r.lookAt(new rn(1,0,0)),this.add(r);var A=new Xr(_r,1,e,t);A.up.set(0,-1,0),A.lookAt(new rn(-1,0,0)),this.add(A);var a=new Xr(_r,1,e,t);a.up.set(0,0,1),a.lookAt(new rn(0,1,0)),this.add(a);var o=new Xr(_r,1,e,t);o.up.set(0,0,-1),o.lookAt(new rn(0,-1,0)),this.add(o);var s=new Xr(_r,1,e,t);s.up.set(0,-1,0),s.lookAt(new rn(0,0,1)),this.add(s);var l=new Xr(_r,1,e,t);l.up.set(0,-1,0),l.lookAt(new rn(0,0,-1)),this.add(l),i=i||{format:dt,magFilter:rt,minFilter:rt},this.renderTarget=new Kr(n,n,i),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=e.getRenderTarget(),i=this.renderTarget,c=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,A),e.setRenderTarget(i,2),e.render(t,a),e.setRenderTarget(i,3),e.render(t,o),e.setRenderTarget(i,4),e.render(t,s),i.texture.generateMipmaps=c,e.setRenderTarget(i,5),e.render(t,l),e.setRenderTarget(n)},this.clear=function(e,t,n,i){for(var r=e.getRenderTarget(),A=this.renderTarget,a=0;a<6;a++)e.setRenderTarget(A,a),e.clear(t,n,i);e.setRenderTarget(r)}}function Kr(e,t,n){Cn.call(this,e,t,n)}function Yr(e,t,n,i,r,A,a,o,s,l,c,u){mn.call(this,null,A,a,o,s,l,i,r,c,u),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=void 0!==s?s:tt,this.minFilter=void 0!==l?l:tt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}zr.prototype=Object.create(_n.prototype),zr.prototype.constructor=zr,Kr.prototype=Object.create(Cn.prototype),Kr.prototype.constructor=Kr,Kr.prototype.isWebGLRenderTargetCube=!0,Kr.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;var n=new zn,i={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","\tvWorldDirection = transformDirection( position, modelMatrix );","\t#include <begin_vertex>","\t#include <project_vertex>","}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#define RECIPROCAL_PI 0.31830988618","#define RECIPROCAL_PI2 0.15915494","void main() {","\tvec3 direction = normalize( vWorldDirection );","\tvec2 sampleUV;","\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;","\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","\tgl_FragColor = texture2D( tEquirect, sampleUV );","}"].join("\n")},r=new Wr({type:"CubemapFromEquirect",uniforms:Vr(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:1,blending:0});r.uniforms.tEquirect.value=t;var A=new Fr(new Nr(5,5,5),r);n.add(A);var a=new zr(1,10,1);return a.renderTarget=this,a.renderTarget.texture.name="CubeCameraTexture",a.update(e,n),A.geometry.dispose(),A.material.dispose(),this},Yr.prototype=Object.create(mn.prototype),Yr.prototype.constructor=Yr,Yr.prototype.isDataTexture=!0;var jr=new ci,Jr=new rn;function qr(e,t,n,i,r,A){this.planes=[void 0!==e?e:new wi,void 0!==t?t:new wi,void 0!==n?n:new wi,void 0!==i?i:new wi,void 0!==r?r:new wi,void 0!==A?A:new wi]}Object.assign(qr.prototype,{set:function(e,t,n,i,r,A){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(i),a[4].copy(r),a[5].copy(A),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,i=n[0],r=n[1],A=n[2],a=n[3],o=n[4],s=n[5],l=n[6],c=n[7],u=n[8],h=n[9],d=n[10],g=n[11],p=n[12],f=n[13],m=n[14],v=n[15];return t[0].setComponents(a-i,c-o,g-u,v-p).normalize(),t[1].setComponents(a+i,c+o,g+u,v+p).normalize(),t[2].setComponents(a+r,c+s,g+h,v+f).normalize(),t[3].setComponents(a-r,c-s,g-h,v-f).normalize(),t[4].setComponents(a-A,c-l,g-d,v-m).normalize(),t[5].setComponents(a+A,c+l,g+d,v+m).normalize(),this},intersectsObject:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),jr.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(jr)},intersectsSprite:function(e){return jr.center.set(0,0,0),jr.radius=.7071067811865476,jr.applyMatrix4(e.matrixWorld),this.intersectsSphere(jr)},intersectsSphere:function(e){for(var t=this.planes,n=e.center,i=-e.radius,r=0;r<6;r++){if(t[r].distanceToPoint(n)<i)return!1}return!0},intersectsBox:function(e){for(var t=this.planes,n=0;n<6;n++){var i=t[n];if(Jr.x=i.normal.x>0?e.max.x:e.min.x,Jr.y=i.normal.y>0?e.max.y:e.min.y,Jr.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Jr)<0)return!1}return!0},containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0},toArray:function(){for(var e=[],t=0;t<6;t++){var n=this.planes[t].normal.toArray();e.push.apply(e,n),n=null,e.push(this.planes[t].constant)}return e},setFromProjectionMatrix:function(e){var t=this.planes,n=e.elements,i=n[0],r=n[1],A=n[2],a=n[3],o=n[4],s=n[5],l=n[6],c=n[7],u=n[8],h=n[9],d=n[10],g=n[11],p=n[12],f=n[13],m=n[14],v=n[15];return t[0].setComponents(a-i,c-o,g-u,v-p).normalize(),t[1].setComponents(a+i,c+o,g+u,v+p).normalize(),t[2].setComponents(a+r,c+s,g+h,v+f).normalize(),t[3].setComponents(a-r,c-s,g-h,v-f).normalize(),t[4].setComponents(a-A,c-l,g-d,v-m).normalize(),t[5].setComponents(a+A,c+l,g+d,v+m).normalize(),this}});var $r={alphamap_fragment:"\n#ifdef USE_ALPHAMAP\n\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n\n#endif\n",alphamap_pars_fragment:"\n#ifdef USE_ALPHAMAP\n\n\tuniform sampler2D alphaMap;\n\n#endif\n",alphatest_fragment:"\n#ifdef ALPHATEST\n\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n\n#endif\n",aomap_fragment:"\n#ifdef USE_AOMAP\n\n\t// reads channel R, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\n\t#endif\n\n#endif\n",aomap_pars_fragment:"\n#ifdef USE_AOMAP\n\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n\n#endif\n",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n\n#ifdef USE_TANGENT\n\n\tvec3 objectTangent = vec3( tangent.xyz );\n\n#endif\n",bsdfs:'\n\n// Analytical approximation of the DFG LUT, one half of the\n// split-sum approximation used in indirect specular lighting.\n// via \'environmentBRDF\' from "Physically Based Shading on Mobile"\n// https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile\nvec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\n\tvec4 r = roughness * c0 + c1;\n\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n\n}\n\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\n\t// based upon Frostbite 3 Moving to Physically-based Rendering\n\t// page 32, equation 26: E[window1]\n\t// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t// this is intended to be used on spot and point lights who are represented as luminous intensity\n\t// but who must be converted to luminous irradiance for surface lighting calculation\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\n\tif( cutoffDistance > 0.0 ) {\n\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\n\t}\n\n\treturn distanceFalloff;\n\n#else\n\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\n\t}\n\n\treturn 1.0;\n\n#endif\n\n}\n\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\n\treturn RECIPROCAL_PI * diffuseColor;\n\n} // validated\n\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\n\t// Original approximation by Christophe Schlick \'94\n\t// float fresnel = pow( 1.0 - dotLH, 5.0 );\n\n\t// Optimized variant (presented by Epic at SIGGRAPH \'13)\n\t// https://cdn2.unrealengine.com/Resources/files/2013SiggraphPresentationsNotes-26915738.pdf\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n\n} // validated\n\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\n\t// See F_Schlick\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\n\treturn Fr * fresnel + F0;\n\n}\n\n\n// Microfacet Models for Refraction through Rough Surfaces - equation (34)\n// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\n// alpha is "roughness squared" in Disney’s reparameterization\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\n\t// geometry term (normalized) = G(l)⋅G(v) / 4(n⋅l)(n⋅v)\n\t// also see #12151\n\n\tfloat a2 = pow2( alpha );\n\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\n\treturn 1.0 / ( gl * gv );\n\n} // validated\n\n// Moving Frostbite to Physically Based Rendering 3.0 - page 12, listing 2\n// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\n\tfloat a2 = pow2( alpha );\n\n\t// dotNL and dotNV are explicitly swapped. This is not a mistake.\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\n\treturn 0.5 / max( gv + gl, EPSILON );\n\n}\n\n// Microfacet Models for Refraction through Rough Surfaces - equation (33)\n// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\n// alpha is "roughness squared" in Disney’s reparameterization\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\n\tfloat a2 = pow2( alpha );\n\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0; // avoid alpha = 0 with dotNH = 1\n\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n\n}\n\n// GGX Distribution, Schlick Fresnel, GGX-Smith Visibility\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\n\tfloat alpha = pow2( roughness ); // UE4\'s roughness\n\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\n\tfloat D = D_GGX( alpha, dotNH );\n\n\treturn F * ( G * D );\n\n} // validated\n\n// Rect Area Light\n\n// Real-Time Polygonal-Light Shading with Linearly Transformed Cosines\n// by Eric Heitz, Jonathan Dupuy, Stephen Hill and David Neubelt\n// code: https://github.com/selfshadow/ltc_code/\n\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\n\tfloat dotNV = saturate( dot( N, V ) );\n\n\t// texture parameterized by sqrt( GGX alpha ) and sqrt( 1 - cos( theta ) )\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\n\treturn uv;\n\n}\n\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\n\t// Real-Time Area Lighting: a Journey from Research to Production (p.102)\n\t// An approximation of the form factor of a horizon-clipped rectangle.\n\n\tfloat l = length( f );\n\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n\n}\n\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\n\tfloat x = dot( v1, v2 );\n\n\tfloat y = abs( x );\n\n\t// rational polynomial approximation to theta / sin( theta ) / 2PI\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\n\treturn cross( v1, v2 ) * theta_sintheta;\n\n}\n\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\n\t// bail if point is on back side of plane of light\n\t// assumes ccw winding order of light vertices\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\n\t// construct orthonormal basis around N\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 ); // negated from paper; possibly due to a different handedness of world coordinate system\n\n\t// compute transform\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\n\t// transform rect\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\n\t// project rect onto sphere\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\n\t// calculate vector form factor\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\n\t// adjust for horizon clipping\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\n/*\n\t// alternate method of adjusting for horizon clipping (see referece)\n\t// refactoring required\n\tfloat len = length( vectorFormFactor );\n\tfloat z = vectorFormFactor.z / len;\n\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\n\t// tabulated horizon-clipped sphere, apparently...\n\tvec2 uv = vec2( z * 0.5 + 0.5, len );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\n\tfloat scale = texture2D( ltc_2, uv ).w;\n\n\tfloat result = len * scale;\n*/\n\n\treturn vec3( result );\n\n}\n\n// End Rect Area Light\n\n// ref: https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\n\treturn specularColor * brdf.x + brdf.y;\n\n} // validated\n\n// Fdez-Agüera\'s "Multiple-Scattering Microfacet Model for Real-Time Image Based Lighting"\n// Approximates multiscattering in order to preserve energy.\n// http://www.jcgt.org/published/0008/01/03/\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619; // 1/21\n\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n\n}\n\nfloat G_BlinnPhong_Implicit( /* const in float dotNL, const in float dotNV */ ) {\n\n\t// geometry term is (n dot l)(n dot v) / 4(n dot l)(n dot v)\n\treturn 0.25;\n\n}\n\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n\n}\n\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\n\t//float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\t//float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\n\tfloat G = G_BlinnPhong_Implicit( /* dotNL, dotNV */ );\n\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\n\treturn F * ( G * D );\n\n} // validated\n\n// source: http://simonstechblog.blogspot.ca/2011/12/microfacet-brdf.html\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\n\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n\n#if defined( USE_SHEEN )\n\n// https://github.com/google/filament/blob/master/shaders/src/brdf.fs#L94\nfloat D_Charlie(float roughness, float NoH) {\n\t// Estevez and Kulla 2017, "Production Friendly Microfacet Sheen BRDF"\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125); // 2^(-14/2), so sin2h^2 > 0 in fp16\n\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\n\n// https://github.com/google/filament/blob/master/shaders/src/brdf.fs#L136\nfloat V_Neubelt(float NoV, float NoL) {\n\t// Neubelt and Pettineo 2013, "Crafting a Next-gen Material Pipeline for The Order: 1886"\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\n\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n\n}\n\n#endif\n',bumpmap_pars_fragment:"\n#ifdef USE_BUMPMAP\n\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\n\t// Bump Mapping Unparametrized Surfaces on the GPU by Morten S. Mikkelsen\n\t// http://api.unrealengine.com/attachments/Engine/Rendering/LightingAndShadows/BumpMappingWithoutTangentSpace/mm_sfgrad_bump.pdf\n\n\t// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\n\n\tvec2 dHdxy_fwd() {\n\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\n\t\treturn vec2( dBx, dBy );\n\n\t}\n\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\n\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\n\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\t\t// normalized\n\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\n\t}\n\n#endif\n",clipping_planes_fragment:"\n#if NUM_CLIPPING_PLANES > 0\n\n\tvec4 plane;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\n\t}\n\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\n\t\tbool clipped = true;\n\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\n\t\t}\n\n\t\tif ( clipped ) discard;\n\n\t#endif\n\n#endif\n",clipping_planes_pars_fragment:"\n#if NUM_CLIPPING_PLANES > 0\n\n\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n\n#endif\n",clipping_planes_pars_vertex:"\n#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"\n#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"\n#ifdef USE_COLOR\n\n\tdiffuseColor.rgb *= vColor;\n\n#endif\n",color_pars_fragment:"\n#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#endif\n",color_pars_vertex:"\n#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#endif\n",color_vertex:"\n#ifdef USE_COLOR\n\n\tvColor.xyz = color.xyz;\n\n#endif\n",common:"\n#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n\n#ifndef saturate\n// <tonemapping_pars_fragment> may have defined saturate() already\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\n\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\n// expects values in the range of [0,1]x[0,1], returns values in the [0,1] range.\n// do not collapse into a single function per: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\n\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\n\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\n\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n}\n\n// http://en.wikibooks.org/wiki/GLSL_Programming/Applying_Matrix_Transformations\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n\n}\n\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\n\treturn - distance * planeNormal + point;\n\n}\n\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n\n}\n\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n\n}\n\nmat3 transposeMat3( const in mat3 m ) {\n\n\tmat3 tmp;\n\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\n\treturn tmp;\n\n}\n\n// https://en.wikipedia.org/wiki/Relative_luminance\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\n\treturn dot( weights, color.rgb );\n\n}\n\n    \nbool isPerspectiveMatrix( mat4 m ) {\n\n  return m[ 2 ][ 3 ] == - 1.0;\n\n}\n",cube_uv_reflection_fragment:"\n#ifdef ENVMAP_TYPE_CUBE_UV\n\n#define cubeUV_textureSize (1024.0)\n\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\n\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\t// Clamp the value to the max mip level counts. hard coded to 6 mips\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\n\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\t// float powScale = exp2(roughnessLevel + mipLevel);\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\t// float scale =  1.0 / exp2(roughnessLevel + 2.0 + mipLevel);\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\t// float mipOffset = 0.75*(1.0 - 1.0/exp2(mipLevel))/exp2(roughnessLevel);\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\n\tfloat rcpPowScale = 1.0 / powScale;\n\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\n\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\n\t// round to nearest mipmap if we are not interpolating.\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\n\t// Tri linear interpolation.\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\n\tvec4 result = mix(color10, color20, t);\n\n\treturn vec4(result.rgb, 1.0);\n}\n\nvec4 textureCubeUVSample( sampler2D envMap, vec3 reflectedDirection) {\n\n\tvec2 uv_10 = getCubeUV(reflectedDirection, 0.0, 0.0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\n\treturn color10;\n}\n\n#endif\n",defaultnormal_vertex:"\nvec3 transformedNormal = objectNormal;\n\n#ifdef USE_INSTANCING\n\n\ttransformedNormal = mat3( instanceMatrix ) * transformedNormal;\n\n#endif\n\ntransformedNormal = normalMatrix * transformedNormal;\n\n#ifdef FLIP_SIDED\n\n\ttransformedNormal = - transformedNormal;\n\n#endif\n\n#ifdef USE_TANGENT\n\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\n\t#ifdef FLIP_SIDED\n\n\t\ttransformedTangent = - transformedTangent;\n\n\t#endif\n\n#endif\n",displacementmap_pars_vertex:"\n#ifdef USE_DISPLACEMENTMAP\n\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n\n#endif\n",displacementmap_vertex:"\n#ifdef USE_DISPLACEMENTMAP\n\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n\n#endif\n",emissivemap_fragment:"\n#ifdef USE_EMISSIVEMAP\n\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n\n#endif\n",emissivemap_pars_fragment:"\n#ifdef USE_EMISSIVEMAP\n\n\tuniform sampler2D emissiveMap;\n\n#endif\n",encodings_fragment:"\ngl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\n// For a discussion of what this is, please read this: http://lousodrome.net/blog/light/2013/05/26/gamma-correct-and-hdr-rendering-in-a-32-bits-buffer/\n\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\n\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\n\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\n\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\n\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\n\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\n\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n//  return vec4( value.brg, ( 3.0 + 128.0 ) / 256.0 );\n}\n\n// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\n\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\n\n// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\n\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\n\n// LogLuv reference: http://graphicrants.blogspot.ca/2009/04/rgbm-color-encoding.html\n\n// M matrix, for encoding\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\n\n// Inverse M matrix, for decoding\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}\n",envmap_fragment:"\n#ifdef USE_ENVMAP\n\n\t#ifdef ENV_WORLDPOS\n\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\n\t\t}  else {\n\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\n\t\t}\n\n\t\t// Transforming Normal Vectors with the Inverse Transformation\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\n\t\t#else\n\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\n\t\t#endif\n\n\t#else\n\n\t\tvec3 reflectVec = vReflect;\n\n\t#endif\n\n\t#ifdef ENVMAP_TYPE_CUBE\n\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\n\t\tvec2 sampleUV;\n\n\t\treflectVec = normalize( reflectVec );\n\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\n\t\treflectVec = normalize( reflectVec );\n\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\n\t#else\n\n\t\tvec4 envColor = vec4( 0.0 );\n\n\t#endif\n\n\tenvColor = envMapTexelToLinear( envColor );\n\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\n\t#endif\n\n#endif\n",envmap_common_pars_fragment:"\n#ifdef USE_ENVMAP\n\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif\n",envmap_pars_fragment:"\n#ifdef USE_ENVMAP\n\n\tuniform float reflectivity;\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n\t\t#define ENV_WORLDPOS\n\n\t#endif\n\n\t#ifdef ENV_WORLDPOS\n\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n\n#endif\n",envmap_pars_vertex:"\n#ifdef USE_ENVMAP\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\n\t\t#define ENV_WORLDPOS\n\n\t#endif\n\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\n\t#else\n\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\n\t#endif\n\n#endif\n",envmap_physical_pars_fragment:"\n#if defined( USE_ENVMAP )\n\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\n\tvec3 getLightProbeIndirectIrradiance( /*const in SpecularLightProbe specularLightProbe,*/ const in GeometricContext geometry, const in int maxMIPLevel ) {\n\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\n\t\t\t// TODO: replace with properly filtered cubemaps and access the irradiance LOD level, be it the last LOD level\n\t\t\t// of a specular cubemap, or just the default level of a specially created irradiance cubemap.\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\n\t\t\t#else\n\n\t\t\t\t// force the bias high to get the last LOD level as it is the most blurred.\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\n\t\t#else\n\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\n\t\t#endif\n        \n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\n\t}\n\n\t// Trowbridge-Reitz distribution to Mip level, following the logic of http://casual-effects.blogspot.ca/2011/08/plausible-environment-lighting-in-two.html\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\n\t\t// clamp to allowable LOD ranges.\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\n\t}\n\n\tvec3 getLightProbeIndirectRadiance( /*const in SpecularLightProbe specularLightProbe,*/ const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\n\t\t  // Mixing the reflection with the normal is more accurate and keeps rough objects from gathering light from behind their tangent plane.\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\n\t\t#else\n\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\n\t\t#endif\n\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\n\t\t\t#else\n\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, roughness );\n\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\n\t\t\t#else\n\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\n\t\t\t#else\n\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\n\t}\n\n#endif\n",envmap_vertex:"\n#ifdef USE_ENVMAP\n\n\t#ifdef ENV_WORLDPOS\n\n\t\tvWorldPosition = worldPosition.xyz;\n\n\t#else\n\n\t\tvec3 cameraToVertex;\n\n\t\tif ( isOrthographic ) { \n\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\n\t\t} else {\n\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\n\t\t}\n\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\n\t\t#else\n\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t\t#endif\n\n\t#endif\n\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\n\n\tfogDepth = -mvPosition.z;\n\n#endif\n",fog_pars_vertex:"\n#ifdef USE_FOG\n\n\tvarying float fogDepth;\n\n#endif\n",fog_fragment:"\n#ifdef USE_FOG\n\n\t#ifdef FOG_EXP2\n\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\n\t#else\n\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\n\t#endif\n\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n\n#endif\n",fog_pars_fragment:"\n#ifdef USE_FOG\n\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\n\t#ifdef FOG_EXP2\n\n\t\tuniform float fogDensity;\n\n\t#else\n\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\n\t#endif\n\n#endif\n",gradientmap_pars_fragment:"\n#ifdef TOON\n\n\tuniform sampler2D gradientMap;\n\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\n\t\t// dotNL will be from -1.0 to 1.0\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\n\t\t#ifdef USE_GRADIENTMAP\n\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\n\t\t#else\n\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\n\t\t#endif\n\n\n\t}\n\n#endif\n",lightmap_fragment:"\n#ifdef USE_LIGHTMAP\n\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity; // factor of PI should not be present; included here to prevent breakage\n\n#endif\n",lightmap_pars_fragment:"\n#ifdef USE_LIGHTMAP\n\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n\n#endif\n",lights_lambert_vertex:"\nvec3 diffuse = vec3( 1.0 );\n\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\n\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\n\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\n\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n\n#if NUM_POINT_LIGHTS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\n\t\t#endif\n\n\t}\n\n#endif\n\n#if NUM_SPOT_LIGHTS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\n\t\t#endif\n\t}\n\n#endif\n\n/*\n#if NUM_RECT_AREA_LIGHTS > 0\n\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\n\t\t// TODO (abelnation): implement\n\n\t}\n\n#endif\n*/\n\n#if NUM_DIR_LIGHTS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\n\t\t#endif\n\n\t}\n\n#endif\n\n#if NUM_HEMI_LIGHTS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\n\t\t#endif\n\n\t}\n\n#endif\n",lights_pars_begin:"\nuniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\n\n// get the irradiance (radiance convolved with cosine lobe) at the point 'normal' on the unit sphere\n// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\n\t// normal is assumed to have unit length\n\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\n\t// band 0\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\n\t// band 1\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\n\t// band 2\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\n\treturn result;\n\n}\n\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\n\treturn irradiance;\n\n}\n\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\n\tvec3 irradiance = ambientLightColor;\n\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\tirradiance *= PI;\n\n\t#endif\n\n\treturn irradiance;\n\n}\n\n#if NUM_DIR_LIGHTS > 0\n\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\n\t}\n\n#endif\n\n\n#if NUM_POINT_LIGHTS > 0\n\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\n\t// directLight is an out parameter as having it as a return value caused compiler errors on some devices\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\n\t\tfloat lightDistance = length( lVector );\n\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\n\t}\n\n#endif\n\n\n#if NUM_SPOT_LIGHTS > 0\n\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\n\t// directLight is an out parameter as having it as a return value caused compiler errors on some devices\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\n\t\tif ( angleCos > spotLight.coneCos ) {\n\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\n\t\t} else {\n\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\n\t\t}\n\t}\n\n#endif\n\n\n#if NUM_RECT_AREA_LIGHTS > 0\n\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\n\t// Pre-computed values of LinearTransformedCosine approximation of BRDF\n\t// BRDF approximation Texture is 64x64\n\tuniform sampler2D ltc_1; // RGBA Float\n\tuniform sampler2D ltc_2; // RGBA Float\n\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n\n#endif\n\n\n#if NUM_HEMI_LIGHTS > 0\n\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\t\tirradiance *= PI;\n\n\t\t#endif\n\n\t\treturn irradiance;\n\n\t}\n\n#endif\n",lights_phong_fragment:"\nBlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n\nstruct BlinnPhongMaterial {\n\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n\n};\n\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\n\t#ifdef TOON\n\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\n\t#else\n\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\n\t#endif\n\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\tirradiance *= PI; // punctual light\n\n\t#endif\n\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n\n}\n\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n}\n\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"\nPhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n\n#ifdef REFLECTIVITY\n\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\n#else\n\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n\n#endif\n\n#ifdef CLEARCOAT\n\n\tmaterial.clearcoat = saturate( clearcoat ); // Burley clearcoat model\n\tmaterial.clearcoatRoughness = clamp( clearcoatRoughness, 0.04, 1.0 );\n\n#endif\n#ifdef USE_SHEEN\n\n\tmaterial.sheenColor = sheen;\n\n#endif\n",lights_physical_pars_fragment:"\nstruct PhysicalMaterial {\n\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n\n};\n\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\n\n// Clear coat directional hemishperical reflectance (this approximation should be improved)\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n\n}\n\n#if NUM_RECT_AREA_LIGHTS > 0\n\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight; // counterclockwise; light shines in local neg z direction\n\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\n\t\t// LTC Fresnel Approximation by Stephen Hill\n\t\t// http://blog.selfshadow.com/publications/s2016-advances/s2016_ltc_fresnel.pdf\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\n\t}\n\n#endif\n\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\n\tvec3 irradiance = dotNL * directLight.color;\n\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\tirradiance *= PI; // punctual light\n\n\t#endif\n\n\t#ifdef CLEARCOAT\n\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\t\tccIrradiance *= PI; // punctual light\n\n\t\t#endif\n\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\n\t#else\n\n\t\tfloat clearcoatDHR = 0.0;\n\n\t#endif\n\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n}\n\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\n\t#ifdef CLEARCOAT\n\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\n\t#else\n\n\t\tfloat clearcoatDHR = 0.0;\n\n\t#endif\n\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\n\t// Both indirect specular and indirect diffuse light accumulate here\n\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n\n}\n\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n\n// ref: https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n\n}\n",lights_fragment_begin:"\n/**\n * This is a template that can be used to light a material, it uses pluggable\n * RenderEquations (RE)for specific lighting scenarios.\n *\n * Instructions for use:\n * - Ensure that both RE_Direct, RE_IndirectDiffuse and RE_IndirectSpecular are defined\n * - If you have defined an RE_IndirectSpecular, you need to also provide a Material_LightProbeLOD. <---- ???\n * - Create a material parameter that is to be passed as the third parameter to your lighting functions.\n *\n * TODO:\n * - Add area light support.\n * - Add sphere light support.\n * - Add diffuse light probe (irradiance cubemap) support.\n */\n\nGeometricContext geometry;\n\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n\n#ifdef CLEARCOAT\n\n\tgeometry.clearcoatNormal = clearcoatNormal;\n\n#endif\n\nIncidentLight directLight;\n\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tPointLight pointLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\n\t\tpointLight = pointLights[ i ];\n\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( pointLight.shadow, directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tSpotLight spotLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\n\t\tspotLight = spotLights[ i ];\n\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( spotLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tDirectionalLight directionalLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\n\t\tdirectionalLight = directionalLights[ i ];\n\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( directionalLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\n\tRectAreaLight rectAreaLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if defined( RE_IndirectDiffuse )\n\n\tvec3 iblIrradiance = vec3( 0.0 );\n\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\n\t\t}\n\n\t#endif\n\n#endif\n\n#if defined( RE_IndirectSpecular )\n\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n\n#endif\n",lights_fragment_maps:"\n#if defined( RE_IndirectDiffuse )\n\n\t#ifdef USE_LIGHTMAP\n\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\t\tlightMapIrradiance *= PI; // factor of PI should not be present; included here to prevent breakage\n\n\t\t#endif\n\n\t\tirradiance += lightMapIrradiance;\n\n\t#endif\n\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( /*lightProbe,*/ geometry, maxMipLevel );\n\n\t#endif\n\n#endif\n\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\n\tradiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\n\t#ifdef CLEARCOAT\n\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\n\t#endif\n\n#endif\n",lights_fragment_end:"\n#if defined( RE_IndirectDiffuse )\n\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n\n#endif\n\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n    \n#endif\n",logdepthbuf_fragment:"\n#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\n\t// Doing a strict comparison with == 1.0 can cause noise artifacts\n\t// on some platforms. See issue #17623.\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n\n#endif\n",logdepthbuf_pars_fragment:"\n#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n\n#endif\n",logdepthbuf_pars_vertex:"\n#ifdef USE_LOGDEPTHBUF\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\n\t#else\n\n\t\tuniform float logDepthBufFC;\n\n\t#endif\n\n#endif\n",logdepthbuf_vertex:"\n#ifdef USE_LOGDEPTHBUF\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\n\t#else\n\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\n\t\t\tgl_Position.z *= gl_Position.w;\n\n\t\t}\n\n\t#endif\n\n#endif\n",map_fragment:"\n#ifdef USE_MAP\n\n\tvec4 texelColor = texture2D( map, vUv );\n\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n\n#endif\n",map_pars_fragment:"\n#ifdef USE_MAP\n\n\tuniform sampler2D map;\n\n#endif\n",map_particle_fragment:"\n#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\n#endif\n\n#ifdef USE_MAP\n\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n\n#endif\n\n#ifdef USE_ALPHAMAP\n\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n\n#endif\n",map_particle_pars_fragment:"\n#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\n\tuniform mat3 uvTransform;\n\n#endif\n\n#ifdef USE_MAP\n\n\tuniform sampler2D map;\n\n#endif\n\n#ifdef USE_ALPHAMAP\n\n\tuniform sampler2D alphaMap;\n\n#endif\n",metalnessmap_fragment:"\nfloat metalnessFactor = metalness;\n\n#ifdef USE_METALNESSMAP\n\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\n\t// reads channel B, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n\tmetalnessFactor *= texelMetalness.b;\n\n#endif\n",metalnessmap_pars_fragment:"\n#ifdef USE_METALNESSMAP\n\n\tuniform sampler2D metalnessMap;\n\n#endif\n",morphnormal_vertex:"\n#ifdef USE_MORPHNORMALS\n\n\t// morphTargetBaseInfluence is set based on BufferGeometry.morphTargetsRelative value:\n\t// When morphTargetsRelative is false, this is set to 1 - sum(influences); this results in normal = sum((target - base) * influence)\n\t// When morphTargetsRelative is true, this is set to 1; as a result, all morph targets are simply added to the base after weighting\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\n#endif\n",morphtarget_pars_vertex:"\n#ifdef USE_MORPHTARGETS\n\n\tuniform float morphTargetBaseInfluence;\n\n\t#ifndef USE_MORPHNORMALS\n\n\tuniform float morphTargetInfluences[ 8 ];\n\n\t#else\n\n\tuniform float morphTargetInfluences[ 4 ];\n\n\t#endif\n\n#endif\n",morphtarget_vertex:"\n#ifdef USE_MORPHTARGETS\n\n\t// morphTargetBaseInfluence is set based on BufferGeometry.morphTargetsRelative value:\n\t// When morphTargetsRelative is false, this is set to 1 - sum(influences); this results in position = sum((target - base) * influence)\n\t// When morphTargetsRelative is true, this is set to 1; as a result, all morph targets are simply added to the base after weighting\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\n\t#ifndef USE_MORPHNORMALS\n\n\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\n\t#endif\n\n#endif\n",normal_fragment_begin:"\n#ifdef FLAT_SHADED\n\n\t// Workaround for Adreno/Nexus5 not able able to do dFdx( vViewPosition ) ...\n\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n\n#else\n\n\tvec3 normal = normalize( vNormal );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t#endif\n\n\t#ifdef USE_TANGENT\n\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t\t#endif\n\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\n\t\t#endif\n\n\t#endif\n\n#endif\n\n// non perturbed normal for clearcoat among others\n\nvec3 geometryNormal = normal;\n\n",normal_fragment_maps:"\n\n#ifdef OBJECTSPACE_NORMALMAP\n\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0; // overrides both flatShading and attribute normals\n\n\t#ifdef FLIP_SIDED\n\n\t\tnormal = - normal;\n\n\t#endif\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t#endif\n\n\tnormal = normalize( normalMatrix * normal );\n\n#elif defined( TANGENTSPACE_NORMALMAP )\n\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\n\t#ifdef USE_TANGENT\n\n\t\tnormal = normalize( vTBN * mapN );\n\n\t#else\n\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\n\t#endif\n\n#elif defined( USE_BUMPMAP )\n\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n\n#endif\n",normalmap_pars_fragment:"\n#ifdef USE_NORMALMAP\n\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\n#endif\n\n#ifdef OBJECTSPACE_NORMALMAP\n\n\tuniform mat3 normalMatrix;\n\n#endif\n\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\n\t// Per-Pixel Tangent Space Normal Mapping\n\t// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\n\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\n\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\n\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s ); // we do not care about the magnitude\n\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\n\t\tmat3 tsn = mat3( S, T, N );\n\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t\treturn normalize( tsn * mapN );\n\n\t}\n\n#endif\n",clearcoat_normal_fragment_begin:"\n#ifdef CLEARCOAT\n\n\tvec3 clearcoatNormal = geometryNormal;\n\n#endif\n",clearcoat_normal_fragment_maps:"\n#ifdef USE_CLEARCOAT_NORMALMAP\n\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\n\t#ifdef USE_TANGENT\n\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\n\t#else\n\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\n\t#endif\n\n#endif\n",clearcoat_normalmap_pars_fragment:"\n#ifdef USE_CLEARCOAT_NORMALMAP\n\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n\n#endif\n",packing:"\nvec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\n\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\n\nconst float PackUpscale = 256. / 255.; // fraction -> 0..1 (including 1)\nconst float UnpackDownscale = 255. / 256.; // 0..1 -> fraction (excluding 1)\n\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\n\nconst float ShiftRight8 = 1. / 256.;\n\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8; // tidy overflow\n\treturn r * PackUpscale;\n}\n\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\n\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpack2HalfToRGBA( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\n\n// NOTE: viewZ/eyeZ is < 0 when in front of the camera per OpenGL conventions\n\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\n\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"\n#ifdef PREMULTIPLIED_ALPHA\n\n\t// Get get normal blending with premultipled, use with CustomBlending, OneFactor, OneMinusSrcAlphaFactor, AddEquation.\n\tgl_FragColor.rgb *= gl_FragColor.a;\n\n#endif\n",project_vertex:"\nvec4 mvPosition = vec4( transformed, 1.0 );\n\n#ifdef USE_INSTANCING\n\n\tmvPosition = instanceMatrix * mvPosition;\n\n#endif\n\nmvPosition = modelViewMatrix * mvPosition;\n\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"\n#ifdef DITHERING\n\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n\n#endif\n",dithering_pars_fragment:"\n#ifdef DITHERING\n\n\t// based on https://www.shadertoy.com/view/MslGR8\n\tvec3 dithering( vec3 color ) {\n\t\t//Calculate grid position\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\n\t\t//Shift the individual colors differently, thus making it even harder to see the dithering pattern\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\n\t\t//modify shift acording to grid position.\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\n\t\t//shift the color by dither_shift\n\t\treturn color + dither_shift_RGB;\n\t}\n\n#endif\n",roughnessmap_fragment:"\nfloat roughnessFactor = roughness;\n\n#ifdef USE_ROUGHNESSMAP\n\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\n\t// reads channel G, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n\troughnessFactor *= texelRoughness.g;\n\n#endif\n",roughnessmap_pars_fragment:"\n#ifdef USE_ROUGHNESSMAP\n\n\tuniform sampler2D roughnessMap;\n\n#endif\n",shadowmap_pars_fragment:"\n#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t/*\n\t#if NUM_RECT_AREA_LIGHTS > 0\n\n\t\t// TODO (abelnation): create uniforms for area light shadows\n\n\t#endif\n\t*/\n\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\n\t}\n\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\n\t\treturn unpack2HalfToRGBA( texture2D( shadow, uv ) );\n\n\t}\n\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\n\t\tfloat occlusion = 1.0;\n\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\n\t\tfloat hard_shadow = step( compare , distribution.x ); // Hard Shadow\n\n\t\tif (hard_shadow != 1.0 ) {\n\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance ); // Chebeyshevs inequality\n\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 ); // 0.3 reduces light bleed\n\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\n\t\t}\n\t\treturn occlusion;\n\n\t}\n\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = ( floor( uv * size - 0.5 ) + 0.5 ) * texelSize;\n\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\n\t\tvec2 f = fract( uv * size + 0.5 );\n\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\n\t\treturn c;\n\n\t}\n\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\n\t\tfloat shadow = 1.0;\n\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\n\t\t// if ( something && something ) breaks ATI OpenGL shader compiler\n\t\t// if ( all( something, something ) ) using this instead\n\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n\t\tbool frustumTest = all( frustumTestVec );\n\n\t\tif ( frustumTest ) {\n\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\n\t\t#else // no percentage-closer filtering:\n\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\n\t\t#endif\n\n\t\t}\n\n\t\treturn shadow;\n\n\t}\n\n\t// cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D\n\t// vector suitable for 2D texture mapping. This code uses the following layout for the\n\t// 2D texture:\n\t//\n\t// xzXZ\n\t//  y Y\n\t//\n\t// Y - Positive y direction\n\t// y - Negative y direction\n\t// X - Positive x direction\n\t// x - Negative x direction\n\t// Z - Positive z direction\n\t// z - Negative z direction\n\t//\n\t// Source and test bed:\n\t// https://gist.github.com/tschw/da10c43c467ce8afd0c4\n\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\n\t\t// Number of texels to avoid at the edge of each square\n\n\t\tvec3 absV = abs( v );\n\n\t\t// Intersect unit cube\n\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\n\t\t// Apply scale to avoid seams\n\n\t\t// two texels less per square (one texel will do for NEAREST)\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\n\t\t// Unwrap\n\n\t\t// space: -1 ... 1 range for each square\n\t\t//\n\t\t// #X##\t\tdim    := ( 4 , 2 )\n\t\t//  # #\t\tcenter := ( 1 , 1 )\n\n\t\tvec2 planar = v.xy;\n\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\n\t\tif ( absV.z >= almostOne ) {\n\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\n\t\t} else if ( absV.x >= almostOne ) {\n\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\n\t\t} else if ( absV.y >= almostOne ) {\n\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\n\t\t}\n\n\t\t// Transform to UV space\n\n\t\t// scale := 0.5 / dim\n\t\t// translate := ( center + 0.5 ) / dim\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\n\t}\n\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\n\t\t// for point lights, the uniform @vShadowCoord is re-purposed to hold\n\t\t// the vector from the light to the world-space position of the fragment.\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\n\t\t// dp = normalized distance from light to fragment position\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear ); // need to clamp?\n\t\tdp += shadowBias;\n\n\t\t// bd3D = base direction 3D\n\t\tvec3 bd3D = normalize( lightToPosition );\n\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\n\t\t#else // no percentage-closer filtering\n\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\n\t\t#endif\n\n\t}\n\n#endif\n",shadowmap_pars_vertex:"\n#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t/*\n\t#if NUM_RECT_AREA_LIGHTS > 0\n\n\t\t// TODO (abelnation): uniforms for area light shadows\n\n\t#endif\n\t*/\n\n#endif\n",shadowmap_vertex:"\n#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\n\t}\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\n\t}\n\n\t#endif\n\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\n\t}\n\n\t#endif\n\n\t/*\n\t#if NUM_RECT_AREA_LIGHTS > 0\n\n\t\t// TODO (abelnation): update vAreaShadowCoord with area light info\n\n\t#endif\n\t*/\n\n#endif\n",shadowmask_pars_fragment:"\nfloat getShadowMask() {\n\n\tfloat shadow = 1.0;\n\n\t#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\n\tDirectionalLight directionalLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= all( bvec2( directionalLight.shadow, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\n\t}\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\n\tSpotLight spotLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= all( bvec2( spotLight.shadow, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\n\t}\n\n\t#endif\n\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\n\tPointLight pointLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= all( bvec2( pointLight.shadow, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\n\t}\n\n\t#endif\n\n\t/*\n\t#if NUM_RECT_AREA_LIGHTS > 0\n\n\t\t// TODO (abelnation): update shadow for Area light\n\n\t#endif\n\t*/\n\n\t#endif\n\n\treturn shadow;\n\n}\n",skinbase_vertex:"\n#ifdef USE_SKINNING\n\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n\n#endif\n",skinning_pars_vertex:"\n#ifdef USE_SKINNING\n\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\n\t#ifdef BONE_TEXTURE\n\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\n\t\t\ty = dy * ( y + 0.5 );\n\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\n\t\t\treturn bone;\n\n\t\t}\n\n\t#else\n\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\n\t\t}\n\n\t#endif\n\n#endif\n",skinning_vertex:"\n#ifdef USE_SKINNING\n\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n\n#endif\n",skinnormal_vertex:"\n#ifdef USE_SKINNING\n\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\n\t#ifdef USE_TANGENT\n\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\n\t#endif\n\n#endif\n",specularmap_fragment:"\nfloat specularStrength;\n\n#ifdef USE_SPECULARMAP\n\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n\n#else\n\n\tspecularStrength = 1.0;\n\n#endif\n",specularmap_pars_fragment:"\n#ifdef USE_SPECULARMAP\n\n\tuniform sampler2D specularMap;\n\n#endif\n",tonemapping_fragment:"\n#if defined( TONE_MAPPING )\n\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n\n#endif\n",tonemapping_pars_fragment:"\n#ifndef saturate\n// <common> may have defined saturate() already\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\n\n// exposure only\nvec3 LinearToneMapping( vec3 color ) {\n\n\treturn toneMappingExposure * color;\n\n}\n\n// source: https://www.cs.utah.edu/~reinhard/cdrom/\nvec3 ReinhardToneMapping( vec3 color ) {\n\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n\n}\n\n// source: http://filmicgames.com/archives/75\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\n\t// John Hable's filmic operator from Uncharted 2 video game\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n\n}\n\n// source: http://filmicgames.com/archives/75\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\n\t// optimized filmic operator by Jim Hejl and Richard Burgess-Dawson\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n\n}\n\n// source: https://knarkowicz.wordpress.com/2016/01/06/aces-filmic-tone-mapping-curve/\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n\n}\n",uv_pars_fragment:"\n#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\n\tvarying vec2 vUv;\n\n#endif\n",uv_pars_vertex:"\n#ifdef USE_UV\n\n\t#ifdef UVS_VERTEX_ONLY\n\n\t\tvec2 vUv;\n\n\t#else\n\n\t\tvarying vec2 vUv;\n\n\t#endif\n\n\tuniform mat3 uvTransform;\n\n#endif\n",uv_vertex:"\n#ifdef USE_UV\n\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\n#endif\n",uv2_pars_fragment:"\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tvarying vec2 vUv2;\n\n#endif\n",uv2_pars_vertex:"\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\n#endif\n",uv2_vertex:"\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tvUv2 = uv2;\n\n#endif\n",worldpos_vertex:"\n#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\n\t#ifdef USE_INSTANCING\n\n\t\tworldPosition = instanceMatrix * worldPosition;\n\n\t#endif\n\n\tworldPosition = modelMatrix * worldPosition;\n\n#endif\n",amrt_aomap_fragment:"\n#if defined(USE_AOMAP)\n    float ambientOcclusion = pow( aoMapTexelToLinear(texture2D( aoMap, vUvAO )).g, aoScale);\n    reflectedLight.indirectDiffuse *= ambientOcclusion;\n    #if defined( USE_ENVMAP ) && defined( STANDARD )\n\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\n\t#endif\n#endif\n",amrt_emissivemap_fragment:"\n#if defined(USE_EMISSIVEMAP)\n    vec4 emissiveColor = texture2D( emissiveMap, vUvEmissive );\n\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",amrt_map_fragment:"\n#if defined( USE_ALBEDO )\n    vec4 texelColor = texture2D( albedo, vUvAlbedo );\n    texelColor = albedoTexelToLinear( texelColor );\n    diffuseColor *= texelColor;\n#endif\n",amrt_map_pars_fragment:"\n\n// struct MapData\n// {\n//     vec3 Normal;\n//     vec3 Albedo;\n//     float Emission;\n//     float Metallic;\n//     float Smoothness;\n//     float Occlusion;\n//     float Alpha;\n// };\n\n#ifdef USE_ALBEDO\n\n\tuniform sampler2D albedo;\n\n#endif\n\n#ifdef USE_NORMALMAP\n\n\tuniform sampler2D normalMap;\n\tuniform float normalScale;\n\n#endif\n\n#ifdef USE_NORMALMAP2\n\n\tuniform sampler2D normalMap2;\n\tuniform float normalScale2;\n\n#endif\n\n#ifdef USE_METALLICMAP\n\n\tuniform sampler2D metallicMap;\n\n#endif\n\n#ifdef USE_ROUGHNESSMAP\n\n\tuniform sampler2D roughnessMap;\n\n#endif\n\n#ifdef USE_AOMAP\n\n\tuniform sampler2D aoMap;\n\tuniform float aoScale;\n\n#endif\n\n#ifdef USE_EMISSIVEMAP\n\n\tuniform sampler2D emissiveMap;\n\n#endif\n\n#ifdef USE_REFLECTMAP\n    #ifdef USE_REFLECTMAP_UV\n        uniform sampler2D reflectMap;\n    #else\n        uniform samplerCube reflectMap;\n    #endif\n\tuniform float reflectIntensity;\n\n#endif\n",amrt_metalnessmap_fragment:"\nfloat metalnessFactor = metalness;\n#if defined(USE_METALLICMAP)\n    metalnessFactor = metallicMapTexelToLinear(texture2D( metallicMap, vUvMetal )).r;\n#endif\n",amrt_normal_fragment_maps:"\n\n#if defined( USE_NORMALMAP ) || defined( USE_NORMALMAP2 )\n\n    #if defined( USE_NORMALMAP ) && defined( USE_NORMALMAP2 )\n        vec3 mapN = BlendNormals( UnpackScaleNormal(  normalMapTexelToLinear(texture2D( normalMap, vUvNormal )), normalScale ) , UnpackScaleNormal( normalMap2TexelToLinear(texture2D( normalMap2, vUvNormal2 )), normalScale2 ) );\n    #elif defined( USE_NORMALMAP )\n        vec3 mapN = normalize(UnpackScaleNormal( normalMapTexelToLinear(texture2D( normalMap, vUvNormal )), normalScale));\n    #elif defined( USE_NORMALMAP2 )\n        vec3 mapN = normalize(UnpackScaleNormal( normalMap2TexelToLinear(texture2D( normalMap2, vUvNormal2 )), normalScale2));\n    #endif\n    \n    #ifdef USE_TANGENT\n    \n        normal = normalize( vTBN * mapN );\n    \n    #else\n    \n        normal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n    \n    #endif\n    \n#endif\n",amrt_roughnessmap_fragment:"\n#if defined(USE_ROUGHNESSMAP)\n    roughnessFactor = roughnessMapTexelToLinear(texture2D( roughnessMap, vUvRough )).r;\n#endif\n",amrt_uv_pars_fragment:"\n\n#ifdef USE_ALBEDO\n\n\tvarying vec2 vUvAlbedo;\n\n#endif\n\n#ifdef USE_NORMALMAP\n\n\tvarying vec2 vUvNormal;\n\n#endif\n\n#ifdef USE_NORMALMAP2\n\n\tvarying vec2 vUvNormal2;\n\n#endif\n\n#ifdef USE_METALLICMAP\n\n\tvarying vec2 vUvMetal;\n\n#endif\n\n#ifdef USE_ROUGHNESSMAP\n\n\tvarying vec2 vUvRough;\n\n#endif\n\n#ifdef USE_AOMAP\n\n\tvarying vec2 vUvAO;\n\n#endif\n\n#ifdef USE_EMISSIVEMAP\n\n\tvarying vec2 vUvEmissive;\n\n#endif\n",amrt_uv_pars_vertex:"\n\nattribute vec2 uv2;\n\n#ifdef USE_ALBEDO\n\n\tvarying vec2 vUvAlbedo;\n\tuniform mat3 albedoUVTransform;\n\n#endif\n\n#ifdef USE_NORMALMAP\n\n\tvarying vec2 vUvNormal;\n\tuniform mat3 normalUVTransform;\n\n#endif\n\n#ifdef USE_NORMALMAP2\n\n\tvarying vec2 vUvNormal2;\n\tuniform mat3 normal2UVTransform;\n\n#endif\n\n#ifdef USE_METALLICMAP\n\n\tvarying vec2 vUvMetal;\n\tuniform mat3 metalUVTransform;\n\n#endif\n\n#ifdef USE_ROUGHNESSMAP\n\n\tvarying vec2 vUvRough;\n\tuniform mat3 roughUVTransform;\n\n#endif\n\n#ifdef USE_AOMAP\n\n\tvarying vec2 vUvAO;\n\tuniform mat3 aoUVTransform;\n\n#endif\n\n#ifdef USE_EMISSIVEMAP\n\n\tvarying vec2 vUvEmissive;\n\tuniform mat3 emissiveUVTransform;\n\n#endif\n\n",amrt_uv_vertex:"\n\n#ifdef USE_ALBEDO\n\t\n\t#ifdef ALBEDO_UV1\n\n\t\tvUvAlbedo = ( albedoUVTransform * vec3( uv, 1 ) ).xy;\n\n\t#else\n\n\t\tvUvAlbedo = ( albedoUVTransform * vec3( uv2, 1 ) ).xy;\n\n\t#endif\n\n#endif\n\n#ifdef USE_NORMALMAP\n\n    vUvNormal = ( normalUVTransform * vec3( uv, 1 ) ).xy;\n\n#endif\n\n#ifdef USE_NORMALMAP2\n\n    vUvNormal2 = ( normal2UVTransform * vec3( uv2, 1 ) ).xy;\n\n#endif\n\n#ifdef USE_METALLICMAP\n\n    vUvMetal = ( metalUVTransform * vec3( uv, 1 ) ).xy;\n\n#endif\n\n#ifdef USE_ROUGHNESSMAP\n    \n    vUvRough = ( roughUVTransform * vec3( uv, 1 ) ).xy;\n\n#endif\n\n#ifdef USE_AOMAP\n\t\n\t#ifdef AO_UV1\n\n\t\tvUvAO = ( aoUVTransform * vec3( uv, 1 ) ).xy;\n\n\t#else\n\n\t\tvUvAO = ( aoUVTransform * vec3( uv2, 1 ) ).xy;\n\n\t#endif\n\n#endif\n\n#ifdef USE_EMISSIVEMAP\n\t\n\t#ifdef EMISSIVE_UV1\n\n\t\tvUvEmissive = ( emissiveUVTransform * vec3( uv, 1 ) ).xy;\n\n\t#else\n\n\t\tvUvEmissive = ( emissiveUVTransform * vec3( uv2, 1 ) ).xy;\n\n\t#endif\n\n#endif\n",amrt_worldpos_vertex:"\n#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_REFLECTMAP )\n\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\n\t#ifdef USE_INSTANCING\n\n\t\tworldPosition = instanceMatrix * worldPosition;\n\n\t#endif\n\n\tworldPosition = modelMatrix * worldPosition;\n#endif\n",amrt_envmap_physical_pars_fragment:"\n#if defined( USE_ENVMAP )\n\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\n\tvec3 getLightProbeIndirectIrradiance( /*const in SpecularLightProbe specularLightProbe,*/ const in GeometricContext geometry, const in int maxMIPLevel ) {\n        \n\n            vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t\n\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\n\t\t\t// TODO: replace with properly filtered cubemaps and access the irradiance LOD level, be it the last LOD level\n\t\t\t// of a specular cubemap, or just the default level of a specially created irradiance cubemap.\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\n\t\t\t#else\n\n\t\t\t\t// force the bias high to get the last LOD level as it is the most blurred.\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\n\t\t#endif\n        \n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\n\t}\n\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n        float maxMIPLevelScalar = float( maxMIPLevel );\n\n        float sigma = PI * roughness * roughness / ( 1.0 + roughness ) + 0.000001;\n        float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n        // clamp to allowable LOD ranges.\n        return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n    \n\n\tvec3 getLightProbeIndirectRadiance( /*const in SpecularLightProbe specularLightProbe,*/ const in vec3 viewDir, const in vec3 normal, const in float roughness, const in float rroughness,const in int maxMIPLevel ) {\n        \n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\n\t\t  // Mixing the reflection with the normal is more accurate and keeps rough objects from gathering light from behind their tangent plane.\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\n\t\t#else\n\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\n\t\t#endif\n\n        #ifdef ENVMAP_TYPE_CUBE_UV\n\t\t    reflectVec = inverseTransformDirection( reflectVec, viewMatrixR );\n        #else\n            reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n        #endif\n        \n        reflectVec *= envYMatrix;\n        \n        float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\n\t\t\t#else\n\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\t\n            vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\n\t\t\t#else\n\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\n\t\t\t#else\n\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#endif\n\t\t\n\t\t\n\t\tenvMapColor = LinearTosRGB(envMapColor);\n\t\treturn envMapColor.rgb * envMapIntensity;\n\n\t}\n\n#endif\n",amrt_cube_uv_reflection_fragment:"\n#if defined(ENVMAP_TYPE_CUBE_UV) || defined(USE_REFLECTMAP_UV)\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\n// These shader functions convert between the UV coordinates of a single face of\n// a cubemap, the 0-5 integer index of a cube face, and the direction vector for\n// sampling a textureCube (not generally normalized).\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);\n    } else if (face == 1.0) {\n      uv = vec2(direction.x, -direction.z) / abs(direction.y);\n    } else if (face == 2.0) {\n      uv = direction.xy / abs(direction.z);\n    } else if (face == 3.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);\n    } else if (face == 4.0) {\n      uv = direction.xz / abs(direction.y);\n    } else {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);\n    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n\nvec3 bilinearCubeUVR(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = reflectMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = reflectMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = reflectMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = reflectMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n\n// These defines must match with PMREMGenerator\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);// 1.16 = 1.79^0.25\n  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n\nvec4 textureCubeUVR(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUVR(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUVR(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n#endif\n",amrt_lights_fragment_maps:"\n#if defined( RE_IndirectDiffuse )\n\n\t#ifdef USE_LIGHTMAP\n\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\t\tlightMapIrradiance *= PI; // factor of PI should not be present; included here to prevent breakage\n\n\t\t#endif\n\n\t\tirradiance += lightMapIrradiance;\n\n\t#endif\n\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( /*lightProbe,*/ geometry, maxMipLevel );\n\n\t#endif\n\n#endif\n\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\n\tradiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry.viewDir, geometry.normal, material.specularRoughness,roughnessFactor, maxMipLevel );\n\n\t#ifdef CLEARCOAT\n\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\n\t#endif\n\n#endif\n\n#if defined( USE_REFLECTMAP )\n    vec3 reflectVec = reflect( -geometry.viewDir,  geometry.normal );\n   \n    #ifdef USE_REFLECTMAP_UV\n        reflectVec = inverseTransformDirection( reflectVec, viewMatrixR ); \n        vec4 reflectdiffuse = textureCubeUVR( reflectMap, reflectVec, 0.0 );\n        reflectdiffuse = LinearTosRGB(reflectdiffuse);\n        radiance += reflectdiffuse.rgb * reflectIntensity;\n    #else\n        reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n        reflectVec = vec3( -1.0 * reflectVec.x, reflectVec.yz );\n        vec4 reflectdiffuse = textureCube( reflectMap, reflectVec );\n        reflectdiffuse.rgb = reflectMapTexelToLinear(reflectdiffuse).rgb;\n        reflectdiffuse = LinearTosRGB(reflectdiffuse);\n        radiance += reflectdiffuse.rgb * reflectIntensity;\n    #endif\n#endif\n",amrt_bsdfs:'\n\n// Analytical approximation of the DFG LUT, one half of the\n// split-sum approximation used in indirect specular lighting.\n// via \'environmentBRDF\' from "Physically Based Shading on Mobile"\n// https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile\nvec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\n\tvec4 r = roughness * c0 + c1;\n\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n\n}\n\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\n\t// based upon Frostbite 3 Moving to Physically-based Rendering\n\t// page 32, equation 26: E[window1]\n\t// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t// this is intended to be used on spot and point lights who are represented as luminous intensity\n\t// but who must be converted to luminous irradiance for surface lighting calculation\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\n\tif( cutoffDistance > 0.0 ) {\n\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\n\t}\n\n\treturn distanceFalloff;\n\n#else\n\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\n\t}\n\n\treturn 1.0;\n\n#endif\n\n}\n\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\n\treturn RECIPROCAL_PI * diffuseColor;\n\n} // validated\n\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\n\t// Original approximation by Christophe Schlick \'94\n\t// float fresnel = pow( 1.0 - dotLH, 5.0 );\n\n\t// Optimized variant (presented by Epic at SIGGRAPH \'13)\n\t// https://cdn2.unrealengine.com/Resources/files/2013SiggraphPresentationsNotes-26915738.pdf\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n\n} // validated\n\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\n\t// See F_Schlick\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\n\treturn Fr * fresnel + F0;\n\n}\n\n\n// Microfacet Models for Refraction through Rough Surfaces - equation (34)\n// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\n// alpha is "roughness squared" in Disney’s reparameterization\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\n\t// geometry term (normalized) = G(l)⋅G(v) / 4(n⋅l)(n⋅v)\n\t// also see #12151\n\n\tfloat a2 = pow2( alpha );\n\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\n\treturn 1.0 / ( gl * gv );\n\n} // validated\n\n// Moving Frostbite to Physically Based Rendering 3.0 - page 12, listing 2\n// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\n\tfloat a2 = pow2( alpha );\n\n\t// dotNL and dotNV are explicitly swapped. This is not a mistake.\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\n\treturn 0.5 / max( gv + gl, EPSILON );\n\n}\n\n// Microfacet Models for Refraction through Rough Surfaces - equation (33)\n// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\n// alpha is "roughness squared" in Disney’s reparameterization\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\n\tfloat a2 = pow2( alpha );\n\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0; // avoid alpha = 0 with dotNH = 1\n\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n\n}\n\n// GGX Distribution, Schlick Fresnel, GGX-Smith Visibility\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\n\tfloat alpha = pow2( roughness ); // UE4\'s roughness\n\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\n\tfloat D = D_GGX( alpha, dotNH );\n\n\treturn F * ( G * D );\n\n} // validated\n\n// Rect Area Light\n\n// Real-Time Polygonal-Light Shading with Linearly Transformed Cosines\n// by Eric Heitz, Jonathan Dupuy, Stephen Hill and David Neubelt\n// code: https://github.com/selfshadow/ltc_code/\n\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\n\tfloat dotNV = saturate( dot( N, V ) );\n\n\t// texture parameterized by sqrt( GGX alpha ) and sqrt( 1 - cos( theta ) )\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\n\treturn uv;\n\n}\n\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\n\t// Real-Time Area Lighting: a Journey from Research to Production (p.102)\n\t// An approximation of the form factor of a horizon-clipped rectangle.\n\n\tfloat l = length( f );\n\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n\n}\n\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\n\tfloat x = dot( v1, v2 );\n\n\tfloat y = abs( x );\n\n\t// rational polynomial approximation to theta / sin( theta ) / 2PI\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\n\treturn cross( v1, v2 ) * theta_sintheta;\n\n}\n\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\n\t// bail if point is on back side of plane of light\n\t// assumes ccw winding order of light vertices\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\n\t// construct orthonormal basis around N\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 ); // negated from paper; possibly due to a different handedness of world coordinate system\n\n\t// compute transform\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\n\t// transform rect\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\n\t// project rect onto sphere\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\n\t// calculate vector form factor\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\n\t// adjust for horizon clipping\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\n/*\n\t// alternate method of adjusting for horizon clipping (see referece)\n\t// refactoring required\n\tfloat len = length( vectorFormFactor );\n\tfloat z = vectorFormFactor.z / len;\n\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\n\t// tabulated horizon-clipped sphere, apparently...\n\tvec2 uv = vec2( z * 0.5 + 0.5, len );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\n\tfloat scale = texture2D( ltc_2, uv ).w;\n\n\tfloat result = len * scale;\n*/\n\n\treturn vec3( result );\n\n}\n\n// End Rect Area Light\n\n// ref: https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\n\treturn specularColor * brdf.x + brdf.y;\n\n} // validated\n\n// Fdez-Agüera\'s "Multiple-Scattering Microfacet Model for Real-Time Image Based Lighting"\n// Approximates multiscattering in order to preserve energy.\n// http://www.jcgt.org/published/0008/01/03/\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619; // 1/21\n\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n\n}\n\nfloat G_BlinnPhong_Implicit( /* const in float dotNL, const in float dotNV */ ) {\n\n\t// geometry term is (n dot l)(n dot v) / 4(n dot l)(n dot v)\n\treturn 0.25;\n\n}\n\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n\n}\n\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\n\t//float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\t//float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\n\tfloat G = G_BlinnPhong_Implicit( /* dotNL, dotNV */ );\n\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\n\treturn F * ( G * D );\n\n} // validated\n\n// source: http://simonstechblog.blogspot.ca/2011/12/microfacet-brdf.html\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\n\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n\n#if defined( USE_SHEEN )\n\n// https://github.com/google/filament/blob/master/shaders/src/brdf.fs#L94\nfloat D_Charlie(float roughness, float NoH) {\n\t// Estevez and Kulla 2017, "Production Friendly Microfacet Sheen BRDF"\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125); // 2^(-14/2), so sin2h^2 > 0 in fp16\n\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\n\n// https://github.com/google/filament/blob/master/shaders/src/brdf.fs#L136\nfloat V_Neubelt(float NoV, float NoL) {\n\t// Neubelt and Pettineo 2013, "Crafting a Next-gen Material Pipeline for The Order: 1886"\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\n\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n\n}\n\n#endif\n',amrt_lights_physical_fragment:"\nGeometricContext geometry;\n\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n\n#ifdef CLEARCOAT\n\n\tgeometry.clearcoatNormal = clearcoatNormal;\n\n#endif\n\n#if defined( USE_REFLECTMAP )\n    vec3 reflectVec = reflect( -geometry.viewDir,  geometry.normal );\n   \n    #ifdef USE_REFLECTMAP_UV\n        reflectVec = inverseTransformDirection( reflectVec, viewMatrixR );\n        reflectVec*=reflecYMatrix;\n        vec4 reflectdiffuse = textureCubeUVR( reflectMap, reflectVec, 0.0 );\n        reflectdiffuse = LinearTosRGB(reflectdiffuse);\n        diffuseColor.rgb += reflectdiffuse.rgb * reflectIntensity;\n    #else\n        reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n        reflectVec = vec3( -1.0 * reflectVec.x, reflectVec.yz );\n        reflectVec*=reflecYMatrix;\n        vec4 reflectdiffuse = textureCube( reflectMap, reflectVec );\n        reflectdiffuse.rgb = reflectMapTexelToLinear(reflectdiffuse).rgb;\n        reflectdiffuse = LinearTosRGB(reflectdiffuse);\n        diffuseColor.rgb += reflectdiffuse.rgb * reflectIntensity;\n    #endif\n#endif\n\nPhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor ) * 0.779083699;\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n\n#ifdef REFLECTIVITY\n\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\n#else\n\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n\n#endif\n\n#ifdef CLEARCOAT\n\n\tmaterial.clearcoat = saturate( clearcoat ); // Burley clearcoat model\n\tmaterial.clearcoatRoughness = clamp( clearcoatRoughness, 0.04, 1.0 );\n\n#endif\n#ifdef USE_SHEEN\n\n\tmaterial.sheenColor = sheen;\n\n#endif\n\nIncidentLight directLight;\n\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tPointLight pointLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\n\t\tpointLight = pointLights[ i ];\n\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( pointLight.shadow, directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n        #ifdef TRANSPARENCY\n            directLight.color *= (1.0 - transparency);\n        #endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tSpotLight spotLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\n\t\tspotLight = spotLights[ i ];\n\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( spotLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n        #ifdef TRANSPARENCY\n            directLight.color *= (1.0 - transparency);\n        #endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tDirectionalLight directionalLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\n\t\tdirectionalLight = directionalLights[ i ];\n\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( directionalLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n        #ifdef TRANSPARENCY\n            directLight.color *= (1.0 - transparency);\n        #endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\n\tRectAreaLight rectAreaLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if defined( RE_IndirectDiffuse )\n\n\tvec3 iblIrradiance = vec3( 0.0 );\n\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#ifdef TRANSPARENCY\n        irradiance *= (1.0 - transparency);\n    #endif\n\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\n\t\t}\n\n\t#endif\n\n#endif\n\n#if defined( RE_IndirectSpecular )\n\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n\n#endif\n\n#if defined( RE_IndirectDiffuse )\n\n\t#ifdef USE_LIGHTMAP\n\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\t\tlightMapIrradiance *= PI; // factor of PI should not be present; included here to prevent breakage\n\n\t\t#endif\n\n\t\tirradiance += lightMapIrradiance;\n\n\t#endif\n\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( /*lightProbe,*/ geometry, maxMipLevel );\n\n\t#endif\n\n#endif\n\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\n\tradiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry.viewDir, geometry.normal, material.specularRoughness,roughnessFactor, maxMipLevel );\n\n\t#ifdef CLEARCOAT\n\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\n\t#endif\n\n#endif\n",background_frag:"\nuniform sampler2D t2D;\n\nvarying vec2 vUv;\n\nvoid main() {\n\n\tvec4 texColor = texture2D( t2D, vUv );\n\n\tgl_FragColor = mapTexelToLinear( texColor );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\n}\n",background_vert:"\nvarying vec2 vUv;\nuniform mat3 uvTransform;\n\nvoid main() {\n\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n\n}\n",cube_frag:"\nuniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\n\nvarying vec3 vWorldDirection;\n\nvoid main() {\n\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\n}\n",cube_vert:"\nvarying vec3 vWorldDirection;\n\n#include <common>\n\nvoid main() {\n\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\n\tgl_Position.z = gl_Position.w; // set z to camera.far\n\n}\n",depth_frag:"\n#if DEPTH_PACKING == 3200\n\n\tuniform float opacity;\n\n#endif\n\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( 1.0 );\n\n\t#if DEPTH_PACKING == 3200\n\n\t\tdiffuseColor.a = opacity;\n\n\t#endif\n\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\n\t#include <logdepthbuf_fragment>\n\n\t#if DEPTH_PACKING == 3200\n\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\n\t#elif DEPTH_PACKING == 3201\n\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\n\t#endif\n\n}\n",depth_vert:"\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\t#include <skinbase_vertex>\n\n\t#ifdef USE_DISPLACEMENTMAP\n\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n}\n",distanceRGBA_frag:"\n#define DISTANCE\n\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main () {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( 1.0 );\n\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist ); // clamp to [ 0, 1 ]\n\n\tgl_FragColor = packDepthToRGBA( dist );\n\n}\n",distanceRGBA_vert:"\n#define DISTANCE\n\nvarying vec3 vWorldPosition;\n\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\t#include <skinbase_vertex>\n\n\t#ifdef USE_DISPLACEMENTMAP\n\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvWorldPosition = worldPosition.xyz;\n\n}\n",equirect_frag:"\nuniform sampler2D tEquirect;\n\nvarying vec3 vWorldDirection;\n\n#include <common>\n\nvoid main() {\n\n\tvec3 direction = normalize( vWorldDirection );\n\n\tvec2 sampleUV;\n\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\n\tgl_FragColor = mapTexelToLinear( texColor );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\n}\n",equirect_vert:"\nvarying vec3 vWorldDirection;\n\n#include <common>\n\nvoid main() {\n\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\n}\n",linedashed_frag:"\nuniform vec3 diffuse;\nuniform float opacity;\n\nuniform float dashSize;\nuniform float totalSize;\n\nvarying float vLineDistance;\n\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\n\t\tdiscard;\n\n\t}\n\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\n\toutgoingLight = diffuseColor.rgb; // simple shader\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n",linedashed_vert:"\nuniform float scale;\nattribute float lineDistance;\n\nvarying float vLineDistance;\n\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <color_vertex>\n\n\tvLineDistance = scale * lineDistance;\n\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\n}\n",meshbasic_frag:"\nuniform vec3 diffuse;\nuniform float opacity;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\n\t// accumulation (baked indirect lighting only)\n\t#ifdef USE_LIGHTMAP\n\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\n\t#else\n\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\n\t#endif\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\n\t#include <envmap_fragment>\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n",meshbasic_vert:"\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\n\t#ifdef USE_ENVMAP\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n\n}\n",meshlambert_frag:"\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\n\t// accumulation\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\n\t#else\n\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\n\t#endif\n\n\t#include <lightmap_fragment>\n\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\n\t#else\n\n\t\treflectedLight.directDiffuse = vLightFront;\n\n\t#endif\n\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\n\t#include <envmap_fragment>\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"\n#define LAMBERT\n\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshmatcap_frag:"\n#define MATCAP\n\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5; // 0.495 to remove artifacts caused by undersized matcap disks\n\n\t#ifdef USE_MATCAP\n\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\n\t#else\n\n\t\tvec4 matcapColor = vec4( 1.0 );\n\n\t#endif\n\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n",meshmatcap_vert:"\n#define MATCAP\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\t\tvNormal = normalize( transformedNormal );\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n}\n",meshphong_frag:"\n#define PHONG\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\n\t// accumulation\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\n\t#include <envmap_fragment>\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n\n}\n",meshphong_vert:"\n#define PHONG\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n}\n",meshphysical_frag:"\n#define STANDARD\n\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\n\t// accumulation\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\n\t// this is a stub for the transparency model\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n\n}\n",meshphysical_vert:"\n#define STANDARD\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n\t#ifdef USE_TANGENT\n\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\n\t#endif\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n}\n",normal_frag:"\n#define NORMAL\n\nuniform float opacity;\n\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\n\tvarying vec3 vViewPosition;\n\n#endif\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\n}\n",normal_vert:"\n#define NORMAL\n\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\n\tvarying vec3 vViewPosition;\n\n#endif\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n\t#ifdef USE_TANGENT\n\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\n\t#endif\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\n\tvViewPosition = - mvPosition.xyz;\n\n#endif\n\n}\n",points_frag:"\nuniform vec3 diffuse;\nuniform float opacity;\n\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\n\toutgoingLight = diffuseColor.rgb;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n",points_vert:"\nuniform float size;\nuniform float scale;\n\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\n\tgl_PointSize = size;\n\n\t#ifdef USE_SIZEATTENUATION\n\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\n\t#endif\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n\n}\n",shadow_frag:"\nuniform vec3 color;\nuniform float opacity;\n\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n\nvoid main() {\n\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\n\t#include <fog_fragment>\n\n}\n",shadow_vert:"\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n\nvoid main() {\n\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n}\n",sprite_frag:"\nuniform vec3 diffuse;\nuniform float opacity;\n\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\n\toutgoingLight = diffuseColor.rgb;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n",sprite_vert:"\nuniform float rotation;\nuniform vec2 center;\n\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n\t#ifndef USE_SIZEATTENUATION\n\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\n\t#endif\n\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\n\tmvPosition.xy += rotatedPosition;\n\n\tgl_Position = projectionMatrix * mvPosition;\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\n}\n",amrtbasic_vert:"\n#define STANDARD\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <common>\n#include <amrt_uv_pars_vertex>\n\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <amrt_skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <amrt_uv_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <amrt_skinbase_vertex>\n\t#include <amrt_skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n\t#ifdef USE_TANGENT\n\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\n\t#endif\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <amrt_skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n\t#include <amrt_worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n}\n",amrtbasic_frag:"\n\nprecision mediump sampler2D;\n#define STANDARD\n\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\n#define REFLECTIVITY\n//#define TRANSPARENCY\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float smoothness;\nuniform float metalness;\nuniform float opacity;\nuniform mat3 envYMatrix;\nuniform mat3 reflecYMatrix;\n\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\nvec3 BlendNormals(vec3 n1, vec3 n2)\n{\n    return normalize(vec3(n1.xy + n2.xy, n1.z*n2.z));\n}\n\nvec3 UnpackScaleNormal(vec4 packednormal, float bumpScale)\n{\n    vec3 normal = packednormal.xyz * 2.0 - 1.0;\n    normal.xy *= bumpScale;\n    return normal;\n}\nfloat Pow5( const in float x ) { float x2 = x*x; return x2*x2*x; }\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <amrt_uv_pars_fragment>\n\n\nvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\n    vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n    vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n    \n    vec2 vUvs;\n    #if defined( USE_NORMALMAP2 )\n        vUvs = vUvNormal2;\n    #elif defined( USE_NORMALMAP )\n        vUvs = vUvNormal;\n    #endif\n    \n    vec2 st0 = dFdx( vUvs.st );\n    vec2 st1 = dFdy( vUvs.st );\n\n    float scale = sign( st1.t * st0.s - st0.t * st1.s ); // we do not care about the magnitude\n\n    vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n    vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n    vec3 N = normalize( surf_norm );\n\n    mat3 tsn = mat3( S, T, N );\n\n    mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n    return normalize( tsn * mapN );\n\n}\n\n#include <amrt_map_pars_fragment>\n\n#include <amrt_bsdfs>\n#include <amrt_cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <amrt_envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n    float roughnessFactor = 1.0 - smoothness;\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <amrt_map_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <amrt_roughnessmap_fragment>\n\t#include <amrt_metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <amrt_normal_fragment_maps>\n\t\n\t#include <amrt_emissivemap_fragment>\n\n\t// accumulation\n\t#include <amrt_lights_physical_fragment>\n\t// #include <lights_fragment_begin>\n\t// #include <amrt_lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <amrt_aomap_fragment>\n\t\n    vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\n    \n\t// this is a stub for the transparency model\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1.0 - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular));\n\t#endif\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}\n",acf_vert:"\n#ifdef USE_UV\n    varying vec2 vUv;\n#endif\n\nvoid main() {\n\n\t#ifdef USE_UV\n\n        vUv = uv;\n    \n    #endif\n\n\tvec4 mvPosition = vec4( position, 1.0 );\n    \n    mvPosition = modelViewMatrix * mvPosition;\n    \n    gl_Position = projectionMatrix * mvPosition;\n}\n",acf_frag:"\nuniform vec3 diffuse;\n\n#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n\nvoid main() {\n\n\tvec4 diffuseColor = vec4( diffuse, 1.0 );\n\n\t#ifdef USE_MAP\n        vec4 texelColor = texture2D( map, vUv );\n        diffuseColor *= texelColor;\n    #endif\n    \n\tgl_FragColor = diffuseColor;\n}\n",amrt_skinbase_vertex:"\n#ifdef USE_SKINNING\n\n        mat4 boneMatX = getBoneMatrix( skinIndex_4.x );\n        mat4 boneMatY = getBoneMatrix( skinIndex_4.y );\n        mat4 boneMatZ = getBoneMatrix( skinIndex_4.z );\n        mat4 boneMatW = getBoneMatrix( skinIndex_4.w );\n        \n        \n        #ifdef BONE_8\n            mat4 boneMatX_8 = getBoneMatrix( skinIndex_8.x );\n            mat4 boneMatY_8 = getBoneMatrix( skinIndex_8.y );\n            mat4 boneMatZ_8 = getBoneMatrix( skinIndex_8.z );\n            mat4 boneMatW_8 = getBoneMatrix( skinIndex_8.w );\n        #endif\n        \n        #ifdef BONE_12\n            mat4 boneMatX_12 = getBoneMatrix( skinIndex_12.x );\n            mat4 boneMatY_12 = getBoneMatrix( skinIndex_12.y );\n            mat4 boneMatZ_12 = getBoneMatrix( skinIndex_12.z );\n            mat4 boneMatW_12 = getBoneMatrix( skinIndex_12.w );\n        #endif\n        \n         #ifdef BONE_16\n            mat4 boneMatX_16 = getBoneMatrix( skinIndex_16.x );\n            mat4 boneMatY_16 = getBoneMatrix( skinIndex_16.y );\n            mat4 boneMatZ_16 = getBoneMatrix( skinIndex_16.z );\n            mat4 boneMatW_16 = getBoneMatrix( skinIndex_16.w );\n        #endif\n\n#endif\n",amrt_skinning_pars_vertex:"\n#ifdef USE_SKINNING\n\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t\n    attribute vec4 skinIndex_4;\n\tattribute vec4 skinWeight_4;\n\t\n\t#ifdef BONE_8\n        attribute vec4 skinIndex_8;\n        attribute vec4 skinWeight_8;\n        \n\t#endif\n\t\n\t#ifdef BONE_12\n        attribute vec4 skinIndex_12;\n        attribute vec4 skinWeight_12;\n\t#endif\n\t\n\t#ifdef BONE_16\n        attribute vec4 skinIndex_16;\n        attribute vec4 skinWeight_16;\n\t#endif\n\n\n\t#ifdef BONE_TEXTURE\n\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\n\t\t\ty = dy * ( y + 0.5 );\n\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\n\t\t\treturn bone;\n\n\t\t}\n\t\t\n\t\tvec4 getSkinVertex(vec4 skinVertex, vec4 skinIndexTmp,vec4 skinWeightTmp){\n\t\t\n\t\t    mat4 boneMatX = getBoneMatrix( skinIndexTmp.x );\n            mat4 boneMatY = getBoneMatrix( skinIndexTmp.y );\n            mat4 boneMatZ = getBoneMatrix( skinIndexTmp.z );\n            mat4 boneMatW = getBoneMatrix( skinIndexTmp.w );\n            \n            vec4 skinned = vec4( 0.0 );\n\n            skinned += boneMatX * skinVertex * skinWeightTmp.x;\n            skinned += boneMatY * skinVertex * skinWeightTmp.y;\n            skinned += boneMatZ * skinVertex * skinWeightTmp.z;\n            skinned += boneMatW * skinVertex * skinWeightTmp.w;\n            return skinned;\n\t\t}\n\n\t#else\n\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\n\t\t}\n\n\t#endif\n\n#endif\n",amrt_skinning_vertex:"\n\n#ifdef USE_SKINNING\n\n        vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n        \n         vec4 skinned = vec4( 0.0 );\n        \n         skinned += boneMatX * skinVertex * skinWeight_4.x;\n         skinned += boneMatY * skinVertex * skinWeight_4.y;\n         skinned += boneMatZ * skinVertex * skinWeight_4.z;\n         skinned += boneMatW * skinVertex * skinWeight_4.w;\n         \n         #ifdef BONE_8\n            skinned += boneMatX_8 * skinVertex * skinWeight_8.x;\n            skinned += boneMatY_8 * skinVertex * skinWeight_8.y;\n            skinned += boneMatZ_8 * skinVertex * skinWeight_8.z;\n            skinned += boneMatW_8 * skinVertex * skinWeight_8.w;\n\n         #endif\n         \n         #ifdef BONE_12\n            skinned += boneMatX_12 * skinVertex * skinWeight_12.x;\n            skinned += boneMatY_12 * skinVertex * skinWeight_12.y;\n            skinned += boneMatZ_12 * skinVertex * skinWeight_12.z;\n            skinned += boneMatW_12 * skinVertex * skinWeight_12.w;\n         #endif\n         \n         #ifdef BONE_16\n            skinned += boneMatX_16 * skinVertex * skinWeight_16.x;\n            skinned += boneMatY_16 * skinVertex * skinWeight_16.y;\n            skinned += boneMatZ_16 * skinVertex * skinWeight_16.z;\n            skinned += boneMatW_16 * skinVertex * skinWeight_16.w;\n         #endif\n        \n         transformed = ( bindMatrixInverse * skinned ).xyz;\n\n#endif\n",amrt_skinnormal_vertex:"\n#ifdef USE_SKINNING\n\n\t mat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight_4.x * boneMatX;\n\tskinMatrix += skinWeight_4.y * boneMatY;\n\tskinMatrix += skinWeight_4.z * boneMatZ;\n\tskinMatrix += skinWeight_4.w * boneMatW;\n\t\n\t#ifdef BONE_8\n        skinMatrix += skinWeight_8.x * boneMatX_8;\n        skinMatrix += skinWeight_8.y * boneMatY_8;\n        skinMatrix += skinWeight_8.z * boneMatZ_8;\n        skinMatrix += skinWeight_8.w * boneMatW_8;\n\t#endif\n\t\n\t#ifdef BONE_12\n        skinMatrix += skinWeight_12.x * boneMatX_12;\n        skinMatrix += skinWeight_12.y * boneMatY_12;\n        skinMatrix += skinWeight_12.z * boneMatZ_12;\n        skinMatrix += skinWeight_12.w * boneMatW_12;\n\t#endif\n\t\n\t#ifdef BONE_16\n        skinMatrix += skinWeight_16.x * boneMatX_16;\n        skinMatrix += skinWeight_16.y * boneMatY_16;\n        skinMatrix += skinWeight_16.z * boneMatZ_16;\n        skinMatrix += skinWeight_16.w * boneMatW_16;\n\t#endif\n\t\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\t\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\n\t#ifdef USE_TANGENT\n\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\n\t#endif\n\n#endif\n"},eA={common:{diffuse:{value:new Qi(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new on},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new $t(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Qi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Qi(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new on}},sprite:{diffuse:{value:new Qi(15658734)},opacity:{value:1},center:{value:new $t(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new on}},amrtbasic:{diffuse:{value:new Qi(.5,.5,.5)},opacity:{value:1},emissive:{value:new Qi(0)},smoothness:{value:.5},metalness:{value:.5},transparency:{value:0},cutout:{value:1},albedo:{value:null},normalMap:{value:null},normalScale:{value:1},normalMap2:{value:null},normalScale2:{value:1},metallicMap:{value:null},roughnessMap:{value:null},aoMap:{value:null},aoScale:{value:1},emissiveMap:{value:null},reflectMap:{value:null},reflectIntensity:{value:0},envMapIntensity:{value:1},albedoUVTransform:{value:new on},normalUVTransform:{value:new on},normal2UVTransform:{value:new on},metalUVTransform:{value:new on},roughUVTransform:{value:new on},aoUVTransform:{value:new on},emissiveUVTransform:{value:new on}}},tA={basic:{uniforms:Or([eA.common,eA.specularmap,eA.envmap,eA.aomap,eA.lightmap,eA.fog]),vertexShader:$r.meshbasic_vert,fragmentShader:$r.meshbasic_frag},lambert:{uniforms:Or([eA.common,eA.specularmap,eA.envmap,eA.aomap,eA.lightmap,eA.emissivemap,eA.fog,eA.lights,{emissive:{value:new Qi(0)}}]),vertexShader:$r.meshlambert_vert,fragmentShader:$r.meshlambert_frag},phong:{uniforms:Or([eA.common,eA.specularmap,eA.envmap,eA.aomap,eA.lightmap,eA.emissivemap,eA.bumpmap,eA.normalmap,eA.displacementmap,eA.gradientmap,eA.fog,eA.lights,{emissive:{value:new Qi(0)},specular:{value:new Qi(1118481)},shininess:{value:30}}]),vertexShader:$r.meshphong_vert,fragmentShader:$r.meshphong_frag},standard:{uniforms:Or([eA.common,eA.envmap,eA.aomap,eA.lightmap,eA.emissivemap,eA.bumpmap,eA.normalmap,eA.displacementmap,eA.roughnessmap,eA.metalnessmap,eA.fog,eA.lights,{emissive:{value:new Qi(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:$r.meshphysical_vert,fragmentShader:$r.meshphysical_frag},matcap:{uniforms:Or([eA.common,eA.bumpmap,eA.normalmap,eA.displacementmap,eA.fog,{matcap:{value:null}}]),vertexShader:$r.meshmatcap_vert,fragmentShader:$r.meshmatcap_frag},points:{uniforms:Or([eA.points,eA.fog]),vertexShader:$r.points_vert,fragmentShader:$r.points_frag},dashed:{uniforms:Or([eA.common,eA.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:$r.linedashed_vert,fragmentShader:$r.linedashed_frag},depth:{uniforms:Or([eA.common,eA.displacementmap]),vertexShader:$r.depth_vert,fragmentShader:$r.depth_frag},normal:{uniforms:Or([eA.common,eA.bumpmap,eA.normalmap,eA.displacementmap,{opacity:{value:1}}]),vertexShader:$r.normal_vert,fragmentShader:$r.normal_frag},sprite:{uniforms:Or([eA.sprite,eA.fog]),vertexShader:$r.sprite_vert,fragmentShader:$r.sprite_frag},background:{uniforms:{uvTransform:{value:new on},t2D:{value:null}},vertexShader:$r.background_vert,fragmentShader:$r.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:$r.cube_vert,fragmentShader:$r.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:$r.equirect_vert,fragmentShader:$r.equirect_frag},distanceRGBA:{uniforms:Or([eA.common,eA.displacementmap,{referencePosition:{value:new rn},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:$r.distanceRGBA_vert,fragmentShader:$r.distanceRGBA_frag},shadow:{uniforms:Or([eA.lights,eA.fog,{color:{value:new Qi(0)},opacity:{value:1}}]),vertexShader:$r.shadow_vert,fragmentShader:$r.shadow_frag},acf:{uniforms:{diffuse:{value:new Qi(0)},map:{value:null}},vertexShader:$r.acf_vert,fragmentShader:$r.acf_frag}};function nA(){var e=null,t=!1,n=null;function i(r,A){!1!==t&&(n(r,A),e.requestAnimationFrame(i))}return{start:function(){!0!==t&&null!==n&&(e.requestAnimationFrame(i),t=!0)},stop:function(){t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function iA(e){var t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var i=t.get(n);i&&(e.deleteBuffer(i.buffer),t.delete(n))},update:function(n,i){n.isInterleavedBufferAttribute&&(n=n.data);var r=t.get(n);void 0===r?t.set(n,function(t,n){var i=t.array,r=t.usage,A=e.createBuffer();e.bindBuffer(n,A),e.bufferData(n,i,r),t.onUploadCallback();var a=e.FLOAT;return i instanceof Float32Array?a=e.FLOAT:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?a=e.UNSIGNED_SHORT:i instanceof Int16Array?a=e.SHORT:i instanceof Uint32Array?a=e.UNSIGNED_INT:i instanceof Int32Array?a=e.INT:i instanceof Int8Array?a=e.BYTE:i instanceof Uint8Array&&(a=e.UNSIGNED_BYTE),{buffer:A,type:a,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(n,i)):r.version<n.version&&(!function(t,n,i){var r=n.array,A=n.updateRange;e.bindBuffer(i,t),-1===A.count?e.bufferSubData(i,0,r):(e.bufferSubData(i,A.offset*r.BYTES_PER_ELEMENT,r.subarray(A.offset,A.offset+A.count)),A.count=-1)}(r.buffer,n,i),r.version=n.version)}}}function rA(e,t,n,i){Qr.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new AA(e,t,n,i)),this.mergeVertices()}function AA(e,t,n,i){ur.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};var r,A,a=(e=e||1)/2,o=(t=t||1)/2,s=Math.floor(n)||1,l=Math.floor(i)||1,c=s+1,u=l+1,h=e/s,d=t/l,g=[],p=[],f=[],m=[];for(A=0;A<u;A++){var v=A*d-o;for(r=0;r<c;r++){var C=r*h-a;p.push(C,-v,0),f.push(0,0,1),m.push(r/s),m.push(1-A/l)}}for(A=0;A<l;A++)for(r=0;r<s;r++){var y=r+c*A,I=r+c*(A+1),w=r+1+c*(A+1),b=r+1+c*A;g.push(y,I,b),g.push(I,w,b)}this.setIndex(g),this.setAttribute("position",new $i(p,3)),this.setAttribute("normal",new $i(f,3)),this.setAttribute("uv",new $i(m,2))}function aA(e,t,n,i){var r,A,a=new Qi(0),o=0,s=null,l=0;function c(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,i)}return{getClearColor:function(){return a},setClearColor:function(e,t){a.set(e),c(a,o=void 0!==t?t:1)},getClearAlpha:function(){return o},setClearAlpha:function(e){c(a,o=e)},render:function(t,i,u,h){var d=i.background,g=e.vr,p=g.getSession&&g.getSession();if(p&&"additive"===p.environmentBlendMode&&(d=null),null===d?(c(a,o),s=null,l=0):d&&d.isColor&&(c(d,1),h=!0,s=null,l=0),(e.autoClear||h)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),d&&(d.isCubeTexture||d.isWebGLRenderTargetCube)){void 0===A&&((A=new Fr(new Nr(1,1,1),new Wr({type:"BackgroundCubeMaterial",uniforms:Vr(tA.cube.uniforms),vertexShader:tA.cube.vertexShader,fragmentShader:tA.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),A.geometry.deleteAttribute("uv"),A.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(A.material,"map",{get:function(){return this.uniforms.tCube.value}}),n.update(A));var f=d.isWebGLRenderTargetCube?d.texture:d;A.material.uniforms.tCube.value=f,A.material.uniforms.tFlip.value=d.isWebGLRenderTargetCube?1:-1,s===d&&l===f.version||(A.material.needsUpdate=!0,s=d,l=f.version),t.unshift(A,A.geometry,A.material,0,0,null)}else d&&d.isTexture&&(void 0===r&&((r=new Fr(new AA(2,2),new Wr({type:"BackgroundMaterial",uniforms:Vr(tA.background.uniforms),vertexShader:tA.background.vertexShader,fragmentShader:tA.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(r.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(r)),r.material.uniforms.t2D.value=d,!0===d.matrixAutoUpdate&&d.updateMatrix(),r.material.uniforms.uvTransform.value.copy(d.matrix),s===d&&l===d.version||(r.material.needsUpdate=!0,s=d,l=d.version),t.unshift(r,r.geometry,r.material,0,0,null))}}}function oA(e,t,n,i){var r,A=i.isWebGL2;this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r)},this.renderInstances=function(i,a,o,s){if(0!==s){var l,c;if(A)l=e,c="drawArraysInstanced";else if(c="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](r,a,o,s),n.update(o,r,s)}}}function sA(e,t,n){var i;function r(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var A="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,a=void 0!==n.precision?n.precision:"highp",o=r(a);o!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",o,"instead."),a=o);var s=!0===n.logarithmicDepthBuffer,l=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),c=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),u=e.getParameter(e.MAX_TEXTURE_SIZE),h=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),d=e.getParameter(e.MAX_VERTEX_ATTRIBS),g=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),p=e.getParameter(e.MAX_VARYING_VECTORS),f=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),m=c>0,v=A||!!t.get("OES_texture_float");return{isWebGL2:A,getMaxAnisotropy:function(){if(void 0!==i)return i;var n=t.get("EXT_texture_filter_anisotropic");return i=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:r,precision:a,logarithmicDepthBuffer:s,maxTextures:l,maxVertexTextures:c,maxTextureSize:u,maxCubemapSize:h,maxAttributes:d,maxVertexUniforms:g,maxVaryings:p,maxFragmentUniforms:f,vertexTextures:m,floatFragmentTextures:v,floatVertexTextures:m&&v,maxSamples:A?e.getParameter(e.MAX_SAMPLES):0}}function lA(){var e=this,t=null,n=0,i=!1,r=!1,A=new wi,a=new on,o={value:null,needsUpdate:!1};function s(){o.value!==t&&(o.value=t,o.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function l(t,n,i,r){var s=null!==t?t.length:0,l=null;if(0!==s){if(l=o.value,!0!==r||null===l){var c=i+4*s,u=n.matrixWorldInverse;a.getNormalMatrix(u),(null===l||l.length<c)&&(l=new Float32Array(c));for(var h=0,d=i;h!==s;++h,d+=4)A.copy(t[h]).applyMatrix4(u,a),A.normal.toArray(l,d),l[d+3]=A.constant}o.value=l,o.needsUpdate=!0}return e.numPlanes=s,l}this.uniform=o,this.numPlanes=0,this.numIntersection=0,this.init=function(e,r,A){var a=0!==e.length||r||0!==n||i;return i=r,t=l(e,A,0),n=e.length,a},this.beginShadows=function(){r=!0,l(null)},this.endShadows=function(){r=!1,s()},this.setState=function(e,A,a,c,u,h){if(!i||null===e||0===e.length||r&&!a)r?l(null):s();else{var d=r?0:n,g=4*d,p=u.clippingState||null;o.value=p,p=l(e,c,g,h);for(var f=0;f!==g;++f)p[f]=t[f];u.clippingState=p,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=d}}}function cA(e){var t={};function n(n){if(void 0!==t[n])return t[n];var i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return t[n]=i,i}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function uA(e,t,n){var i=new WeakMap,r=new WeakMap;function A(e){var a=e.target,o=i.get(a);for(var s in null!==o.index&&t.remove(o.index),o.attributes)t.remove(o.attributes[s]);a.removeEventListener("dispose",A),i.delete(a);var l=r.get(o);l&&(t.remove(l),r.delete(o)),n.memory.geometries--}function a(n){var i=[],A=n.index,a=n.attributes.position,o=0;if(null!==A){var s=A.array;o=A.version;for(var l=0,c=s.length;l<c;l+=3){var u=s[l+0],h=s[l+1],d=s[l+2];i.push(u,h,h,d,d,u)}}else{s=a.array;o=a.version;for(l=0,c=s.length/3-1;l<c;l+=3){u=l+0,h=l+1,d=l+2;i.push(u,h,h,d,d,u)}}var g=new(ir(i)>65535?qi:ji)(i,1);g.version=o,t.update(g,e.ELEMENT_ARRAY_BUFFER);var p=r.get(n);p&&t.remove(p),r.set(n,g)}return{get:function(e,t){var r=i.get(t);return r||(t.addEventListener("dispose",A),t.isBufferGeometry?r=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new ur).setFromObject(e)),r=t._bufferGeometry),i.set(t,r),n.memory.geometries++,r)},update:function(n){var i=n.index,r=n.attributes;for(var A in null!==i&&t.update(i,e.ELEMENT_ARRAY_BUFFER),r)t.update(r[A],e.ARRAY_BUFFER);var a=n.morphAttributes;for(var A in a)for(var o=a[A],s=0,l=o.length;s<l;s++)t.update(o[s],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){var t=r.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&a(e)}else a(e);return r.get(e)}}}function hA(e,t,n,i){var r,A,a,o=i.isWebGL2;this.setMode=function(e){r=e},this.setIndex=function(e){A=e.type,a=e.bytesPerElement},this.render=function(t,i){e.drawElements(r,i,A,t*a),n.update(i,r)},this.renderInstances=function(i,s,l,c){if(0!==c){var u,h;if(o)u=e,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[h](r,l,A,s*a,c),n.update(l,r,c)}}}function dA(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,i,r){switch(r=r||1,t.calls++,i){case e.TRIANGLES:t.triangles+=r*(n/3);break;case e.TRIANGLE_STRIP:case e.TRIANGLE_FAN:t.triangles+=r*(n-2);break;case e.LINES:t.lines+=r*(n/2);break;case e.LINE_STRIP:t.lines+=r*(n-1);break;case e.LINE_LOOP:t.lines+=r*n;break;case e.POINTS:t.points+=r*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",i)}}}}function gA(e,t){return Math.abs(t[1])-Math.abs(e[1])}function pA(e){var t={},n=new Float32Array(8);return{update:function(i,r,A,a){var o=i.morphTargetInfluences,s=o.length,l=t[r.id];if(void 0===l){l=[];for(var c=0;c<s;c++)l[c]=[c,0];t[r.id]=l}var u=A.morphTargets&&r.morphAttributes.position,h=A.morphNormals&&r.morphAttributes.normal;for(c=0;c<s;c++){0!==(g=l[c])[1]&&(u&&r.deleteAttribute("morphTarget"+c),h&&r.deleteAttribute("morphNormal"+c))}for(c=0;c<s;c++){(g=l[c])[0]=c,g[1]=o[c]}l.sort(gA);var d=0;for(c=0;c<8;c++){var g;if(g=l[c]){var p=g[0],f=g[1];if(f){u&&r.setAttribute("morphTarget"+c,u[p]),h&&r.setAttribute("morphNormal"+c,h[p]),n[c]=f,d+=f;continue}}n[c]=0}var m=r.morphTargetsRelative?1:1-d;a.getUniforms().setValue(e,"morphTargetBaseInfluence",m),a.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function fA(e,t,n,i){var r={};return{update:function(A){var a=i.render.frame,o=A.geometry,s=t.get(A,o);return r[s.id]!==a&&(o.isGeometry&&s.updateFromObject(A),t.update(s),r[s.id]=a),A.isInstancedMesh&&n.update(A.instanceMatrix,e.ARRAY_BUFFER),s},dispose:function(){r={}}}}function mA(e,t,n,i,r,A,a,o,s,l){e=void 0!==e?e:[],t=void 0!==t?t:ze,a=void 0!==a?a:dt,mn.call(this,e,t,n,i,r,A,a,o,s,l),this.flipY=!1}function vA(e,t,n,i){mn.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:i||1},this.magFilter=tt,this.minFilter=tt,this.wrapR=$e,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function CA(e,t,n,i){mn.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:i||1},this.magFilter=tt,this.minFilter=tt,this.wrapR=$e,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}tA.physical={uniforms:Or([tA.standard.uniforms,{transparency:{value:0},clearcoat:{value:0},clearcoatRoughness:{value:0},sheen:{value:new Qi(0)},clearcoatNormalScale:{value:new $t(1,1)},clearcoatNormalMap:{value:null}}]),vertexShader:$r.meshphysical_vert,fragmentShader:$r.meshphysical_frag},tA.amrtbasic={uniforms:Or([eA.envmap,eA.amrtbasic,eA.fog,eA.lights,{envYMatrix:{value:new on},reflecYMatrix:{value:new on}}]),vertexShader:$r.amrtbasic_vert,fragmentShader:$r.amrtbasic_frag},rA.prototype=Object.create(Qr.prototype),rA.prototype.constructor=rA,AA.prototype=Object.create(ur.prototype),AA.prototype.constructor=AA,mA.prototype=Object.create(mn.prototype),mA.prototype.constructor=mA,mA.prototype.isCubeTexture=!0,Object.defineProperty(mA.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),vA.prototype=Object.create(mn.prototype),vA.prototype.constructor=vA,vA.prototype.isDataTexture2DArray=!0,CA.prototype=Object.create(mn.prototype),CA.prototype.constructor=CA,CA.prototype.isDataTexture3D=!0;var yA=new mn,IA=new vA,wA=new CA,bA=new mA,BA=[],xA=[],MA=new Float32Array(16),EA=new Float32Array(9),TA=new Float32Array(4);function SA(e,t,n){var i=e[0];if(i<=0||i>0)return e;var r=t*n,A=BA[r];if(void 0===A&&(A=new Float32Array(r),BA[r]=A),0!==t){i.toArray(A,0);for(var a=1,o=0;a!==t;++a)o+=n,e[a].toArray(A,o)}return A}function FA(e,t){if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function UA(e,t){for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}function RA(e,t){var n=xA[t];void 0===n&&(n=new Int32Array(t),xA[t]=n);for(var i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function LA(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function HA(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(FA(n,t))return;e.uniform2fv(this.addr,t),UA(n,t)}}function GA(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(FA(n,t))return;e.uniform3fv(this.addr,t),UA(n,t)}}function PA(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(FA(n,t))return;e.uniform4fv(this.addr,t),UA(n,t)}}function QA(e,t){var n=this.cache,i=t.elements;if(void 0===i){if(FA(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),UA(n,t)}else{if(FA(n,i))return;TA.set(i),e.uniformMatrix2fv(this.addr,!1,TA),UA(n,i)}}function DA(e,t){var n=this.cache,i=t.elements;if(void 0===i){if(FA(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),UA(n,t)}else{if(FA(n,i))return;EA.set(i),e.uniformMatrix3fv(this.addr,!1,EA),UA(n,i)}}function NA(e,t){var n=this.cache,i=t.elements;if(void 0===i){if(FA(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),UA(n,t)}else{if(FA(n,i))return;MA.set(i),e.uniformMatrix4fv(this.addr,!1,MA),UA(n,i)}}function VA(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(t||yA,r)}function OA(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||IA,r)}function kA(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||wA,r)}function WA(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(t||bA,r)}function ZA(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function XA(e,t){var n=this.cache;FA(n,t)||(e.uniform2iv(this.addr,t),UA(n,t))}function _A(e,t){var n=this.cache;FA(n,t)||(e.uniform3iv(this.addr,t),UA(n,t))}function zA(e,t){var n=this.cache;FA(n,t)||(e.uniform4iv(this.addr,t),UA(n,t))}function KA(e,t){e.uniform1fv(this.addr,t)}function YA(e,t){e.uniform1iv(this.addr,t)}function jA(e,t){e.uniform2iv(this.addr,t)}function JA(e,t){e.uniform3iv(this.addr,t)}function qA(e,t){e.uniform4iv(this.addr,t)}function $A(e,t){var n=SA(t,this.size,2);e.uniform2fv(this.addr,n)}function ea(e,t){var n=SA(t,this.size,3);e.uniform3fv(this.addr,n)}function ta(e,t){var n=SA(t,this.size,4);e.uniform4fv(this.addr,n)}function na(e,t){var n=SA(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function ia(e,t){var n=SA(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function ra(e,t){var n=SA(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Aa(e,t,n){var i=t.length,r=RA(n,i);e.uniform1iv(this.addr,r);for(var A=0;A!==i;++A)n.safeSetTexture2D(t[A]||yA,r[A])}function aa(e,t,n){var i=t.length,r=RA(n,i);e.uniform1iv(this.addr,r);for(var A=0;A!==i;++A)n.safeSetTextureCube(t[A]||bA,r[A])}function oa(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return LA;case 35664:return HA;case 35665:return GA;case 35666:return PA;case 35674:return QA;case 35675:return DA;case 35676:return NA;case 35678:case 36198:return VA;case 35679:return kA;case 35680:return WA;case 36289:return OA;case 5124:case 35670:return ZA;case 35667:case 35671:return XA;case 35668:case 35672:return _A;case 35669:case 35673:return zA}}(t.type)}function sa(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return KA;case 35664:return $A;case 35665:return ea;case 35666:return ta;case 35674:return na;case 35675:return ia;case 35676:return ra;case 35678:return Aa;case 35680:return aa;case 5124:case 35670:return YA;case 35667:case 35671:return jA;case 35668:case 35672:return JA;case 35669:case 35673:return qA}}(t.type)}function la(e){this.id=e,this.seq=[],this.map={}}sa.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),UA(t,e)},la.prototype.setValue=function(e,t,n){for(var i=this.seq,r=0,A=i.length;r!==A;++r){var a=i[r];a.setValue(e,t[a.id],n)}};var ca=/([\w\d_]+)(\])?(\[|\.)?/g;function ua(e,t){e.seq.push(t),e.map[t.id]=t}function ha(e,t,n){var i=e.name,r=i.length;for(ca.lastIndex=0;;){var A=ca.exec(i),a=ca.lastIndex,o=A[1],s="]"===A[2],l=A[3];if(s&&(o|=0),void 0===l||"["===l&&a+2===r){ua(n,void 0===l?new oa(o,e,t):new sa(o,e,t));break}var c=n.map[o];void 0===c&&ua(n,c=new la(o)),n=c}}function da(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<n;++i){var r=e.getActiveUniform(t,i);ha(r,e.getUniformLocation(t,r.name),this)}}function ga(e,t,n){var i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}da.prototype.setValue=function(e,t,n,i){var r=this.map[t];void 0!==r&&r.setValue(e,n,i)},da.prototype.setOptional=function(e,t,n){var i=t[n];void 0!==i&&this.setValue(e,n,i)},da.upload=function(e,t,n,i){for(var r=0,A=t.length;r!==A;++r){var a=t[r],o=n[a.id];!1!==o.needsUpdate&&a.setValue(e,o.value,i)}},da.seqWithValue=function(e,t){for(var n=[],i=0,r=e.length;i!==r;++i){var A=e[i];A.id in t&&n.push(A)}return n};var pa=0;function fa(e){switch(e){case Pt:return["Linear","( value )"];case Qt:return["sRGB","( value )"];case Nt:return["RGBE","( value )"];case Vt:return["RGBM","( value, 7.0 )"];case Ot:return["RGBM","( value, 16.0 )"];case kt:return["RGBD","( value, 256.0 )"];case Dt:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:throw new Error("unsupported encoding: "+e)}}function ma(e,t,n){var i=e.getShaderParameter(t,e.COMPILE_STATUS),r=e.getShaderInfoLog(t).trim();return i&&""===r?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+r+function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function va(e,t){var n=fa(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Ca(e,t){var n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="Uncharted2";break;case 4:n="OptimizedCineon";break;case 5:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function ya(e){return""!==e}function Ia(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function wa(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var ba=/^[ \t]*#include +<([\w\d./]+)>/gm;function Ba(e){return e.replace(ba,xa)}function xa(e,t){var n=$r[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Ba(n)}var Ma=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function Ea(e){return e.replace(Ma,Ta)}function Ta(e,t,n,i){for(var r="",A=parseInt(t);A<parseInt(n);A++)r+=i.replace(/\[ i \]/g,"[ "+A+" ]").replace(/UNROLLED_LOOP_INDEX/g,A);return r}function Sa(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Fa(e,t,n,i,r,A){var a,o,s,l,c,u=e.getContext(),h=i.defines,d=r.vertexShader,g=r.fragmentShader,p=function(e){var t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(A),f=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case ze:case Ke:t="ENVMAP_TYPE_CUBE";break;case je:case Je:t="ENVMAP_TYPE_CUBE_UV";break;case 303:case Ye:t="ENVMAP_TYPE_EQUIREC";break;case 305:t="ENVMAP_TYPE_SPHERE"}return t}(A),m=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case Ke:case Ye:t="ENVMAP_MODE_REFRACTION"}return t}(A),v=function(e){var t="ENVMAP_BLENDING_MULTIPLY";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(A),C=e.gammaFactor>0?e.gammaFactor:1,y=A.isWebGL2?"":function(e,t,n){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||!t.vertexTangents?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":"",n.get("OES_texture_half_float")?"#extension OES_texture_half_float : enable":""].filter(ya).join("\n")}(i.extensions,A,t),I=function(e){var t=[];for(var n in e){var i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}(h),w=u.createProgram(),b=A.numMultiviewViews;if(i.isRawShaderMaterial?((a=[I].filter(ya).join("\n")).length>0&&(a+="\n"),(o=[y,I].filter(ya).join("\n")).length>0&&(o+="\n")):(a=[Sa(A),"#define SHADER_NAME "+r.name,I,A.instancing?"#define USE_INSTANCING":"",A.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+C,"#define MAX_BONES "+A.maxBones,A.useFog&&A.fog?"#define USE_FOG":"",A.useFog&&A.fogExp2?"#define FOG_EXP2":"",A.map?"#define USE_MAP":"",A.envMap?"#define USE_ENVMAP":"",A.envMap?"#define "+m:"",A.lightMap?"#define USE_LIGHTMAP":"",A.aoMap?"#define USE_AOMAP":"",A.emissiveMap?"#define USE_EMISSIVEMAP":"",A.bumpMap?"#define USE_BUMPMAP":"",A.normalMap?"#define USE_NORMALMAP":"",A.normalMap&&A.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",A.normalMap&&A.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",A.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",A.displacementMap&&A.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",A.specularMap?"#define USE_SPECULARMAP":"",A.roughnessMap?"#define USE_ROUGHNESSMAP":"",A.metalnessMap?"#define USE_METALNESSMAP":"",A.alphaMap?"#define USE_ALPHAMAP":"",A.vertexTangents?"#define USE_TANGENT":"",A.vertexColors?"#define USE_COLOR":"",A.vertexUvs?"#define USE_UV":"",A.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",A.flatShading?"#define FLAT_SHADED":"",A.skinning?"#define USE_SKINNING":"",A.useVertexTexture?"#define BONE_TEXTURE":"",A.morphTargets?"#define USE_MORPHTARGETS":"",A.morphNormals&&!1===A.flatShading?"#define USE_MORPHNORMALS":"",A.doubleSided?"#define DOUBLE_SIDED":"",A.flipSided?"#define FLIP_SIDED":"",A.shadowMapEnabled?"#define USE_SHADOWMAP":"",A.shadowMapEnabled?"#define "+p:"",A.sizeAttenuation?"#define USE_SIZEATTENUATION":"",A.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",A.logarithmicDepthBuffer&&(A.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",A.albedo?"#define USE_ALBEDO":"",1===A.albedoUV?"#define ALBEDO_UV2":"#define ALBEDO_UV1",A.normalMap2?"#define USE_NORMALMAP2":"",A.metallicMap?"#define USE_METALLICMAP":"",1===A.aoUV?"#define AO_UV2":"#define AO_UV1",1===A.emissiveUV?"#define EMISSIVE_UV2":"#define EMISSIVE_UV1",A.reflectMap?"#define USE_REFLECTMAP":"",A.boneNum>4?"#define BONE_8":"",A.boneNum>8?"#define BONE_12":"",A.boneNum>12?"#define BONE_16":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","\n"].filter(ya).join("\n"),o=[y,Sa(A),"#define SHADER_NAME "+r.name,I,A.alphaTest?"#define ALPHATEST "+A.alphaTest+(A.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+C,A.useFog&&A.fog?"#define USE_FOG":"",A.useFog&&A.fogExp2?"#define FOG_EXP2":"",A.map?"#define USE_MAP":"",A.matcap?"#define USE_MATCAP":"",A.envMap?"#define USE_ENVMAP":"",A.envMap?"#define "+f:"",A.envMap?"#define "+m:"",A.envMap?"#define "+v:"",A.lightMap?"#define USE_LIGHTMAP":"",A.aoMap?"#define USE_AOMAP":"",A.emissiveMap?"#define USE_EMISSIVEMAP":"",A.bumpMap?"#define USE_BUMPMAP":"",A.normalMap?"#define USE_NORMALMAP":"",A.normalMap&&A.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",A.normalMap&&A.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",A.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",A.specularMap?"#define USE_SPECULARMAP":"",A.roughnessMap?"#define USE_ROUGHNESSMAP":"",A.metalnessMap?"#define USE_METALNESSMAP":"",A.alphaMap?"#define USE_ALPHAMAP":"",A.sheen?"#define USE_SHEEN":"",A.vertexTangents?"#define USE_TANGENT":"",A.vertexColors?"#define USE_COLOR":"",A.vertexUvs?"#define USE_UV":"",A.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",A.gradientMap?"#define USE_GRADIENTMAP":"",A.flatShading?"#define FLAT_SHADED":"",A.doubleSided?"#define DOUBLE_SIDED":"",A.flipSided?"#define FLIP_SIDED":"",A.shadowMapEnabled?"#define USE_SHADOWMAP":"",A.shadowMapEnabled?"#define "+p:"",A.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",A.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",A.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",A.logarithmicDepthBuffer&&(A.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",(i.extensions&&i.extensions.shaderTextureLOD||A.envMap||A.reflectMap)&&(A.isWebGL2||t.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform mat4 viewMatrixR;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==A.toneMapping?"#define TONE_MAPPING":"",0!==A.toneMapping?$r.tonemapping_pars_fragment:"",0!==A.toneMapping?Ca("toneMapping",A.toneMapping):"",A.dithering?"#define DITHERING":"",A.outputEncoding||A.mapEncoding||A.matcapEncoding||A.envMapEncoding||A.emissiveMapEncoding?$r.encodings_pars_fragment:"",A.mapEncoding?va("mapTexelToLinear",A.mapEncoding):"",A.matcapEncoding?va("matcapTexelToLinear",A.matcapEncoding):"",A.envMapEncoding?va("envMapTexelToLinear",A.envMapEncoding):"",A.emissiveMapEncoding?va("emissiveMapTexelToLinear",A.emissiveMapEncoding):"",A.outputEncoding?(s="linearToOutputTexel",l=A.outputEncoding,c=fa(l),"vec4 "+s+"( vec4 value ) { return LinearTo"+c[0]+c[1]+"; }"):"",A.albedoEncoding?va("albedoTexelToLinear",A.albedoEncoding):"",A.normalMapEncoding?va("normalMapTexelToLinear",A.normalMapEncoding):"",A.normalMap2Encoding?va("normalMap2TexelToLinear",A.normalMap2Encoding):"",A.metallicMapEncoding?va("metallicMapTexelToLinear",A.metallicMapEncoding):"",A.roughnessMapEncoding?va("roughnessMapTexelToLinear",A.roughnessMapEncoding):"",A.aoMapEncoding?va("aoMapTexelToLinear",A.aoMapEncoding):"",A.reflectMapEncoding?va("reflectMapTexelToLinear",A.reflectMapEncoding):"",A.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"",A.albedo?"#define USE_ALBEDO":"",1===A.albedoUV?"#define ALBEDO_UV2":"#define ALBEDO_UV1",A.normalMap2?"#define USE_NORMALMAP2":"",A.metallicMap?"#define USE_METALLICMAP":"",1===A.aoUV?"#define AO_UV2":"#define AO_UV1",1===A.emissiveUV?"#define EMISSIVE_UV2":"#define EMISSIVE_UV1",A.reflectMap?"#define USE_REFLECTMAP":"",A.reflectMapUV?"#define USE_REFLECTMAP_UV":"",A.transparency?"#define TRANSPARENCY":"","\n"].filter(ya).join("\n")),d=wa(d=Ia(d=Ba(d),A),A),g=wa(g=Ia(g=Ba(g),A),A),d=Ea(d),g=Ea(g),A.isWebGL2&&!i.isRawShaderMaterial){var B=!1,x=/^\s*#version\s+300\s+es\s*\n/;i.isShaderMaterial&&null!==d.match(x)&&null!==g.match(x)&&(B=!0,d=d.replace(x,""),g=g.replace(x,"")),a=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+a,o=["#version 300 es\n","#define varying in",B?"":"out highp vec4 pc_fragColor;",B?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+o,b>0&&(a=(a=a.replace("#version 300 es\n",["#version 300 es\n","#extension GL_OVR_multiview2 : require","layout(num_views = "+b+") in;","#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace(["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;"].join("\n"),["uniform mat4 modelViewMatrices["+b+"];","uniform mat4 projectionMatrices["+b+"];","uniform mat4 viewMatrices["+b+"];","uniform mat3 normalMatrices["+b+"];","#define modelViewMatrix modelViewMatrices[VIEW_ID]","#define projectionMatrix projectionMatrices[VIEW_ID]","#define viewMatrix viewMatrices[VIEW_ID]","#define normalMatrix normalMatrices[VIEW_ID]"].join("\n")),o=(o=o.replace("#version 300 es\n",["#version 300 es\n","#extension GL_OVR_multiview2 : require","#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace("uniform mat4 viewMatrix;",["uniform mat4 viewMatrices["+b+"];","#define viewMatrix viewMatrices[VIEW_ID]"].join("\n")))}var M,E,T=a+d,S=o+g,F=ga(u,u.VERTEX_SHADER,T),U=ga(u,u.FRAGMENT_SHADER,S);if(u.attachShader(w,F),u.attachShader(w,U),void 0!==i.index0AttributeName?u.bindAttribLocation(w,0,i.index0AttributeName):!0===A.morphTargets&&u.bindAttribLocation(w,0,"position"),u.linkProgram(w),e.debug.checkShaderErrors){var R=u.getProgramInfoLog(w).trim(),L=u.getShaderInfoLog(F).trim(),H=u.getShaderInfoLog(U).trim(),G=!0,P=!0;if(!1===u.getProgramParameter(w,u.LINK_STATUS)){G=!1;var Q=ma(u,F,"vertex"),D=ma(u,U,"fragment");console.error("THREE.WebGLProgram: shader error: ",u.getError(),"gl.VALIDATE_STATUS",u.getProgramParameter(w,u.VALIDATE_STATUS),"gl.getProgramInfoLog",R,Q,D)}else""!==R?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",R):""!==L&&""!==H||(P=!1);P&&(this.diagnostics={runnable:G,material:i,programLog:R,vertexShader:{log:L,prefix:a},fragmentShader:{log:H,prefix:o}})}return u.deleteShader(F),u.deleteShader(U),this.getUniforms=function(){return void 0===M&&(M=new da(u,w)),M},this.getAttributes=function(){return void 0===E&&(E=function(e,t){for(var n={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=0;r<i;r++){var A=e.getActiveAttrib(t,r).name;n[A]=e.getAttribLocation(t,A)}return n}(u,w)),E},this.destroy=function(){u.deleteProgram(w),this.program=void 0},this.name=r.name,this.id=pa++,this.cacheKey=n,this.usedTimes=1,this.program=w,this.vertexShader=F,this.fragmentShader=U,this.numMultiviewViews=b,this}function Ua(e,t,n){var i=[],r=n.isWebGL2,A=n.logarithmicDepthBuffer,a=n.floatVertexTextures,o=n.precision,s=n.maxVertexUniforms,l=n.vertexTextures,c={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite",AMRTBasicMaterial:"amrtbasic",ACFBasicMaterial:"acf"},u=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","numMultiviewViews","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","albedo","albedoEncoding","albedoUV","normalMap2","metallicMap","aoUV","emissiveUV","reflectMap","reflectMapUV","reflectMapEncoding","normalMapEncoding","normalMap2Encoding","metallicMapEncoding","roughnessMapEncoding","aoMapEncoding","transparency","boneNum"];function h(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=Pt,n===Pt&&t&&(n=Dt),n}this.getParameters=function(t,i,u,d,g,p,f){var m=c[t.type],v=f.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(a)return 1024;var n=s,i=Math.floor((n-20)/4),r=Math.min(i,t.length);return r<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+r+"."),0):r}(f):0,C=f.boneNum?f.boneNum:0;null!==t.precision&&(o=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",o,"instead.");var y=e.getRenderTarget(),I=y&&y.isWebGLMultiviewRenderTarget?y.numViews:0;return{isWebGL2:r,shaderID:m,precision:o,instancing:!0===f.isInstancedMesh,supportsVertexTextures:l,numMultiviewViews:I,outputEncoding:h(y?y.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:h(t.map,e.gammaInput),matcap:!!t.matcap,matcapEncoding:h(t.matcap,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:h(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===je||t.envMap.mapping===Je),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:h(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:1===t.normalMapType,tangentSpaceNormalMap:0===t.normalMapType,clearcoatNormalMap:!!t.clearcoatNormalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,sheen:!!t.sheen,combine:t.combine,vertexTangents:t.normalMap&&t.vertexTangents,vertexColors:t.vertexColors,vertexUvs:!!(t.map||t.bumpMap||t.normalMap||t.specularMap||t.alphaMap||t.emissiveMap||t.roughnessMap||t.metalnessMap||t.clearcoatNormalMap||t.displacementMap),uvsVertexOnly:!(t.map||t.bumpMap||t.normalMap||t.specularMap||t.alphaMap||t.emissiveMap||t.roughnessMap||t.metalnessMap||t.clearcoatNormalMap||!t.displacementMap),fog:!!d,useFog:t.fog,fogExp2:d&&d.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:A,skinning:t.skinning&&v>0,maxBones:v,useVertexTexture:a,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:i.directional.length,numPointLights:i.point.length,numSpotLights:i.spot.length,numRectAreaLights:i.rectArea.length,numHemiLights:i.hemi.length,numDirLightShadows:i.directionalShadowMap.length,numPointLightShadows:i.pointShadowMap.length,numSpotLightShadows:i.spotShadowMap.length,numClippingPlanes:g,numClipIntersection:p,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:t.toneMapped?e.toneMapping:0,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:2===t.side,flipSided:1===t.side,depthPacking:void 0!==t.depthPacking&&t.depthPacking,albedo:!!t.albedo,albedoUV:t.albedoUV,normalMap2:!!t.normalMap2,metallicMap:!!t.metallicMap,aoUV:t.aoUV,emissiveUV:t.emissiveUV,reflectMap:!!t.reflectMap,reflectMapUV:!!t.reflectMap&&!t.reflectMap.isCubeTexture,aoMapEncoding:h(t.aoMap,e.gammaInput),roughnessMapEncoding:h(t.roughnessMap,e.gammaInput),metallicMapEncoding:h(t.metallicMap,e.gammaInput),normalMapEncoding:h(t.normalMap,e.gammaInput),normalMap2Encoding:h(t.normalMap2,e.gammaInput),albedoEncoding:h(t.albedo,e.gammaInput),reflectMapEncoding:h(t.reflectMap,e.gammaInput),transparency:void 0!==t.transparency&&t.transparency>0,boneNum:C}},this.getProgramCacheKey=function(t,n){var i=[];if(n.shaderID?i.push(n.shaderID):(i.push(t.fragmentShader),i.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)i.push(r),i.push(t.defines[r]);for(var A=0;A<u.length;A++)i.push(n[u[A]]);return i.push(t.onBeforeCompile.toString()),i.push(e.gammaOutput),i.push(e.gammaFactor),i.join()},this.acquireProgram=function(n,r,A,a){for(var o,s=0,l=i.length;s<l;s++){var c=i[s];if(c.cacheKey===a){++(o=c).usedTimes;break}}return void 0===o&&(o=new Fa(e,t,a,n,r,A),i.push(o)),o},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=i.indexOf(e);i[t]=i[i.length-1],i.pop(),e.destroy()}},this.programs=i}function Ra(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,i){e.get(t)[n]=i},dispose:function(){e=new WeakMap}}}function La(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Ha(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Ga(){var e=[],t=0,n=[],i=[],r={id:-1};function A(n,i,A,a,o,s){var l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:i,material:A,program:A.program||r,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=i,l.material=A,l.program=A.program||r,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transparent:i,init:function(){t=0,n.length=0,i.length=0},push:function(e,t,r,a,o,s){var l=A(e,t,r,a,o,s);(!0===r.transparent?i:n).push(l)},unshift:function(e,t,r,a,o,s){var l=A(e,t,r,a,o,s);(!0===r.transparent?i:n).unshift(l)},sort:function(){n.length>1&&n.sort(La),i.length>1&&i.sort(Ha)}}}function Pa(){var e=new WeakMap;function t(n){var i=n.target;i.removeEventListener("dispose",t),e.delete(i)}return{get:function(n,i){var r,A=e.get(n);return void 0===A?(r=new Ga,e.set(n,new WeakMap),e.get(n).set(i,r),n.addEventListener("dispose",t)):void 0===(r=A.get(i))&&(r=new Ga,A.set(i,r)),r},dispose:function(){e=new WeakMap}}}function Qa(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new rn,color:new Qi,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new $t};break;case"SpotLight":n={position:new rn,direction:new rn,color:new Qi,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new $t};break;case"PointLight":n={position:new rn,color:new Qi,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new $t,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new rn,skyColor:new Qi,groundColor:new Qi};break;case"RectAreaLight":n={color:new Qi,position:new rn,halfWidth:new rn,halfHeight:new rn}}return e[t.id]=n,n}}}var Da=0;function Na(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Va(){for(var e=new Qa,t={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},n=0;n<9;n++)t.probe.push(new rn);var i=new rn,r=new Tn,A=new Tn;return{setup:function(n,a,o){for(var s=0,l=0,c=0,u=0;u<9;u++)t.probe[u].set(0,0,0);var h=0,d=0,g=0,p=0,f=0,m=0,v=0,C=0,y=o.matrixWorldInverse;n.sort(Na),u=0;for(var I=n.length;u<I;u++){var w=n[u],b=w.color,B=w.intensity,x=w.distance,M=w.shadow&&w.shadow.map?w.shadow.map.texture:null;if(w.isAmbientLight)s+=b.r*B,l+=b.g*B,c+=b.b*B;else if(w.isLightProbe)for(var E=0;E<9;E++)t.probe[E].addScaledVector(w.sh.coefficients[E],B);else if(w.isDirectionalLight){if((S=e.get(w)).color.copy(w.color).multiplyScalar(w.intensity),S.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(y),S.shadow=w.castShadow,w.castShadow){var T=w.shadow;S.shadowBias=T.bias,S.shadowRadius=T.radius,S.shadowMapSize=T.mapSize,t.directionalShadowMap[h]=M,t.directionalShadowMatrix[h]=w.shadow.matrix,m++}t.directional[h]=S,h++}else if(w.isSpotLight){if((S=e.get(w)).position.setFromMatrixPosition(w.matrixWorld),S.position.applyMatrix4(y),S.color.copy(b).multiplyScalar(B),S.distance=x,S.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(y),S.coneCos=Math.cos(w.angle),S.penumbraCos=Math.cos(w.angle*(1-w.penumbra)),S.decay=w.decay,S.shadow=w.castShadow,w.castShadow){T=w.shadow;S.shadowBias=T.bias,S.shadowRadius=T.radius,S.shadowMapSize=T.mapSize,t.spotShadowMap[g]=M,t.spotShadowMatrix[g]=w.shadow.matrix,C++}t.spot[g]=S,g++}else if(w.isRectAreaLight){(S=e.get(w)).color.copy(b).multiplyScalar(B),S.position.setFromMatrixPosition(w.matrixWorld),S.position.applyMatrix4(y),A.identity(),r.copy(w.matrixWorld),r.premultiply(y),A.extractRotation(r),S.halfWidth.set(.5*w.width,0,0),S.halfHeight.set(0,.5*w.height,0),S.halfWidth.applyMatrix4(A),S.halfHeight.applyMatrix4(A),t.rectArea[p]=S,p++}else if(w.isPointLight){if((S=e.get(w)).position.setFromMatrixPosition(w.matrixWorld),S.position.applyMatrix4(y),S.color.copy(w.color).multiplyScalar(w.intensity),S.distance=w.distance,S.decay=w.decay,S.shadow=w.castShadow,w.castShadow){T=w.shadow;S.shadowBias=T.bias,S.shadowRadius=T.radius,S.shadowMapSize=T.mapSize,S.shadowCameraNear=T.camera.near,S.shadowCameraFar=T.camera.far,t.pointShadowMap[d]=M,t.pointShadowMatrix[d]=w.shadow.matrix,v++}t.point[d]=S,d++}else if(w.isHemisphereLight){var S;(S=e.get(w)).direction.setFromMatrixPosition(w.matrixWorld),S.direction.transformDirection(y),S.direction.normalize(),S.skyColor.copy(w.color).multiplyScalar(B),S.groundColor.copy(w.groundColor).multiplyScalar(B),t.hemi[f]=S,f++}}t.ambient[0]=s,t.ambient[1]=l,t.ambient[2]=c;var F=t.hash;F.directionalLength===h&&F.pointLength===d&&F.spotLength===g&&F.rectAreaLength===p&&F.hemiLength===f&&F.numDirectionalShadows===m&&F.numPointShadows===v&&F.numSpotShadows===C||(t.directional.length=h,t.spot.length=g,t.rectArea.length=p,t.point.length=d,t.hemi.length=f,t.directionalShadowMap.length=m,t.pointShadowMap.length=v,t.spotShadowMap.length=C,t.directionalShadowMatrix.length=m,t.pointShadowMatrix.length=v,t.spotShadowMatrix.length=C,F.directionalLength=h,F.pointLength=d,F.spotLength=g,F.rectAreaLength=p,F.hemiLength=f,F.numDirectionalShadows=m,F.numPointShadows=v,F.numSpotShadows=C,t.version=Da++)},state:t}}function Oa(){var e=new Va,t=[],n=[];return{init:function(){t.length=0,n.length=0},state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:function(i){e.setup(t,n,i)},pushLight:function(e){t.push(e)},pushShadow:function(e){n.push(e)}}}function ka(){var e=new WeakMap;function t(n){var i=n.target;i.removeEventListener("dispose",t),e.delete(i)}return{get:function(n,i){var r;return!1===e.has(n)?(r=new Oa,e.set(n,new WeakMap),e.get(n).set(i,r),n.addEventListener("dispose",t)):!1===e.get(n).has(i)?(r=new Oa,e.get(n).set(i,r)):r=e.get(n).get(i),r},dispose:function(){e=new WeakMap}}}function Wa(e){Wi.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function Za(e){Wi.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new rn,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}Wa.prototype=Object.create(Wi.prototype),Wa.prototype.constructor=Wa,Wa.prototype.isMeshDepthMaterial=!0,Wa.prototype.copy=function(e){return Wi.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Za.prototype=Object.create(Wi.prototype),Za.prototype.constructor=Za,Za.prototype.isMeshDistanceMaterial=!0,Za.prototype.copy=function(e){return Wi.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};function Xa(e,t,n){var i=new qr,r=new $t,A=new $t,a=new vn,o=[],s=[],l={},c={0:1,1:0,2:2},u=new Wr({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new $t},radius:{value:4}},vertexShader:"\n\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}\n\n",fragmentShader:"\nuniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n\n#include <packing>\n\nvoid main() {\n\n  float mean = 0.0;\n  float squared_mean = 0.0;\n\n\t// This seems totally useless but it's a crazy work around for a Adreno compiler bug\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\n    #ifdef HORIZONAL_PASS\n\n      vec2 distribution = unpack2HalfToRGBA ( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\n    #else\n\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n\n    #endif\n\n  }\n\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n\n  float std_dev = sqrt( squared_mean - mean * mean );\n\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n\n}\n"}),h=u.clone();h.defines.HORIZONAL_PASS=1;var d=new ur;d.setAttribute("position",new Xi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var g=new Fr(d,u),p=this;function f(n,i){var r=t.update(g);u.uniforms.shadow_pass.value=n.map.texture,u.uniforms.resolution.value=n.mapSize,u.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(i,null,r,u,g,null),h.uniforms.shadow_pass.value=n.mapPass.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(i,null,r,h,g,null)}function m(e,t,n){var i=e<<0|t<<1|n<<2,r=o[i];return void 0===r&&(r=new Wa({depthPacking:Wt,morphTargets:e,skinning:t}),o[i]=r),r}function v(e,t,n){var i=e<<0|t<<1|n<<2,r=s[i];return void 0===r&&(r=new Za({morphTargets:e,skinning:t}),s[i]=r),r}function C(t,n,i,r,A,a){var o=t.geometry,s=null,u=m,h=t.customDepthMaterial;if(!0===i.isPointLight&&(u=v,h=t.customDistanceMaterial),void 0===h){var d=!1;!0===n.morphTargets&&(!0===o.isBufferGeometry?d=o.morphAttributes&&o.morphAttributes.position&&o.morphAttributes.position.length>0:!0===o.isGeometry&&(d=o.morphTargets&&o.morphTargets.length>0));var g=!1;!0===t.isSkinnedMesh&&(!0===n.skinning?g=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t)),s=u(d,g,!0===t.isInstancedMesh)}else s=h;if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var p=s.uuid,f=n.uuid,C=l[p];void 0===C&&(C={},l[p]=C);var y=C[f];void 0===y&&(y=s.clone(),C[f]=y),s=y}return s.visible=n.visible,s.wireframe=n.wireframe,s.side=3===a?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:c[n.side],s.clipShadows=n.clipShadows,s.clippingPlanes=n.clippingPlanes,s.clipIntersection=n.clipIntersection,s.wireframeLinewidth=n.wireframeLinewidth,s.linewidth=n.linewidth,!0===i.isPointLight&&!0===s.isMeshDistanceMaterial&&(s.referencePosition.setFromMatrixPosition(i.matrixWorld),s.nearDistance=r,s.farDistance=A),s}function y(n,r,A,a,o){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===o)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(A.matrixWorldInverse,n.matrixWorld);var s=t.update(n),l=n.material;if(Array.isArray(l))for(var c=s.groups,u=0,h=c.length;u<h;u++){var d=c[u],g=l[d.materialIndex];if(g&&g.visible){var p=C(n,g,a,A.near,A.far,o);e.renderBufferDirect(A,null,s,p,n,d)}}else if(l.visible){p=C(n,l,a,A.near,A.far,o);e.renderBufferDirect(A,null,s,p,n,null)}}for(var f=n.children,m=0,v=f.length;m<v;m++)y(f[m],r,A,a,o)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(t,o,s){if(!1!==p.enabled&&(!1!==p.autoUpdate||!1!==p.needsUpdate)&&0!==t.length){var l=e.getRenderTarget(),c=e.getActiveCubeFace(),u=e.getActiveMipmapLevel(),h=e.state;h.setBlending(0),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(var d=0,g=t.length;d<g;d++){var m=t[d],v=m.shadow;if(void 0!==v){r.copy(v.mapSize);var C=v.getFrameExtents();if(r.multiply(C),A.copy(v.mapSize),(r.x>n||r.y>n)&&(console.warn("THREE.WebGLShadowMap:",m,"has shadow exceeding max texture size, reducing"),r.x>n&&(A.x=Math.floor(n/C.x),r.x=A.x*C.x,v.mapSize.x=A.x),r.y>n&&(A.y=Math.floor(n/C.y),r.y=A.y*C.y,v.mapSize.y=A.y)),null===v.map&&!v.isPointLightShadow&&3===this.type){var I={minFilter:rt,magFilter:rt,format:gt};v.map=new Cn(r.x,r.y,I),v.map.texture.name=m.name+".shadowMap",v.mapPass=new Cn(r.x,r.y,I),v.camera.updateProjectionMatrix()}if(null===v.map){I={minFilter:tt,magFilter:tt,format:gt};v.map=new Cn(r.x,r.y,I),v.map.texture.name=m.name+".shadowMap",v.camera.updateProjectionMatrix()}e.setRenderTarget(v.map),e.clear();for(var w=v.getViewportCount(),b=0;b<w;b++){var B=v.getViewport(b);a.set(A.x*B.x,A.y*B.y,A.x*B.z,A.y*B.w),h.viewport(a),v.updateMatrices(m,b),i=v.getFrustum(),y(o,s,v.camera,m,this.type)}v.isPointLightShadow||3!==this.type||f(v,s)}else console.warn("THREE.WebGLShadowMap:",m,"has no shadow.")}p.needsUpdate=!1,e.setRenderTarget(l,c,u)}}}function _a(e,t,n){var i,r,A=n.isWebGL2;var a=new function(){var t=!1,n=new vn,i=null,r=new vn(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,A,a,o){!0===o&&(t*=a,i*=a,A*=a),n.set(t,i,A,a),!1===r.equals(n)&&(e.clearColor(t,i,A,a),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}},o=new function(){var t=!1,n=null,i=null,r=null;return{setTest:function(t){t?V(e.DEPTH_TEST):O(e.DEPTH_TEST)},setMask:function(i){n===i||t||(e.depthMask(i),n=i)},setFunc:function(t){if(i!==t){if(t)switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);i=t}},setLocked:function(e){t=e},setClear:function(t){r!==t&&(e.clearDepth(t),r=t)},reset:function(){t=!1,n=null,i=null,r=null}}},s=new function(){var t=!1,n=null,i=null,r=null,A=null,a=null,o=null,s=null,l=null;return{setTest:function(n){t||(n?V(e.STENCIL_TEST):O(e.STENCIL_TEST))},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,a){i===t&&r===n&&A===a||(e.stencilFunc(t,n,a),i=t,r=n,A=a)},setOp:function(t,n,i){a===t&&o===n&&s===i||(e.stencilOp(t,n,i),a=t,o=n,s=i)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,i=null,r=null,A=null,a=null,o=null,s=null,l=null}}},l=e.getParameter(e.MAX_VERTEX_ATTRIBS),c=new Uint8Array(l),u=new Uint8Array(l),h=new Uint8Array(l),d={},g=null,p=null,f=null,m=null,v=null,C=null,y=null,I=null,w=null,b=!1,B=null,x=null,M=null,E=null,T=null,S=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),F=!1,U=0,R=e.getParameter(e.VERSION);-1!==R.indexOf("WebGL")?(U=parseFloat(/^WebGL\ ([0-9])/.exec(R)[1]),F=U>=1):-1!==R.indexOf("OpenGL ES")&&(U=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(R)[1]),F=U>=2);var L=null,H={},G=new vn,P=new vn;function Q(t,n,i){var r=new Uint8Array(4),A=e.createTexture();e.bindTexture(t,A),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var a=0;a<i;a++)e.texImage2D(n+a,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,r);return A}var D={};function N(n,i){(c[n]=1,0===u[n]&&(e.enableVertexAttribArray(n),u[n]=1),h[n]!==i)&&((A?e:t.get("ANGLE_instanced_arrays"))[A?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),h[n]=i)}function V(t){!0!==d[t]&&(e.enable(t),d[t]=!0)}function O(t){!1!==d[t]&&(e.disable(t),d[t]=!1)}D[e.TEXTURE_2D]=Q(e.TEXTURE_2D,e.TEXTURE_2D,1),D[e.TEXTURE_CUBE_MAP]=Q(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),a.setClear(0,0,0,1),o.setClear(1),s.setClear(0),V(e.DEPTH_TEST),o.setFunc(3),_(!1),z(1),V(e.CULL_FACE),X(0);var k=(Se(i={},ke,e.FUNC_ADD),Se(i,101,e.FUNC_SUBTRACT),Se(i,102,e.FUNC_REVERSE_SUBTRACT),i);if(A)k[103]=e.MIN,k[104]=e.MAX;else{var W=t.get("EXT_blend_minmax");null!==W&&(k[103]=W.MIN_EXT,k[104]=W.MAX_EXT)}var Z=(Se(r={},200,e.ZERO),Se(r,We,e.ONE),Se(r,202,e.SRC_COLOR),Se(r,Ze,e.SRC_ALPHA),Se(r,210,e.SRC_ALPHA_SATURATE),Se(r,208,e.DST_COLOR),Se(r,206,e.DST_ALPHA),Se(r,203,e.ONE_MINUS_SRC_COLOR),Se(r,Xe,e.ONE_MINUS_SRC_ALPHA),Se(r,209,e.ONE_MINUS_DST_COLOR),Se(r,207,e.ONE_MINUS_DST_ALPHA),r);function X(t,n,i,r,A,a,o,s){if(0!==t){if(p||(V(e.BLEND),p=!0),5===t)A=A||n,a=a||i,o=o||r,n===m&&A===y||(e.blendEquationSeparate(k[n],k[A]),m=n,y=A),i===v&&r===C&&a===I&&o===w||(e.blendFuncSeparate(Z[i],Z[r],Z[a],Z[o]),v=i,C=r,I=a,w=o),f=t,b=null;else if(t!==f||s!==b){if(m===ke&&y===ke||(e.blendEquation(e.FUNC_ADD),m=ke,y=ke),s)switch(t){case 1:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.ONE,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA);break;case 4:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case 3:e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR);break;case 4:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}v=null,C=null,I=null,w=null,f=t,b=s}}else p&&(O(e.BLEND),p=!1)}function _(t){B!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),B=t)}function z(t){0!==t?(V(e.CULL_FACE),t!==x&&(1===t?e.cullFace(e.BACK):2===t?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):O(e.CULL_FACE),x=t}function K(t,n,i){t?(V(e.POLYGON_OFFSET_FILL),E===n&&T===i||(e.polygonOffset(n,i),E=n,T=i)):O(e.POLYGON_OFFSET_FILL)}function Y(t){void 0===t&&(t=e.TEXTURE0+S-1),L!==t&&(e.activeTexture(t),L=t)}return{buffers:{color:a,depth:o,stencil:s},initAttributes:function(){for(var e=0,t=c.length;e<t;e++)c[e]=0},enableAttribute:function(e){N(e,0)},enableAttributeAndDivisor:N,disableUnusedAttributes:function(){for(var t=0,n=u.length;t!==n;++t)u[t]!==c[t]&&(e.disableVertexAttribArray(t),u[t]=0)},enable:V,disable:O,useProgram:function(t){return g!==t&&(e.useProgram(t),g=t,!0)},setBlending:X,setMaterial:function(t,n){2===t.side?O(e.CULL_FACE):V(e.CULL_FACE);var i=1===t.side;n&&(i=!i),_(i),1===t.blending&&!1===t.transparent?X(0):X(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),o.setFunc(t.depthFunc),o.setTest(t.depthTest),o.setMask(t.depthWrite),a.setMask(t.colorWrite);var r=t.stencilWrite;s.setTest(r),r&&(s.setMask(t.stencilWriteMask),s.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),s.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),K(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:_,setCullFace:z,setLineWidth:function(t){t!==M&&(F&&e.lineWidth(t),M=t)},setPolygonOffset:K,setScissorTest:function(t){t?V(e.SCISSOR_TEST):O(e.SCISSOR_TEST)},activeTexture:Y,bindTexture:function(t,n){null===L&&Y();var i=H[L];void 0===i&&(i={type:void 0,texture:void 0},H[L]=i),i.type===t&&i.texture===n||(e.bindTexture(t,n||D[t]),i.type=t,i.texture=n)},unbindTexture:function(){var t=H[L];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===G.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),G.copy(t))},viewport:function(t){!1===P.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),P.copy(t))},reset:function(){for(var t=0;t<u.length;t++)1===u[t]&&(e.disableVertexAttribArray(t),u[t]=0);d={},L=null,H={},g=null,f=null,B=null,x=null,a.reset(),o.reset(),s.reset()}}}function za(e,t,n,i,r,A,a){var o,s,l,c=r.isWebGL2,u=r.maxTextures,h=r.maxCubemapSize,d=r.maxTextureSize,g=r.maxSamples,p=new WeakMap,f="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d");function m(e,t){return f?new OffscreenCanvas(e,t):q.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function v(e,t,n,i){var r=1;if((e.width>i||e.height>i)&&(r=i/Math.max(e.width,e.height)),r<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var A=t?qt.floorPowerOfTwo:Math.floor,a=A(r*e.width),o=A(r*e.height);void 0===l&&(l=m(a,o));var s=n?m(a,o):l;return s.width=a,s.height=o,s.getContext("2d").drawImage(e,0,0,a,o),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+a+"x"+o+")."),s}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function C(e){return qt.isPowerOfTwo(e.width)&&qt.isPowerOfTwo(e.height)}function y(e,t){return e.generateMipmaps&&t&&e.minFilter!==tt&&e.minFilter!==rt}function I(t,n,r,A){e.generateMipmap(t),i.get(n).__maxMipLevel=Math.log(Math.max(r,A))*Math.LOG2E}function w(n,i){if(!1===c)return n;var r=n;return n===e.RED&&(i===e.FLOAT&&(r=e.R32F),i===e.HALF_FLOAT&&(r=e.R16F),i===e.UNSIGNED_BYTE&&(r=e.R8)),n===e.RGB&&(i===e.FLOAT&&(r=e.RGB32F),i===e.HALF_FLOAT&&(r=e.RGB16F),i===e.UNSIGNED_BYTE&&(r=e.RGB8)),n===e.RGBA&&(i===e.FLOAT&&(r=e.RGBA32F),i===e.HALF_FLOAT&&(r=e.RGBA16F),i===e.UNSIGNED_BYTE&&(r=e.RGBA8)),r===e.R16F||r===e.R32F||r===e.RGBA16F||r===e.RGBA32F?t.get("EXT_color_buffer_float"):r!==e.RGB16F&&r!==e.RGB32F||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),r}function b(t){return t===tt||t===nt||t===it?e.NEAREST:e.LINEAR}function B(t){var n=t.target;n.removeEventListener("dispose",B),function(t){var n=i.get(t);if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture),i.remove(t)}(n),n.isVideoTexture&&p.delete(n),a.memory.textures--}function x(t){var n=t.target;n.removeEventListener("dispose",x),function(t){var n=i.get(t),r=i.get(t.texture);if(!t)return;void 0!==r.__webglTexture&&e.deleteTexture(r.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLRenderTargetCube)for(var A=0;A<6;A++)e.deleteFramebuffer(n.__webglFramebuffer[A]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[A]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);if(t.isWebGLMultiviewRenderTarget){e.deleteTexture(n.__webglColorTexture),e.deleteTexture(n.__webglDepthStencilTexture),a.memory.textures-=2;A=0;for(var o=n.__webglViewFramebuffers.length;A<o;A++)e.deleteFramebuffer(n.__webglViewFramebuffers[A])}i.remove(t.texture),i.remove(t)}(n),a.memory.textures--}var M=0;function E(t,r){var A=i.get(t);if(t.isVideoTexture&&function(e){var t=a.render.frame;p.get(e)!==t&&(p.set(e,t),e.update())}(t),t.version>0&&A.__version!==t.version){var o=t.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(!1!==o.complete)return void H(A,t,r)}n.activeTexture(e.TEXTURE0+r),n.bindTexture(e.TEXTURE_2D,A.__webglTexture)}function T(t,r){if(6===t.image.length){var a=i.get(t);if(t.version>0&&a.__version!==t.version){L(a,t),n.activeTexture(e.TEXTURE0+r),n.bindTexture(e.TEXTURE_CUBE_MAP,a.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var o=t&&t.isCompressedTexture,s=t.image[0]&&t.image[0].isDataTexture,l=[],u=0;u<6;u++)l[u]=o||s?s?t.image[u].image:t.image[u]:v(t.image[u],!1,!0,h);var d,g=l[0],p=C(g)||c,f=A.convert(t.format),m=A.convert(t.type),b=w(f,m);if(R(e.TEXTURE_CUBE_MAP,t,p),o){for(u=0;u<6;u++){d=l[u].mipmaps;for(var B=0;B<d.length;B++){var x=d[B];t.format!==gt&&t.format!==dt?null!==f?n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+u,B,b,x.width,x.height,0,x.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+u,B,b,x.width,x.height,0,f,m,x.data)}}a.__maxMipLevel=d.length-1}else{d=t.mipmaps;for(u=0;u<6;u++)if(s){n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+u,0,b,l[u].width,l[u].height,0,f,m,l[u].data);for(B=0;B<d.length;B++){var M=(x=d[B]).image[u].image;n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+u,B+1,b,M.width,M.height,0,f,m,M.data)}}else{n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+u,0,b,f,m,l[u]);for(B=0;B<d.length;B++){x=d[B];n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+u,B+1,b,f,m,x.image[u])}}a.__maxMipLevel=d.length}y(t,p)&&I(e.TEXTURE_CUBE_MAP,t,g.width,g.height),a.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(e.TEXTURE0+r),n.bindTexture(e.TEXTURE_CUBE_MAP,a.__webglTexture)}}function S(t,r){n.activeTexture(e.TEXTURE0+r),n.bindTexture(e.TEXTURE_CUBE_MAP,i.get(t).__webglTexture)}var F=(Se(o={},qe,e.REPEAT),Se(o,$e,e.CLAMP_TO_EDGE),Se(o,et,e.MIRRORED_REPEAT),o),U=(Se(s={},tt,e.NEAREST),Se(s,nt,e.NEAREST_MIPMAP_NEAREST),Se(s,it,e.NEAREST_MIPMAP_LINEAR),Se(s,rt,e.LINEAR),Se(s,At,e.LINEAR_MIPMAP_NEAREST),Se(s,at,e.LINEAR_MIPMAP_LINEAR),s);function R(n,A,a){a?(e.texParameteri(n,e.TEXTURE_WRAP_S,F[A.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,F[A.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,F[A.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,U[A.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,U[A.minFilter])):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,e.CLAMP_TO_EDGE),A.wrapS===$e&&A.wrapT===$e||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,e.TEXTURE_MAG_FILTER,b(A.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,b(A.minFilter)),A.minFilter!==tt&&A.minFilter!==rt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var o=t.get("EXT_texture_filter_anisotropic");if(o){if(A.type===ct&&null===t.get("OES_texture_float_linear"))return;if(A.type===ut&&null===(c||t.get("OES_texture_half_float_linear")))return;(A.anisotropy>1||i.get(A).__currentAnisotropy)&&(e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(A.anisotropy,r.getMaxAnisotropy())),i.get(A).__currentAnisotropy=A.anisotropy)}}function L(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",B),t.__webglTexture=e.createTexture(),a.memory.textures++)}function H(t,i,r){var a=e.TEXTURE_2D;i.isDataTexture2DArray&&(a=e.TEXTURE_2D_ARRAY),i.isDataTexture3D&&(a=e.TEXTURE_3D),L(t,i),n.activeTexture(e.TEXTURE0+r),n.bindTexture(a,t.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment);var o=function(e){return!c&&(e.wrapS!==$e||e.wrapT!==$e||e.minFilter!==tt&&e.minFilter!==rt)}(i)&&!1===C(i.image),s=v(i.image,o,!1,d),l=C(s)||c,u=A.convert(i.format),h=A.convert(i.type),g=w(u,h);R(a,i,l);var p,f=i.mipmaps;if(i.isDepthTexture){if(g=e.DEPTH_COMPONENT,i.type===ct){if(!1===c)throw new Error("Float Depth Texture only supported in WebGL2.0");g=e.DEPTH_COMPONENT32F}else c&&(g=e.DEPTH_COMPONENT16);i.format===ft&&g===e.DEPTH_COMPONENT&&i.type!==st&&i.type!==lt&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=st,h=A.convert(i.type)),i.format===mt&&(g=e.DEPTH_STENCIL,i.type!==ht&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=ht,h=A.convert(i.type))),n.texImage2D(e.TEXTURE_2D,0,g,s.width,s.height,0,u,h,null)}else if(i.isDataTexture)if(f.length>0&&l){for(var m=0,b=f.length;m<b;m++)p=f[m],n.texImage2D(e.TEXTURE_2D,m,g,p.width,p.height,0,u,h,p.data);i.generateMipmaps=!1,t.__maxMipLevel=f.length-1}else n.texImage2D(e.TEXTURE_2D,0,g,s.width,s.height,0,u,h,s.data),t.__maxMipLevel=0;else if(i.isCompressedTexture){for(m=0,b=f.length;m<b;m++)p=f[m],i.format!==gt&&i.format!==dt?null!==u?n.compressedTexImage2D(e.TEXTURE_2D,m,g,p.width,p.height,0,p.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(e.TEXTURE_2D,m,g,p.width,p.height,0,u,h,p.data);t.__maxMipLevel=f.length-1}else if(i.isDataTexture2DArray)n.texImage3D(e.TEXTURE_2D_ARRAY,0,g,s.width,s.height,s.depth,0,u,h,s.data),t.__maxMipLevel=0;else if(i.isDataTexture3D)n.texImage3D(e.TEXTURE_3D,0,g,s.width,s.height,s.depth,0,u,h,s.data),t.__maxMipLevel=0;else if(f.length>0&&l){for(m=0,b=f.length;m<b;m++)p=f[m],n.texImage2D(e.TEXTURE_2D,m,g,u,h,p);i.generateMipmaps=!1,t.__maxMipLevel=f.length-1}else n.texImage2D(e.TEXTURE_2D,0,g,u,h,s),t.__maxMipLevel=0;y(i,l)&&I(e.TEXTURE_2D,i,s.width,s.height),t.__version=i.version,i.onUpdate&&i.onUpdate(i)}function G(t,r,a,o){var s=A.convert(r.texture.format),l=A.convert(r.texture.type),c=w(s,l);n.texImage2D(o,0,c,r.width,r.height,0,s,l,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,a,o,i.get(r.texture).__webglTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}function P(t,n,i){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer){if(i){var r=D(n);e.renderbufferStorageMultisample(e.RENDERBUFFER,r,e.DEPTH_COMPONENT16,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}else if(n.depthBuffer&&n.stencilBuffer){if(i){r=D(n);e.renderbufferStorageMultisample(e.RENDERBUFFER,r,e.DEPTH24_STENCIL8,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)}else{var a=w(A.convert(n.texture.format),A.convert(n.texture.type));if(i){r=D(n);e.renderbufferStorageMultisample(e.RENDERBUFFER,r,a,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,a,n.width,n.height)}e.bindRenderbuffer(e.RENDERBUFFER,null)}function Q(t){var n=i.get(t),r=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(e.FRAMEBUFFER,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),E(n.depthTexture,0);var r=i.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===ft)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,r,0);else{if(n.depthTexture.format!==mt)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,r,0)}}(n.__webglFramebuffer,t)}else if(r){n.__webglDepthbuffer=[];for(var A=0;A<6;A++)e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer[A]),n.__webglDepthbuffer[A]=e.createRenderbuffer(),P(n.__webglDepthbuffer[A],t)}else e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),P(n.__webglDepthbuffer,t);e.bindFramebuffer(e.FRAMEBUFFER,null)}function D(e){return c&&e.isWebGLMultisampleRenderTarget?Math.min(g,e.samples):0}var N=!1,V=!1;this.allocateTextureUnit=function(){var e=M;return e>=u&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+u),M+=1,e},this.resetTextureUnits=function(){M=0},this.setTexture2D=E,this.setTexture2DArray=function(t,r){var A=i.get(t);t.version>0&&A.__version!==t.version?H(A,t,r):(n.activeTexture(e.TEXTURE0+r),n.bindTexture(e.TEXTURE_2D_ARRAY,A.__webglTexture))},this.setTexture3D=function(t,r){var A=i.get(t);t.version>0&&A.__version!==t.version?H(A,t,r):(n.activeTexture(e.TEXTURE0+r),n.bindTexture(e.TEXTURE_3D,A.__webglTexture))},this.setTextureCube=T,this.setTextureCubeDynamic=S,this.setupRenderTarget=function(r){var o=i.get(r),s=i.get(r.texture);r.addEventListener("dispose",x),s.__webglTexture=e.createTexture(),a.memory.textures++;var l=!0===r.isWebGLRenderTargetCube,u=!0===r.isWebGLMultisampleRenderTarget,h=!0===r.isWebGLMultiviewRenderTarget,d=C(r)||c;if(l){o.__webglFramebuffer=[];for(var g=0;g<6;g++)o.__webglFramebuffer[g]=e.createFramebuffer()}else if(o.__webglFramebuffer=e.createFramebuffer(),u)if(c){o.__webglMultisampledFramebuffer=e.createFramebuffer(),o.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,o.__webglColorRenderbuffer);var p=w(A.convert(r.texture.format),A.convert(r.texture.type)),f=D(r);e.renderbufferStorageMultisample(e.RENDERBUFFER,f,p,r.width,r.height),e.bindFramebuffer(e.FRAMEBUFFER,o.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,o.__webglColorRenderbuffer),e.bindRenderbuffer(e.RENDERBUFFER,null),r.depthBuffer&&(o.__webglDepthRenderbuffer=e.createRenderbuffer(),P(o.__webglDepthRenderbuffer,r,!0)),e.bindFramebuffer(e.FRAMEBUFFER,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");else if(h){var m=r.width,v=r.height,b=r.numViews;e.bindFramebuffer(e.FRAMEBUFFER,o.__webglFramebuffer);var B=t.get("OVR_multiview2");a.memory.textures+=2;var M=e.createTexture();e.bindTexture(e.TEXTURE_2D_ARRAY,M),e.texParameteri(e.TEXTURE_2D_ARRAY,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D_ARRAY,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texImage3D(e.TEXTURE_2D_ARRAY,0,e.RGBA8,m,v,b,0,e.RGBA,e.UNSIGNED_BYTE,null),B.framebufferTextureMultiviewOVR(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,M,0,0,b);var E=e.createTexture();e.bindTexture(e.TEXTURE_2D_ARRAY,E),e.texParameteri(e.TEXTURE_2D_ARRAY,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D_ARRAY,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texImage3D(e.TEXTURE_2D_ARRAY,0,e.DEPTH24_STENCIL8,m,v,b,0,e.DEPTH_STENCIL,e.UNSIGNED_INT_24_8,null),B.framebufferTextureMultiviewOVR(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,E,0,0,b);var T=new Array(b);for(g=0;g<b;++g)T[g]=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,T[g]),e.framebufferTextureLayer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,M,0,g);o.__webglColorTexture=M,o.__webglDepthStencilTexture=E,o.__webglViewFramebuffers=T,e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D_ARRAY,null)}if(l){n.bindTexture(e.TEXTURE_CUBE_MAP,s.__webglTexture),R(e.TEXTURE_CUBE_MAP,r.texture,d);for(g=0;g<6;g++)G(o.__webglFramebuffer[g],r,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+g);y(r.texture,d)&&I(e.TEXTURE_CUBE_MAP,r.texture,r.width,r.height),n.bindTexture(e.TEXTURE_CUBE_MAP,null)}else h||(n.bindTexture(e.TEXTURE_2D,s.__webglTexture),R(e.TEXTURE_2D,r.texture,d),G(o.__webglFramebuffer,r,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),y(r.texture,d)&&I(e.TEXTURE_2D,r.texture,r.width,r.height),n.bindTexture(e.TEXTURE_2D,null));r.depthBuffer&&Q(r)},this.updateRenderTargetMipmap=function(t){var r=t.texture;if(y(r,C(t)||c)){var A=t.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,a=i.get(r).__webglTexture;n.bindTexture(A,a),I(A,r,t.width,t.height),n.bindTexture(A,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(c){var n=i.get(t);e.bindFramebuffer(e.READ_FRAMEBUFFER,n.__webglMultisampledFramebuffer),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n.__webglFramebuffer);var r=t.width,A=t.height,a=e.COLOR_BUFFER_BIT;t.depthBuffer&&(a|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&(a|=e.STENCIL_BUFFER_BIT),e.blitFramebuffer(0,0,r,A,0,0,r,A,a,e.NEAREST)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===N&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),N=!0),e=e.texture),E(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLRenderTargetCube&&(!1===V&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),V=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?T(e,t):S(e,t)}}function Ka(e,t,n){var i=n.isWebGL2;return{convert:function(n){var r;if(n===ot)return e.UNSIGNED_BYTE;if(1017===n)return e.UNSIGNED_SHORT_4_4_4_4;if(1018===n)return e.UNSIGNED_SHORT_5_5_5_1;if(1019===n)return e.UNSIGNED_SHORT_5_6_5;if(1010===n)return e.BYTE;if(1011===n)return e.SHORT;if(n===st)return e.UNSIGNED_SHORT;if(1013===n)return e.INT;if(n===lt)return e.UNSIGNED_INT;if(n===ct)return e.FLOAT;if(n===ut)return i?e.HALF_FLOAT:null!==(r=t.get("OES_texture_half_float"))?r.HALF_FLOAT_OES:null;if(1021===n)return e.ALPHA;if(n===dt)return e.RGB;if(n===gt)return e.RGBA;if(1024===n)return e.LUMINANCE;if(1025===n)return e.LUMINANCE_ALPHA;if(n===ft)return e.DEPTH_COMPONENT;if(n===mt)return e.DEPTH_STENCIL;if(1028===n)return e.RED;if(n===vt||n===Ct||n===yt||n===It){if(null===(r=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===vt)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Ct)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===yt)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===It)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===wt||n===bt||n===Bt||n===xt){if(null===(r=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(n===wt)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===bt)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Bt)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===xt)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===n)return null!==(r=t.get("WEBGL_compressed_texture_etc1"))?r.COMPRESSED_RGB_ETC1_WEBGL:null;if((n===Mt||n===Et)&&null!==(r=t.get("WEBGL_compressed_texture_etc"))){if(n===Mt)return r.COMPRESSED_RGB8_ETC2;if(n===Et)return r.COMPRESSED_RGBA8_ETC2_EAC}return 37808===n||37809===n||37810===n||37811===n||37812===n||37813===n||37814===n||37815===n||37816===n||37817===n||37818===n||37819===n||37820===n||37821===n?null!==(r=t.get("WEBGL_compressed_texture_astc"))?n:null:36492===n?null!==(r=t.get("EXT_texture_compression_bptc"))?n:null:n===ht?i?e.UNSIGNED_INT_24_8:null!==(r=t.get("WEBGL_depth_texture"))?r.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function Ya(e,t,n,i){Cn.call(this,e,t,i),this.depthBuffer=!1,this.stencilBuffer=!1,this.numViews=n}function ja(e,t){var n,i,r,A,a,o,s,l=e.extensions,c=e.properties,u=0;function h(e){return e.isArrayCamera?e.cameras:(a[0]=e,a)}this.isAvailable=function(){if(void 0===s){var e=l.get("OVR_multiview2");if(s=null!==e&&!1===t.getContextAttributes().antialias){u=t.getParameter(e.MAX_VIEWS_OVR),n=new Ya(0,0,2),o=new $t,A=[],r=[],a=[];for(var i=0;i<u;i++)A[i]=new Tn,r[i]=new on}}return s},this.attachCamera=function(t){!1!==function(e){if(void 0===e.isArrayCamera)return!0;var t=e.cameras;if(t.length>u)return!1;for(var n=1,i=t.length;n<i;n++)if(t[0].viewport.z!==t[n].viewport.z||t[0].viewport.w!==t[n].viewport.w)return!1;return!0}(t)&&(i=e.getRenderTarget(),function(t){if(i?o.set(i.width,i.height):e.getDrawingBufferSize(o),t.isArrayCamera){var r=t.cameras[0].viewport;n.setSize(r.z,r.w),n.setNumViews(t.cameras.length)}else n.setSize(o.x,o.y),n.setNumViews(2)}(t),e.setRenderTarget(n))},this.detachCamera=function(r){n===e.getRenderTarget()&&(e.setRenderTarget(i),function(e){var i=n,r=i.numViews,A=c.get(i).__webglViewFramebuffers,a=i.width,s=i.height;if(e.isArrayCamera)for(var l=0;l<r;l++){var u=e.cameras[l].viewport,h=u.x,d=u.y,g=h+u.z,p=d+u.w;t.bindFramebuffer(t.READ_FRAMEBUFFER,A[l]),t.blitFramebuffer(0,0,a,s,h,d,g,p,t.COLOR_BUFFER_BIT,t.NEAREST)}else t.bindFramebuffer(t.READ_FRAMEBUFFER,A[0]),t.blitFramebuffer(0,0,a,s,0,0,o.x,o.y,t.COLOR_BUFFER_BIT,t.NEAREST)}(r))},this.updateCameraProjectionMatricesUniform=function(e,n){for(var i=h(e),r=0;r<i.length;r++)A[r].copy(i[r].projectionMatrix);n.setValue(t,"projectionMatrices",A)},this.updateCameraViewMatricesUniform=function(e,n){for(var i=h(e),r=0;r<i.length;r++)A[r].copy(i[r].matrixWorldInverse);n.setValue(t,"viewMatrices",A)},this.updateObjectMatricesUniforms=function(e,n,i){for(var a=h(n),o=0;o<a.length;o++)A[o].multiplyMatrices(a[o].matrixWorldInverse,e.matrixWorld),r[o].getNormalMatrix(A[o]);i.setValue(t,"modelViewMatrices",A),i.setValue(t,"normalMatrices",r)}}function Ja(){_n.call(this),this.type="Group"}function qa(e){Xr.call(this),this.cameras=e||[]}Ya.prototype=Object.assign(Object.create(Cn.prototype),{constructor:Ya,isWebGLMultiviewRenderTarget:!0,copy:function(e){return Cn.prototype.copy.call(this,e),this.numViews=e.numViews,this},setNumViews:function(e){return this.numViews!==e&&(this.numViews=e,this.dispose()),this}}),Ja.prototype=Object.assign(Object.create(_n.prototype),{constructor:Ja,isGroup:!0}),qa.prototype=Object.assign(Object.create(Xr.prototype),{constructor:qa,isArrayCamera:!0});var $a,eo=new rn,to=new rn;function no(e,t,n){eo.setFromMatrixPosition(t.matrixWorld),to.setFromMatrixPosition(n.matrixWorld);var i=eo.distanceTo(to),r=t.projectionMatrix.elements,A=n.projectionMatrix.elements,a=r[14]/(r[10]-1),o=r[14]/(r[10]+1),s=(r[9]+1)/r[5],l=(r[9]-1)/r[5],c=(r[8]-1)/r[0],u=(A[8]+1)/A[0],h=a*c,d=a*u,g=i/(-c+u),p=g*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(p),e.translateZ(g),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var f=a+g,m=o+g,v=h-p,C=d+(i-p),y=s*o/m*f,I=l*o/m*f;e.projectionMatrix.makePerspective(v,C,y,I,f,m)}function io(e){var n,i,r=this,A=null,a=null,o=[],s=new Tn,l=new Tn,c=1,u="local-floor";void 0!==Be&&"VRFrameData"in Be&&(a=new t,ye("vrdisplaypresentchange",w));var h=new Tn,d=new en,g=new rn,p=new Xr,f=new Xr;f.viewport=new vn,f.layers.enable(1);var m=new Xr;m.viewport=new vn,m.layers.enable(2);var v=new qa([f,m]);function C(){return null!==A&&!0===A.isPresenting}v.layers.enable(1),v.layers.enable(2);var y,I=new $t;function w(){if(C()){var t=A.getEyeParameters("left");n=2*t.renderWidth*c,i=t.renderHeight*c,y=e.getPixelRatio(),e.getSize(I),e.setDrawingBufferSize(n,i,1),f.viewport.set(0,0,n/2,i),m.viewport.set(n/2,0,n/2,i),E.start(),r.dispatchEvent({type:"sessionstart"})}else r.enabled&&e.setDrawingBufferSize(I.width,I.height,y),E.stop(),r.dispatchEvent({type:"sessionend"})}var b=[],B=[];function x(e){for(var t=navigator.getGamepads&&navigator.getGamepads(),n=0,i=t.length;n<i;n++){var r=t[n];if(r&&("Daydream Controller"===r.id||"Gear VR Controller"===r.id||"Oculus Go Controller"===r.id||"OpenVR Gamepad"===r.id||r.id.startsWith("Oculus Touch")||r.id.startsWith("HTC Vive Focus")||r.id.startsWith("Spatial Controller"))){var A=r.hand;if(0===e&&(""===A||"right"===A))return r;if(1===e&&"left"===A)return r}}}function M(e,t){null!==t&&4===t.length&&e.set(t[0]*n,t[1]*i,t[2]*n,t[3]*i)}this.enabled=!1,this.getController=function(e){var t=o[e];return void 0===t&&((t=new Ja).matrixAutoUpdate=!1,t.visible=!1,o[e]=t),t},this.getDevice=function(){return A},this.setDevice=function(e){void 0!==e&&(A=e),E.setContext(e)},this.setFramebufferScaleFactor=function(e){c=e},this.setReferenceSpaceType=function(e){u=e},this.getCamera=function(e){var t="local-floor"===u?1.6:0;if(A.depthNear=e.near,A.depthFar=e.far,A.getFrameData(a),"local-floor"===u){var n=A.stageParameters;n?s.fromArray(n.sittingToStandingTransform):s.makeTranslation(0,t,0)}var i=a.pose;p.matrix.copy(s),p.matrix.decompose(p.position,p.quaternion,p.scale),null!==i.orientation&&(d.fromArray(i.orientation),p.quaternion.multiply(d)),null!==i.position&&(d.setFromRotationMatrix(s),g.fromArray(i.position),g.applyQuaternion(d),p.position.add(g)),p.updateMatrixWorld(),e.matrixWorld.copy(p.matrixWorld);for(var r=e.children,c=0,C=r.length;c<C;c++)r[c].updateMatrixWorld(!0);f.near=e.near,m.near=e.near,f.far=e.far,m.far=e.far,f.matrixWorldInverse.fromArray(a.leftViewMatrix),m.matrixWorldInverse.fromArray(a.rightViewMatrix),l.getInverse(s),"local-floor"===u&&(f.matrixWorldInverse.multiply(l),m.matrixWorldInverse.multiply(l));var y=e.parent;null!==y&&(h.getInverse(y.matrixWorld),f.matrixWorldInverse.multiply(h),m.matrixWorldInverse.multiply(h)),f.matrixWorld.getInverse(f.matrixWorldInverse),m.matrixWorld.getInverse(m.matrixWorldInverse),f.projectionMatrix.fromArray(a.leftProjectionMatrix),m.projectionMatrix.fromArray(a.rightProjectionMatrix),no(v,f,m);var I=A.getLayers();if(I.length){var w=I[0];M(f.viewport,w.leftBounds),M(m.viewport,w.rightBounds)}return function(){for(var e=0;e<o.length;e++){var t=o[e],n=x(e);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var i=n.pose;!1===i.hasPosition&&t.position.set(.2,-.6,-.05),null!==i.position&&t.position.fromArray(i.position),null!==i.orientation&&t.quaternion.fromArray(i.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(s),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var r="Daydream Controller"===n.id?0:1;void 0===b[e]&&(b[e]=!1),b[e]!==n.buttons[r].pressed&&(b[e]=n.buttons[r].pressed,!0===b[e]?t.dispatchEvent({type:"selectstart"}):(t.dispatchEvent({type:"selectend"}),t.dispatchEvent({type:"select"}))),r=2,void 0===B[e]&&(B[e]=!1),void 0!==n.buttons[r]&&B[e]!==n.buttons[r].pressed&&(B[e]=n.buttons[r].pressed,!0===B[e]?t.dispatchEvent({type:"squeezestart"}):(t.dispatchEvent({type:"squeezeend"}),t.dispatchEvent({type:"squeeze"})))}else t.visible=!1}}(),v},this.getStandingMatrix=function(){return s},this.isPresenting=C;var E=new nA;this.setAnimationLoop=function(e){E.setAnimationLoop(e),C()&&E.start()},this.submitFrame=function(){C()&&A.submitFrame()},this.dispose=function(){void 0!==Be&&Ie("vrdisplaypresentchange",w)},this.setFrameOfReferenceType=function(){console.warn("THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.")}}function ro(e,t){var n=this,i=null,r=null,A="local-floor",a=null,o=[],s=[];var l=new Xr;l.layers.enable(1),l.viewport=new vn;var c=new Xr;c.layers.enable(2),c.viewport=new vn;var u=new qa([l,c]);function h(e){for(var t=0;t<o.length;t++)s[t]===e.inputSource&&o[t].dispatchEvent({type:e.type})}function d(){e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),C.stop(),n.dispatchEvent({type:"sessionend"})}function g(e){r=e,C.setContext(i),C.start(),n.dispatchEvent({type:"sessionstart"})}function p(){for(var e=0;e<o.length;e++)s[e]=f(e)}function f(e){for(var t=i.inputSources,n=0;n<t.length;n++){var r=t[n],A=r.handedness;if(0===e&&("none"===A||"right"===A))return r;if(1===e&&"left"===A)return r}}function m(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}u.layers.enable(1),u.layers.enable(2),this.enabled=!1,this.getController=function(e){var t=o[e];return void 0===t&&((t=new Ja).matrixAutoUpdate=!1,t.visible=!1,o[e]=t),t},this.setFramebufferScaleFactor=function(){},this.setReferenceSpaceType=function(e){A=e},this.getSession=function(){return i},this.setSession=function(e){null!==(i=e)&&(i.addEventListener("select",h),i.addEventListener("selectstart",h),i.addEventListener("selectend",h),i.addEventListener("squeeze",h),i.addEventListener("squeezestart",h),i.addEventListener("squeezeend",h),i.addEventListener("end",d),i.updateRenderState({baseLayer:new XRWebGLLayer(i,t)}),i.requestReferenceSpace(A).then(g),i.addEventListener("inputsourceschange",p),p())},this.getCamera=function(e){var t=e.parent,n=u.cameras;m(u,t);for(var i=0;i<n.length;i++)m(n[i],t);e.matrixWorld.copy(u.matrixWorld);for(var r=e.children,A=(i=0,r.length);i<A;i++)r[i].updateMatrixWorld(!0);return no(u,l,c),u},this.isPresenting=function(){return null!==i&&null!==r};var v=null;var C=new nA;C.setAnimationLoop((function(t,n){if(null!==(a=n.getViewerPose(r))){var A=a.views,l=i.renderState.baseLayer;e.setFramebuffer(l.framebuffer);for(var c=0;c<A.length;c++){var h=A[c],d=l.getViewport(h),g=h.transform.inverse.matrix,p=u.cameras[c];p.matrix.fromArray(g).getInverse(p.matrix),p.projectionMatrix.fromArray(h.projectionMatrix),p.viewport.set(d.x,d.y,d.width,d.height),0===c&&u.matrix.copy(p.matrix)}}for(c=0;c<o.length;c++){var f=o[c],m=s[c];if(m){var C=n.getPose(m.targetRaySpace,r);if(null!==C){f.matrix.fromArray(C.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.visible=!0;continue}}f.visible=!1}v&&v(t)})),this.setAnimationLoop=function(e){v=e},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new Tn},this.getDevice=function(){console.warn("THREE.WebXRManager: getDevice() has been deprecated.")},this.setDevice=function(){console.warn("THREE.WebXRManager: setDevice() has been deprecated.")},this.setFrameOfReferenceType=function(){console.warn("THREE.WebXRManager: setFrameOfReferenceType() has been deprecated.")},this.submitFrame=function(){}}function Ao(e){var t=void 0!==(e=e||{}).canvas?e.canvas:q.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,i=void 0!==e.alpha&&e.alpha,r=void 0===e.depth||e.depth,A=void 0===e.stencil||e.stencil,a=void 0!==e.antialias&&e.antialias,o=void 0===e.premultipliedAlpha||e.premultipliedAlpha,s=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:"default",c=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,u=null,h=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=1,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var d,g,p,f,m,v,C,y,I,w,b,B,x,M,E,T,S,F,U=this,R=!1,L=null,H=0,G=0,P=null,Q=null,D=-1,N={geometry:null,program:null,wireframe:!1},V=null,O=null,k=new vn,W=new vn,Z=null,X=t.width,_=t.height,z=1,K=new vn(0,0,X,_),Y=new vn(0,0,X,_),j=!1,J=new qr,$=new lA,ee=!1,te=!1,ne=new Tn,ie=new rn;function re(){return null===P?z:1}this.acfFrustum=J;try{var Ae={alpha:i,depth:r,stencil:A,antialias:a,premultipliedAlpha:o,preserveDrawingBuffer:s,powerPreference:l,failIfMajorPerformanceCaveat:c,xrCompatible:!0};t.addEventListener("webglcontextlost",ue,!1),t.addEventListener("webglcontextrestored",he,!1);try{ae=ae||{}}catch(e){var ae={}}if(null===(d=n||t.getContext(ae&&ae.isWebGL2?"webgl2":"webgl",Ae)||t.getContext("experimental-webgl",Ae)))throw null!==t.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===d.getShaderPrecisionFormat&&(d.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function oe(){g=new cA(d),!1===(p=new sA(d,g,e)).isWebGL2&&(g.get("WEBGL_depth_texture"),g.get("OES_texture_float"),g.get("OES_texture_half_float"),g.get("OES_texture_half_float_linear"),g.get("OES_standard_derivatives"),g.get("OES_element_index_uint"),g.get("ANGLE_instanced_arrays")),g.get("OES_texture_float_linear"),F=new Ka(d,g,p),(f=new _a(d,g,p)).scissor(W.copy(Y).multiplyScalar(z).floor()),f.viewport(k.copy(K).multiplyScalar(z).floor()),m=new dA(d),v=new Ra,C=new za(d,g,f,v,p,F,m),y=new iA(d),I=new uA(d,y,m),w=new fA(d,I,y,m),E=new pA(d),b=new Ua(U,g,p),B=new Pa,x=new ka,M=new aA(U,f,w,o),T=new oA(d,g,m,p),S=new hA(d,g,m,p),m.programs=b.programs,U.capabilities=p,U.extensions=g,U.properties=v,U.renderLists=B,U.state=f,U.info=m}oe();var se="undefined"!=typeof navigator&&"xr"in navigator?new ro(U,d):new io(U);this.vr=se;var le=new ja(U,d),ce=new Xa(U,w,p.maxTextureSize);function ue(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),R=!0}function he(){console.log("THREE.WebGLRenderer: Context Restored."),R=!1,oe()}function de(e){var t=e.target;t.removeEventListener("dispose",de),function(e){ge(e),v.remove(e)}(t)}function ge(e){var t=v.get(e).program;e.program=void 0,void 0!==t&&b.releaseProgram(t)}this.shadowMap=ce,this.getContext=function(){return d},this.getContextAttributes=function(){return d.getContextAttributes()},this.forceContextLoss=function(){var e=g.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=g.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return z},this.setPixelRatio=function(e){void 0!==e&&(z=e,this.setSize(X,_,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new $t),e.set(X,_)},this.setSize=function(e,n,i){se.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(X=e,_=n,t.width=Math.floor(e*z),t.height=Math.floor(n*z),!1!==i&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new $t),e.set(X*z,_*z).floor()},this.setDrawingBufferSize=function(e,n,i){X=e,_=n,z=i,t.width=Math.floor(e*i),t.height=Math.floor(n*i),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new vn),e.copy(k)},this.getViewport=function(e){return e.copy(K)},this.setViewport=function(e,t,n,i){e.isVector4?K.set(e.x,e.y,e.z,e.w):K.set(e,t,n,i),f.viewport(k.copy(K).multiplyScalar(z).floor())},this.getScissor=function(e){return e.copy(Y)},this.setScissor=function(e,t,n,i){e.isVector4?Y.set(e.x,e.y,e.z,e.w):Y.set(e,t,n,i),f.scissor(W.copy(Y).multiplyScalar(z).floor())},this.getScissorTest=function(){return j},this.setScissorTest=function(e){f.setScissorTest(j=e)},this.getClearColor=function(){return M.getClearColor()},this.setClearColor=function(){M.setClearColor.apply(M,arguments)},this.getClearAlpha=function(){return M.getClearAlpha()},this.setClearAlpha=function(){M.setClearAlpha.apply(M,arguments)},this.clear=function(e,t,n){var i=0;(void 0===e||e)&&(i|=d.COLOR_BUFFER_BIT),(void 0===t||t)&&(i|=d.DEPTH_BUFFER_BIT),(void 0===n||n)&&(i|=d.STENCIL_BUFFER_BIT),d.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ue,!1),t.removeEventListener("webglcontextrestored",he,!1),B.dispose(),x.dispose(),v.dispose(),w.dispose(),se.dispose(),fe.stop()},this.renderBufferImmediate=function(e,t){f.initAttributes();var n=v.get(e);e.hasPositions&&!n.position&&(n.position=d.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=d.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=d.createBuffer()),e.hasColors&&!n.color&&(n.color=d.createBuffer());var i=t.getAttributes();e.hasPositions&&(d.bindBuffer(d.ARRAY_BUFFER,n.position),d.bufferData(d.ARRAY_BUFFER,e.positionArray,d.DYNAMIC_DRAW),f.enableAttribute(i.position),d.vertexAttribPointer(i.position,3,d.FLOAT,!1,0,0)),e.hasNormals&&(d.bindBuffer(d.ARRAY_BUFFER,n.normal),d.bufferData(d.ARRAY_BUFFER,e.normalArray,d.DYNAMIC_DRAW),f.enableAttribute(i.normal),d.vertexAttribPointer(i.normal,3,d.FLOAT,!1,0,0)),e.hasUvs&&(d.bindBuffer(d.ARRAY_BUFFER,n.uv),d.bufferData(d.ARRAY_BUFFER,e.uvArray,d.DYNAMIC_DRAW),f.enableAttribute(i.uv),d.vertexAttribPointer(i.uv,2,d.FLOAT,!1,0,0)),e.hasColors&&(d.bindBuffer(d.ARRAY_BUFFER,n.color),d.bufferData(d.ARRAY_BUFFER,e.colorArray,d.DYNAMIC_DRAW),f.enableAttribute(i.color),d.vertexAttribPointer(i.color,3,d.FLOAT,!1,0,0)),f.disableUnusedAttributes(),d.drawArrays(d.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,i,r,A){var a=r.isMesh&&r.matrixWorld.determinant()<0;f.setMaterial(i,a);var o=Ie(e,t,i,r),s=!1;N.geometry===n.id&&N.program===o.id&&N.wireframe===(!0===i.wireframe)||(N.geometry=n.id,N.program=o.id,N.wireframe=!0===i.wireframe,s=!0),r.morphTargetInfluences&&(E.update(r,n,i,o),s=!0);var l=n.index,c=n.attributes.position;if((null===l||0!==l.count)&&void 0!==c&&0!==c.count){var u,h=1;!0===i.wireframe&&(l=I.getWireframeAttribute(n),h=2);var m=T;null!==l&&(u=y.get(l),(m=S).setIndex(u)),s&&(!function(e,t,n,i){if(!1===p.isWebGL2&&(e.isInstancedMesh||t.isInstancedBufferGeometry)&&null===g.get("ANGLE_instanced_arrays"))return;f.initAttributes();var r=t.attributes,A=i.getAttributes(),a=n.defaultAttributeValues;for(var o in A){var s=A[o];if(s>=0){var l=r[o];if(void 0!==l){var c=l.normalized,u=l.itemSize;if(void 0===(b=y.get(l)))continue;var h=b.buffer,m=b.type,v=b.bytesPerElement;if(l.isInterleavedBufferAttribute){var C=l.data,I=C.stride,w=l.offset;C&&C.isInstancedInterleavedBuffer?(f.enableAttributeAndDivisor(s,C.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=C.meshPerAttribute*C.count)):f.enableAttribute(s),d.bindBuffer(d.ARRAY_BUFFER,h),d.vertexAttribPointer(s,u,m,c,I*v,w*v)}else l.isInstancedBufferAttribute?(f.enableAttributeAndDivisor(s,l.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=l.meshPerAttribute*l.count)):f.enableAttribute(s),d.bindBuffer(d.ARRAY_BUFFER,h),d.vertexAttribPointer(s,u,m,c,0,0)}else if("instanceMatrix"===o){if(void 0===e.instanceMatrix)continue;var b;if(void 0===(b=y.get(e.instanceMatrix)))continue;h=b.buffer,m=b.type;f.enableAttributeAndDivisor(s+0,1),f.enableAttributeAndDivisor(s+1,1),f.enableAttributeAndDivisor(s+2,1),f.enableAttributeAndDivisor(s+3,1),d.bindBuffer(d.ARRAY_BUFFER,h),d.vertexAttribPointer(s+0,4,m,!1,64,0),d.vertexAttribPointer(s+1,4,m,!1,64,16),d.vertexAttribPointer(s+2,4,m,!1,64,32),d.vertexAttribPointer(s+3,4,m,!1,64,48)}else if(void 0!==a){var B=a[o];if(void 0!==B)switch(B.length){case 2:d.vertexAttrib2fv(s,B);break;case 3:d.vertexAttrib3fv(s,B);break;case 4:d.vertexAttrib4fv(s,B);break;default:d.vertexAttrib1fv(s,B)}}}}f.disableUnusedAttributes()}(r,n,i,o),null!==l&&d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,u.buffer));var v=1/0;null!==l?v=l.count:void 0!==c&&(v=c.count);var C=n.drawRange.start*h,w=n.drawRange.count*h,b=null!==A?A.start*h:0,B=null!==A?A.count*h:1/0,x=Math.max(C,b),M=Math.min(v,C+w,b+B)-1,F=Math.max(0,M-x+1);if(0!==F){if(r.isMesh)if(!0===i.wireframe)f.setLineWidth(i.wireframeLinewidth*re()),m.setMode(d.LINES);else switch(r.drawMode){case 0:m.setMode(d.TRIANGLES);break;case 1:m.setMode(d.TRIANGLE_STRIP);break;case 2:m.setMode(d.TRIANGLE_FAN)}else if(r.isLine){var U=i.linewidth;void 0===U&&(U=1),f.setLineWidth(U*re()),r.isLineSegments?m.setMode(d.LINES):r.isLineLoop?m.setMode(d.LINE_LOOP):m.setMode(d.LINE_STRIP)}else r.isPoints?m.setMode(d.POINTS):r.isSprite&&m.setMode(d.TRIANGLES);r.isInstancedMesh?m.renderInstances(n,x,F,r.count):n.isInstancedBufferGeometry?m.renderInstances(n,x,F,n.maxInstancedCount):m.render(x,F)}}},this.compile=function(e,t){(h=x.get(e,t)).init(),e.traverse((function(e){e.isLight&&(h.pushLight(e),e.castShadow&&h.pushShadow(e))})),h.setupLights(t),e.traverse((function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)ye(t.material[n],e.fog,t);else ye(t.material,e.fog,t)}))};var pe=null;var fe=new nA;function me(e,t,n,i){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)h.pushLight(e),e.castShadow&&h.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||J.intersectsSprite(e)){i&&ie.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ne);var r=w.update(e);(A=e.material).visible&&u.push(e,r,A,n,ie.z,null)}}else if(e.isImmediateRenderObject)i&&ie.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ne),u.push(e,null,e.material,n,ie.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton&&e.skeleton.frame!==m.render.frame&&(e.skeleton.update(),e.skeleton.frame=m.render.frame),!e.frustumCulled||J.intersectsObject(e))){i&&ie.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ne);r=w.update(e);var A=e.material;if(Array.isArray(A))for(var a=r.groups,o=0,s=a.length;o<s;o++){var l=a[o],c=A[l.materialIndex];c&&c.visible&&u.push(e,r,c,n,ie.z,l)}else A.visible&&u.push(e,r,A,n,ie.z,null)}var d=e.children;for(o=0,s=d.length;o<s;o++)me(d[o],t,n,i)}}function ve(e,t,n,i){for(var r=0,A=e.length;r<A;r++){var a=e[r],o=a.object,s=a.geometry,l=void 0===i?a.material:i,c=a.group;if(n.isArrayCamera)if(O=n,se.enabled&&le.isAvailable())Ce(o,t,n,s,l,c);else for(var u=n.cameras,d=0,g=u.length;d<g;d++){var p=u[d];o.layers.test(p.layers)&&(f.viewport(k.copy(p.viewport)),h.setupLights(p),Ce(o,t,p,s,l,c))}else O=null,Ce(o,t,n,s,l,c)}}function Ce(e,t,n,i,r,A){if(e.onBeforeRender(U,t,n,i,r,A),h=x.get(t,O||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){f.setMaterial(r);var a=Ie(n,t.fog,r,e);N.geometry=null,N.program=null,N.wireframe=!1,function(e,t){e.render((function(e){U.renderBufferImmediate(e,t)}))}(e,a)}else U.renderBufferDirect(n,t.fog,i,r,e,A);e.onAfterRender(U,t,n,i,r,A),h=x.get(t,O||n)}function ye(e,t,n){var i=v.get(e),r=h.state.lights,A=h.state.shadowsArray,a=r.state.version,o=b.getParameters(e,r.state,A,t,$.numPlanes,$.numIntersection,n),s=b.getProgramCacheKey(e,o),l=i.program,c=!0;if(void 0===l)e.addEventListener("dispose",de);else if(l.cacheKey!==s)ge(e);else if(i.lightsStateVersion!==a)i.lightsStateVersion=a,c=!1;else{if(void 0!==o.shaderID)return;c=!1}if(c){if(o.shaderID){var u=tA[o.shaderID];i.shader={name:e.type,uniforms:Vr(u.uniforms),vertexShader:u.vertexShader,fragmentShader:u.fragmentShader}}else i.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(i.shader,U),s=b.getProgramCacheKey(e,o),l=b.acquireProgram(e,i.shader,o,s),i.program=l,e.program=l}var d=l.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var g=0;g<U.maxMorphTargets;g++)d["morphTarget"+g]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(g=0;g<U.maxMorphNormals;g++)d["morphNormal"+g]>=0&&e.numSupportedMorphNormals++}var p=i.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(i.numClippingPlanes=$.numPlanes,i.numIntersection=$.numIntersection,p.clippingPlanes=$.uniform),i.fog=t,i.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isAMRTBasicMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),i.lightsStateVersion=a,i.needsLights&&(p.ambientLightColor.value=r.state.ambient,p.lightProbe.value=r.state.probe,p.directionalLights.value=r.state.directional,p.spotLights.value=r.state.spot,p.rectAreaLights.value=r.state.rectArea,p.pointLights.value=r.state.point,p.hemisphereLights.value=r.state.hemi,p.directionalShadowMap.value=r.state.directionalShadowMap,p.directionalShadowMatrix.value=r.state.directionalShadowMatrix,p.spotShadowMap.value=r.state.spotShadowMap,p.spotShadowMatrix.value=r.state.spotShadowMatrix,p.pointShadowMap.value=r.state.pointShadowMap,p.pointShadowMatrix.value=r.state.pointShadowMatrix);var f=i.program.getUniforms(),m=da.seqWithValue(f.seq,p);i.uniformsList=m}function Ie(e,t,n,i){C.resetTextureUnits();var r=v.get(n),A=h.state.lights;if(ee&&(te||e!==V)){var a=e===V&&n.id===D;$.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,r,a)}n.version===r.__version&&(void 0===r.program||n.fog&&r.fog!==t||r.needsLights&&r.lightsStateVersion!==A.state.version?n.needsUpdate=!0:void 0===r.numClippingPlanes||r.numClippingPlanes===$.numPlanes&&r.numIntersection===$.numIntersection||(n.needsUpdate=!0)),n.version!==r.__version&&(ye(n,t,i),r.__version=n.version);var o,s,l=!1,c=!1,u=!1,g=r.program,m=g.getUniforms(),y=r.shader.uniforms;if(f.useProgram(g.program)&&(l=!0,c=!0,u=!0),n.id!==D&&(D=n.id,c=!0),l||V!==e){if(g.numMultiviewViews>0?le.updateCameraProjectionMatricesUniform(e,m):m.setValue(d,"projectionMatrix",e.projectionMatrix),p.logarithmicDepthBuffer&&m.setValue(d,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),V!==e&&(V=e,c=!0,u=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.isAMRTBasicMaterial||n.isACFBasicMaterial||n.envMap){var I=m.map.cameraPosition;void 0!==I&&I.setValue(d,ie.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isAMRTBasicMaterial||n.isACFBasicMaterial||n.isShaderMaterial)&&m.setValue(d,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isAMRTBasicMaterial||n.isACFBasicMaterial||n.isShaderMaterial||n.skinning)&&(g.numMultiviewViews>0?le.updateCameraViewMatricesUniform(e,m):(m.setValue(d,"viewMatrix",e.matrixWorldInverse),m.setValue(d,"viewMatrixR",e.matrixWorldInverseR)))}if(n.skinning){m.setOptional(d,i,"bindMatrix"),m.setOptional(d,i,"bindMatrixInverse");var w=i.skeleton;if(w){var b=w.bones;if(p.floatVertexTextures){if(void 0===w.boneTexture){var B=Math.sqrt(4*b.length);B=qt.ceilPowerOfTwo(B),B=Math.max(B,4);var x=new Float32Array(B*B*4);x.set(w.boneMatrices);var M=new Yr(x,B,B,gt,ct);w.boneMatrices=x,w.boneTexture=M,w.boneTextureSize=B}m.setValue(d,"boneTexture",w.boneTexture,C),m.setValue(d,"boneTextureSize",w.boneTextureSize)}else m.setOptional(d,w,"boneMatrices")}}return(c||r.receiveShadow!==i.receiveShadow)&&(r.receiveShadow=i.receiveShadow,m.setValue(d,"receiveShadow",i.receiveShadow)),c&&(m.setValue(d,"toneMappingExposure",U.toneMappingExposure),m.setValue(d,"toneMappingWhitePoint",U.toneMappingWhitePoint),r.needsLights&&(s=u,(o=y).ambientLightColor.needsUpdate=s,o.lightProbe.needsUpdate=s,o.directionalLights.needsUpdate=s,o.pointLights.needsUpdate=s,o.spotLights.needsUpdate=s,o.rectAreaLights.needsUpdate=s,o.hemisphereLights.needsUpdate=s),t&&n.fog&&function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(y,t),n.isMeshBasicMaterial?we(y,n):n.isMeshLambertMaterial?(we(y,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(y,n)):n.isMeshPhongMaterial?(we(y,n),n.isMeshToonMaterial?function(e,t){be(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(y,n):be(y,n)):n.isMeshStandardMaterial?(we(y,n),n.isMeshPhysicalMaterial?function(e,t){xe(e,t),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen);t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,1===t.side&&e.clearcoatNormalScale.value.negate());e.transparency.value=t.transparency}(y,n):xe(y,n)):n.isAMRTBasicMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.emissive.value.copy(t.emissive),e.smoothness.value=t.smoothness,e.metalness.value=t.metallic,e.reflectivity.value=t.reflectivity,e.transparency.value=t.transparency,e.envYMatrix.value.copy(t.envYMatrix),e.reflecYMatrix.value.copy(t.reflecYMatrix),t.albedo&&(e.albedo.value=t.albedo,!0===t.albedo.matrixAutoUpdate&&t.albedo.updateMatrix(),e.albedoUVTransform.value.copy(t.albedo.matrix));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value=t.normalScale,!0===t.normalMap.matrixAutoUpdate&&t.normalMap.updateMatrix(),e.normalUVTransform.value.copy(t.normalMap.matrix));t.normalMap2&&(e.normalMap2.value=t.normalMap2,e.normalScale2.value=t.normalScale2,!0===t.normalMap2.matrixAutoUpdate&&t.normalMap2.updateMatrix(),e.normal2UVTransform.value.copy(t.normalMap2.matrix));t.metallicMap&&(e.metallicMap.value=t.metallicMap,!0===t.metallicMap.matrixAutoUpdate&&t.metallicMap.updateMatrix(),e.metalUVTransform.value.copy(t.metallicMap.matrix));t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,!0===t.roughnessMap.matrixAutoUpdate&&t.roughnessMap.updateMatrix(),e.roughUVTransform.value.copy(t.roughnessMap.matrix));t.aoMap&&(e.aoMap.value=t.aoMap,e.aoScale.value=t.aoScale,!0===t.aoMap.matrixAutoUpdate&&t.aoMap.updateMatrix(),e.aoUVTransform.value.copy(t.aoMap.matrix));t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap,!0===t.emissiveMap.matrixAutoUpdate&&t.emissiveMap.updateMatrix(),e.emissiveUVTransform.value.copy(t.emissiveMap.matrix));t.reflectMap&&(e.reflectMap.value=t.reflectMap,e.reflectIntensity.value=t.reflectIntensity);e.cutout.value=t.cutout,t.envMap&&(e.envMap.value=t.envMap,e.envMapIntensity.value=t.envMapIntensity,e.flipEnvMap.value=t.envMap.isCubeTexture?-1:1,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=8)}(y,n):n.isMeshMatcapMaterial?(we(y,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(y,n)):n.isMeshDepthMaterial?(we(y,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(y,n)):n.isMeshDistanceMaterial?(we(y,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(y,n)):n.isMeshNormalMaterial?(we(y,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(y,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(y,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(y,n)):n.isPointsMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*z,e.scale.value=.5*_,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(y,n):n.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(y,n):n.isShadowMaterial?(y.color.value.copy(n.color),y.opacity.value=n.opacity):n.isACFBasicMaterial&&(n.color&&y.diffuse.value.copy(n.color),n.map&&(y.map.value=n.map)),void 0!==y.ltc_1&&(y.ltc_1.value=eA.LTC_1),void 0!==y.ltc_2&&(y.ltc_2.value=eA.LTC_2),da.upload(d,r.uniformsList,y,C),n.isShaderMaterial&&(n.uniformsNeedUpdate=!1)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(da.upload(d,r.uniformsList,y,C),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&m.setValue(d,"center",i.center),g.numMultiviewViews>0?le.updateObjectMatricesUniforms(i,e,m):(m.setValue(d,"modelViewMatrix",i.modelViewMatrix),m.setValue(d,"normalMatrix",i.normalMatrix)),m.setValue(d,"modelMatrix",i.matrixWorld),g}function we(e,t){var n;e.opacity.value=t.opacity,t.color&&e.diffuse.value.copy(t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=v.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function be(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function xe(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}fe.setAnimationLoop((function(e){se.isPresenting()||pe&&pe(e)})),void 0!==Be&&fe.setContext(Be),this.setAnimationLoop=function(e){pe=e,se.setAnimationLoop(e),fe.start()},this.render=function(e,t){var n,i;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),i=arguments[3]),t&&t.isCamera){if(!R){N.geometry=null,N.program=null,N.wireframe=!1,D=-1,V=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),se.enabled&&se.isPresenting()&&(t=se.getCamera(t)),(h=x.get(e,t)).init(),e.onBeforeRender(U,e,t,n||P),ne.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),J.setFromMatrix(ne),te=this.localClippingEnabled,ee=$.init(this.clippingPlanes,te,t),(u=B.get(e,t)).init(),me(e,t,0,U.sortObjects),!0===U.sortObjects&&u.sort(),ee&&$.beginShadows();var r=h.state.shadowsArray;ce.render(r,e,t),h.setupLights(t),ee&&$.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),se.enabled&&le.isAvailable()&&le.attachCamera(t),M.render(u,e,t,i);var A=u.opaque,a=u.transparent;if(e.overrideMaterial){var o=e.overrideMaterial;A.length&&ve(A,e,t,o),a.length&&ve(a,e,t,o)}else A.length&&ve(A,e,t),a.length&&ve(a,e,t);e.onAfterRender(U,e,t),null!==P&&(C.updateRenderTargetMipmap(P),C.updateMultisampleRenderTarget(P)),f.buffers.depth.setTest(!0),f.buffers.depth.setMask(!0),f.buffers.color.setMask(!0),f.setPolygonOffset(!1),se.enabled&&(le.isAvailable()&&le.detachCamera(t),se.submitFrame()),u=null,h=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(e){L!==e&&null===P&&d.bindFramebuffer(d.FRAMEBUFFER,e),L=e},this.getActiveCubeFace=function(){return H},this.getActiveMipmapLevel=function(){return G},this.getRenderTarget=function(){return P},this.setRenderTarget=function(e,t,n){P=e,H=t,G=n,e&&void 0===v.get(e).__webglFramebuffer&&C.setupRenderTarget(e);var i=L,r=!1;if(e){var A=v.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(i=A[t||0],r=!0):i=e.isWebGLMultisampleRenderTarget?v.get(e).__webglMultisampledFramebuffer:A,k.copy(e.viewport),W.copy(e.scissor),Z=e.scissorTest}else k.copy(K).multiplyScalar(z).floor(),W.copy(Y).multiplyScalar(z).floor(),Z=j;if(Q!==i&&(d.bindFramebuffer(d.FRAMEBUFFER,i),Q=i),f.viewport(k),f.scissor(W),f.setScissorTest(Z),r){var a=v.get(e.texture);d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_CUBE_MAP_POSITIVE_X+(t||0),a.__webglTexture,n||0)}},this.readRenderTargetPixels=function(e,t,n,i,r,A,a){if(e&&e.isWebGLRenderTarget){var o=v.get(e).__webglFramebuffer;if(e.isWebGLRenderTargetCube&&void 0!==a&&(o=o[a]),o){var s=!1;o!==Q&&(d.bindFramebuffer(d.FRAMEBUFFER,o),s=!0);try{var l=e.texture,c=l.format,u=l.type;if(c!==gt&&F.convert(c)!==d.getParameter(d.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(u===ot||F.convert(u)===d.getParameter(d.IMPLEMENTATION_COLOR_READ_TYPE)||u===ct&&(p.isWebGL2||g.get("OES_texture_float")||g.get("WEBGL_color_buffer_float"))||u===ut&&(p.isWebGL2?g.get("EXT_color_buffer_float"):g.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");d.checkFramebufferStatus(d.FRAMEBUFFER)===d.FRAMEBUFFER_COMPLETE?t>=0&&t<=e.width-i&&n>=0&&n<=e.height-r&&d.readPixels(t,n,i,r,F.convert(c),F.convert(u),A):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&d.bindFramebuffer(d.FRAMEBUFFER,Q)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){void 0===n&&(n=0);var i=Math.pow(2,-n),r=Math.floor(t.image.width*i),A=Math.floor(t.image.height*i),a=F.convert(t.format);C.setTexture2D(t,0),d.copyTexImage2D(d.TEXTURE_2D,n,a,e.x,e.y,r,A,0),f.unbindTexture()},this.copyTextureToTexture=function(e,t,n,i){var r=t.image.width,A=t.image.height,a=F.convert(n.format),o=F.convert(n.type);C.setTexture2D(n,0),t.isDataTexture?d.texSubImage2D(d.TEXTURE_2D,i||0,e.x,e.y,r,A,a,o,t.image.data):d.texSubImage2D(d.TEXTURE_2D,i||0,e.x,e.y,a,o,t.image),f.unbindTexture()},this.initTexture=function(e){C.setTexture2D(e,0),f.unbindTexture()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function ao(e,t){this.name="",this.color=new Qi(e),this.density=void 0!==t?t:25e-5}function oo(e,t,n){this.name="",this.color=new Qi(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function so(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Xt,this.updateRange={offset:0,count:-1},this.version=0}function lo(e,t,n,i){this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===i}function co(e){Wi.call(this),this.type="SpriteMaterial",this.color=new Qi(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Object.assign(io.prototype,Yt.prototype),Object.assign(ro.prototype,Yt.prototype),Object.assign(ao.prototype,{isFogExp2:!0,clone:function(){return new ao(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(oo.prototype,{isFog:!0,clone:function(){return new oo(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(so.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(so.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Object.defineProperties(lo.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(lo.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}}),co.prototype=Object.create(Wi.prototype),co.prototype.constructor=co,co.prototype.isSpriteMaterial=!0,co.prototype.copy=function(e){return Wi.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var uo=new rn,ho=new rn,go=new rn,po=new $t,fo=new $t,mo=new Tn,vo=new rn,Co=new rn,yo=new rn,Io=new $t,wo=new $t,bo=new $t;function Bo(e){if(_n.call(this),this.type="Sprite",void 0===$a){$a=new ur;var t=new so(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);$a.setIndex([0,1,2,0,2,3]),$a.setAttribute("position",new lo(t,3,0,!1)),$a.setAttribute("uv",new lo(t,2,3,!1))}this.geometry=$a,this.material=void 0!==e?e:new co,this.center=new $t(.5,.5)}function xo(e,t,n,i,r,A){po.subVectors(e,n).addScalar(.5).multiply(i),void 0!==r?(fo.x=A*po.x-r*po.y,fo.y=r*po.x+A*po.y):fo.copy(po),e.copy(t),e.x+=fo.x,e.y+=fo.y,e.applyMatrix4(mo)}Bo.prototype=Object.assign(Object.create(_n.prototype),{constructor:Bo,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ho.setFromMatrixScale(this.matrixWorld),mo.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),go.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&ho.multiplyScalar(-go.z);var n,i,r=this.material.rotation;0!==r&&(i=Math.cos(r),n=Math.sin(r));var A=this.center;xo(vo.set(-.5,-.5,0),go,A,ho,n,i),xo(Co.set(.5,-.5,0),go,A,ho,n,i),xo(yo.set(.5,.5,0),go,A,ho,n,i),Io.set(0,0),wo.set(1,0),bo.set(1,1);var a=e.ray.intersectTriangle(vo,Co,yo,!1,uo);if(null!==a||(xo(Co.set(-.5,.5,0),go,A,ho,n,i),wo.set(0,1),null!==(a=e.ray.intersectTriangle(vo,yo,Co,!1,uo)))){var o=e.ray.origin.distanceTo(uo);o<e.near||o>e.far||t.push({distance:o,point:uo.clone(),uv:Li.getUV(uo,vo,Co,yo,Io,wo,bo,new $t),face:null,object:this})}},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return _n.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}});var Mo=new rn,Eo=new rn;function To(){_n.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function So(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Fr.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Tn,this.bindMatrixInverse=new Tn}To.prototype=Object.assign(Object.create(_n.prototype),{constructor:To,isLOD:!0,copy:function(e){_n.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,i=t.length;n<i;n++){var r=t[n];this.addLevel(r.object.clone(),r.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,i=0;i<n.length&&!(t<n[i].distance);i++);return n.splice(i,0,{distance:t,object:e}),this.add(e),this},getObjectForDistance:function(e){var t=this.levels;if(t.length>0){for(var n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){Mo.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(Mo);this.getObjectForDistance(n).raycast(e,t)}},update:function(e){var t=this.levels;if(t.length>1){Mo.setFromMatrixPosition(e.matrixWorld),Eo.setFromMatrixPosition(this.matrixWorld);var n=Mo.distanceTo(Eo);t[0].object.visible=!0;for(var i=1,r=t.length;i<r&&n>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(;i<r;i++)t[i].object.visible=!1}},toJSON:function(e){var t=_n.prototype.toJSON.call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var n=this.levels,i=0,r=n.length;i<r;i++){var A=n[i];t.object.levels.push({object:A.object.uuid,distance:A.distance})}return t}}),So.prototype=Object.assign(Object.create(Fr.prototype),{constructor:So,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new vn,t=this.geometry.attributes.skinWeight,n=0,i=t.count;n<i;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Fr.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Fo=new Tn,Uo=new Tn;function Ro(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Tn)}}function Lo(){_n.call(this),this.type="Bone"}Object.assign(Ro.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new Tn;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture,r=0,A=e.length;r<A;r++){var a=e[r]?e[r].matrixWorld:Uo;Fo.multiplyMatrices(a,t[r]),Fo.toArray(n,16*r)}void 0!==i&&(i.needsUpdate=!0)},clone:function(){return new Ro(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var i=this.bones[t];if(i.name===e)return i}}}),Lo.prototype=Object.assign(Object.create(_n.prototype),{constructor:Lo,isBone:!0});var Ho=new Tn,Go=new Tn,Po=[],Qo=new Fr,Do=new oi;function No(e,t,n){Fr.call(this,e,t),this.bufferArray=new Float32Array(16*n),this.instanceMatrix=new Xi(this.bufferArray,16),this.count=n,this.objects=[],null==this.geometry.boundingBox&&this.geometry.computeBoundingBox(),Do.copy(this.geometry.boundingBox)}function Vo(e){Wi.call(this),this.type="LineBasicMaterial",this.color=new Qi(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}No.prototype=Object.assign(Object.create(Fr.prototype),{constructor:No,isInstancedMesh:!0,getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){var n=this.matrixWorld,i=this.count;if(Qo.geometry=this.geometry,Qo.material=this.material,void 0!==Qo.material)for(var r=0;r<i;r++)this.getMatrixAt(r,Ho),Go.multiplyMatrices(n,Ho),Qo.matrixWorld=Go,Qo.raycast(e,Po),Po.length>0&&(Po[0].instanceId=r,Po[0].object=this,t.push(Po[0]),Po.length=0)},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e),0===e?(this.geometry.boundingBox.copy((new oi).copy(Do).applyMatrix4(t)),null==this.geometry.boundingSphere&&(this.geometry.boundingSphere=new ci)):this.geometry.boundingBox.union((new oi).copy(Do).applyMatrix4(t)),this.geometry.boundingBox.getBoundingSphere(this.geometry.boundingSphere)},updateMorphTargets:function(){}}),Vo.prototype=Object.create(Wi.prototype),Vo.prototype.constructor=Vo,Vo.prototype.isLineBasicMaterial=!0,Vo.prototype.copy=function(e){return Wi.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this};var Oo=new rn,ko=new rn,Wo=new Tn,Zo=new vi,Xo=new ci;function _o(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),_n.call(this),this.type="Line",this.geometry=void 0!==e?e:new ur,this.material=void 0!==t?t:new Vo({color:16777215*Math.random()})}_o.prototype=Object.assign(Object.create(_n.prototype),{constructor:_o,isLine:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],i=1,r=t.count;i<r;i++)Oo.fromBufferAttribute(t,i-1),ko.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=Oo.distanceTo(ko);e.setAttribute("lineDistance",new $i(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var A=e.vertices;(n=e.lineDistances)[0]=0;for(i=1,r=A.length;i<r;i++)n[i]=n[i-1],n[i]+=A[i-1].distanceTo(A[i])}return this},raycast:function(e,t){var n=e.linePrecision,i=this.geometry,r=this.matrixWorld;if(null===i.boundingSphere&&i.computeBoundingSphere(),Xo.copy(i.boundingSphere),Xo.applyMatrix4(r),Xo.radius+=n,!1!==e.ray.intersectsSphere(Xo)){Wo.getInverse(r),Zo.copy(e.ray).applyMatrix4(Wo);var A=n/((this.scale.x+this.scale.y+this.scale.z)/3),a=A*A,o=new rn,s=new rn,l=new rn,c=new rn,u=this&&this.isLineSegments?2:1;if(i.isBufferGeometry){var h=i.index,d=i.attributes.position.array;if(null!==h)for(var g=h.array,p=0,f=g.length-1;p<f;p+=u){var m=g[p],v=g[p+1];if(o.fromArray(d,3*m),s.fromArray(d,3*v),!(Zo.distanceSqToSegment(o,s,c,l)>a))c.applyMatrix4(this.matrixWorld),(I=e.ray.origin.distanceTo(c))<e.near||I>e.far||t.push({distance:I,point:l.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this})}else for(p=0,f=d.length/3-1;p<f;p+=u){if(o.fromArray(d,3*p),s.fromArray(d,3*p+3),!(Zo.distanceSqToSegment(o,s,c,l)>a))c.applyMatrix4(this.matrixWorld),(I=e.ray.origin.distanceTo(c))<e.near||I>e.far||t.push({distance:I,point:l.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this})}}else if(i.isGeometry){var C=i.vertices,y=C.length;for(p=0;p<y-1;p+=u){var I;if(!(Zo.distanceSqToSegment(C[p],C[p+1],c,l)>a))c.applyMatrix4(this.matrixWorld),(I=e.ray.origin.distanceTo(c))<e.near||I>e.far||t.push({distance:I,point:l.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this})}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var zo=new rn,Ko=new rn;function Yo(e,t){_o.call(this,e,t),this.type="LineSegments"}function jo(e,t){_o.call(this,e,t),this.type="LineLoop"}function Jo(e){Wi.call(this),this.type="PointsMaterial",this.color=new Qi(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}Yo.prototype=Object.assign(Object.create(_o.prototype),{constructor:Yo,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],i=0,r=t.count;i<r;i+=2)zo.fromBufferAttribute(t,i),Ko.fromBufferAttribute(t,i+1),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+zo.distanceTo(Ko);e.setAttribute("lineDistance",new $i(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var A=e.vertices;for(n=e.lineDistances,i=0,r=A.length;i<r;i+=2)zo.copy(A[i]),Ko.copy(A[i+1]),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+zo.distanceTo(Ko)}return this}}),jo.prototype=Object.assign(Object.create(_o.prototype),{constructor:jo,isLineLoop:!0}),Jo.prototype=Object.create(Wi.prototype),Jo.prototype.constructor=Jo,Jo.prototype.isPointsMaterial=!0,Jo.prototype.copy=function(e){return Wi.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var qo=new Tn,$o=new vi,es=new ci,ts=new rn;function ns(e,t){_n.call(this),this.type="Points",this.geometry=void 0!==e?e:new ur,this.material=void 0!==t?t:new Jo({color:16777215*Math.random()}),this.updateMorphTargets()}function is(e,t,n,i,r,A,a){var o=$o.distanceSqToPoint(e);if(o<n){var s=new rn;$o.closestPointToPoint(e,s),s.applyMatrix4(i);var l=r.ray.origin.distanceTo(s);if(l<r.near||l>r.far)return;A.push({distance:l,distanceToRay:Math.sqrt(o),point:s,index:t,face:null,object:a})}}function rs(e,t,n,i,r,A,a,o,s,l,c,u){mn.call(this,null,A,a,o,s,l,i,r,c,u),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function As(e,t,n,i,r,A,a,o,s){mn.call(this,e,t,n,i,r,A,a,o,s),this.needsUpdate=!0}function as(e,t,n,i,r,A,a,o,s,l){if((l=void 0!==l?l:ft)!==ft&&l!==mt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&l===ft&&(n=st),void 0===n&&l===mt&&(n=ht),mn.call(this,null,i,r,A,a,o,l,n,s),this.image={width:e,height:t},this.magFilter=void 0!==a?a:tt,this.minFilter=void 0!==o?o:tt,this.flipY=!1,this.generateMipmaps=!1}function os(e){ur.call(this),this.type="WireframeGeometry";var t,n,i,r,A,a,o,s,l,c,u=[],h=[0,0],d={},g=["a","b","c"];if(e&&e.isGeometry){var p=e.faces;for(t=0,i=p.length;t<i;t++){var f=p[t];for(n=0;n<3;n++)o=f[g[n]],s=f[g[(n+1)%3]],h[0]=Math.min(o,s),h[1]=Math.max(o,s),void 0===d[l=h[0]+","+h[1]]&&(d[l]={index1:h[0],index2:h[1]})}for(l in d)a=d[l],c=e.vertices[a.index1],u.push(c.x,c.y,c.z),c=e.vertices[a.index2],u.push(c.x,c.y,c.z)}else if(e&&e.isBufferGeometry){var m,v,C,y,I,w,b;if(c=new rn,null!==e.index){for(m=e.attributes.position,v=e.index,0===(C=e.groups).length&&(C=[{start:0,count:v.count,materialIndex:0}]),r=0,A=C.length;r<A;++r)for(t=I=(y=C[r]).start,i=I+y.count;t<i;t+=3)for(n=0;n<3;n++)o=v.getX(t+n),s=v.getX(t+(n+1)%3),h[0]=Math.min(o,s),h[1]=Math.max(o,s),void 0===d[l=h[0]+","+h[1]]&&(d[l]={index1:h[0],index2:h[1]});for(l in d)a=d[l],c.fromBufferAttribute(m,a.index1),u.push(c.x,c.y,c.z),c.fromBufferAttribute(m,a.index2),u.push(c.x,c.y,c.z)}else for(t=0,i=(m=e.attributes.position).count/3;t<i;t++)for(n=0;n<3;n++)w=3*t+n,c.fromBufferAttribute(m,w),u.push(c.x,c.y,c.z),b=3*t+(n+1)%3,c.fromBufferAttribute(m,b),u.push(c.x,c.y,c.z)}this.setAttribute("position",new $i(u,3))}function ss(e,t,n){Qr.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new ls(e,t,n)),this.mergeVertices()}function ls(e,t,n){ur.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var i,r,A=[],a=[],o=[],s=[],l=1e-5,c=new rn,u=new rn,h=new rn,d=new rn,g=new rn;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var p=t+1;for(i=0;i<=n;i++){var f=i/n;for(r=0;r<=t;r++){var m=r/t;e(m,f,u),a.push(u.x,u.y,u.z),m-l>=0?(e(m-l,f,h),d.subVectors(u,h)):(e(m+l,f,h),d.subVectors(h,u)),f-l>=0?(e(m,f-l,h),g.subVectors(u,h)):(e(m,f+l,h),g.subVectors(h,u)),c.crossVectors(d,g).normalize(),o.push(c.x,c.y,c.z),s.push(m,f)}}for(i=0;i<n;i++)for(r=0;r<t;r++){var v=i*p+r,C=i*p+r+1,y=(i+1)*p+r+1,I=(i+1)*p+r;A.push(v,C,I),A.push(C,y,I)}this.setIndex(A),this.setAttribute("position",new $i(a,3)),this.setAttribute("normal",new $i(o,3)),this.setAttribute("uv",new $i(s,2))}function cs(e,t,n,i){Qr.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},this.fromBufferGeometry(new us(e,t,n,i)),this.mergeVertices()}function us(e,t,n,i){ur.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},n=n||1;var r=[],A=[];function a(e,t,n,i){var r,A,a=Math.pow(2,i),s=[];for(r=0;r<=a;r++){s[r]=[];var l=e.clone().lerp(n,r/a),c=t.clone().lerp(n,r/a),u=a-r;for(A=0;A<=u;A++)s[r][A]=0===A&&r===a?l:l.clone().lerp(c,A/u)}for(r=0;r<a;r++)for(A=0;A<2*(a-r)-1;A++){var h=Math.floor(A/2);A%2==0?(o(s[r][h+1]),o(s[r+1][h]),o(s[r][h])):(o(s[r][h+1]),o(s[r+1][h+1]),o(s[r+1][h]))}}function o(e){r.push(e.x,e.y,e.z)}function s(t,n){var i=3*t;n.x=e[i+0],n.y=e[i+1],n.z=e[i+2]}function l(e,t,n,i){i<0&&1===e.x&&(A[t]=e.x-1),0===n.x&&0===n.z&&(A[t]=i/2/Math.PI+.5)}function c(e){return Math.atan2(e.z,-e.x)}!function(e){for(var n=new rn,i=new rn,r=new rn,A=0;A<t.length;A+=3)s(t[A+0],n),s(t[A+1],i),s(t[A+2],r),a(n,i,r,e)}(i=i||0),function(e){for(var t=new rn,n=0;n<r.length;n+=3)t.x=r[n+0],t.y=r[n+1],t.z=r[n+2],t.normalize().multiplyScalar(e),r[n+0]=t.x,r[n+1]=t.y,r[n+2]=t.z}(n),function(){for(var e=new rn,t=0;t<r.length;t+=3){e.x=r[t+0],e.y=r[t+1],e.z=r[t+2];var n=c(e)/2/Math.PI+.5,i=(a=e,Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5);A.push(n,1-i)}var a;(function(){for(var e=new rn,t=new rn,n=new rn,i=new rn,a=new $t,o=new $t,s=new $t,u=0,h=0;u<r.length;u+=9,h+=6){e.set(r[u+0],r[u+1],r[u+2]),t.set(r[u+3],r[u+4],r[u+5]),n.set(r[u+6],r[u+7],r[u+8]),a.set(A[h+0],A[h+1]),o.set(A[h+2],A[h+3]),s.set(A[h+4],A[h+5]),i.copy(e).add(t).add(n).divideScalar(3);var d=c(i);l(a,h+0,e,d),l(o,h+2,t,d),l(s,h+4,n,d)}})(),function(){for(var e=0;e<A.length;e+=6){var t=A[e+0],n=A[e+2],i=A[e+4],r=Math.max(t,n,i),a=Math.min(t,n,i);r>.9&&a<.1&&(t<.2&&(A[e+0]+=1),n<.2&&(A[e+2]+=1),i<.2&&(A[e+4]+=1))}}()}(),this.setAttribute("position",new $i(r,3)),this.setAttribute("normal",new $i(r.slice(),3)),this.setAttribute("uv",new $i(A,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}function hs(e,t){Qr.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new ds(e,t)),this.mergeVertices()}function ds(e,t){us.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function gs(e,t){Qr.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new ps(e,t)),this.mergeVertices()}function ps(e,t){us.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function fs(e,t){Qr.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new ms(e,t)),this.mergeVertices()}function ms(e,t){var n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];us.call(this,i,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function vs(e,t){Qr.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Cs(e,t)),this.mergeVertices()}function Cs(e,t){var n=(1+Math.sqrt(5))/2,i=1/n,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i];us.call(this,r,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function ys(e,t,n,i,r,A){Qr.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},void 0!==A&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new Is(e,t,n,i,r);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function Is(e,t,n,i,r){ur.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},t=t||64,n=n||1,i=i||8,r=r||!1;var A=e.computeFrenetFrames(t,r);this.tangents=A.tangents,this.normals=A.normals,this.binormals=A.binormals;var a,o,s=new rn,l=new rn,c=new $t,u=new rn,h=[],d=[],g=[],p=[];function f(r){u=e.getPointAt(r/t,u);var a=A.normals[r],c=A.binormals[r];for(o=0;o<=i;o++){var g=o/i*Math.PI*2,p=Math.sin(g),f=-Math.cos(g);l.x=f*a.x+p*c.x,l.y=f*a.y+p*c.y,l.z=f*a.z+p*c.z,l.normalize(),d.push(l.x,l.y,l.z),s.x=u.x+n*l.x,s.y=u.y+n*l.y,s.z=u.z+n*l.z,h.push(s.x,s.y,s.z)}}!function(){for(a=0;a<t;a++)f(a);f(!1===r?t:0),function(){for(a=0;a<=t;a++)for(o=0;o<=i;o++)c.x=a/t,c.y=o/i,g.push(c.x,c.y)}(),function(){for(o=1;o<=t;o++)for(a=1;a<=i;a++){var e=(i+1)*(o-1)+(a-1),n=(i+1)*o+(a-1),r=(i+1)*o+a,A=(i+1)*(o-1)+a;p.push(e,n,A),p.push(n,r,A)}}()}(),this.setIndex(p),this.setAttribute("position",new $i(h,3)),this.setAttribute("normal",new $i(d,3)),this.setAttribute("uv",new $i(g,2))}function ws(e,t,n,i,r,A,a){Qr.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:A},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new bs(e,t,n,i,r,A)),this.mergeVertices()}function bs(e,t,n,i,r,A){ur.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:A},e=e||1,t=t||.4,n=Math.floor(n)||64,i=Math.floor(i)||8,r=r||2,A=A||3;var a,o,s=[],l=[],c=[],u=[],h=new rn,d=new rn,g=new rn,p=new rn,f=new rn,m=new rn,v=new rn;for(a=0;a<=n;++a){var C=a/n*r*Math.PI*2;for(E(C,r,A,e,g),E(C+.01,r,A,e,p),m.subVectors(p,g),v.addVectors(p,g),f.crossVectors(m,v),v.crossVectors(f,m),f.normalize(),v.normalize(),o=0;o<=i;++o){var y=o/i*Math.PI*2,I=-t*Math.cos(y),w=t*Math.sin(y);h.x=g.x+(I*v.x+w*f.x),h.y=g.y+(I*v.y+w*f.y),h.z=g.z+(I*v.z+w*f.z),l.push(h.x,h.y,h.z),d.subVectors(h,g).normalize(),c.push(d.x,d.y,d.z),u.push(a/n),u.push(o/i)}}for(o=1;o<=n;o++)for(a=1;a<=i;a++){var b=(i+1)*(o-1)+(a-1),B=(i+1)*o+(a-1),x=(i+1)*o+a,M=(i+1)*(o-1)+a;s.push(b,B,M),s.push(B,x,M)}function E(e,t,n,i,r){var A=Math.cos(e),a=Math.sin(e),o=n/t*e,s=Math.cos(o);r.x=i*(2+s)*.5*A,r.y=i*(2+s)*a*.5,r.z=i*Math.sin(o)*.5}this.setIndex(s),this.setAttribute("position",new $i(l,3)),this.setAttribute("normal",new $i(c,3)),this.setAttribute("uv",new $i(u,2))}function Bs(e,t,n,i,r){Qr.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},this.fromBufferGeometry(new xs(e,t,n,i,r)),this.mergeVertices()}function xs(e,t,n,i,r){ur.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},e=e||1,t=t||.4,n=Math.floor(n)||8,i=Math.floor(i)||6,r=r||2*Math.PI;var A,a,o=[],s=[],l=[],c=[],u=new rn,h=new rn,d=new rn;for(A=0;A<=n;A++)for(a=0;a<=i;a++){var g=a/i*r,p=A/n*Math.PI*2;h.x=(e+t*Math.cos(p))*Math.cos(g),h.y=(e+t*Math.cos(p))*Math.sin(g),h.z=t*Math.sin(p),s.push(h.x,h.y,h.z),u.x=e*Math.cos(g),u.y=e*Math.sin(g),d.subVectors(h,u).normalize(),l.push(d.x,d.y,d.z),c.push(a/i),c.push(A/n)}for(A=1;A<=n;A++)for(a=1;a<=i;a++){var f=(i+1)*A+a-1,m=(i+1)*(A-1)+a-1,v=(i+1)*(A-1)+a,C=(i+1)*A+a;o.push(f,m,C),o.push(m,v,C)}this.setIndex(o),this.setAttribute("position",new $i(s,3)),this.setAttribute("normal",new $i(l,3)),this.setAttribute("uv",new $i(c,2))}ns.prototype=Object.assign(Object.create(_n.prototype),{constructor:ns,isPoints:!0,raycast:function(e,t){var n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),es.copy(n.boundingSphere),es.applyMatrix4(i),es.radius+=r,!1!==e.ray.intersectsSphere(es)){qo.getInverse(i),$o.copy(e.ray).applyMatrix4(qo);var A=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=A*A;if(n.isBufferGeometry){var o=n.index,s=n.attributes.position.array;if(null!==o)for(var l=o.array,c=0,u=l.length;c<u;c++){var h=l[c];ts.fromArray(s,3*h),is(ts,h,a,i,e,t,this)}else{c=0;for(var d=s.length/3;c<d;c++)ts.fromArray(s,3*c),is(ts,c,a,i,e,t,this)}}else{var g=n.vertices;for(c=0,d=g.length;c<d;c++)is(g[c],c,a,i,e,t,this)}}},updateMorphTargets:function(){var e,t,n,i=this.geometry;if(i.isBufferGeometry){var r=i.morphAttributes,A=Object.keys(r);if(A.length>0){var a=r[A[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)n=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var o=i.morphTargets;void 0!==o&&o.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),rs.prototype=Object.create(mn.prototype),rs.prototype.constructor=rs,rs.prototype.isCompressedTexture=!0,As.prototype=Object.create(mn.prototype),As.prototype.constructor=As,As.prototype.isCanvasTexture=!0,as.prototype=Object.create(mn.prototype),as.prototype.constructor=as,as.prototype.isDepthTexture=!0,os.prototype=Object.create(ur.prototype),os.prototype.constructor=os,ss.prototype=Object.create(Qr.prototype),ss.prototype.constructor=ss,ls.prototype=Object.create(ur.prototype),ls.prototype.constructor=ls,cs.prototype=Object.create(Qr.prototype),cs.prototype.constructor=cs,us.prototype=Object.create(ur.prototype),us.prototype.constructor=us,hs.prototype=Object.create(Qr.prototype),hs.prototype.constructor=hs,ds.prototype=Object.create(us.prototype),ds.prototype.constructor=ds,gs.prototype=Object.create(Qr.prototype),gs.prototype.constructor=gs,ps.prototype=Object.create(us.prototype),ps.prototype.constructor=ps,fs.prototype=Object.create(Qr.prototype),fs.prototype.constructor=fs,ms.prototype=Object.create(us.prototype),ms.prototype.constructor=ms,vs.prototype=Object.create(Qr.prototype),vs.prototype.constructor=vs,Cs.prototype=Object.create(us.prototype),Cs.prototype.constructor=Cs,ys.prototype=Object.create(Qr.prototype),ys.prototype.constructor=ys,Is.prototype=Object.create(ur.prototype),Is.prototype.constructor=Is,Is.prototype.toJSON=function(){var e=ur.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e},ws.prototype=Object.create(Qr.prototype),ws.prototype.constructor=ws,bs.prototype=Object.create(ur.prototype),bs.prototype.constructor=bs,Bs.prototype=Object.create(Qr.prototype),Bs.prototype.constructor=Bs,xs.prototype=Object.create(ur.prototype),xs.prototype.constructor=xs;var Ms=function(e,t,n){n=n||2;var i,r,A,a,o,s,l,c=t&&t.length,u=c?t[0]*n:e.length,h=Es(e,0,u,n,!0),d=[];if(!h||h.next===h.prev)return d;if(c&&(h=function(e,t,n,i){var r,A,a,o=[];for(r=0,A=t.length;r<A;r++)(a=Es(e,t[r]*i,r<A-1?t[r+1]*i:e.length,i,!1))===a.next&&(a.steiner=!0),o.push(Qs(a));for(o.sort(Hs),r=0;r<o.length;r++)Gs(o[r],n),n=Ts(n,n.next);return n}(e,t,h,n)),e.length>80*n){i=A=e[0],r=a=e[1];for(var g=n;g<u;g+=n)(o=e[g])<i&&(i=o),(s=e[g+1])<r&&(r=s),o>A&&(A=o),s>a&&(a=s);l=0!==(l=Math.max(A-i,a-r))?1/l:0}return Ss(h,d,n,i,r,l),d};function Es(e,t,n,i,r){var A,a;if(r===function(e,t,n,i){for(var r=0,A=t,a=n-i;A<n;A+=i)r+=(e[a]-e[A])*(e[A+1]+e[a+1]),a=A;return r}(e,t,n,i)>0)for(A=t;A<n;A+=i)a=Xs(A,e[A],e[A+1],a);else for(A=n-i;A>=t;A-=i)a=Xs(A,e[A],e[A+1],a);return a&&Os(a,a.next)&&(_s(a),a=a.next),a}function Ts(e,t){if(!e)return e;t||(t=e);var n,i=e;do{if(n=!1,i.steiner||!Os(i,i.next)&&0!==Vs(i.prev,i,i.next))i=i.next;else{if(_s(i),(i=t=i.prev)===i.next)break;n=!0}}while(n||i!==t);return t}function Ss(e,t,n,i,r,A,a){if(e){!a&&A&&function(e,t,n,i){var r=e;do{null===r.z&&(r.z=Ps(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,n,i,r,A,a,o,s,l=1;do{for(n=e,e=null,A=null,a=0;n;){for(a++,i=n,o=0,t=0;t<l&&(o++,i=i.nextZ);t++);for(s=l;o>0||s>0&&i;)0!==o&&(0===s||!i||n.z<=i.z)?(r=n,n=n.nextZ,o--):(r=i,i=i.nextZ,s--),A?A.nextZ=r:e=r,r.prevZ=A,A=r;n=i}A.nextZ=null,l*=2}while(a>1)}(r)}(e,i,r,A);for(var o,s,l=e;e.prev!==e.next;)if(o=e.prev,s=e.next,A?Us(e,i,r,A):Fs(e))t.push(o.i/n),t.push(e.i/n),t.push(s.i/n),_s(e),e=s.next,l=s.next;else if((e=s)===l){a?1===a?Ss(e=Rs(e,t,n),t,n,i,r,A,2):2===a&&Ls(e,t,n,i,r,A):Ss(Ts(e),t,n,i,r,A,1);break}}}function Fs(e){var t=e.prev,n=e,i=e.next;if(Vs(t,n,i)>=0)return!1;for(var r=e.next.next;r!==e.prev;){if(Ds(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&Vs(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Us(e,t,n,i){var r=e.prev,A=e,a=e.next;if(Vs(r,A,a)>=0)return!1;for(var o=r.x<A.x?r.x<a.x?r.x:a.x:A.x<a.x?A.x:a.x,s=r.y<A.y?r.y<a.y?r.y:a.y:A.y<a.y?A.y:a.y,l=r.x>A.x?r.x>a.x?r.x:a.x:A.x>a.x?A.x:a.x,c=r.y>A.y?r.y>a.y?r.y:a.y:A.y>a.y?A.y:a.y,u=Ps(o,s,t,n,i),h=Ps(l,c,t,n,i),d=e.prevZ,g=e.nextZ;d&&d.z>=u&&g&&g.z<=h;){if(d!==e.prev&&d!==e.next&&Ds(r.x,r.y,A.x,A.y,a.x,a.y,d.x,d.y)&&Vs(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,g!==e.prev&&g!==e.next&&Ds(r.x,r.y,A.x,A.y,a.x,a.y,g.x,g.y)&&Vs(g.prev,g,g.next)>=0)return!1;g=g.nextZ}for(;d&&d.z>=u;){if(d!==e.prev&&d!==e.next&&Ds(r.x,r.y,A.x,A.y,a.x,a.y,d.x,d.y)&&Vs(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;g&&g.z<=h;){if(g!==e.prev&&g!==e.next&&Ds(r.x,r.y,A.x,A.y,a.x,a.y,g.x,g.y)&&Vs(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function Rs(e,t,n){var i=e;do{var r=i.prev,A=i.next.next;!Os(r,A)&&ks(r,i,i.next,A)&&Ws(r,A)&&Ws(A,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(A.i/n),_s(i),_s(i.next),i=e=A),i=i.next}while(i!==e);return i}function Ls(e,t,n,i,r,A){var a=e;do{for(var o=a.next.next;o!==a.prev;){if(a.i!==o.i&&Ns(a,o)){var s=Zs(a,o);return a=Ts(a,a.next),s=Ts(s,s.next),Ss(a,t,n,i,r,A),void Ss(s,t,n,i,r,A)}o=o.next}a=a.next}while(a!==e)}function Hs(e,t){return e.x-t.x}function Gs(e,t){if(t=function(e,t){var n,i=t,r=e.x,A=e.y,a=-1/0;do{if(A<=i.y&&A>=i.next.y&&i.next.y!==i.y){var o=i.x+(A-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(o<=r&&o>a){if(a=o,o===r){if(A===i.y)return i;if(A===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==t);if(!n)return null;if(r===a)return n.prev;var s,l=n,c=n.x,u=n.y,h=1/0;i=n.next;for(;i!==l;)r>=i.x&&i.x>=c&&r!==i.x&&Ds(A<u?r:a,A,c,u,A<u?a:r,A,i.x,i.y)&&((s=Math.abs(A-i.y)/(r-i.x))<h||s===h&&i.x>n.x)&&Ws(i,e)&&(n=i,h=s),i=i.next;return n}(e,t)){var n=Zs(t,e);Ts(n,n.next)}}function Ps(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Qs(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Ds(e,t,n,i,r,A,a,o){return(r-a)*(t-o)-(e-a)*(A-o)>=0&&(e-a)*(i-o)-(n-a)*(t-o)>=0&&(n-a)*(A-o)-(r-a)*(i-o)>=0}function Ns(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&ks(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&Ws(e,t)&&Ws(t,e)&&function(e,t){var n=e,i=!1,r=(e.x+t.x)/2,A=(e.y+t.y)/2;do{n.y>A!=n.next.y>A&&n.next.y!==n.y&&r<(n.next.x-n.x)*(A-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)}function Vs(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Os(e,t){return e.x===t.x&&e.y===t.y}function ks(e,t,n,i){return!!(Os(e,n)&&Os(t,i)||Os(e,i)&&Os(n,t))||Vs(e,t,n)>0!=Vs(e,t,i)>0&&Vs(n,i,e)>0!=Vs(n,i,t)>0}function Ws(e,t){return Vs(e.prev,e,e.next)<0?Vs(e,t,e.next)>=0&&Vs(e,e.prev,t)>=0:Vs(e,t,e.prev)<0||Vs(e,e.next,t)<0}function Zs(e,t){var n=new zs(e.i,e.x,e.y),i=new zs(t.i,t.x,t.y),r=e.next,A=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,A.next=i,i.prev=A,i}function Xs(e,t,n,i){var r=new zs(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function _s(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function zs(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Ks={area:function(e){for(var t=e.length,n=0,i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n},isClockWise:function(e){return Ks.area(e)<0},triangulateShape:function(e,t){var n=[],i=[],r=[];Ys(e),js(n,e);var A=e.length;t.forEach(Ys);for(var a=0;a<t.length;a++)i.push(A),A+=t[a].length,js(n,t[a]);var o=Ms(n,i);for(a=0;a<o.length;a+=3)r.push(o.slice(a,a+3));return r}};function Ys(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function js(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function Js(e,t){Qr.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new qs(e,t)),this.mergeVertices()}function qs(e,t){ur.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var n=this,i=[],r=[],A=0,a=e.length;A<a;A++){o(e[A])}function o(e){var A=[],a=void 0!==t.curveSegments?t.curveSegments:12,o=void 0!==t.steps?t.steps:1,s=void 0!==t.depth?t.depth:100,l=void 0===t.bevelEnabled||t.bevelEnabled,c=void 0!==t.bevelThickness?t.bevelThickness:6,u=void 0!==t.bevelSize?t.bevelSize:c-2,h=void 0!==t.bevelOffset?t.bevelOffset:0,d=void 0!==t.bevelSegments?t.bevelSegments:3,g=t.extrudePath,p=void 0!==t.UVGenerator?t.UVGenerator:$s;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),s=t.amount);var f,m,v,C,y,I,w,b,B=!1;g&&(f=g.getSpacedPoints(o),B=!0,l=!1,m=g.computeFrenetFrames(o,!1),v=new rn,C=new rn,y=new rn),l||(d=0,c=0,u=0,h=0);var x=e.extractPoints(a),M=x.shape,E=x.holes;if(!Ks.isClockWise(M))for(M=M.reverse(),w=0,b=E.length;w<b;w++)I=E[w],Ks.isClockWise(I)&&(E[w]=I.reverse());var T=Ks.triangulateShape(M,E),S=M;for(w=0,b=E.length;w<b;w++)I=E[w],M=M.concat(I);function F(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var U,R,L,H,G,P,Q=M.length,D=T.length;function N(e,t,n){var i,r,A,a=e.x-t.x,o=e.y-t.y,s=n.x-e.x,l=n.y-e.y,c=a*a+o*o,u=a*l-o*s;if(Math.abs(u)>Number.EPSILON){var h=Math.sqrt(c),d=Math.sqrt(s*s+l*l),g=t.x-o/h,p=t.y+a/h,f=((n.x-l/d-g)*l-(n.y+s/d-p)*s)/(a*l-o*s),m=(i=g+a*f-e.x)*i+(r=p+o*f-e.y)*r;if(m<=2)return new $t(i,r);A=Math.sqrt(m/2)}else{var v=!1;a>Number.EPSILON?s>Number.EPSILON&&(v=!0):a<-Number.EPSILON?s<-Number.EPSILON&&(v=!0):Math.sign(o)===Math.sign(l)&&(v=!0),v?(i=-o,r=a,A=Math.sqrt(c)):(i=a,r=o,A=Math.sqrt(c/2))}return new $t(i/A,r/A)}for(var V=[],O=0,k=S.length,W=k-1,Z=O+1;O<k;O++,W++,Z++)W===k&&(W=0),Z===k&&(Z=0),V[O]=N(S[O],S[W],S[Z]);var X,_,z=[],K=V.concat();for(w=0,b=E.length;w<b;w++){for(I=E[w],X=[],O=0,W=(k=I.length)-1,Z=O+1;O<k;O++,W++,Z++)W===k&&(W=0),Z===k&&(Z=0),X[O]=N(I[O],I[W],I[Z]);z.push(X),K=K.concat(X)}for(U=0;U<d;U++){for(L=U/d,H=c*Math.cos(L*Math.PI/2),R=u*Math.sin(L*Math.PI/2)+h,O=0,k=S.length;O<k;O++)j((G=F(S[O],V[O],R)).x,G.y,-H);for(w=0,b=E.length;w<b;w++)for(I=E[w],X=z[w],O=0,k=I.length;O<k;O++)j((G=F(I[O],X[O],R)).x,G.y,-H)}for(R=u+h,O=0;O<Q;O++)G=l?F(M[O],K[O],R):M[O],B?(C.copy(m.normals[0]).multiplyScalar(G.x),v.copy(m.binormals[0]).multiplyScalar(G.y),y.copy(f[0]).add(C).add(v),j(y.x,y.y,y.z)):j(G.x,G.y,0);for(_=1;_<=o;_++)for(O=0;O<Q;O++)G=l?F(M[O],K[O],R):M[O],B?(C.copy(m.normals[_]).multiplyScalar(G.x),v.copy(m.binormals[_]).multiplyScalar(G.y),y.copy(f[_]).add(C).add(v),j(y.x,y.y,y.z)):j(G.x,G.y,s/o*_);for(U=d-1;U>=0;U--){for(L=U/d,H=c*Math.cos(L*Math.PI/2),R=u*Math.sin(L*Math.PI/2)+h,O=0,k=S.length;O<k;O++)j((G=F(S[O],V[O],R)).x,G.y,s+H);for(w=0,b=E.length;w<b;w++)for(I=E[w],X=z[w],O=0,k=I.length;O<k;O++)G=F(I[O],X[O],R),B?j(G.x,G.y+f[o-1].y,f[o-1].x+H):j(G.x,G.y,s+H)}function Y(e,t){var n,i;for(O=e.length;--O>=0;){n=O,(i=O-1)<0&&(i=e.length-1);var r=0,A=o+2*d;for(r=0;r<A;r++){var a=Q*r,s=Q*(r+1);q(t+n+a,t+i+a,t+i+s,t+n+s)}}}function j(e,t,n){A.push(e),A.push(t),A.push(n)}function J(e,t,r){$(e),$(t),$(r);var A=i.length/3,a=p.generateTopUV(n,i,A-3,A-2,A-1);ee(a[0]),ee(a[1]),ee(a[2])}function q(e,t,r,A){$(e),$(t),$(A),$(t),$(r),$(A);var a=i.length/3,o=p.generateSideWallUV(n,i,a-6,a-3,a-2,a-1);ee(o[0]),ee(o[1]),ee(o[3]),ee(o[1]),ee(o[2]),ee(o[3])}function $(e){i.push(A[3*e+0]),i.push(A[3*e+1]),i.push(A[3*e+2])}function ee(e){r.push(e.x),r.push(e.y)}!function(){var e=i.length/3;if(l){var t=0,r=Q*t;for(O=0;O<D;O++)J((P=T[O])[2]+r,P[1]+r,P[0]+r);for(r=Q*(t=o+2*d),O=0;O<D;O++)J((P=T[O])[0]+r,P[1]+r,P[2]+r)}else{for(O=0;O<D;O++)J((P=T[O])[2],P[1],P[0]);for(O=0;O<D;O++)J((P=T[O])[0]+Q*o,P[1]+Q*o,P[2]+Q*o)}n.addGroup(e,i.length/3-e,0)}(),function(){var e=i.length/3,t=0;for(Y(S,t),t+=S.length,w=0,b=E.length;w<b;w++)Y(I=E[w],t),t+=I.length;n.addGroup(e,i.length/3-e,1)}()}this.setAttribute("position",new $i(i,3)),this.setAttribute("uv",new $i(r,2)),this.computeVertexNormals()}Js.prototype=Object.create(Qr.prototype),Js.prototype.constructor=Js,Js.prototype.toJSON=function(){var e=Qr.prototype.toJSON.call(this);return el(this.parameters.shapes,this.parameters.options,e)},qs.prototype=Object.create(ur.prototype),qs.prototype.constructor=qs,qs.prototype.toJSON=function(){var e=ur.prototype.toJSON.call(this);return el(this.parameters.shapes,this.parameters.options,e)};var $s={generateTopUV:function(e,t,n,i,r){var A=t[3*n],a=t[3*n+1],o=t[3*i],s=t[3*i+1],l=t[3*r],c=t[3*r+1];return[new $t(A,a),new $t(o,s),new $t(l,c)]},generateSideWallUV:function(e,t,n,i,r,A){var a=t[3*n],o=t[3*n+1],s=t[3*n+2],l=t[3*i],c=t[3*i+1],u=t[3*i+2],h=t[3*r],d=t[3*r+1],g=t[3*r+2],p=t[3*A],f=t[3*A+1],m=t[3*A+2];return Math.abs(o-c)<.01?[new $t(a,1-s),new $t(l,1-u),new $t(h,1-g),new $t(p,1-m)]:[new $t(o,1-s),new $t(c,1-u),new $t(d,1-g),new $t(f,1-m)]}};function el(e,t,n){if(n.shapes=[],Array.isArray(e))for(var i=0,r=e.length;i<r;i++){var A=e[i];n.shapes.push(A.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function tl(e,t){Qr.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new nl(e,t)),this.mergeVertices()}function nl(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Qr;var i=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),qs.call(this,i,t),this.type="TextBufferGeometry"}function il(e,t,n,i,r,A,a){Qr.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:A,thetaLength:a},this.fromBufferGeometry(new rl(e,t,n,i,r,A,a)),this.mergeVertices()}function rl(e,t,n,i,r,A,a){ur.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:A,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI,A=void 0!==A?A:0,a=void 0!==a?a:Math.PI;var o,s,l=Math.min(A+a,Math.PI),c=0,u=[],h=new rn,d=new rn,g=[],p=[],f=[],m=[];for(s=0;s<=n;s++){var v=[],C=s/n,y=0;for(0==s&&0==A?y=.5/t:s==n&&l==Math.PI&&(y=-.5/t),o=0;o<=t;o++){var I=o/t;h.x=-e*Math.cos(i+I*r)*Math.sin(A+C*a),h.y=e*Math.cos(A+C*a),h.z=e*Math.sin(i+I*r)*Math.sin(A+C*a),p.push(h.x,h.y,h.z),d.copy(h).normalize(),f.push(d.x,d.y,d.z),m.push(I+y,1-C),v.push(c++)}u.push(v)}for(s=0;s<n;s++)for(o=0;o<t;o++){var w=u[s][o+1],b=u[s][o],B=u[s+1][o],x=u[s+1][o+1];(0!==s||A>0)&&g.push(w,b,x),(s!==n-1||l<Math.PI)&&g.push(b,B,x)}this.setIndex(g),this.setAttribute("position",new $i(p,3)),this.setAttribute("normal",new $i(f,3)),this.setAttribute("uv",new $i(m,2))}function Al(e,t,n,i,r,A){Qr.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:A},this.fromBufferGeometry(new al(e,t,n,i,r,A)),this.mergeVertices()}function al(e,t,n,i,r,A){ur.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:A},e=e||.5,t=t||1,r=void 0!==r?r:0,A=void 0!==A?A:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var a,o,s,l=[],c=[],u=[],h=[],d=e,g=(t-e)/(i=void 0!==i?Math.max(1,i):1),p=new rn,f=new $t;for(o=0;o<=i;o++){for(s=0;s<=n;s++)a=r+s/n*A,p.x=d*Math.cos(a),p.y=d*Math.sin(a),c.push(p.x,p.y,p.z),u.push(0,0,1),f.x=(p.x/t+1)/2,f.y=(p.y/t+1)/2,h.push(f.x,f.y);d+=g}for(o=0;o<i;o++){var m=o*(n+1);for(s=0;s<n;s++){var v=a=s+m,C=a+n+1,y=a+n+2,I=a+1;l.push(v,C,I),l.push(C,y,I)}}this.setIndex(l),this.setAttribute("position",new $i(c,3)),this.setAttribute("normal",new $i(u,3)),this.setAttribute("uv",new $i(h,2))}function ol(e,t,n,i){Qr.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},this.fromBufferGeometry(new sl(e,t,n,i)),this.mergeVertices()}function sl(e,t,n,i){ur.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t)||12,n=n||0,i=i||2*Math.PI,i=qt.clamp(i,0,2*Math.PI);var r,A,a,o=[],s=[],l=[],c=1/t,u=new rn,h=new $t;for(A=0;A<=t;A++){var d=n+A*c*i,g=Math.sin(d),p=Math.cos(d);for(a=0;a<=e.length-1;a++)u.x=e[a].x*g,u.y=e[a].y,u.z=e[a].x*p,s.push(u.x,u.y,u.z),h.x=A/t,h.y=a/(e.length-1),l.push(h.x,h.y)}for(A=0;A<t;A++)for(a=0;a<e.length-1;a++){var f=r=a+A*e.length,m=r+e.length,v=r+e.length+1,C=r+1;o.push(f,m,C),o.push(m,v,C)}if(this.setIndex(o),this.setAttribute("position",new $i(s,3)),this.setAttribute("uv",new $i(l,2)),this.computeVertexNormals(),i===2*Math.PI){var y=this.attributes.normal.array,I=new rn,w=new rn,b=new rn;for(r=t*e.length*3,A=0,a=0;A<e.length;A++,a+=3)I.x=y[a+0],I.y=y[a+1],I.z=y[a+2],w.x=y[r+a+0],w.y=y[r+a+1],w.z=y[r+a+2],b.addVectors(I,w).normalize(),y[a+0]=y[r+a+0]=b.x,y[a+1]=y[r+a+1]=b.y,y[a+2]=y[r+a+2]=b.z}}function ll(e,t){Qr.call(this),this.type="ShapeGeometry","object"===xe(t)&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new cl(e,t)),this.mergeVertices()}function cl(e,t){ur.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],i=[],r=[],A=[],a=0,o=0;if(!1===Array.isArray(e))l(e);else for(var s=0;s<e.length;s++)l(e[s]),this.addGroup(a,o,s),a+=o,o=0;function l(e){var a,s,l,c=i.length/3,u=e.extractPoints(t),h=u.shape,d=u.holes;for(!1===Ks.isClockWise(h)&&(h=h.reverse()),a=0,s=d.length;a<s;a++)l=d[a],!0===Ks.isClockWise(l)&&(d[a]=l.reverse());var g=Ks.triangulateShape(h,d);for(a=0,s=d.length;a<s;a++)l=d[a],h=h.concat(l);for(a=0,s=h.length;a<s;a++){var p=h[a];i.push(p.x,p.y,0),r.push(0,0,1),A.push(p.x,p.y)}for(a=0,s=g.length;a<s;a++){var f=g[a],m=f[0]+c,v=f[1]+c,C=f[2]+c;n.push(m,v,C),o+=3}}this.setIndex(n),this.setAttribute("position",new $i(i,3)),this.setAttribute("normal",new $i(r,3)),this.setAttribute("uv",new $i(A,2))}function ul(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,i=e.length;n<i;n++){var r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}function hl(e,t){ur.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,i,r,A,a=[],o=Math.cos(qt.DEG2RAD*t),s=[0,0],l={},c=["a","b","c"];e.isBufferGeometry?(A=new Qr).fromBufferGeometry(e):A=e.clone(),A.mergeVertices(),A.computeFaceNormals();for(var u=A.vertices,h=A.faces,d=0,g=h.length;d<g;d++)for(var p=h[d],f=0;f<3;f++)n=p[c[f]],i=p[c[(f+1)%3]],s[0]=Math.min(n,i),s[1]=Math.max(n,i),void 0===l[r=s[0]+","+s[1]]?l[r]={index1:s[0],index2:s[1],face1:d,face2:void 0}:l[r].face2=d;for(r in l){var m=l[r];if(void 0===m.face2||h[m.face1].normal.dot(h[m.face2].normal)<=o){var v=u[m.index1];a.push(v.x,v.y,v.z),v=u[m.index2],a.push(v.x,v.y,v.z)}}this.setAttribute("position",new $i(a,3))}function dl(e,t,n,i,r,A,a,o){Qr.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:A,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new gl(e,t,n,i,r,A,a,o)),this.mergeVertices()}function gl(e,t,n,i,r,A,a,o){ur.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:A,thetaStart:a,thetaLength:o};var s=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,i=Math.floor(i)||8,r=Math.floor(r)||1,A=void 0!==A&&A,a=void 0!==a?a:0,o=void 0!==o?o:2*Math.PI;var l=[],c=[],u=[],h=[],d=0,g=[],p=n/2,f=0;function m(n){var r,A,g,m=new $t,v=new rn,C=0,y=!0===n?e:t,I=!0===n?1:-1;for(A=d,r=1;r<=i;r++)c.push(0,p*I,0),u.push(0,I,0),h.push(.5,.5),d++;for(g=d,r=0;r<=i;r++){var w=r/i*o+a,b=Math.cos(w),B=Math.sin(w);v.x=y*B,v.y=p*I,v.z=y*b,c.push(v.x,v.y,v.z),u.push(0,I,0),m.x=.5*b+.5,m.y=.5*B*I+.5,h.push(m.x,m.y),d++}for(r=0;r<i;r++){var x=A+r,M=g+r;!0===n?l.push(M,M+1,x):l.push(M+1,M,x),C+=3}s.addGroup(f,C,!0===n?1:2),f+=C}!function(){var A,m,v=new rn,C=new rn,y=0,I=(t-e)/n;for(m=0;m<=r;m++){var w=[],b=m/r,B=b*(t-e)+e;for(A=0;A<=i;A++){var x=A/i,M=x*o+a,E=Math.sin(M),T=Math.cos(M);C.x=B*E,C.y=-b*n+p,C.z=B*T,c.push(C.x,C.y,C.z),v.set(E,I,T).normalize(),u.push(v.x,v.y,v.z),h.push(x,1-b),w.push(d++)}g.push(w)}for(A=0;A<i;A++)for(m=0;m<r;m++){var S=g[m][A],F=g[m+1][A],U=g[m+1][A+1],R=g[m][A+1];l.push(S,F,R),l.push(F,U,R),y+=6}s.addGroup(f,y,0),f+=y}(),!1===A&&(e>0&&m(!0),t>0&&m(!1)),this.setIndex(l),this.setAttribute("position",new $i(c,3)),this.setAttribute("normal",new $i(u,3)),this.setAttribute("uv",new $i(h,2))}function pl(e,t,n,i,r,A,a){dl.call(this,0,e,t,n,i,r,A,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:A,thetaLength:a}}function fl(e,t,n,i,r,A,a){gl.call(this,0,e,t,n,i,r,A,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:A,thetaLength:a}}function ml(e,t,n,i){Qr.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new vl(e,t,n,i)),this.mergeVertices()}function vl(e,t,n,i){ur.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI;var r,A,a=[],o=[],s=[],l=[],c=new rn,u=new $t;for(o.push(0,0,0),s.push(0,0,1),l.push(.5,.5),A=0,r=3;A<=t;A++,r+=3){var h=n+A/t*i;c.x=e*Math.cos(h),c.y=e*Math.sin(h),o.push(c.x,c.y,c.z),s.push(0,0,1),u.x=(o[r]/e+1)/2,u.y=(o[r+1]/e+1)/2,l.push(u.x,u.y)}for(r=1;r<=t;r++)a.push(r,r+1,0);this.setIndex(a),this.setAttribute("position",new $i(o,3)),this.setAttribute("normal",new $i(s,3)),this.setAttribute("uv",new $i(l,2))}tl.prototype=Object.create(Qr.prototype),tl.prototype.constructor=tl,nl.prototype=Object.create(qs.prototype),nl.prototype.constructor=nl,il.prototype=Object.create(Qr.prototype),il.prototype.constructor=il,rl.prototype=Object.create(ur.prototype),rl.prototype.constructor=rl,Al.prototype=Object.create(Qr.prototype),Al.prototype.constructor=Al,al.prototype=Object.create(ur.prototype),al.prototype.constructor=al,ol.prototype=Object.create(Qr.prototype),ol.prototype.constructor=ol,sl.prototype=Object.create(ur.prototype),sl.prototype.constructor=sl,ll.prototype=Object.create(Qr.prototype),ll.prototype.constructor=ll,ll.prototype.toJSON=function(){var e=Qr.prototype.toJSON.call(this);return ul(this.parameters.shapes,e)},cl.prototype=Object.create(ur.prototype),cl.prototype.constructor=cl,cl.prototype.toJSON=function(){var e=ur.prototype.toJSON.call(this);return ul(this.parameters.shapes,e)},hl.prototype=Object.create(ur.prototype),hl.prototype.constructor=hl,dl.prototype=Object.create(Qr.prototype),dl.prototype.constructor=dl,gl.prototype=Object.create(ur.prototype),gl.prototype.constructor=gl,pl.prototype=Object.create(dl.prototype),pl.prototype.constructor=pl,fl.prototype=Object.create(gl.prototype),fl.prototype.constructor=fl,ml.prototype=Object.create(Qr.prototype),ml.prototype.constructor=ml,vl.prototype=Object.create(ur.prototype),vl.prototype.constructor=vl;var Cl=Object.freeze({__proto__:null,WireframeGeometry:os,ParametricGeometry:ss,ParametricBufferGeometry:ls,TetrahedronGeometry:hs,TetrahedronBufferGeometry:ds,OctahedronGeometry:gs,OctahedronBufferGeometry:ps,IcosahedronGeometry:fs,IcosahedronBufferGeometry:ms,DodecahedronGeometry:vs,DodecahedronBufferGeometry:Cs,PolyhedronGeometry:cs,PolyhedronBufferGeometry:us,TubeGeometry:ys,TubeBufferGeometry:Is,TorusKnotGeometry:ws,TorusKnotBufferGeometry:bs,TorusGeometry:Bs,TorusBufferGeometry:xs,TextGeometry:tl,TextBufferGeometry:nl,SphereGeometry:il,SphereBufferGeometry:rl,RingGeometry:Al,RingBufferGeometry:al,PlaneGeometry:rA,PlaneBufferGeometry:AA,LatheGeometry:ol,LatheBufferGeometry:sl,ShapeGeometry:ll,ShapeBufferGeometry:cl,ExtrudeGeometry:Js,ExtrudeBufferGeometry:qs,EdgesGeometry:hl,ConeGeometry:pl,ConeBufferGeometry:fl,CylinderGeometry:dl,CylinderBufferGeometry:gl,CircleGeometry:ml,CircleBufferGeometry:vl,BoxGeometry:Dr,BoxBufferGeometry:Nr});function yl(e){Wi.call(this),this.type="ShadowMaterial",this.color=new Qi(0),this.transparent=!0,this.setValues(e)}function Il(e){Wr.call(this,e),this.type="RawShaderMaterial"}function wl(e){Wi.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Qi(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new $t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function bl(e){wl.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearcoat=0,this.clearcoatRoughness=0,this.sheen=null,this.clearcoatNormalScale=new $t(1,1),this.clearcoatNormalMap=null,this.transparency=0,this.setValues(e)}function Bl(e){Wi.call(this),this.type="MeshPhongMaterial",this.color=new Qi(16777215),this.specular=new Qi(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new $t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function xl(e){Bl.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function Ml(e){Wi.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new $t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function El(e){Wi.call(this),this.type="MeshLambertMaterial",this.color=new Qi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Tl(e){Wi.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Qi(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new $t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Sl(e){Vo.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}function Fl(e){Wi.call(this),this.defines={STANDARD:""},this.type="AMRTBasicMaterial",this.color=new Qi(16777215),this.albedo=null,this.albedoUV=0,this.normalMap=null,this.normalScale=1,this.normalMap2=null,this.normalScale2=1,this.metallicMap=null,this.metallic=0,this.roughnessMap=null,this.smoothness=0,this.aoMap=null,this.aoScale=1,this.aoUV=0,this.emissive=new Qi(0),this.emissiveMap=null,this.emissiveUV=0,this.reflectMap=null,this.reflectIntensity=0,this.cutout=.5,this.reflectivity=1,this.transparency=0,this.opacity=1,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.vertexTangents=!0,this.normalMapType=0,this.envRotateY=0,this.envYMatrix=new on,this.reflectRotateY=0,this.reflecYMatrix=new on,this.setValues(e),this.__defineSetter__("envRotateY",(function(e){this.envYMatrix=(new on).rotateY(e)})),this.__defineSetter__("reflectRotateY",(function(e){this.reflecYMatrix=(new on).rotateY(e)}))}yl.prototype=Object.create(Wi.prototype),yl.prototype.constructor=yl,yl.prototype.isShadowMaterial=!0,yl.prototype.copy=function(e){return Wi.prototype.copy.call(this,e),this.color.copy(e.color),this},Il.prototype=Object.create(Wr.prototype),Il.prototype.constructor=Il,Il.prototype.isRawShaderMaterial=!0,wl.prototype=Object.create(Wi.prototype),wl.prototype.constructor=wl,wl.prototype.isMeshStandardMaterial=!0,wl.prototype.copy=function(e){return Wi.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},bl.prototype=Object.create(wl.prototype),bl.prototype.constructor=bl,bl.prototype.isMeshPhysicalMaterial=!0,bl.prototype.copy=function(e){return wl.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearcoat=e.clearcoat,this.clearcoatRoughness=e.clearcoatRoughness,e.sheen?this.sheen=(this.sheen||new Qi).copy(e.sheen):this.sheen=null,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.transparency=e.transparency,this},Bl.prototype=Object.create(Wi.prototype),Bl.prototype.constructor=Bl,Bl.prototype.isMeshPhongMaterial=!0,Bl.prototype.copy=function(e){return Wi.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},xl.prototype=Object.create(Bl.prototype),xl.prototype.constructor=xl,xl.prototype.isMeshToonMaterial=!0,xl.prototype.copy=function(e){return Bl.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},Ml.prototype=Object.create(Wi.prototype),Ml.prototype.constructor=Ml,Ml.prototype.isMeshNormalMaterial=!0,Ml.prototype.copy=function(e){return Wi.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},El.prototype=Object.create(Wi.prototype),El.prototype.constructor=El,El.prototype.isMeshLambertMaterial=!0,El.prototype.copy=function(e){return Wi.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Tl.prototype=Object.create(Wi.prototype),Tl.prototype.constructor=Tl,Tl.prototype.isMeshMatcapMaterial=!0,Tl.prototype.copy=function(e){return Wi.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Sl.prototype=Object.create(Vo.prototype),Sl.prototype.constructor=Sl,Sl.prototype.isLineDashedMaterial=!0,Sl.prototype.copy=function(e){return Vo.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this},Fl.prototype=Object.create(Wi.prototype),Fl.prototype.constructor=Fl,Fl.prototype.isAMRTBasicMaterial=!0,Fl.prototype.copy=function(e){return Wi.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.albedo=e.albedo,this.albedoUV=e.albedoUV,this.normalMap=e.normalMap,this.normalScale=e.normalScale,this.normalMap2=e.normalMap2,this.normalScale2=e.normalScale2,this.metallicMap=e.metallicMap,this.metallic=e.metallic,this.roughnessMap=e.roughnessMap,this.smoothness=e.smoothness,this.aoMap=e.aoMap,this.aoScale=e.aoScale,this.aoUV=e.aoUV,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveUV=e.emissiveUV,this.reflectMap=e.reflectMap,this.reflectIntensity=e.reflectIntensity,this.cutout=e.cutout,this.reflectivity=e.reflectivity,this.transparency=e.transparency,this.opacity=e.opacity,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.vertexTangents=e.vertexTangents,this.normalMapType=e.normalMapType,this.envRotateY=e.envRotateY,this.envYMatrix=e.envYMatrix,this.reflectRotateY=e.reflectRotateY,this.reflecYMatrix=e.reflecYMatrix,this},Fl.prototype.dispose=function(){Wi.prototype.dispose.call(this),this.albedo&&this.albedo.dispose(),this.metallicMap&&this.metallicMap.dispose(),this.roughnessMap&&this.roughnessMap.dispose(),this.aoMap&&this.aoMap.dispose(),this.emissiveMap&&this.emissiveMap.dispose(),this.reflectMap&&this.reflectMap.dispose(),this.envMap&&this.envMap.dispose()};var Ul=Object.freeze({__proto__:null,ShadowMaterial:yl,SpriteMaterial:co,RawShaderMaterial:Il,ShaderMaterial:Wr,PointsMaterial:Jo,MeshPhysicalMaterial:bl,MeshStandardMaterial:wl,MeshPhongMaterial:Bl,MeshToonMaterial:xl,MeshNormalMaterial:Ml,MeshLambertMaterial:El,MeshDepthMaterial:Wa,MeshDistanceMaterial:Za,MeshBasicMaterial:Zi,MeshMatcapMaterial:Tl,LineDashedMaterial:Sl,LineBasicMaterial:Vo,AMRTBasicMaterial:Fl,Material:Wi}),Rl={arraySlice:function(e,t,n){return Rl.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),i=0;i!==t;++i)n[i]=i;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var i=e.length,r=new e.constructor(i),A=0,a=0;a!==i;++A)for(var o=n[A]*t,s=0;s!==t;++s)r[a++]=e[o+s];return r},flattenJSON:function(e,t,n,i){for(var r=1,A=e[0];void 0!==A&&void 0===A[i];)A=e[r++];if(void 0!==A){var a=A[i];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=A[i])&&(t.push(A.time),n.push.apply(n,a)),A=e[r++]}while(void 0!==A);else if(void 0!==a.toArray)do{void 0!==(a=A[i])&&(t.push(A.time),a.toArray(n,n.length)),A=e[r++]}while(void 0!==A);else do{void 0!==(a=A[i])&&(t.push(A.time),n.push(a)),A=e[r++]}while(void 0!==A)}},subclip:function(e,t,n,i,r){r=r||30;var A=e.clone();A.name=t;for(var a=[],o=0;o<A.tracks.length;++o){for(var s=A.tracks[o],l=s.getValueSize(),c=[],u=[],h=0;h<s.times.length;++h){var d=s.times[h]*r;if(!(d<n||d>=i)){c.push(s.times[h]);for(var g=0;g<l;++g)u.push(s.values[h*l+g])}}0!==c.length&&(s.times=Rl.convertArray(c,s.times.constructor),s.values=Rl.convertArray(u,s.values.constructor),a.push(s))}A.tracks=a;var p=1/0;for(o=0;o<A.tracks.length;++o)p>A.tracks[o].times[0]&&(p=A.tracks[o].times[0]);for(o=0;o<A.tracks.length;++o)A.tracks[o].shift(-1*p);return A.resetDuration(),A}};function Ll(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function Hl(e,t,n,i){Ll.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Gl(e,t,n,i){Ll.call(this,e,t,n,i)}function Pl(e,t,n,i){Ll.call(this,e,t,n,i)}function Ql(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Rl.convertArray(t,this.TimeBufferType),this.values=Rl.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}function Dl(e,t,n){Ql.call(this,e,t,n)}function Nl(e,t,n,i){Ql.call(this,e,t,n,i)}function Vl(e,t,n,i){Ql.call(this,e,t,n,i)}function Ol(e,t,n,i){Ll.call(this,e,t,n,i)}function kl(e,t,n,i){Ql.call(this,e,t,n,i)}function Wl(e,t,n,i){Ql.call(this,e,t,n,i)}function Zl(e,t,n,i){Ql.call(this,e,t,n,i)}function Xl(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=qt.generateUUID(),this.duration<0&&this.resetDuration()}function _l(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Vl;case"vector":case"vector2":case"vector3":case"vector4":return Zl;case"color":return Nl;case"quaternion":return kl;case"bool":case"boolean":return Dl;case"string":return Wl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],i=[];Rl.flattenJSON(e.keys,n,i,"value"),e.times=n,e.values=i}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}function zl(e,t,n){var i=this,r=!1,A=0,a=0,o=void 0,s=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===r&&void 0!==i.onStart&&i.onStart(e,A,a),r=!0},this.itemEnd=function(e){A++,void 0!==i.onProgress&&i.onProgress(e,A,a),A===a&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return o?o(e):e},this.setURLModifier=function(e){return o=e,this},this.addHandler=function(e,t){return s.push(e,t),this},this.removeHandler=function(e){var t=s.indexOf(e);return-1!==t&&s.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=s.length;t<n;t+=2){var i=s[t],r=s[t+1];if(i.global&&(i.lastIndex=0),i.test(e))return r}return null}}Object.assign(Ll.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{var A;n:{i:if(!(e<i)){for(var a=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,r)}if(n===a)break;if(r=i,e<(i=t[++n]))break t}A=t.length;break n}if(e>=r)break e;var o=t[1];e<o&&(n=2,r=o);for(a=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===a)break;if(i=r,e>=(r=t[--n-1]))break t}A=n,n=0}for(;n<A;){var s=n+A>>>1;e<t[s]?A=s:n=s+1}if(i=t[n],void 0===(r=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,i);if(void 0===i)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,r,e)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i,A=0;A!==i;++A)t[A]=n[r+A];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(Ll.prototype,{beforeStart_:Ll.prototype.copySampleValue_,afterEnd_:Ll.prototype.copySampleValue_}),Hl.prototype=Object.assign(Object.create(Ll.prototype),{constructor:Hl,DefaultSettings_:{endingStart:Lt,endingEnd:Lt},intervalChanged_:function(e,t,n){var i=this.parameterPositions,r=e-2,A=e+1,a=i[r],o=i[A];if(void 0===a)switch(this.getSettings_().endingStart){case Ht:r=e,a=2*t-n;break;case Gt:a=t+i[r=i.length-2]-i[r+1];break;default:r=e,a=n}if(void 0===o)switch(this.getSettings_().endingEnd){case Ht:A=e,o=2*n-t;break;case Gt:A=1,o=n+i[1]-i[0];break;default:A=e-1,o=t}var s=.5*(n-t),l=this.valueSize;this._weightPrev=s/(t-a),this._weightNext=s/(o-n),this._offsetPrev=r*l,this._offsetNext=A*l},interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,A=this.sampleValues,a=this.valueSize,o=e*a,s=o-a,l=this._offsetPrev,c=this._offsetNext,u=this._weightPrev,h=this._weightNext,d=(n-t)/(i-t),g=d*d,p=g*d,f=-u*p+2*u*g-u*d,m=(1+u)*p+(-1.5-2*u)*g+(-.5+u)*d+1,v=(-1-h)*p+(1.5+h)*g+.5*d,C=h*p-h*g,y=0;y!==a;++y)r[y]=f*A[l+y]+m*A[s+y]+v*A[o+y]+C*A[c+y];return r}}),Gl.prototype=Object.assign(Object.create(Ll.prototype),{constructor:Gl,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,A=this.sampleValues,a=this.valueSize,o=e*a,s=o-a,l=(n-t)/(i-t),c=1-l,u=0;u!==a;++u)r[u]=A[s+u]*c+A[o+u]*l;return r}}),Pl.prototype=Object.assign(Object.create(Ll.prototype),{constructor:Pl,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(Ql,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Rl.convertArray(e.times,Array),values:Rl.convertArray(e.values,Array)};var i=e.getInterpolation();i!==e.DefaultInterpolation&&(t.interpolation=i)}return t.type=e.ValueTypeName,t}}),Object.assign(Ql.prototype,{constructor:Ql,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Ut,InterpolantFactoryMethodDiscrete:function(e){return new Pl(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Gl(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Hl(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case Ft:t=this.InterpolantFactoryMethodDiscrete;break;case Ut:t=this.InterpolantFactoryMethodLinear;break;case Rt:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ft;case this.InterpolantFactoryMethodLinear:return Ut;case this.InterpolantFactoryMethodSmooth:return Rt}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,i=n.length,r=0,A=i-1;r!==i&&n[r]<e;)++r;for(;-1!==A&&n[A]>t;)--A;if(++A,0!==r||A!==i){r>=A&&(r=(A=Math.max(A,1))-1);var a=this.getValueSize();this.times=Rl.arraySlice(n,r,A),this.values=Rl.arraySlice(this.values,r*a,A*a)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var A=null,a=0;a!==r;a++){var o=n[a];if("number"==typeof o&&isNaN(o)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,o),e=!1;break}if(null!==A&&A>o){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,o,A),e=!1;break}A=o}if(void 0!==i&&Rl.isTypedArray(i)){a=0;for(var s=i.length;a!==s;++a){var l=i[a];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,l),e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),i=this.getInterpolation()===Rt,r=1,A=e.length-1,a=1;a<A;++a){var o=!1,s=e[a];if(s!==e[a+1]&&(1!==a||s!==s[0]))if(i)o=!0;else for(var l=a*n,c=l-n,u=l+n,h=0;h!==n;++h){var d=t[l+h];if(d!==t[c+h]||d!==t[u+h]){o=!0;break}}if(o){if(a!==r){e[r]=e[a];var g=a*n,p=r*n;for(h=0;h!==n;++h)t[p+h]=t[g+h]}++r}}if(A>0){e[r]=e[A];for(g=A*n,p=r*n,h=0;h!==n;++h)t[p+h]=t[g+h];++r}return r!==e.length&&(this.times=Rl.arraySlice(e,0,r),this.values=Rl.arraySlice(t,0,r*n)),this},clone:function(){var e=Rl.arraySlice(this.times,0),t=Rl.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}),Dl.prototype=Object.assign(Object.create(Ql.prototype),{constructor:Dl,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Ft,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Nl.prototype=Object.assign(Object.create(Ql.prototype),{constructor:Nl,ValueTypeName:"color"}),Vl.prototype=Object.assign(Object.create(Ql.prototype),{constructor:Vl,ValueTypeName:"number"}),Ol.prototype=Object.assign(Object.create(Ll.prototype),{constructor:Ol,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,A=this.sampleValues,a=this.valueSize,o=e*a,s=(n-t)/(i-t),l=o+a;o!==l;o+=4)en.slerpFlat(r,0,A,o-a,A,o,s);return r}}),kl.prototype=Object.assign(Object.create(Ql.prototype),{constructor:kl,ValueTypeName:"quaternion",DefaultInterpolation:Ut,InterpolantFactoryMethodLinear:function(e){return new Ol(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Wl.prototype=Object.assign(Object.create(Ql.prototype),{constructor:Wl,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Ft,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Zl.prototype=Object.assign(Object.create(Ql.prototype),{constructor:Zl,ValueTypeName:"vector"}),Object.assign(Xl,{parse:function(e){for(var t=[],n=e.tracks,i=1/(e.fps||1),r=0,A=n.length;r!==A;++r)t.push(_l(n[r]).scale(i));return new Xl(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},r=0,A=n.length;r!==A;++r)t.push(Ql.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(e,t,n,i){for(var r=t.length,A=[],a=0;a<r;a++){var o=[],s=[];o.push((a+r-1)%r,a,(a+1)%r),s.push(0,1,0);var l=Rl.getKeyframeOrder(o);o=Rl.sortedArray(o,1,l),s=Rl.sortedArray(s,1,l),i||0!==o[0]||(o.push(r),s.push(s[0])),A.push(new Vl(".morphTargetInfluences["+t[a].name+"]",o,s).scale(1/n))}return new Xl(e,-1,A)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var i=e;n=i.geometry&&i.geometry.animations||i.animations}for(var r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,A=0,a=e.length;A<a;A++){var o=e[A],s=o.name.match(r);if(s&&s.length>1){var l=i[u=s[1]];l||(i[u]=l=[]),l.push(o)}}var c=[];for(var u in i)c.push(Xl.CreateFromMorphTargetSequence(u,i[u],t,n));return c},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,i,r){if(0!==n.length){var A=[],a=[];Rl.flattenJSON(n,A,a,i),0!==A.length&&r.push(new e(t,A,a))}},i=[],r=e.name||"default",A=e.length||-1,a=e.fps||30,o=e.hierarchy||[],s=0;s<o.length;s++){var l=o[s].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var c={},u=0;u<l.length;u++)if(l[u].morphTargets)for(var h=0;h<l[u].morphTargets.length;h++)c[l[u].morphTargets[h]]=-1;for(var d in c){var g=[],p=[];for(h=0;h!==l[u].morphTargets.length;++h){var f=l[u];g.push(f.time),p.push(f.morphTarget===d?1:0)}i.push(new Vl(".morphTargetInfluence["+d+"]",g,p))}A=c.length*(a||1)}else{var m=".bones["+t[s].name+"]";n(Zl,m+".position",l,"pos",i),n(kl,m+".quaternion",l,"rot",i),n(Zl,m+".scale",l,"scl",i)}}return 0===i.length?null:new Xl(r,A,i)}}),Object.assign(Xl.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var i=this.tracks[t];e=Math.max(e,i.times[i.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new Xl(this.name,this.duration,e)}}),Xl.prototype.slice=function(e){var t=[],n=0,i=this;return e.forEach((function(e,r){var A=[];i.tracks.forEach((function(t){var i,r=t.constructor==Zl?3:4,a=t.times.toArray().concat([]).slice(e[0],e[1]+1),o=t.values.toArray().concat([]).slice(e[0]*r,(e[1]+1)*r);0==a.length&&(a.push(0),o=t.values.toArray().concat([])),a.forEach((function(e,t){a[t]-=n})),t.constructor==Zl?i=new Zl(t.name,a,o):t.constructor==kl&&(i=new kl(t.name,a,o)),A.push(i)}));var a=new Xl("Take_"+r,-1,A);t.push(a),n=a.duration})),t},Float32Array.prototype.toArray=function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e};var Kl=new zl;function Yl(e){this.manager=void 0!==e?e:Kl,this.crossOrigin="anonymous",this.path="",this.resourcePath=""}Object.assign(Yl.prototype,{load:function(){},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});var jl={enabled:!0,files:{},add:function(e,t){!1!==this.enabled&&(e.indexOf("?time=")>-1&&(e=e.substring(0,e.indexOf("?time="))),this.files[e]=t)},get:function(e){if(!1!==this.enabled)return e.indexOf("?time=")>-1&&(e=e.substring(0,e.indexOf("?time="))),this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Jl={};function ql(e){Yl.call(this,e)}function $l(e){Yl.call(this,e)}function ec(e){Yl.call(this,e)}function tc(e){Yl.call(this,e)}function nc(e){Yl.call(this,e)}function ic(e){Yl.call(this,e)}function rc(e){Yl.call(this,e)}function Ac(){this.type="Curve",this.arcLengthDivisions=200}function ac(e,t,n,i,r,A,a,o){Ac.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=A||2*Math.PI,this.aClockwise=a||!1,this.aRotation=o||0}function oc(e,t,n,i,r,A){ac.call(this,e,t,n,n,i,r,A),this.type="ArcCurve"}function sc(){var e=0,t=0,n=0,i=0;function r(r,A,a,o){e=r,t=a,n=-3*r+3*A-2*a-o,i=2*r-2*A+a+o}return{initCatmullRom:function(e,t,n,i,A){r(t,n,A*(n-e),A*(i-t))},initNonuniformCatmullRom:function(e,t,n,i,A,a,o){var s=(t-e)/A-(n-e)/(A+a)+(n-t)/a,l=(n-t)/a-(i-t)/(a+o)+(i-n)/o;r(t,n,s*=a,l*=a)},calc:function(r){var A=r*r;return e+t*r+n*A+i*(A*r)}}}ql.prototype=Object.assign(Object.create(Yl.prototype),{constructor:ql,load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,A=jl.get(e);if(void 0!==A)return r.manager.itemStart(e),setTimeout((function(){t&&t(A),r.manager.itemEnd(e)}),0),A;if(void 0===Jl[e]){var a=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(a){var o=a[1],s=!!a[2],l=a[3];l=decodeURIComponent(l),s&&(l=atob(l));try{var c,u=(this.responseType||"").toLowerCase();switch(u){case"arraybuffer":case"blob":for(var h=new Uint8Array(l.length),d=0;d<l.length;d++)h[d]=l.charCodeAt(d);c="blob"===u?new Blob([h.buffer],{type:o}):h.buffer;break;case"document":var g=new DOMParser;c=g.parseFromString(l,o);break;case"json":c=JSON.parse(l);break;default:c=l}setTimeout((function(){t&&t(c),r.manager.itemEnd(e)}),0)}catch(t){setTimeout((function(){i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)}),0)}}else{Jl[e]=[],Jl[e].push({onLoad:t,onProgress:n,onError:i});var p=new de;for(var f in p.open("GET",e,!0),p.addEventListener("load",(function(t){var n=this.response,i=Jl[e];if(delete Jl[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),jl.add(e,n);for(var A=0,a=i.length;A<a;A++){(o=i[A]).onLoad&&o.onLoad(n)}r.manager.itemEnd(e)}else{for(A=0,a=i.length;A<a;A++){var o;(o=i[A]).onError&&o.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)}}),!1),p.addEventListener("progress",(function(t){for(var n=Jl[e],i=0,r=n.length;i<r;i++){var A=n[i];A.onProgress&&A.onProgress(t)}}),!1),p.addEventListener("error",(function(t){var n=Jl[e];delete Jl[e];for(var i=0,A=n.length;i<A;i++){var a=n[i];a.onError&&a.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)}),!1),p.addEventListener("abort",(function(t){var n=Jl[e];delete Jl[e];for(var i=0,A=n.length;i<A;i++){var a=n[i];a.onError&&a.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(p.responseType=this.responseType),void 0!==this.withCredentials&&(p.withCredentials=this.withCredentials),p.overrideMimeType&&p.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)p.setRequestHeader(f,this.requestHeader[f]);p.send(null)}return r.manager.itemStart(e),p}Jl[e].push({onLoad:t,onProgress:n,onError:i})},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),$l.prototype=Object.assign(Object.create(Yl.prototype),{constructor:$l,load:function(e,t,n,i){var r=this,A=new ql(r.manager);A.setPath(r.path),A.load(e,(function(e){t(r.parse(JSON.parse(e)))}),n,i)},parse:function(e){for(var t=[],n=0;n<e.length;n++){var i=Xl.parse(e[n]);t.push(i)}return t}}),ec.prototype=Object.assign(Object.create(Yl.prototype),{constructor:ec,load:function(e,t,n,i){var r=this,A=[],a=new rs;a.image=A;var o=new ql(this.manager);function s(s){o.load(e[s],(function(e){var n=r.parse(e,!0);A[s]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(a.minFilter=rt),a.format=n.format,a.needsUpdate=!0,t&&t(a))}),n,i)}if(o.setPath(this.path),o.setResponseType("arraybuffer"),Array.isArray(e))for(var l=0,c=0,u=e.length;c<u;++c)s(c);else o.load(e,(function(e){var n=r.parse(e,!0);if(n.isCubemap)for(var i=n.mipmaps.length/n.mipmapCount,o=0;o<i;o++){A[o]={mipmaps:[]};for(var s=0;s<n.mipmapCount;s++)A[o].mipmaps.push(n.mipmaps[o*n.mipmapCount+s]),A[o].format=n.format,A[o].width=n.width,A[o].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=rt),a.format=n.format,a.needsUpdate=!0,t&&t(a)}),n,i);return a}}),tc.prototype=Object.assign(Object.create(Yl.prototype),{constructor:tc,load:function(e,t,n,i){var r=this,A=new Yr,a=new ql(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(e,(function(e){var n=r.parse(e);n&&(void 0!==n.image?A.image=n.image:void 0!==n.data&&(A.image.width=n.width,A.image.height=n.height,A.image.data=n.data),A.wrapS=void 0!==n.wrapS?n.wrapS:$e,A.wrapT=void 0!==n.wrapT?n.wrapT:$e,A.magFilter=void 0!==n.magFilter?n.magFilter:rt,A.minFilter=void 0!==n.minFilter?n.minFilter:rt,A.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(A.format=n.format),void 0!==n.type&&(A.type=n.type),void 0!==n.mipmaps&&(A.mipmaps=n.mipmaps,A.minFilter=at),1===n.mipmapCount&&(A.minFilter=rt),A.needsUpdate=!0,t&&t(A,n))}),n,i),A}}),nc.prototype=Object.assign(Object.create(Yl.prototype),{constructor:nc,load:function(e,t,n,i){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,A=jl.get(e);if(void 0!==A)return r.manager.itemStart(e),setTimeout((function(){t&&t(A),r.manager.itemEnd(e)}),0),A;var a=q.createElementNS("http://www.w3.org/1999/xhtml","img");function o(){a.removeEventListener("load",o,!1),a.removeEventListener("error",s,!1),t&&t(this),r.manager.itemEnd(e)}function s(t){a.removeEventListener("load",o,!1),a.removeEventListener("error",s,!1),i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)}return jl.add(e,a),a.addEventListener("load",o,!1),a.addEventListener("error",s,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(e),a.src=e,a}}),ic.prototype=Object.assign(Object.create(Yl.prototype),{constructor:ic,load:function(e,t,n,i){var r=new mA,A=new nc(this.manager);A.setCrossOrigin(this.crossOrigin),A.setPath(this.path);var a=0;function o(n){A.load(e[n],(function(e){r.images[n]=e,6===++a&&(r.needsUpdate=!0,t&&t(r))}),void 0,i)}for(var s=0;s<e.length;++s)o(s);return r}}),rc.prototype=Object.assign(Object.create(Yl.prototype),{constructor:rc,load:function(e,t,n,i){var r=new mn,A=new nc(this.manager);return A.setCrossOrigin(this.crossOrigin),A.setPath(this.path),A.load(e,(function(n){r.image=n;var i=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);r.format=i?dt:gt,r.needsUpdate=!0,void 0!==t&&t(r)}),n,i),r}}),Object.assign(Ac.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,i=[],r=this.getPoint(0),A=0;for(i.push(0),n=1;n<=e;n++)A+=(t=this.getPoint(n/e)).distanceTo(r),i.push(A),r=t;return this.cacheArcLengths=i,i},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,i=this.getLengths(),r=0,A=i.length;n=t||e*i[A-1];for(var a,o=0,s=A-1;o<=s;)if((a=i[r=Math.floor(o+(s-o)/2)]-n)<0)o=r+1;else{if(!(a>0)){s=r;break}s=r-1}if(i[r=s]===n)return r/(A-1);var l=i[r];return(r+(n-l)/(i[r+1]-l))/(A-1)},getTangent:function(e){var t=1e-4,n=e-t,i=e+t;n<0&&(n=0),i>1&&(i=1);var r=this.getPoint(n);return this.getPoint(i).clone().sub(r).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,i,r,A=new rn,a=[],o=[],s=[],l=new rn,c=new Tn;for(n=0;n<=e;n++)i=n/e,a[n]=this.getTangentAt(i),a[n].normalize();o[0]=new rn,s[0]=new rn;var u=Number.MAX_VALUE,h=Math.abs(a[0].x),d=Math.abs(a[0].y),g=Math.abs(a[0].z);for(h<=u&&(u=h,A.set(1,0,0)),d<=u&&(u=d,A.set(0,1,0)),g<=u&&A.set(0,0,1),l.crossVectors(a[0],A).normalize(),o[0].crossVectors(a[0],l),s[0].crossVectors(a[0],o[0]),n=1;n<=e;n++)o[n]=o[n-1].clone(),s[n]=s[n-1].clone(),l.crossVectors(a[n-1],a[n]),l.length()>Number.EPSILON&&(l.normalize(),r=Math.acos(qt.clamp(a[n-1].dot(a[n]),-1,1)),o[n].applyMatrix4(c.makeRotationAxis(l,r))),s[n].crossVectors(a[n],o[n]);if(!0===t)for(r=Math.acos(qt.clamp(o[0].dot(o[e]),-1,1)),r/=e,a[0].dot(l.crossVectors(o[0],o[e]))>0&&(r=-r),n=1;n<=e;n++)o[n].applyMatrix4(c.makeRotationAxis(a[n],r*n)),s[n].crossVectors(a[n],o[n]);return{tangents:a,normals:o,binormals:s}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),ac.prototype=Object.create(Ac.prototype),ac.prototype.constructor=ac,ac.prototype.isEllipseCurve=!0,ac.prototype.getPoint=function(e,t){for(var n=t||new $t,i=2*Math.PI,r=this.aEndAngle-this.aStartAngle,A=Math.abs(r)<Number.EPSILON;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=A?0:i),!0!==this.aClockwise||A||(r===i?r=-i:r-=i);var a=this.aStartAngle+e*r,o=this.aX+this.xRadius*Math.cos(a),s=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var l=Math.cos(this.aRotation),c=Math.sin(this.aRotation),u=o-this.aX,h=s-this.aY;o=u*l-h*c+this.aX,s=u*c+h*l+this.aY}return n.set(o,s)},ac.prototype.copy=function(e){return Ac.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},ac.prototype.toJSON=function(){var e=Ac.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},ac.prototype.fromJSON=function(e){return Ac.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},oc.prototype=Object.create(ac.prototype),oc.prototype.constructor=oc,oc.prototype.isArcCurve=!0;var lc=new rn,cc=new sc,uc=new sc,hc=new sc;function dc(e,t,n,i){Ac.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=i||.5}function gc(e,t,n,i,r){var A=.5*(i-t),a=.5*(r-n),o=e*e;return(2*n-2*i+A+a)*(e*o)+(-3*n+3*i-2*A-a)*o+A*e+n}function pc(e,t,n,i){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,i)}function fc(e,t,n,i,r){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,i)+function(e,t){return e*e*e*t}(e,r)}function mc(e,t,n,i){Ac.call(this),this.type="CubicBezierCurve",this.v0=e||new $t,this.v1=t||new $t,this.v2=n||new $t,this.v3=i||new $t}function vc(e,t,n,i){Ac.call(this),this.type="CubicBezierCurve3",this.v0=e||new rn,this.v1=t||new rn,this.v2=n||new rn,this.v3=i||new rn}function Cc(e,t){Ac.call(this),this.type="LineCurve",this.v1=e||new $t,this.v2=t||new $t}function yc(e,t){Ac.call(this),this.type="LineCurve3",this.v1=e||new rn,this.v2=t||new rn}function Ic(e,t,n){Ac.call(this),this.type="QuadraticBezierCurve",this.v0=e||new $t,this.v1=t||new $t,this.v2=n||new $t}function wc(e,t,n){Ac.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new rn,this.v1=t||new rn,this.v2=n||new rn}function bc(e){Ac.call(this),this.type="SplineCurve",this.points=e||[]}dc.prototype=Object.create(Ac.prototype),dc.prototype.constructor=dc,dc.prototype.isCatmullRomCurve3=!0,dc.prototype.getPoint=function(e,t){var n,i,r,A,a=t||new rn,o=this.points,s=o.length,l=(s-(this.closed?0:1))*e,c=Math.floor(l),u=l-c;if(this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/s)+1)*s:0===u&&c===s-1&&(c=s-2,u=1),this.closed||c>0?n=o[(c-1)%s]:(lc.subVectors(o[0],o[1]).add(o[0]),n=lc),i=o[c%s],r=o[(c+1)%s],this.closed||c+2<s?A=o[(c+2)%s]:(lc.subVectors(o[s-1],o[s-2]).add(o[s-1]),A=lc),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,d=Math.pow(n.distanceToSquared(i),h),g=Math.pow(i.distanceToSquared(r),h),p=Math.pow(r.distanceToSquared(A),h);g<1e-4&&(g=1),d<1e-4&&(d=g),p<1e-4&&(p=g),cc.initNonuniformCatmullRom(n.x,i.x,r.x,A.x,d,g,p),uc.initNonuniformCatmullRom(n.y,i.y,r.y,A.y,d,g,p),hc.initNonuniformCatmullRom(n.z,i.z,r.z,A.z,d,g,p)}else"catmullrom"===this.curveType&&(cc.initCatmullRom(n.x,i.x,r.x,A.x,this.tension),uc.initCatmullRom(n.y,i.y,r.y,A.y,this.tension),hc.initCatmullRom(n.z,i.z,r.z,A.z,this.tension));return a.set(cc.calc(u),uc.calc(u),hc.calc(u)),a},dc.prototype.copy=function(e){Ac.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},dc.prototype.toJSON=function(){var e=Ac.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},dc.prototype.fromJSON=function(e){Ac.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push((new rn).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},mc.prototype=Object.create(Ac.prototype),mc.prototype.constructor=mc,mc.prototype.isCubicBezierCurve=!0,mc.prototype.getPoint=function(e,t){var n=t||new $t,i=this.v0,r=this.v1,A=this.v2,a=this.v3;return n.set(fc(e,i.x,r.x,A.x,a.x),fc(e,i.y,r.y,A.y,a.y)),n},mc.prototype.copy=function(e){return Ac.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},mc.prototype.toJSON=function(){var e=Ac.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},mc.prototype.fromJSON=function(e){return Ac.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},vc.prototype=Object.create(Ac.prototype),vc.prototype.constructor=vc,vc.prototype.isCubicBezierCurve3=!0,vc.prototype.getPoint=function(e,t){var n=t||new rn,i=this.v0,r=this.v1,A=this.v2,a=this.v3;return n.set(fc(e,i.x,r.x,A.x,a.x),fc(e,i.y,r.y,A.y,a.y),fc(e,i.z,r.z,A.z,a.z)),n},vc.prototype.copy=function(e){return Ac.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},vc.prototype.toJSON=function(){var e=Ac.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},vc.prototype.fromJSON=function(e){return Ac.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Cc.prototype=Object.create(Ac.prototype),Cc.prototype.constructor=Cc,Cc.prototype.isLineCurve=!0,Cc.prototype.getPoint=function(e,t){var n=t||new $t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},Cc.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Cc.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},Cc.prototype.copy=function(e){return Ac.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Cc.prototype.toJSON=function(){var e=Ac.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Cc.prototype.fromJSON=function(e){return Ac.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},yc.prototype=Object.create(Ac.prototype),yc.prototype.constructor=yc,yc.prototype.isLineCurve3=!0,yc.prototype.getPoint=function(e,t){var n=t||new rn;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},yc.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},yc.prototype.copy=function(e){return Ac.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},yc.prototype.toJSON=function(){var e=Ac.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},yc.prototype.fromJSON=function(e){return Ac.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Ic.prototype=Object.create(Ac.prototype),Ic.prototype.constructor=Ic,Ic.prototype.isQuadraticBezierCurve=!0,Ic.prototype.getPoint=function(e,t){var n=t||new $t,i=this.v0,r=this.v1,A=this.v2;return n.set(pc(e,i.x,r.x,A.x),pc(e,i.y,r.y,A.y)),n},Ic.prototype.copy=function(e){return Ac.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ic.prototype.toJSON=function(){var e=Ac.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ic.prototype.fromJSON=function(e){return Ac.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},wc.prototype=Object.create(Ac.prototype),wc.prototype.constructor=wc,wc.prototype.isQuadraticBezierCurve3=!0,wc.prototype.getPoint=function(e,t){var n=t||new rn,i=this.v0,r=this.v1,A=this.v2;return n.set(pc(e,i.x,r.x,A.x),pc(e,i.y,r.y,A.y),pc(e,i.z,r.z,A.z)),n},wc.prototype.copy=function(e){return Ac.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},wc.prototype.toJSON=function(){var e=Ac.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},wc.prototype.fromJSON=function(e){return Ac.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},bc.prototype=Object.create(Ac.prototype),bc.prototype.constructor=bc,bc.prototype.isSplineCurve=!0,bc.prototype.getPoint=function(e,t){var n=t||new $t,i=this.points,r=(i.length-1)*e,A=Math.floor(r),a=r-A,o=i[0===A?A:A-1],s=i[A],l=i[A>i.length-2?i.length-1:A+1],c=i[A>i.length-3?i.length-1:A+2];return n.set(gc(a,o.x,s.x,l.x,c.x),gc(a,o.y,s.y,l.y,c.y)),n},bc.prototype.copy=function(e){Ac.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push(i.clone())}return this},bc.prototype.toJSON=function(){var e=Ac.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var i=this.points[t];e.points.push(i.toArray())}return e},bc.prototype.fromJSON=function(e){Ac.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push((new $t).fromArray(i))}return this};var Bc=Object.freeze({__proto__:null,ArcCurve:oc,CatmullRomCurve3:dc,CubicBezierCurve:mc,CubicBezierCurve3:vc,EllipseCurve:ac,LineCurve:Cc,LineCurve3:yc,QuadraticBezierCurve:Ic,QuadraticBezierCurve3:wc,SplineCurve:bc});function xc(){Ac.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Mc(e){xc.call(this),this.type="Path",this.currentPoint=new $t,e&&this.setFromPoints(e)}function Ec(e){Mc.call(this,e),this.uuid=qt.generateUUID(),this.type="Shape",this.holes=[]}function Tc(e,t){_n.call(this),this.type="Light",this.color=new Qi(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Sc(e,t,n){Tc.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(_n.DefaultUp),this.updateMatrix(),this.groundColor=new Qi(t)}function Fc(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new $t(512,512),this.map=null,this.mapPass=null,this.matrix=new Tn,this._frustum=new qr,this._frameExtents=new $t(1,1),this._viewportCount=1,this._viewports=[new vn(0,0,1,1)]}function Uc(){Fc.call(this,new Xr(50,1,.5,500))}function Rc(e,t,n,i,r,A){Tc.call(this,e,t),this.type="SpotLight",this.position.copy(_n.DefaultUp),this.updateMatrix(),this.target=new _n,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==A?A:1,this.shadow=new Uc}function Lc(){Fc.call(this,new Xr(90,1,.5,500)),this._frameExtents=new $t(4,2),this._viewportCount=6,this._viewports=[new vn(2,1,1,1),new vn(0,1,1,1),new vn(3,1,1,1),new vn(1,1,1,1),new vn(3,0,1,1),new vn(1,0,1,1)],this._cubeDirections=[new rn(1,0,0),new rn(-1,0,0),new rn(0,0,1),new rn(0,0,-1),new rn(0,1,0),new rn(0,-1,0)],this._cubeUps=[new rn(0,1,0),new rn(0,1,0),new rn(0,1,0),new rn(0,1,0),new rn(0,0,1),new rn(0,0,-1)]}function Hc(e,t,n,i){Tc.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new Lc}function Gc(e,t,n,i,r,A){Zr.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==i?i:-1,this.near=void 0!==r?r:.1,this.far=void 0!==A?A:2e3,this.updateProjectionMatrix()}function Pc(){Fc.call(this,new Gc(-5,5,5,-5,.5,500))}function Qc(e,t){Tc.call(this,e,t),this.type="DirectionalLight",this.position.copy(_n.DefaultUp),this.updateMatrix(),this.target=new _n,this.shadow=new Pc}function Dc(e,t){Tc.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function Nc(e,t,n,i){Tc.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}function Vc(e){Yl.call(this,e),this.textures={}}xc.prototype=Object.assign(Object.create(Ac.prototype),{constructor:xc,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Cc(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=t){var r=n[i]-t,A=this.curves[i],a=A.getLength(),o=0===a?0:1-r/a;return A.getPointAt(o)}i++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],i=0,r=this.curves;i<r.length;i++)for(var A=r[i],a=A&&A.isEllipseCurve?2*e:A&&(A.isLineCurve||A.isLineCurve3)?1:A&&A.isSplineCurve?e*A.points.length:e,o=A.getPoints(a),s=0;s<o.length;s++){var l=o[s];t&&t.equals(l)||(n.push(l),t=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){Ac.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=Ac.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e},fromJSON:function(e){Ac.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var i=e.curves[t];this.curves.push((new Bc[i.type]).fromJSON(i))}return this}}),Mc.prototype=Object.assign(Object.create(xc.prototype),{constructor:Mc,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){var n=new Cc(this.currentPoint.clone(),new $t(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,i){var r=new Ic(this.currentPoint.clone(),new $t(e,t),new $t(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this},bezierCurveTo:function(e,t,n,i,r,A){var a=new mc(this.currentPoint.clone(),new $t(e,t),new $t(n,i),new $t(r,A));return this.curves.push(a),this.currentPoint.set(r,A),this},splineThru:function(e){var t=new bc([this.currentPoint.clone()].concat(e));return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,i,r,A){var a=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(e+a,t+o,n,i,r,A),this},absarc:function(e,t,n,i,r,A){return this.absellipse(e,t,n,n,i,r,A),this},ellipse:function(e,t,n,i,r,A,a,o){var s=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+s,t+l,n,i,r,A,a,o),this},absellipse:function(e,t,n,i,r,A,a,o){var s=new ac(e,t,n,i,r,A,a,o);if(this.curves.length>0){var l=s.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(s);var c=s.getPoint(1);return this.currentPoint.copy(c),this},copy:function(e){return xc.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=xc.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return xc.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),Ec.prototype=Object.assign(Object.create(Mc.prototype),{constructor:Ec,getPointsHoles:function(e){for(var t=[],n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Mc.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var i=e.holes[t];this.holes.push(i.clone())}return this},toJSON:function(){var e=Mc.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e},fromJSON:function(e){Mc.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var i=e.holes[t];this.holes.push((new Mc).fromJSON(i))}return this}}),Tc.prototype=Object.assign(Object.create(_n.prototype),{constructor:Tc,isLight:!0,copy:function(e){return _n.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=_n.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Sc.prototype=Object.assign(Object.create(Tc.prototype),{constructor:Sc,isHemisphereLight:!0,copy:function(e){return Tc.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Fc.prototype,{_projScreenMatrix:new Tn,_lightPositionWorld:new rn,_lookTarget:new rn,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,n=this.matrix,i=this._projScreenMatrix,r=this._lookTarget,A=this._lightPositionWorld;A.setFromMatrixPosition(e.matrixWorld),t.position.copy(A),r.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(r),t.updateMatrixWorld(),i.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Uc.prototype=Object.assign(Object.create(Fc.prototype),{constructor:Uc,isSpotLightShadow:!0,updateMatrices:function(e){var t=this.camera,n=2*qt.RAD2DEG*e.angle,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;n===t.fov&&i===t.aspect&&r===t.far||(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),Fc.prototype.updateMatrices.call(this,e)}}),Rc.prototype=Object.assign(Object.create(Tc.prototype),{constructor:Rc,isSpotLight:!0,copy:function(e){return Tc.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Lc.prototype=Object.assign(Object.create(Fc.prototype),{constructor:Lc,isPointLightShadow:!0,updateMatrices:function(e,t){void 0===t&&(t=0);var n=this.camera,i=this.matrix,r=this._lightPositionWorld,A=this._lookTarget,a=this._projScreenMatrix;r.setFromMatrixPosition(e.matrixWorld),n.position.copy(r),A.copy(n.position),A.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(A),n.updateMatrixWorld(),i.makeTranslation(-r.x,-r.y,-r.z),a.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromMatrix(a)}}),Hc.prototype=Object.assign(Object.create(Tc.prototype),{constructor:Hc,isPointLight:!0,copy:function(e){return Tc.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Gc.prototype=Object.assign(Object.create(Zr.prototype),{constructor:Gc,isOrthographicCamera:!0,copy:function(e,t){return Zr.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,i,r,A){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=A,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){pn.render();var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-e,A=n+e,a=i+t,o=i-t;if(null!==this.view&&this.view.enabled){var s=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),c=(this.right-this.left)/this.view.width,u=(this.top-this.bottom)/this.view.height;A=(r+=c*(this.view.offsetX/s))+c*(this.view.width/s),o=(a-=u*(this.view.offsetY/l))-u*(this.view.height/l)}this.projectionMatrix.makeOrthographic(r,A,a,o,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=_n.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Pc.prototype=Object.assign(Object.create(Fc.prototype),{constructor:Pc,isDirectionalLightShadow:!0,updateMatrices:function(e){Fc.prototype.updateMatrices.call(this,e)}}),Qc.prototype=Object.assign(Object.create(Tc.prototype),{constructor:Qc,isDirectionalLight:!0,copy:function(e){return Tc.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Dc.prototype=Object.assign(Object.create(Tc.prototype),{constructor:Dc,isAmbientLight:!0}),Nc.prototype=Object.assign(Object.create(Tc.prototype),{constructor:Nc,isRectAreaLight:!0,copy:function(e){return Tc.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=Tc.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),Vc.prototype=Object.assign(Object.create(Yl.prototype),{constructor:Vc,load:function(e,t,n,i){var r=this,A=new ql(r.manager);A.setPath(r.path),A.load(e,(function(e){t(r.parse(JSON.parse(e)))}),n,i)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var i=new Ul[e.type];if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=(new Qi).setHex(e.sheen)),void 0!==e.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&i.specular.setHex(e.specular),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.vertexColors&&(i.vertexColors=e.vertexColors),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(i.skinning=e.skinning),void 0!==e.morphTargets&&(i.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(i.morphNormals=e.morphNormals),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.uniforms)for(var r in e.uniforms){var A=e.uniforms[r];switch(i.uniforms[r]={},A.type){case"t":i.uniforms[r].value=n(A.value);break;case"c":i.uniforms[r].value=(new Qi).setHex(A.value);break;case"v2":i.uniforms[r].value=(new $t).fromArray(A.value);break;case"v3":i.uniforms[r].value=(new rn).fromArray(A.value);break;case"v4":i.uniforms[r].value=(new vn).fromArray(A.value);break;case"m3":i.uniforms[r].value=(new on).fromArray(A.value);case"m4":i.uniforms[r].value=(new Tn).fromArray(A.value);break;default:i.uniforms[r].value=A.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var a in e.extensions)i.extensions[a]=e.extensions[a];if(void 0!==e.shading&&(i.flatShading=1===e.shading),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=n(e.map)),void 0!==e.matcap&&(i.matcap=n(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=n(e.alphaMap),i.transparent=!0),void 0!==e.bumpMap&&(i.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){var o=e.normalScale;!1===Array.isArray(o)&&(o=[o,o]),i.normalScale=(new $t).fromArray(o)}return void 0!==e.displacementMap&&(i.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=n(e.specularMap)),void 0!==e.envMap&&(i.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=(new $t).fromArray(e.clearcoatNormalScale)),i},setTextures:function(e){return this.textures=e,this}});var Oc={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function kc(){ur.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Wc(e,t,n,i){"number"==typeof n&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Xi.call(this,e,t,n),this.meshPerAttribute=i||1}function Zc(e){Yl.call(this,e)}kc.prototype=Object.assign(Object.create(ur.prototype),{constructor:kc,isInstancedBufferGeometry:!0,copy:function(e){return ur.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=ur.prototype.toJSON.call(this);return e.maxInstancedCount=this.maxInstancedCount,e.isInstancedBufferGeometry=!0,e}}),Wc.prototype=Object.assign(Object.create(Xi.prototype),{constructor:Wc,isInstancedBufferAttribute:!0,copy:function(e){return Xi.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=Xi.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),Zc.prototype=Object.assign(Object.create(Yl.prototype),{constructor:Zc,load:function(e,t,n,i){var r=this,A=new ql(r.manager);A.setPath(r.path),A.load(e,(function(e){t(r.parse(JSON.parse(e)))}),n,i)},parse:function(e){var t=e.isInstancedBufferGeometry?new kc:new ur,n=e.data.index;if(void 0!==n){var i=new Xc[n.type](n.array);t.setIndex(new Xi(i,1))}var r=e.data.attributes;for(var A in r){var a=r[A],o=(i=new Xc[a.type](a.array),new(a.isInstancedBufferAttribute?Wc:Xi)(i,a.itemSize,a.normalized));void 0!==a.name&&(o.name=a.name),t.setAttribute(A,o)}var s=e.data.morphAttributes;if(s)for(var A in s){for(var l=s[A],c=[],u=0,h=l.length;u<h;u++){a=l[u],o=new Xi(i=new Xc[a.type](a.array),a.itemSize,a.normalized);void 0!==a.name&&(o.name=a.name),c.push(o)}t.morphAttributes[A]=c}e.data.morphTargetsRelative&&(t.morphTargetsRelative=!0);var d=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==d){u=0;for(var g=d.length;u!==g;++u){var p=d[u];t.addGroup(p.start,p.count,p.materialIndex)}}var f=e.data.boundingSphere;if(void 0!==f){var m=new rn;void 0!==f.center&&m.fromArray(f.center),t.boundingSphere=new ci(m,f.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t}});var Xc={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function _c(e){Yl.call(this,e)}_c.prototype=Object.assign(Object.create(Yl.prototype),{constructor:_c,load:function(e,t,n,i){var r=this,A=""===this.path?Oc.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||A;var a=new ql(r.manager);a.setPath(this.path),a.load(e,(function(n){var A=null;try{A=JSON.parse(n)}catch(t){return void 0!==i&&i(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}var a=A.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?r.parse(A,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,i)},parse:function(e,t){var n=this.parseShape(e.shapes),i=this.parseGeometries(e.geometries,n),r=this.parseImages(e.images,(function(){void 0!==t&&t(o)})),A=this.parseTextures(e.textures,r),a=this.parseMaterials(e.materials,A),o=this.parseObject(e.object,i,a);return e.animations&&(o.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(o),o},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,i=e.length;n<i;n++){var r=(new Ec).fromJSON(e[n]);t[r.uuid]=r}return t},parseGeometries:function(e,t){var n={};if(void 0!==e)for(var i=new Zc,r=0,A=e.length;r<A;r++){var a,o=e[r];switch(o.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new Cl[o.type](o.width,o.height,o.widthSegments,o.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new Cl[o.type](o.width,o.height,o.depth,o.widthSegments,o.heightSegments,o.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new Cl[o.type](o.radius,o.segments,o.thetaStart,o.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new Cl[o.type](o.radiusTop,o.radiusBottom,o.height,o.radialSegments,o.heightSegments,o.openEnded,o.thetaStart,o.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new Cl[o.type](o.radius,o.height,o.radialSegments,o.heightSegments,o.openEnded,o.thetaStart,o.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new Cl[o.type](o.radius,o.widthSegments,o.heightSegments,o.phiStart,o.phiLength,o.thetaStart,o.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":a=new Cl[o.type](o.radius,o.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new Cl[o.type](o.innerRadius,o.outerRadius,o.thetaSegments,o.phiSegments,o.thetaStart,o.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new Cl[o.type](o.radius,o.tube,o.radialSegments,o.tubularSegments,o.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new Cl[o.type](o.radius,o.tube,o.tubularSegments,o.radialSegments,o.p,o.q);break;case"TubeGeometry":case"TubeBufferGeometry":a=new Cl[o.type]((new Bc[o.path.type]).fromJSON(o.path),o.tubularSegments,o.radius,o.radialSegments,o.closed);break;case"LatheGeometry":case"LatheBufferGeometry":a=new Cl[o.type](o.points,o.segments,o.phiStart,o.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":a=new Cl[o.type](o.vertices,o.indices,o.radius,o.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var s=[],l=0,c=o.shapes.length;l<c;l++){var u=t[o.shapes[l]];s.push(u)}a=new Cl[o.type](s,o.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(s=[],l=0,c=o.shapes.length;l<c;l++){u=t[o.shapes[l]];s.push(u)}var h=o.options.extrudePath;void 0!==h&&(o.options.extrudePath=(new Bc[h.type]).fromJSON(h)),a=new Cl[o.type](s,o.options);break;case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(o);break;case"Geometry":if("THREE"in Be&&"LegacyJSONLoader"in THREE)a=(new THREE.LegacyJSONLoader).parse(o,this.resourcePath).geometry;else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+o.type+'"');continue}a.uuid=o.uuid,void 0!==o.name&&(a.name=o.name),!0===a.isBufferGeometry&&void 0!==o.userData&&(a.userData=o.userData),n[o.uuid]=a}return n},parseMaterials:function(e,t){var n={},i={};if(void 0!==e){var r=new Vc;r.setTextures(t);for(var A=0,a=e.length;A<a;A++){var o=e[A];if("MultiMaterial"===o.type){for(var s=[],l=0;l<o.materials.length;l++){var c=o.materials[l];void 0===n[c.uuid]&&(n[c.uuid]=r.parse(c)),s.push(n[c.uuid])}i[o.uuid]=s}else void 0===n[o.uuid]&&(n[o.uuid]=r.parse(o)),i[o.uuid]=n[o.uuid]}}return i},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=Xl.parse(i);void 0!==i.uuid&&(r.uuid=i.uuid),t.push(r)}return t},parseImages:function(e,t){var n=this,i={};function r(e){return n.manager.itemStart(e),A.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}if(void 0!==e&&e.length>0){var A=new nc(new zl(t));A.setCrossOrigin(this.crossOrigin);for(var a=0,o=e.length;a<o;a++){var s=e[a],l=s.url;if(Array.isArray(l)){i[s.uuid]=[];for(var c=0,u=l.length;c<u;c++){var h=l[c],d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:n.resourcePath+h;i[s.uuid].push(r(d))}}else{d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s.url)?s.url:n.resourcePath+s.url;i[s.uuid]=r(d)}}}return i},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var i={};if(void 0!==e)for(var r=0,A=e.length;r<A;r++){var a,o=e[r];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image),(a=Array.isArray(t[o.image])?new mA(t[o.image]):new mn(t[o.image])).needsUpdate=!0,a.uuid=o.uuid,void 0!==o.name&&(a.name=o.name),void 0!==o.mapping&&(a.mapping=n(o.mapping,Kc)),void 0!==o.offset&&a.offset.fromArray(o.offset),void 0!==o.repeat&&a.repeat.fromArray(o.repeat),void 0!==o.center&&a.center.fromArray(o.center),void 0!==o.rotation&&(a.rotation=o.rotation),void 0!==o.wrap&&(a.wrapS=n(o.wrap[0],Yc),a.wrapT=n(o.wrap[1],Yc)),void 0!==o.format&&(a.format=o.format),void 0!==o.type&&(a.type=o.type),void 0!==o.encoding&&(a.encoding=o.encoding),void 0!==o.minFilter&&(a.minFilter=n(o.minFilter,jc)),void 0!==o.magFilter&&(a.magFilter=n(o.magFilter,jc)),void 0!==o.anisotropy&&(a.anisotropy=o.anisotropy),void 0!==o.flipY&&(a.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(a.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(a.unpackAlignment=o.unpackAlignment),i[o.uuid]=a}return i},parseObject:function(e,t,n){var i;function r(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function A(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],i=0,r=e.length;i<r;i++){var A=e[i];void 0===n[A]&&console.warn("THREE.ObjectLoader: Undefined material",A),t.push(n[A])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":i=new zn,void 0!==e.background&&Number.isInteger(e.background)&&(i.background=new Qi(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?i.fog=new oo(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(i.fog=new ao(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":i=new Xr(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(i.focus=e.focus),void 0!==e.zoom&&(i.zoom=e.zoom),void 0!==e.filmGauge&&(i.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(i.filmOffset=e.filmOffset),void 0!==e.view&&(i.view=Object.assign({},e.view));break;case"OrthographicCamera":i=new Gc(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(i.zoom=e.zoom),void 0!==e.view&&(i.view=Object.assign({},e.view));break;case"AmbientLight":i=new Dc(e.color,e.intensity);break;case"DirectionalLight":i=new Qc(e.color,e.intensity);break;case"PointLight":i=new Hc(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":i=new Nc(e.color,e.intensity,e.width,e.height);break;case"SpotLight":i=new Rc(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":i=new Sc(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=r(e.geometry),o=A(e.material);i=a.bones&&a.bones.length>0?new So(a,o):new Fr(a,o);break;case"InstancedMesh":a=r(e.geometry),o=A(e.material);var s=e.count,l=e.instanceMatrix;(i=new No(a,o,s)).instanceMatrix=new Xi(new Float32Array(l.array),16);break;case"LOD":i=new To;break;case"Line":i=new _o(r(e.geometry),A(e.material),e.mode);break;case"LineLoop":i=new jo(r(e.geometry),A(e.material));break;case"LineSegments":i=new Yo(r(e.geometry),A(e.material));break;case"PointCloud":case"Points":i=new ns(r(e.geometry),A(e.material));break;case"Sprite":i=new Bo(A(e.material));break;case"Group":i=new Ja;break;default:i=new _n}if(i.uuid=e.uuid,void 0!==e.name&&(i.name=e.name),void 0!==e.matrix?(i.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(i.matrixAutoUpdate=e.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(void 0!==e.position&&i.position.fromArray(e.position),void 0!==e.rotation&&i.rotation.fromArray(e.rotation),void 0!==e.quaternion&&i.quaternion.fromArray(e.quaternion),void 0!==e.scale&&i.scale.fromArray(e.scale)),void 0!==e.castShadow&&(i.castShadow=e.castShadow),void 0!==e.receiveShadow&&(i.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(i.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(i.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&i.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(i.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.frustumCulled&&(i.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(i.renderOrder=e.renderOrder),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.layers&&(i.layers.mask=e.layers),void 0!==e.drawMode&&i.setDrawMode(e.drawMode),void 0!==e.children)for(var c=e.children,u=0;u<c.length;u++)i.add(this.parseObject(c[u],t,n));if("LOD"===e.type){void 0!==e.autoUpdate&&(i.autoUpdate=e.autoUpdate);for(var h=e.levels,d=0;d<h.length;d++){var g=h[d],p=i.getObjectByProperty("uuid",g.object);void 0!==p&&i.addLevel(p,g.distance)}}return i}});var zc,Kc={UVMapping:_e,CubeReflectionMapping:ze,CubeRefractionMapping:Ke,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:Ye,SphericalReflectionMapping:305,CubeUVReflectionMapping:je,CubeUVRefractionMapping:Je},Yc={RepeatWrapping:qe,ClampToEdgeWrapping:$e,MirroredRepeatWrapping:et},jc={NearestFilter:tt,NearestMipmapNearestFilter:nt,NearestMipmapLinearFilter:it,LinearFilter:rt,LinearMipmapNearestFilter:At,LinearMipmapLinearFilter:at};function Jc(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Yl.call(this,e),this.options=void 0}function qc(){this.type="ShapePath",this.color=new Qi,this.subPaths=[],this.currentPath=null}function $c(e){this.type="Font",this.data=e}function eu(e,t,n,i,r){var A=r.glyphs[e]||r.glyphs["?"];if(A){var a,o,s,l,c,u,h,d,g=new qc;if(A.o)for(var p=A._cachedOutline||(A._cachedOutline=A.o.split(" ")),f=0,m=p.length;f<m;){switch(p[f++]){case"m":a=p[f++]*t+n,o=p[f++]*t+i,g.moveTo(a,o);break;case"l":a=p[f++]*t+n,o=p[f++]*t+i,g.lineTo(a,o);break;case"q":s=p[f++]*t+n,l=p[f++]*t+i,c=p[f++]*t+n,u=p[f++]*t+i,g.quadraticCurveTo(c,u,s,l);break;case"b":s=p[f++]*t+n,l=p[f++]*t+i,c=p[f++]*t+n,u=p[f++]*t+i,h=p[f++]*t+n,d=p[f++]*t+i,g.bezierCurveTo(c,u,h,d,s,l)}}return{offsetX:A.ha*t,path:g}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+r.familyName+".")}function tu(e){Yl.call(this,e)}Jc.prototype=Object.assign(Object.create(Yl.prototype),{constructor:Jc,setOptions:function(e){return this.options=e,this},load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,A=jl.get(e);if(void 0!==A)return r.manager.itemStart(e),setTimeout((function(){t&&t(A),r.manager.itemEnd(e)}),0),A;fetch(e).then((function(e){return e.blob()})).then((function(e){return void 0===r.options?createImageBitmap(e):createImageBitmap(e,r.options)})).then((function(n){jl.add(e,n),t&&t(n),r.manager.itemEnd(e)})).catch((function(t){i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)})),r.manager.itemStart(e)}}),Object.assign(qc.prototype,{moveTo:function(e,t){return this.currentPath=new Mc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this},bezierCurveTo:function(e,t,n,i,r,A){return this.currentPath.bezierCurveTo(e,t,n,i,r,A),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n],A=new Ec;A.curves=r.curves,t.push(A)}return t}function i(e,t){for(var n=t.length,i=!1,r=n-1,A=0;A<n;r=A++){var a=t[r],o=t[A],s=o.x-a.x,l=o.y-a.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(a=t[A],s=-s,o=t[r],l=-l),e.y<a.y||e.y>o.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var c=l*(e.x-a.x)-s*(e.y-a.y);if(0===c)return!0;if(c<0)continue;i=!i}}else{if(e.y!==a.y)continue;if(o.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=o.x)return!0}}return i}var r=Ks.isClockWise,A=this.subPaths;if(0===A.length)return[];if(!0===t)return n(A);var a,o,s,l=[];if(1===A.length)return o=A[0],(s=new Ec).curves=o.curves,l.push(s),l;var c=!r(A[0].getPoints());c=e?!c:c;var u,h,d=[],g=[],p=[],f=0;g[f]=void 0,p[f]=[];for(var m=0,v=A.length;m<v;m++)a=r(u=(o=A[m]).getPoints()),(a=e?!a:a)?(!c&&g[f]&&f++,g[f]={s:new Ec,p:u},g[f].s.curves=o.curves,c&&f++,p[f]=[]):p[f].push({h:o,p:u[0]});if(!g[0])return n(A);if(g.length>1){for(var C=!1,y=[],I=0,w=g.length;I<w;I++)d[I]=[];for(I=0,w=g.length;I<w;I++)for(var b=p[I],B=0;B<b.length;B++){for(var x=b[B],M=!0,E=0;E<g.length;E++)i(x.p,g[E].p)&&(I!==E&&y.push({froms:I,tos:E,hole:B}),M?(M=!1,d[E].push(x)):C=!0);M&&d[I].push(x)}y.length>0&&(C||(p=d))}m=0;for(var T=g.length;m<T;m++){s=g[m].s,l.push(s);for(var S=0,F=(h=p[m]).length;S<F;S++)s.holes.push(h[S].h)}return l}}),Object.assign($c.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var n=[],i=function(e,t,n){for(var i=Array.from?Array.from(e):String(e).split(""),r=t/n.resolution,A=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,a=[],o=0,s=0,l=0;l<i.length;l++){var c=i[l];if("\n"===c)o=0,s-=A;else{var u=eu(c,r,o,s,n);o+=u.offsetX,a.push(u.path)}}return a}(e,t,this.data),r=0,A=i.length;r<A;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}}),tu.prototype=Object.assign(Object.create(Yl.prototype),{constructor:tu,load:function(e,t,n,i){var r=this,A=new ql(this.manager);A.setPath(this.path),A.load(e,(function(e){var n;try{n=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var i=r.parse(n);t&&t(i)}),n,i)},parse:function(e){return new $c(e)}});var nu={getContext:function(){return void 0===zc&&(zc=new null),zc},setContext:function(e){zc=e}};function iu(e){Yl.call(this,e)}function ru(){this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new rn)}function Au(e,t){Tc.call(this,void 0,t),this.sh=void 0!==e?e:new ru}function au(e,t,n){Au.call(this,void 0,n);var i=(new Qi).set(e),r=(new Qi).set(t),A=new rn(i.r,i.g,i.b),a=new rn(r.r,r.g,r.b),o=Math.sqrt(Math.PI),s=o*Math.sqrt(.75);this.sh.coefficients[0].copy(A).add(a).multiplyScalar(o),this.sh.coefficients[1].copy(A).sub(a).multiplyScalar(s)}function ou(e,t){Au.call(this,void 0,t);var n=(new Qi).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}iu.prototype=Object.assign(Object.create(Yl.prototype),{constructor:iu,load:function(e,t,n,i){var r=new ql(this.manager);r.setResponseType("arraybuffer"),r.setPath(this.path),r.load(e,(function(e){var n=e.slice(0);nu.getContext().decodeAudioData(n,(function(e){t(e)}))}),n,i)}}),Object.assign(ru.prototype,{isSphericalHarmonics3:!0,set:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){var n=e.x,i=e.y,r=e.z,A=this.coefficients;return t.copy(A[0]).multiplyScalar(.282095),t.addScale(A[1],.488603*i),t.addScale(A[2],.488603*r),t.addScale(A[3],.488603*n),t.addScale(A[4],n*i*1.092548),t.addScale(A[5],i*r*1.092548),t.addScale(A[6],.315392*(3*r*r-1)),t.addScale(A[7],n*r*1.092548),t.addScale(A[8],.546274*(n*n-i*i)),t},getIrradianceAt:function(e,t){var n=e.x,i=e.y,r=e.z,A=this.coefficients;return t.copy(A[0]).multiplyScalar(.886227),t.addScale(A[1],1.023328*i),t.addScale(A[2],1.023328*r),t.addScale(A[3],1.023328*n),t.addScale(A[4],.858086*n*i),t.addScale(A[5],.858086*i*r),t.addScale(A[6],.743125*r*r-.247708),t.addScale(A[7],.858086*n*r),t.addScale(A[8],.429043*(n*n-i*i)),t},add:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},scale:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this},equals:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(e,t){void 0===t&&(t=0);for(var n=this.coefficients,i=0;i<9;i++)n[i].fromArray(e,t+3*i);return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);for(var n=this.coefficients,i=0;i<9;i++)n[i].toArray(e,t+3*i);return e}}),Object.assign(ru,{getBasisAt:function(e,t){var n=e.x,i=e.y,r=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*r,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*n*r,t[8]=.546274*(n*n-i*i)}}),Au.prototype=Object.assign(Object.create(Tc.prototype),{constructor:Au,isLightProbe:!0,copy:function(e){return Tc.prototype.copy.call(this,e),this.sh.copy(e.sh),this.intensity=e.intensity,this},toJSON:function(e){return Tc.prototype.toJSON.call(this,e)}}),au.prototype=Object.assign(Object.create(Au.prototype),{constructor:au,isHemisphereLightProbe:!0,copy:function(e){return Au.prototype.copy.call(this,e),this},toJSON:function(e){return Au.prototype.toJSON.call(this,e)}}),ou.prototype=Object.assign(Object.create(Au.prototype),{constructor:ou,isAmbientLightProbe:!0,copy:function(e){return Au.prototype.copy.call(this,e),this},toJSON:function(e){return Au.prototype.toJSON.call(this,e)}});var su=new Tn,lu=new Tn;function cu(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Xr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Xr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function uu(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(cu.prototype,{update:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var n,i,r=e.projectionMatrix.clone(),A=t.eyeSep/2,a=A*t.near/t.focus,o=t.near*Math.tan(qt.DEG2RAD*t.fov*.5)/t.zoom;lu.elements[12]=-A,su.elements[12]=A,n=-o*t.aspect+a,i=o*t.aspect+a,r.elements[0]=2*t.near/(i-n),r.elements[8]=(i+n)/(i-n),this.cameraL.projectionMatrix.copy(r),n=-o*t.aspect-a,i=o*t.aspect-a,r.elements[0]=2*t.near/(i-n),r.elements[8]=(i+n)/(i-n),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(lu),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(su)}}),Object.assign(uu.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});var hu=new rn,du=new en,gu=new rn,pu=new rn;function fu(){_n.call(this),this.type="AudioListener",this.context=nu.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new uu}function mu(e){_n.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._pausedAt=0,this.filters=[]}fu.prototype=Object.assign(Object.create(_n.prototype),{constructor:fu,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){_n.prototype.updateMatrixWorld.call(this,e);var t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(hu,du,gu),pu.set(0,0,-1).applyQuaternion(du),t.positionX){var i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(hu.x,i),t.positionY.linearRampToValueAtTime(hu.y,i),t.positionZ.linearRampToValueAtTime(hu.z,i),t.forwardX.linearRampToValueAtTime(pu.x,i),t.forwardY.linearRampToValueAtTime(pu.y,i),t.forwardZ.linearRampToValueAtTime(pu.z,i),t.upX.linearRampToValueAtTime(n.x,i),t.upY.linearRampToValueAtTime(n.y,i),t.upZ.linearRampToValueAtTime(n.z,i)}else t.setPosition(hu.x,hu.y,hu.z),t.setOrientation(pu.x,pu.y,pu.z,n.x,n.y,n.z)}}),mu.prototype=Object.assign(Object.create(_n.prototype),{constructor:mu,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(void 0===e&&(e=0),!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._pausedAt+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._pausedAt=(this.context.currentTime-this._startedAt)*this.playbackRate,this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this._pausedAt=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});var vu=new rn,Cu=new en,yu=new rn,Iu=new rn;function wu(e){mu.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function bu(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function Bu(e,t,n){this.binding=e,this.valueSize=n;var i,r=Float64Array;switch(t){case"quaternion":i=this._slerp;break;case"string":case"bool":r=Array,i=this._select;break;default:i=this._lerp}this.buffer=new r(4*n),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}wu.prototype=Object.assign(Object.create(mu.prototype),{constructor:wu,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(e){if(_n.prototype.updateMatrixWorld.call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(vu,Cu,yu),Iu.set(0,0,1).applyQuaternion(Cu);var t=this.panner;if(t.positionX){var n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(vu.x,n),t.positionY.linearRampToValueAtTime(vu.y,n),t.positionZ.linearRampToValueAtTime(vu.z,n),t.orientationX.linearRampToValueAtTime(Iu.x,n),t.orientationY.linearRampToValueAtTime(Iu.y,n),t.orientationZ.linearRampToValueAtTime(Iu.z,n)}else t.setPosition(vu.x,vu.y,vu.z),t.setOrientation(Iu.x,Iu.y,Iu.z)}}}),Object.assign(bu.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(Bu.prototype,{accumulate:function(e,t){var n=this.buffer,i=this.valueSize,r=e*i+i,A=this.cumulativeWeight;if(0===A){for(var a=0;a!==i;++a)n[r+a]=n[a];A=t}else{var o=t/(A+=t);this._mixBufferRegion(n,r,0,o,i)}this.cumulativeWeight=A},apply:function(e){var t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,A=this.binding;if(this.cumulativeWeight=0,r<1){var a=3*t;this._mixBufferRegion(n,i,a,1-r,t)}for(var o=t,s=t+t;o!==s;++o)if(n[o]!==n[o+t]){A.setValue(n,i);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,i=3*n;e.getValue(t,i);for(var r=n,A=i;r!==A;++r)t[r]=t[i+r%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,i,r){if(i>=.5)for(var A=0;A!==r;++A)e[t+A]=e[n+A]},_slerp:function(e,t,n,i){en.slerpFlat(e,t,e,t,e,n,i)},_lerp:function(e,t,n,i,r){for(var A=1-i,a=0;a!==r;++a){var o=t+a;e[o]=e[o]*A+e[n+a]*i}}});var xu="\\[\\]\\.:\\/",Mu=new RegExp("[\\[\\]\\.:\\/]","g"),Eu="[^\\[\\]\\.:\\/]",Tu="[^"+xu.replace("\\.","")+"]",Su=/((?:WC+[\/:])*)/.source.replace("WC",Eu),Fu=/(WCOD+)?/.source.replace("WCOD",Tu),Uu=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Eu),Ru=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Eu),Lu=new RegExp("^"+Su+Fu+Uu+Ru+"$"),Hu=["material","materials","bones"];function Gu(e,t,n){var i=n||Pu.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}function Pu(e,t,n){this.path=t,this.parsedPath=n||Pu.parseTrackName(t),this.node=Pu.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Qu(){this.uuid=qt.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function Du(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var i=t.tracks,r=i.length,A=new Array(r),a={endingStart:Lt,endingEnd:Lt},o=0;o!==r;++o){var s=i[o].createInterpolant(null);A[o]=s,s.settings=a}this._interpolantSettings=a,this._interpolants=A,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=St,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Nu(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Vu(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function Ou(e,t,n){so.call(this,e,t),this.meshPerAttribute=n||1}function ku(e,t,n,i){this.ray=new vi(e,t),this.near=n||0,this.far=i||1/0,this.camera=null,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Wu(e,t){return e.distance-t.distance}function Zu(e,t,n,i){if(!1!==e.visible&&(e.raycast(t,n),!0===i))for(var r=e.children,A=0,a=r.length;A<a;A++)Zu(r[A],t,n,!0)}function Xu(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function _u(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}Object.assign(Gu.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(Pu,{Composite:Gu,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Pu.Composite(e,t,n):new Pu(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(Mu,"")},parseTrackName:function(e){var t=Lu.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){var r=n.nodeName.substring(i+1);-1!==Hu.indexOf(r)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var i=function e(n){for(var i=0;i<n.length;i++){var r=n[i];if(r.name===t||r.uuid===t)return r;var A=e(r.children);if(A)return A}return null}(e.children);if(i)return i}return null}}),Object.assign(Pu.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)e[t++]=n[i]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,r=t.propertyIndex;if(e||(e=Pu.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var A=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===A){A=a;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==A){if(void 0===e[A])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[A]}}var o=e[i];if(void 0!==o){var s=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?s=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(s=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(e.geometry.morphAttributes.position[a].name===r){r=a;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(a=0;a<this.node.geometry.morphTargets.length;a++)if(e.geometry.morphTargets[a].name===r){r=a;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else void 0!==o.fromArray&&void 0!==o.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}else{var c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(Pu.prototype,{_getValue_unbound:Pu.prototype.getValue,_setValue_unbound:Pu.prototype.setValue}),Object.assign(Qu.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._paths,A=this._parsedPaths,a=this._bindings,o=a.length,s=void 0,l=0,c=arguments.length;l!==c;++l){var u=arguments[l],h=u.uuid,d=i[h];if(void 0===d){d=t++,i[h]=d,e.push(u);for(var g=0,p=o;g!==p;++g)a[g].push(new Pu(u,r[g],A[g]))}else if(d<n){s=e[d];var f=--n,m=e[f];i[m.uuid]=d,e[d]=m,i[h]=f,e[f]=u;for(g=0,p=o;g!==p;++g){var v=a[g],C=v[f],y=v[d];v[d]=C,void 0===y&&(y=new Pu(u,r[g],A[g])),v[f]=y}}else e[d]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,r=i.length,A=0,a=arguments.length;A!==a;++A){var o=arguments[A],s=o.uuid,l=n[s];if(void 0!==l&&l>=t){var c=t++,u=e[c];n[u.uuid]=l,e[l]=u,n[s]=c,e[c]=o;for(var h=0,d=r;h!==d;++h){var g=i[h],p=g[c],f=g[l];g[l]=p,g[c]=f}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,A=r.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],l=s.uuid,c=i[l];if(void 0!==c)if(delete i[l],c<n){var u=--n,h=e[u],d=e[v=--t];i[h.uuid]=c,e[c]=h,i[d.uuid]=u,e[u]=d,e.pop();for(var g=0,p=A;g!==p;++g){var f=(C=r[g])[u],m=C[v];C[c]=f,C[u]=m,C.pop()}}else{var v;i[(d=e[v=--t]).uuid]=c,e[c]=d,e.pop();for(g=0,p=A;g!==p;++g){var C;(C=r[g])[c]=C[v],C.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,i=n[e],r=this._bindings;if(void 0!==i)return r[i];var A=this._paths,a=this._parsedPaths,o=this._objects,s=o.length,l=this.nCachedObjects_,c=new Array(s);i=r.length,n[e]=i,A.push(e),a.push(t),r.push(c);for(var u=l,h=o.length;u!==h;++u){var d=o[u];c[u]=new Pu(d,e,t)}return c},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var i=this._paths,r=this._parsedPaths,A=this._bindings,a=A.length-1,o=A[a];t[e[a]]=n,A[n]=o,A.pop(),r[n]=r[a],r.pop(),i[n]=i[a],i.pop()}}}),Object.assign(Du.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var i=this._clip.duration,r=e._clip.duration,A=r/i,a=i/r;e.warp(1,A,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var i=this._mixer,r=i.time,A=this._timeScaleInterpolant,a=this.timeScale;null===A&&(A=i._lendControlInterpolant(),this._timeScaleInterpolant=A);var o=A.parameterPositions,s=A.sampleValues;return o[0]=r,o[1]=r+n,s[0]=e/a,s[1]=t/a,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,i){if(this.enabled){var r=this._startTime;if(null!==r){var A=(e-r)*n;if(A<0||0===n)return;this._startTime=null,t=n*A}t*=this._updateTimeScale(e);var a=this._updateTime(t),o=this._updateWeight(e);if(o>0)for(var s=this._interpolants,l=this._propertyBindings,c=0,u=s.length;c!==u;++c)s[c].evaluate(a),l[c].accumulate(i,o)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,n=this._clip.duration,i=this.loop,r=this._loopCount,A=2202===i;if(0===e)return-1===r?t:A&&1==(1&r)?n-t:t;if(i===Tt){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0)){this.time=t;break e}t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,A)):this._setEndings(0===this.repetitions,!0,A)),t>=n||t<0){var a=Math.floor(t/n);t-=n*a,r+=Math.abs(a);var o=this.repetitions-r;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===o){var s=e<0;this._setEndings(s,!s,A)}else this._setEndings(!1,!1,A);this._loopCount=r,this.time=t,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=t;if(A&&1==(1&r))return n-t}return t},_setEndings:function(e,t,n){var i=this._interpolantSettings;n?(i.endingStart=Ht,i.endingEnd=Ht):(i.endingStart=e?this.zeroSlopeAtStart?Ht:Lt:Gt,i.endingEnd=t?this.zeroSlopeAtEnd?Ht:Lt:Gt)},_scheduleFading:function(e,t,n){var i=this._mixer,r=i.time,A=this._weightInterpolant;null===A&&(A=i._lendControlInterpolant(),this._weightInterpolant=A);var a=A.parameterPositions,o=A.sampleValues;return a[0]=r,o[0]=t,a[1]=r+e,o[1]=n,this}}),Nu.prototype=Object.assign(Object.create(Yt.prototype),{constructor:Nu,_bindAction:function(e,t){var n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,A=e._propertyBindings,a=e._interpolants,o=n.uuid,s=this._bindingsByRootAndName,l=s[o];void 0===l&&(l={},s[o]=l);for(var c=0;c!==r;++c){var u=i[c],h=u.name,d=l[h];if(void 0!==d)A[c]=d;else{if(void 0!==(d=A[c])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,o,h));continue}var g=t&&t._propertyBindings[c].binding.parsedPath;++(d=new Bu(Pu.create(n,h,g),u.ValueTypeName,u.getValueSize())).referenceCount,this._addInactiveBinding(d,o,h),A[c]=d}a[c].resultBuffer=d.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,t)}for(var r=e._propertyBindings,A=0,a=r.length;A!==a;++A){var o=r[A];0==o.useCount++&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var i=this._actions,r=this._actionsByClip,A=r[t];if(void 0===A)A={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=A;else{var a=A.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),A.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;var r=e._clip.uuid,A=this._actionsByClip,a=A[r],o=a.knownActions,s=o[o.length-1],l=e._byClipCacheIndex;s._byClipCacheIndex=l,o[l]=s,o.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===o.length&&delete A[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_addInactiveBinding:function(e,t,n){var i=this._bindingsByRootAndName,r=i[t],A=this._bindings;void 0===r&&(r={},i[t]=r),r[n]=e,e._cacheIndex=A.length,A.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,A=this._bindingsByRootAndName,a=A[i],o=t[t.length-1],s=e._cacheIndex;o._cacheIndex=s,t[s]=o,t.pop(),delete a[r],0===Object.keys(a).length&&delete A[i]},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new Gl(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,i=n.uuid,r="string"==typeof e?Xl.findByName(n,e):e,A=null!==r?r.uuid:e,a=this._actionsByClip[A],o=null;if(void 0!==a){var s=a.actionByRoot[i];if(void 0!==s)return s;o=a.knownActions[0],null===r&&(r=o._clip)}if(null===r)return null;var l=new Du(this,r,t);return this._bindAction(l,o),this._addInactiveAction(l,A,i),l},existingAction:function(e,t){var n=t||this._root,i=n.uuid,r="string"==typeof e?Xl.findByName(n,e):e,A=r?r.uuid:e,a=this._actionsByClip[A];return void 0!==a&&a.actionByRoot[i]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,i=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var r=0;r!==t;++r)e[r].reset();for(r=0;r!==i;++r)n[r].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),A=this._accuIndex^=1,a=0;a!==n;++a){t[a]._update(i,e,r,A)}var o=this._bindings,s=this._nActiveBindings;for(a=0;a!==s;++a)o[a].apply(A);return this},setTime:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){for(var A=r.knownActions,a=0,o=A.length;a!==o;++a){var s=A[a];this._deactivateAction(s);var l=s._cacheIndex,c=t[t.length-1];s._cacheIndex=null,s._byClipCacheIndex=null,c._cacheIndex=l,t[l]=c,t.pop(),this._removeInactiveBindingsForAction(s)}delete i[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var i in n){var r=n[i].actionByRoot[t];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}var A=this._bindingsByRootAndName[t];if(void 0!==A)for(var a in A){var o=A[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Vu.prototype.clone=function(){return new Vu(void 0===this.value.clone?this.value:this.value.clone())},Ou.prototype=Object.assign(Object.create(so.prototype),{constructor:Ou,isInstancedInterleavedBuffer:!0,copy:function(e){return so.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(ku.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var i=n||[];return Zu(e,this,i,t),i.sort(Wu),i},intersectObjects:function(e,t,n){var i=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var r=0,A=e.length;r<A;r++)Zu(e[r],this,i,t);return i.sort(Wu),i}}),Object.assign(Xu.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(qt.clamp(t/this.radius,-1,1))),this}}),Object.assign(_u.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}});var zu=new $t;function Ku(e,t){this.min=void 0!==e?e:new $t(1/0,1/0),this.max=void 0!==t?t:new $t(-1/0,-1/0)}Object.assign(Ku.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var n=zu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new $t),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new $t),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new $t),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new $t),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return zu.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var Yu=new rn,ju=new rn;function Ju(e,t){this.start=void 0!==e?e:new rn,this.end=void 0!==t?t:new rn}function qu(e){_n.call(this),this.material=e,this.render=function(){}}Object.assign(Ju.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new rn),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new rn),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new rn),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){Yu.subVectors(e,this.start),ju.subVectors(this.end,this.start);var n=ju.dot(ju),i=ju.dot(Yu)/n;return t&&(i=qt.clamp(i,0,1)),i},closestPointToPoint:function(e,t,n){var i=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new rn),this.delta(n).multiplyScalar(i).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),qu.prototype=Object.create(_n.prototype),qu.prototype.constructor=qu,qu.prototype.isImmediateRenderObject=!0;var $u=new rn,eh=new rn,th=new on,nh=["a","b","c"];function ih(e,t,n,i){this.object=e,this.size=void 0!==t?t:1;var r=void 0!==n?n:16711680,A=void 0!==i?i:1,a=0,o=this.object.geometry;o&&o.isGeometry?a=3*o.faces.length:o&&o.isBufferGeometry&&(a=o.attributes.normal.count);var s=new ur,l=new $i(2*a*3,3);s.setAttribute("position",l),Yo.call(this,s,new Vo({color:r,linewidth:A})),this.matrixAutoUpdate=!1,this.update()}ih.prototype=Object.create(Yo.prototype),ih.prototype.constructor=ih,ih.prototype.update=function(){this.object.updateMatrixWorld(!0),th.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,t=this.geometry.attributes.position,n=this.object.geometry;if(n&&n.isGeometry)for(var i=n.vertices,r=n.faces,A=0,a=0,o=r.length;a<o;a++)for(var s=r[a],l=0,c=s.vertexNormals.length;l<c;l++){var u=i[s[nh[l]]],h=s.vertexNormals[l];$u.copy(u).applyMatrix4(e),eh.copy(h).applyMatrix3(th).normalize().multiplyScalar(this.size).add($u),t.setXYZ(A,$u.x,$u.y,$u.z),A+=1,t.setXYZ(A,eh.x,eh.y,eh.z),A+=1}else if(n&&n.isBufferGeometry){var d=n.attributes.position,g=n.attributes.normal;for(A=0,l=0,c=d.count;l<c;l++)$u.set(d.getX(l),d.getY(l),d.getZ(l)).applyMatrix4(e),eh.set(g.getX(l),g.getY(l),g.getZ(l)),eh.applyMatrix3(th).normalize().multiplyScalar(this.size).add($u),t.setXYZ(A,$u.x,$u.y,$u.z),A+=1,t.setXYZ(A,eh.x,eh.y,eh.z),A+=1}t.needsUpdate=!0};var rh=new rn;function Ah(e,t){_n.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new ur,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,A=1;r<32;r++,A++){var a=r/32*Math.PI*2,o=A/32*Math.PI*2;i.push(Math.cos(a),Math.sin(a),1,Math.cos(o),Math.sin(o),1)}n.setAttribute("position",new $i(i,3));var s=new Vo({fog:!1});this.cone=new Yo(n,s),this.add(this.cone),this.update()}Ah.prototype=Object.create(_n.prototype),Ah.prototype.constructor=Ah,Ah.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Ah.prototype.update=function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),rh.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(rh),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var ah=new rn,oh=new Tn,sh=new Tn;function lh(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,lh(e.children[n]));return t}function ch(e){for(var t=lh(e),n=new ur,i=[],r=[],A=new Qi(0,0,1),a=new Qi(0,1,0),o=0;o<t.length;o++){var s=t[o];s.parent&&s.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(A.r,A.g,A.b),r.push(a.r,a.g,a.b))}n.setAttribute("position",new $i(i,3)),n.setAttribute("color",new $i(r,3));var l=new Vo({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0});Yo.call(this,n,l),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function uh(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var i=new rl(t,4,2),r=new Zi({wireframe:!0,fog:!1});Fr.call(this,i,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function hh(e,t){this.type="RectAreaLightHelper",this.light=e,this.color=t;var n=new ur;n.setAttribute("position",new $i([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),n.computeBoundingSphere();var i=new Vo({fog:!1});_o.call(this,n,i);var r=new ur;r.setAttribute("position",new $i([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),r.computeBoundingSphere(),this.add(new Fr(r,new Zi({side:1,fog:!1}))),this.update()}ch.prototype=Object.create(Yo.prototype),ch.prototype.constructor=ch,ch.prototype.updateMatrixWorld=function(e){var t=this.bones,n=this.geometry,i=n.getAttribute("position");sh.getInverse(this.root.matrixWorld);for(var r=0,A=0;r<t.length;r++){var a=t[r];a.parent&&a.parent.isBone&&(oh.multiplyMatrices(sh,a.matrixWorld),ah.setFromMatrixPosition(oh),i.setXYZ(A,ah.x,ah.y,ah.z),oh.multiplyMatrices(sh,a.parent.matrixWorld),ah.setFromMatrixPosition(oh),i.setXYZ(A+1,ah.x,ah.y,ah.z),A+=2)}n.getAttribute("position").needsUpdate=!0,_n.prototype.updateMatrixWorld.call(this,e)},uh.prototype=Object.create(Fr.prototype),uh.prototype.constructor=uh,uh.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},uh.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},hh.prototype=Object.create(_o.prototype),hh.prototype.constructor=hh,hh.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var e=this.material.color,t=Math.max(e.r,e.g,e.b);t>1&&e.multiplyScalar(1/t),this.children[0].material.color.copy(this.material.color)}},hh.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()};var dh=new rn,gh=new Qi,ph=new Qi;function fh(e,t,n){_n.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var i=new ps(t);i.rotateY(.5*Math.PI),this.material=new Zi({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=2);var r=i.getAttribute("position"),A=new Float32Array(3*r.count);i.setAttribute("color",new Xi(A,3)),this.add(new Fr(i,this.material)),this.update()}function mh(e,t){this.lightProbe=e,this.size=t;var n={GAMMA_OUTPUT:""},i=new Wr({defines:n,uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},vertexShader:["varying vec3 vNormal;","void main() {","\tvNormal = normalize( normalMatrix * normal );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI 0.318309886","vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {","\t// matrix is assumed to be orthogonal","\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );","}","vec3 linearToOutput( in vec3 a ) {","\t#ifdef GAMMA_OUTPUT","\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );","\t#else","\t\treturn a;","\t#endif","}","// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf","vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {","\t// normal is assumed to have unit length","\tfloat x = normal.x, y = normal.y, z = normal.z;","\t// band 0","\tvec3 result = shCoefficients[ 0 ] * 0.886227;","\t// band 1","\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;","\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;","\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;","\t// band 2","\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;","\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;","\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );","\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;","\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );","\treturn result;","}","uniform vec3 sh[ 9 ]; // sh coefficients","uniform float intensity; // light probe intensity","varying vec3 vNormal;","void main() {","\tvec3 normal = normalize( vNormal );","\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );","\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );","\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;","\toutgoingLight = linearToOutput( outgoingLight );","\tgl_FragColor = vec4( outgoingLight, 1.0 );","}"].join("\n")}),r=new rl(1,32,16);Fr.call(this,r,i),this.onBeforeRender()}function vh(e,t,n,i){e=e||10,t=t||10,n=new Qi(void 0!==n?n:4473924),i=new Qi(void 0!==i?i:8947848);for(var r=t/2,A=e/t,a=e/2,o=[],s=[],l=0,c=0,u=-a;l<=t;l++,u+=A){o.push(-a,0,u,a,0,u),o.push(u,0,-a,u,0,a);var h=l===r?n:i;h.toArray(s,c),c+=3,h.toArray(s,c),c+=3,h.toArray(s,c),c+=3,h.toArray(s,c),c+=3}var d=new ur;d.setAttribute("position",new $i(o,3)),d.setAttribute("color",new $i(s,3));var g=new Vo({vertexColors:2});Yo.call(this,d,g)}function Ch(e,t,n,i,r,A){e=e||10,t=t||16,n=n||8,i=i||64,r=new Qi(void 0!==r?r:4473924),A=new Qi(void 0!==A?A:8947848);var a,o,s,l,c,u,h,d=[],g=[];for(l=0;l<=t;l++)s=l/t*(2*Math.PI),a=Math.sin(s)*e,o=Math.cos(s)*e,d.push(0,0,0),d.push(a,0,o),h=1&l?r:A,g.push(h.r,h.g,h.b),g.push(h.r,h.g,h.b);for(l=0;l<=n;l++)for(h=1&l?r:A,u=e-e/n*l,c=0;c<i;c++)s=c/i*(2*Math.PI),a=Math.sin(s)*u,o=Math.cos(s)*u,d.push(a,0,o),g.push(h.r,h.g,h.b),s=(c+1)/i*(2*Math.PI),a=Math.sin(s)*u,o=Math.cos(s)*u,d.push(a,0,o),g.push(h.r,h.g,h.b);var p=new ur;p.setAttribute("position",new $i(d,3)),p.setAttribute("color",new $i(g,3));var f=new Vo({vertexColors:2});Yo.call(this,p,f)}function yh(e,t,n,i){this.audio=e,this.range=t||1,this.divisionsInnerAngle=n||16,this.divisionsOuterAngle=i||2;var r=new ur,A=this.divisionsInnerAngle+2*this.divisionsOuterAngle,a=new Float32Array(3*(3*A+3));r.setAttribute("position",new Xi(a,3));var o=new Vo({color:65280}),s=new Vo({color:16776960});_o.call(this,r,[s,o]),this.update()}fh.prototype=Object.create(_n.prototype),fh.prototype.constructor=fh,fh.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},fh.prototype.update=function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");gh.copy(this.light.color),ph.copy(this.light.groundColor);for(var n=0,i=t.count;n<i;n++){var r=n<i/2?gh:ph;t.setXYZ(n,r.r,r.g,r.b)}t.needsUpdate=!0}e.lookAt(dh.setFromMatrixPosition(this.light.matrixWorld).negate())},mh.prototype=Object.create(Fr.prototype),mh.prototype.constructor=mh,mh.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},mh.prototype.onBeforeRender=function(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this.material.uniforms.intensity.value=this.lightProbe.intensity},vh.prototype=Object.assign(Object.create(Yo.prototype),{constructor:vh,copy:function(e){return Yo.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),Ch.prototype=Object.create(Yo.prototype),Ch.prototype.constructor=Ch,yh.prototype=Object.create(_o.prototype),yh.prototype.constructor=yh,yh.prototype.update=function(){var e,t,n=this.audio,i=this.range,r=this.divisionsInnerAngle,A=this.divisionsOuterAngle,a=qt.degToRad(n.panner.coneInnerAngle),o=qt.degToRad(n.panner.coneOuterAngle),s=a/2,l=o/2,c=0,u=0,h=this.geometry,d=h.attributes.position;function g(n,r,A,a){var o=(r-n)/A;for(d.setXYZ(c,0,0,0),u++,e=n;e<r;e+=o)t=c+u,d.setXYZ(t,Math.sin(e)*i,0,Math.cos(e)*i),d.setXYZ(t+1,Math.sin(Math.min(e+o,r))*i,0,Math.cos(Math.min(e+o,r))*i),d.setXYZ(t+2,0,0,0),u+=3;h.addGroup(c,u,a),c+=u,u=0}h.clearGroups(),g(-l,-s,A,0),g(-s,s,r,1),g(s,l,A,0),d.needsUpdate=!0,a===o&&(this.material[0].visible=!1)},yh.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()};var Ih=new rn,wh=new rn,bh=new on;function Bh(e,t,n,i){this.object=e,this.size=void 0!==t?t:1;var r=void 0!==n?n:16776960,A=void 0!==i?i:1,a=0,o=this.object.geometry;o&&o.isGeometry?a=o.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var s=new ur,l=new $i(2*a*3,3);s.setAttribute("position",l),Yo.call(this,s,new Vo({color:r,linewidth:A})),this.matrixAutoUpdate=!1,this.update()}Bh.prototype=Object.create(Yo.prototype),Bh.prototype.constructor=Bh,Bh.prototype.update=function(){this.object.updateMatrixWorld(!0),bh.getNormalMatrix(this.object.matrixWorld);for(var e=this.object.matrixWorld,t=this.geometry.attributes.position,n=this.object.geometry,i=n.vertices,r=n.faces,A=0,a=0,o=r.length;a<o;a++){var s=r[a],l=s.normal;Ih.copy(i[s.a]).add(i[s.b]).add(i[s.c]).divideScalar(3).applyMatrix4(e),wh.copy(l).applyMatrix3(bh).normalize().multiplyScalar(this.size).add(Ih),t.setXYZ(A,Ih.x,Ih.y,Ih.z),A+=1,t.setXYZ(A,wh.x,wh.y,wh.z),A+=1}t.needsUpdate=!0};var xh=new rn,Mh=new rn,Eh=new rn;function Th(e,t,n){_n.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var i=new ur;i.setAttribute("position",new $i([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var r=new Vo({fog:!1});this.lightPlane=new _o(i,r),this.add(this.lightPlane),(i=new ur).setAttribute("position",new $i([0,0,0,0,0,1],3)),this.targetLine=new _o(i,r),this.add(this.targetLine),this.update()}Th.prototype=Object.create(_n.prototype),Th.prototype.constructor=Th,Th.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Th.prototype.update=function(){xh.setFromMatrixPosition(this.light.matrixWorld),Mh.setFromMatrixPosition(this.light.target.matrixWorld),Eh.subVectors(Mh,xh),this.lightPlane.lookAt(Mh),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Mh),this.targetLine.scale.z=Eh.length()};var Sh=new rn,Fh=new Zr;function Uh(e){var t=new ur,n=new Vo({color:16777215,vertexColors:1}),i=[],r=[],A={},a=new Qi(16755200),o=new Qi(16711680),s=new Qi(43775),l=new Qi(16777215),c=new Qi(3355443);function u(e,t,n){h(e,n),h(t,n)}function h(e,t){i.push(0,0,0),r.push(t.r,t.g,t.b),void 0===A[e]&&(A[e]=[]),A[e].push(i.length/3-1)}u("n1","n2",a),u("n2","n4",a),u("n4","n3",a),u("n3","n1",a),u("f1","f2",a),u("f2","f4",a),u("f4","f3",a),u("f3","f1",a),u("n1","f1",a),u("n2","f2",a),u("n3","f3",a),u("n4","f4",a),u("p","n1",o),u("p","n2",o),u("p","n3",o),u("p","n4",o),u("u1","u2",s),u("u2","u3",s),u("u3","u1",s),u("c","t",l),u("p","c",c),u("cn1","cn2",c),u("cn3","cn4",c),u("cf1","cf2",c),u("cf3","cf4",c),t.setAttribute("position",new $i(i,3)),t.setAttribute("color",new $i(r,3)),Yo.call(this,t,n),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=A,this.update()}function Rh(e,t,n,i,r,A,a){Sh.set(r,A,a).unproject(i);var o=t[e];if(void 0!==o)for(var s=n.getAttribute("position"),l=0,c=o.length;l<c;l++)s.setXYZ(o[l],Sh.x,Sh.y,Sh.z)}Uh.prototype=Object.create(Yo.prototype),Uh.prototype.constructor=Uh,Uh.prototype.update=function(){var e=this.geometry,t=this.pointMap;Fh.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Rh("c",t,e,Fh,0,0,-1),Rh("t",t,e,Fh,0,0,1),Rh("n1",t,e,Fh,-1,-1,-1),Rh("n2",t,e,Fh,1,-1,-1),Rh("n3",t,e,Fh,-1,1,-1),Rh("n4",t,e,Fh,1,1,-1),Rh("f1",t,e,Fh,-1,-1,1),Rh("f2",t,e,Fh,1,-1,1),Rh("f3",t,e,Fh,-1,1,1),Rh("f4",t,e,Fh,1,1,1),Rh("u1",t,e,Fh,.7,1.1,-1),Rh("u2",t,e,Fh,-.7,1.1,-1),Rh("u3",t,e,Fh,0,2,-1),Rh("cf1",t,e,Fh,-1,0,1),Rh("cf2",t,e,Fh,1,0,1),Rh("cf3",t,e,Fh,0,-1,1),Rh("cf4",t,e,Fh,0,1,1),Rh("cn1",t,e,Fh,-1,0,-1),Rh("cn2",t,e,Fh,1,0,-1),Rh("cn3",t,e,Fh,0,-1,-1),Rh("cn4",t,e,Fh,0,1,-1),e.getAttribute("position").needsUpdate=!0};var Lh=new oi;function Hh(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new ur;r.setIndex(new Xi(n,1)),r.setAttribute("position",new Xi(i,3)),Yo.call(this,r,new Vo({color:t})),this.matrixAutoUpdate=!1,this.update()}function Gh(e,t){this.type="Box3Helper",this.box=e,t=t||16776960;var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new ur;i.setIndex(new Xi(n,1)),i.setAttribute("position",new $i([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Yo.call(this,i,new Vo({color:t})),this.geometry.computeBoundingSphere()}function Ph(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var i=void 0!==n?n:16776960,r=new ur;r.setAttribute("position",new $i([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),r.computeBoundingSphere(),_o.call(this,r,new Vo({color:i}));var A=new ur;A.setAttribute("position",new $i([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),A.computeBoundingSphere(),this.add(new Fr(A,new Zi({color:i,opacity:.2,transparent:!0,depthWrite:!1})))}Hh.prototype=Object.create(Yo.prototype),Hh.prototype.constructor=Hh,Hh.prototype.update=function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Lh.setFromObject(this.object),!Lh.isEmpty()){var t=Lh.min,n=Lh.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=t.x,r[4]=n.y,r[5]=n.z,r[6]=t.x,r[7]=t.y,r[8]=n.z,r[9]=n.x,r[10]=t.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=t.z,r[15]=t.x,r[16]=n.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=n.x,r[22]=t.y,r[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}},Hh.prototype.setFromObject=function(e){return this.object=e,this.update(),this},Hh.prototype.copy=function(e){return Yo.prototype.copy.call(this,e),this.object=e.object,this},Hh.prototype.clone=function(){return(new this.constructor).copy(this)},Gh.prototype=Object.create(Yo.prototype),Gh.prototype.constructor=Gh,Gh.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),_n.prototype.updateMatrixWorld.call(this,e))},Ph.prototype=Object.create(_o.prototype),Ph.prototype.constructor=Ph,Ph.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?1:0,this.lookAt(this.plane.normal),_n.prototype.updateMatrixWorld.call(this,e)};var Qh,Dh,Nh=new rn;function Vh(e,t,n,i,r,A){_n.call(this),void 0===e&&(e=new rn(0,0,1)),void 0===t&&(t=new rn(0,0,0)),void 0===n&&(n=1),void 0===i&&(i=16776960),void 0===r&&(r=.2*n),void 0===A&&(A=.2*r),void 0===Qh&&((Qh=new ur).setAttribute("position",new $i([0,0,0,0,1,0],3)),(Dh=new gl(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new _o(Qh,new Vo({color:i})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Fr(Dh,new Zi({color:i})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,A)}function Oh(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new ur;n.setAttribute("position",new $i(t,3)),n.setAttribute("color",new $i([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var i=new Vo({vertexColors:2});Yo.call(this,n,i)}Vh.prototype=Object.create(_n.prototype),Vh.prototype.constructor=Vh,Vh.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Nh.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Nh,t)}},Vh.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},Vh.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},Vh.prototype.copy=function(e){return _n.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},Vh.prototype.clone=function(){return(new this.constructor).copy(this)},Oh.prototype=Object.create(Yo.prototype),Oh.prototype.constructor=Oh;var kh=function(e){tc.call(this,e),this.type=ot};kh.prototype=Object.assign(Object.create(tc.prototype),{constructor:kh,parse:function(e){var t=function(e,t){switch(e){case 1:console.error("RGBELoader Read Error: "+(t||""));break;case 2:console.error("RGBELoader Write Error: "+(t||""));break;case 3:console.error("RGBELoader Bad File Format: "+(t||""));break;default:case 4:console.error("RGBELoader: Error: "+(t||""))}return-1},n=function(e,t,n){t=t||1024;for(var i=e.pos,r=-1,A=0,a="",o=String.fromCharCode.apply(null,new Uint16Array(e.subarray(i,i+128)));0>(r=o.indexOf("\n"))&&A<t&&i<e.byteLength;)a+=o,A+=o.length,i+=128,o+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(i,i+128)));return-1<r&&(!1!==n&&(e.pos+=A+r+1),a+o.slice(0,r))},i=function(){var e=new Float32Array(1),t=new Int32Array(e.buffer);function n(n){e[0]=n;var i=t[0],r=i>>16&32768,A=i>>12&2047,a=i>>23&255;return a<103?r:a>142?(r|=31744,r|=(255==a?0:1)&&8388607&i):a<113?r|=((A|=2048)>>114-a)+(A>>113-a&1):(r|=a-112<<10|A>>1,r+=1&A)}return function(e,t,i,r){var A=e[t+3],a=Math.pow(2,A-128)/255;i[r+0]=n(e[t+0]*a),i[r+1]=n(e[t+1]*a),i[r+2]=n(e[t+2]*a)}}(),r=new Uint8Array(e);r.pos=0;var A,a,o,s,l,c,u=function(e){var i,r,A=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,a=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*FORMAT=(\S+)\s*$/,s=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,l={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};if(e.pos>=e.byteLength||!(i=n(e)))return t(1,"no header found");if(!(r=i.match(/^#\?(\S+)$/)))return t(3,"bad initial token");for(l.valid|=1,l.programtype=r[1],l.string+=i+"\n";!1!==(i=n(e));)if(l.string+=i+"\n","#"!==i.charAt(0)){if((r=i.match(A))&&(l.gamma=parseFloat(r[1],10)),(r=i.match(a))&&(l.exposure=parseFloat(r[1],10)),(r=i.match(o))&&(l.valid|=2,l.format=r[1]),(r=i.match(s))&&(l.valid|=4,l.height=parseInt(r[1],10),l.width=parseInt(r[2],10)),2&l.valid&&4&l.valid)break}else l.comments+=i+"\n";return 2&l.valid?4&l.valid?l:t(3,"missing image size specifier"):t(3,"missing format specifier")}(r);if(-1!==u){var h=u.width,d=u.height,g=function(e,n,i){var r,A,a,o,s,l,c,u,h,d,g,p,f,m=n,v=i;if(m<8||m>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(m!==(e[2]<<8|e[3]))return t(3,"wrong scanline width");if(!(r=new Uint8Array(4*n*i))||!r.length)return t(4,"unable to allocate buffer space");for(A=0,a=0,u=4*m,f=new Uint8Array(4),l=new Uint8Array(u);v>0&&a<e.byteLength;){if(a+4>e.byteLength)return t(1);if(f[0]=e[a++],f[1]=e[a++],f[2]=e[a++],f[3]=e[a++],2!=f[0]||2!=f[1]||(f[2]<<8|f[3])!=m)return t(3,"bad rgbe scanline format");for(c=0;c<u&&a<e.byteLength;){if((p=(o=e[a++])>128)&&(o-=128),0===o||c+o>u)return t(3,"bad scanline data");if(p)for(s=e[a++],h=0;h<o;h++)l[c++]=s;else l.set(e.subarray(a,a+o),c),c+=o,a+=o}for(d=m,h=0;h<d;h++)g=0,r[A]=l[h+g],g+=m,r[A+1]=l[h+g],g+=m,r[A+2]=l[h+g],g+=m,r[A+3]=l[h+g],A+=4;v--}return r}(r.subarray(r.pos),h,d);if(-1!==g){switch(this.type){case ot:var p=g,f=pt,m=ot;break;case ct:for(var v=g.length/4*3,C=new Float32Array(v),y=0;y<v;y++)o=C,s=3*y,l=void 0,c=void 0,l=(A=g)[(a=4*y)+3],c=Math.pow(2,l-128)/255,o[s+0]=A[a+0]*c,o[s+1]=A[a+1]*c,o[s+2]=A[a+2]*c;p=C,f=dt,m=ct;break;case ut:v=g.length/4*3;var I=new Uint16Array(v);for(y=0;y<v;y++)i(g,4*y,I,3*y);p=I,f=dt,m=ut;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:h,height:d,data:p,header:u.string,gamma:u.gamma,exposure:u.exposure,format:f,type:m}}}return null},setDataType:function(e){return this.type=e,this},load:function(e,t,n,i){return tc.prototype.load.call(this,e,(function(e,n){switch(e.type){case ot:e.encoding=Nt,e.minFilter=tt,e.magFilter=tt,e.generateMipmaps=!1,e.flipY=!0;break;case ct:case ut:e.encoding=Pt,e.minFilter=rt,e.magFilter=rt,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,n)}),n,i)}});for(var Wh=[],Zh=0;Zh<256;Zh++)Wh[Zh]=(Zh<16?"0":"")+Zh.toString(16);var Xh=1234567,_h={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Wh[255&e]+Wh[e>>8&255]+Wh[e>>16&255]+Wh[e>>24&255]+"-"+Wh[255&t]+Wh[t>>8&255]+"-"+Wh[t>>16&15|64]+Wh[t>>24&255]+"-"+Wh[63&n|128]+Wh[n>>8&255]+"-"+Wh[n>>16&255]+Wh[n>>24&255]+Wh[255&i]+Wh[i>>8&255]+Wh[i>>16&255]+Wh[i>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(Xh=e%2147483647),((Xh=16807*Xh%2147483647)-1)/2147483646},degToRad:function(e){return e*_h.DEG2RAD},radToDeg:function(e){return e*_h.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,r){var A=Math.cos,a=Math.sin,o=A(n/2),s=a(n/2),l=A((t+i)/2),c=a((t+i)/2),u=A((t-i)/2),h=a((t-i)/2),d=A((i-t)/2),g=a((i-t)/2);switch(r){case"XYX":e.set(o*c,s*u,s*h,o*l);break;case"YZY":e.set(s*h,o*c,s*u,o*l);break;case"ZXZ":e.set(s*u,s*h,o*c,o*l);break;case"XZX":e.set(o*c,s*g,s*d,o*l);break;case"YXY":e.set(s*d,o*c,s*g,o*l);break;case"ZYZ":e.set(s*g,s*d,o*c,o*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}};function zh(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function Kh(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),dc.call(this,e),this.type="catmullrom",this.closed=!0}function Yh(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),dc.call(this,e),this.type="catmullrom"}function jh(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),dc.call(this,e),this.type="catmullrom"}Ac.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Ac.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(xc.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new Qr,n=0,i=e.length;n<i;n++){var r=e[n];t.vertices.push(new rn(r.x,r.y,r.z||0))}return t}}),Object.assign(Mc.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Kh.prototype=Object.create(dc.prototype),Yh.prototype=Object.create(dc.prototype),jh.prototype=Object.create(dc.prototype),Object.assign(jh.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),vh.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},ch.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Yl.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Oc.extractUrlBase(e)}}),Yl.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(_c.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(Ku.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(oi.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Ju.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(qt,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),qt.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),qt.ceilPowerOfTwo(e)}}),Object.assign(on.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Tn.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new rn).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,r,A){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,r,A)}}),wi.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},en.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(vi.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(Li.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(Li,{barycoordFromPoint:function(e,t,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Li.getBarycoord(e,t,n,i,r)},normal:function(e,t,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Li.getNormal(e,t,n,i)}}),Object.assign(Ec.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Js(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ll(this,e)}}),Object.assign($t.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(rn.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(vn.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Qr.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(_n.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(_n.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(To.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Ro.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),So.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Ac.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Xr.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Tc.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Xi.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===_t},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(_t)}}}),Object.assign(Xi.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?_t:Xt),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(ur.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Xi(arguments[1],arguments[2])))},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)}}),Object.defineProperties(ur.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(so.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===_t},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Object.assign(so.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?_t:Xt),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(qs.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Vu.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Wi.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Qi}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(Bl.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Wr.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(Ao.prototype,{clearTarget:function(e,t,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,i)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(Ao.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}}}),Object.defineProperties(Xa.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Kr.prototype,{activeCubeFace:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().")}},activeMipMapLevel:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().")}}}),Object.defineProperties(Cn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(io.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),Object.defineProperties(mu.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new iu).load(e,(function(e){t.setBuffer(e)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),bu.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},zr.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var Jh={merge:function(e,t,n){var i;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),i=t.matrix,t=t.geometry),e.merge(t,i,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};sn.crossOrigin=void 0,sn.loadTexture=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new rc;r.setCrossOrigin(this.crossOrigin);var A=r.load(e,n,void 0,i);return t&&(A.mapping=t),A},sn.loadTextureCube=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new ic;r.setCrossOrigin(this.crossOrigin);var A=r.load(e,n,void 0,i);return t&&(A.mapping=t),A},sn.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},sn.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var qh={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};function $h(e,t){Qr.call(this),this.type="ExtrudeGeometry2",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new ed(e,t)),this.mergeVertices()}function ed(e,t){ur.call(this),this.type="ExtrudeBufferGeometry2",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var n=this,i=[],r=[],A=0,a=e.length;A<a;A++){o(e[A])}function o(e){var A=[],a=void 0!==t.curveSegments?t.curveSegments:12,o=void 0!==t.steps?t.steps:1,s=void 0!==t.depth?t.depth:100,l=void 0===t.bevelEnabled||t.bevelEnabled,c=void 0!==t.bevelThickness?t.bevelThickness:6,u=void 0!==t.bevelSize?t.bevelSize:c-2,h=void 0!==t.bevelOffset?t.bevelOffset:0,d=void 0!==t.bevelSegments?t.bevelSegments:3,g=t.extrudePath,p=void 0!==t.UVGenerator?t.UVGenerator:rd;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry2: amount has been renamed to depth."),s=t.amount);var f,m,v,C,y,I,w,b,B=!1;g&&(f=g.getSpacedPoints(o),B=!0,l=!1,m=g.computeFrenetFrames(o,!1),v=new rn,C=new rn,y=new rn),l||(d=0,c=0,u=0,h=0);var x=e.extractPoints(a),M=x.shape,E=x.holes;if(!Ks.isClockWise(M))for(M=M.reverse(),w=0,b=E.length;w<b;w++)I=E[w],Ks.isClockWise(I)&&(E[w]=I.reverse());var T=Ks.triangulateShape(M,E),S=M;for(w=0,b=E.length;w<b;w++)I=E[w],M=M.concat(I);function F(e,t,n){return t||console.error("THREE.ExtrudeGeometry2: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var U,R,L,H,G,P=M.length,Q=T.length;function D(e,t,n){var i,r,A,a=e.x-t.x,o=e.y-t.y,s=n.x-e.x,l=n.y-e.y,c=a*a+o*o,u=a*l-o*s;if(Math.abs(u)>Number.EPSILON){var h=Math.sqrt(c),d=Math.sqrt(s*s+l*l),g=t.x-o/h,p=t.y+a/h,f=((n.x-l/d-g)*l-(n.y+s/d-p)*s)/(a*l-o*s),m=(i=g+a*f-e.x)*i+(r=p+o*f-e.y)*r;if(m<=2)return new $t(i,r);A=Math.sqrt(m/2)}else{var v=!1;a>Number.EPSILON?s>Number.EPSILON&&(v=!0):a<-Number.EPSILON?s<-Number.EPSILON&&(v=!0):Math.sign(o)===Math.sign(l)&&(v=!0),v?(i=-o,r=a,A=Math.sqrt(c)):(i=a,r=o,A=Math.sqrt(c/2))}return new $t(i/A,r/A)}for(var N=[],V=0,O=S.length,k=O-1,W=V+1;V<O;V++,k++,W++)k===O&&(k=0),W===O&&(W=0),N[V]=D(S[V],S[k],S[W]);var Z,X,_=[],z=N.concat();for(w=0,b=E.length;w<b;w++){for(I=E[w],Z=[],V=0,k=(O=I.length)-1,W=V+1;V<O;V++,k++,W++)k===O&&(k=0),W===O&&(W=0),Z[V]=D(I[V],I[k],I[W]);_.push(Z),z=z.concat(Z)}for(U=0;U<d;U++){for(L=U/d,H=c*Math.cos(L*Math.PI/2),R=u*Math.sin(L*Math.PI/2)+h,V=0,O=S.length;V<O;V++)Y((G=F(S[V],N[V],R)).x,G.y,-H);for(w=0,b=E.length;w<b;w++)for(I=E[w],Z=_[w],V=0,O=I.length;V<O;V++)Y((G=F(I[V],Z[V],R)).x,G.y,-H)}for(R=u+h,V=0;V<P;V++)G=l?F(M[V],z[V],R):M[V],B?(C.copy(m.normals[0]).multiplyScalar(G.x),v.copy(m.binormals[0]).multiplyScalar(G.y),y.copy(f[0]).add(C).add(v),Y(y.x,y.y,y.z)):Y(G.x,G.y,0);for(X=1;X<=o;X++)for(V=0;V<P;V++)G=l?F(M[V],z[V],R):M[V],B?(C.copy(m.normals[X]).multiplyScalar(G.x),v.copy(m.binormals[X]).multiplyScalar(G.y),y.copy(f[X]).add(C).add(v),Y(y.x,y.y,y.z)):Y(G.x,G.y,s/o*X);for(U=d-1;U>=0;U--){for(L=U/d,H=c*Math.cos(L*Math.PI/2),R=u*Math.sin(L*Math.PI/2)+h,V=0,O=S.length;V<O;V++)Y((G=F(S[V],N[V],R)).x,G.y,s+H);for(w=0,b=E.length;w<b;w++)for(I=E[w],Z=_[w],V=0,O=I.length;V<O;V++)G=F(I[V],Z[V],R),B?Y(G.x,G.y+f[o-1].y,f[o-1].x+H):Y(G.x,G.y,s+H)}function K(e,t){var n,i;for(V=e.length;--V>=0;){n=V,(i=V-1)<0&&(i=e.length-1);var r=0,A=o+2*d;for(r=0;r<A;r++){var a=P*r,s=P*(r+1);q(t+n+a,t+i+a,t+i+s,t+n+s)}}}function Y(e,t,n){A.push(e),A.push(t),A.push(n)}function j(e,t,n,r){for(var A=t/2,a=0,o=0;a<t&&o<A;a++,o++){for(var s,l,c,u,h=[],d=0;d<2;d++){var g=a+2*d;g>=t&&(g=t-1);var p=e[g];h.push(p[r?2:0]+n),h.push(p[1]+n),h.push(p[r?0:2]+n)}a%2==1&&(a+=2);for(var f=0;f<h.length;f++)$(h[f]);for(var m,v,C,y,I,w,b,B,x,M,E=0,T=i.length/3,S=0;S<3;S++){v=2==S?T-6:T-6+S+1,I=new $t(i[3*(m=T-6+S)],i[3*m+1]),w=new $t(i[3*v],i[3*v+1]);var F=(x=new $t(w.x-I.x,w.y-I.y)).length();x.normalize();for(var U=3;U<6;U++){y=5==U?T-3:T-6+U+1,b=new $t(i[3*(C=T-6+U)],i[3*C+1]),B=new $t(i[3*y],i[3*y+1]),(M=new $t(B.x-b.x,B.y-b.y)).normalize();var R=x.dot(M);if(1-Math.abs(R)<1e-10){if(I.equals(b)&&w.equals(B)||I.equals(B)&&w.equals(b))break;F>E&&(E=F,s=I,l=w,c=b,u=B);break}}}if(E>0)J(T-6,T-5,T-4,s,l,!0),J(T-3,T-2,T-1,c,u,!1);else{console.log("Error: 没有找到平行边!!!");var L=[];for(S=0;S<3;S++){v=2==S?T-6:T-6+S+1,I=new $t(i[3*(m=T-6+S)],i[3*m+1]),w=new $t(i[3*v],i[3*v+1]);F=(x=new $t(w.x-I.x,w.y-I.y)).length();L.push([F,I,w])}var H=function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0};L.sort(H),J(T-6,T-5,T-4,L[1][1],L[1][2],!0),L=[];for(U=3;U<6;U++){y=5==U?T-3:T-6+U+1,b=new $t(i[3*(C=T-6+U)],i[3*C+1]),B=new $t(i[3*y],i[3*y+1]),M=new $t(B.x-b.x,B.y-b.y);F=x.length();L.push([F,b,B])}L.sort(H),J(T-3,T-2,T-1,L[1][1],L[1][2],!1)}}}function J(e,t,r,A,a,o){var s=p.generateTopUV(n,i,e,t,r,A,a,o);ee(s[0]),ee(s[1]),ee(s[2])}function q(e,t,r,A){$(e),$(t),$(A),$(t),$(r),$(A);var a=i.length/3,o=p.generateSideWallUV(n,i,a-6,a-3,a-2,a-1);ee(o[0]),ee(o[1]),ee(o[3]),ee(o[1]),ee(o[2]),ee(o[3])}function $(e){i.push(A[3*e+0]),i.push(A[3*e+1]),i.push(A[3*e+2])}function ee(e){r.push(e.x),r.push(e.y)}!function(){var e=i.length/3;if(l){var t=0;j(T,Q,P*t,!0),j(T,Q,P*(t=o+2*d),!1)}else{j(T,Q,0,!0),j(T,Q,P*o,!1)}n.addGroup(e,i.length/3-e,0)}(),function(){var e=i.length/3,t=0;for(K(S,t),t+=S.length,w=0,b=E.length;w<b;w++)K(I=E[w],t),t+=I.length;n.addGroup(e,i.length/3-e,1)}()}this.setAttribute("position",new $i(i,3)),this.setAttribute("uv",new $i(r,2)),this.computeVertexNormals()}$h.prototype=Object.create(Qr.prototype),$h.prototype.constructor=$h,$h.prototype.toJSON=function(){var e=Qr.prototype.toJSON.call(this);return Ad(this.parameters.shapes,this.parameters.options,e)},ed.prototype=Object.create(ur.prototype),ed.prototype.constructor=ed,ed.prototype.toJSON=function(){var e=ur.prototype.toJSON.call(this);return Ad(this.parameters.shapes,this.parameters.options,e)};var td,nd,id,rd={generateTopUV:function(e,t,n,i,r,A,a,o){var s=new $t(t[3*n],t[3*n+1]),l=new $t(t[3*i],t[3*i+1]),c=new $t(t[3*r],t[3*r+1]);if(null===A||null===a)return[new $t(s.x,s.y),new $t(l.x,l.y),new $t(c.x,c.y)];for(var u,h=[s,l,c],d=[0,0,0],g=[0,0,0],p=0;p<h.length;p++)h[p].equals(A)||h[p].equals(a)?h[p].equals(A)?(d[0]=p,g[p]=0):(d[1]=p,g[p]=1):(u=h[p],d[2]=p,g[p]=2);var f=new $t(A.x+a.x,A.y+a.y);f=f.divideScalar(2);var m=new $t(a.x-A.x,a.y-A.y),v=m.length()/2;m.normalize();var C=new $t(u.x-f.x,u.y-f.y),y=new $t(1,0),I=m.dot(y),w=Math.acos(I),b=!1,B=m.x*m.y>0;(B&&w>Math.PI/2||!B&&w<Math.PI/2)&&(b=!0,w=Math.PI-w),I=Math.cos(w);for(var x=Math.sin(w),M=C.x*I+C.y*x,E=-C.x*x+C.y*I,T=[],S=0;S<3;S++){var F;switch(g[S]){case 0:F=new $t(b?v:-v,0);break;case 1:F=new $t(b?-v:v,0);break;case 2:F=new $t(M,E)}T.push(F)}return T},generateSideWallUV:function(e,t,n,i,r,A){var a=[3*n,3*i,3*r,3*A],o=[t[a[0]+2],t[a[1]+2],t[a[2]+2],t[a[3]+2]];o.sort((function(e,t){return e<t?-1:e>t?1:0}));for(var s=[],l=0;l<2;l++)for(var c=0;c<a.length;c++)t[a[c]+2]==o[l]&&(0==l||1==l&&a[c]!=s[0])&&(s[l]=a[c]);var u=!1,h=t[s[0]]-t[s[1]],d=t[s[0]+1]-t[s[1]+1];h*d>=0&&(u=!0);var g=(h=Math.abs(h))+(d=Math.abs(d)),p=d/g,f=h/g;if(u)return[new $t(t[a[0]]*f+t[a[0]+1]*p,1-t[a[0]+2]),new $t(t[a[1]]*f+t[a[1]+1]*p,1-t[a[1]+2]),new $t(t[a[2]]*f+t[a[2]+1]*p,1-t[a[2]+2]),new $t(t[a[3]]*f+t[a[3]+1]*p,1-t[a[3]+2])];for(c=0;c<a.length;c++)a[c]!=s[0]&&a[c]!=s[1]&&s.push(a[c]);for(var m=[],v=0;v<4;v++){var C=new $t;C.x=t[a[v]]*f;for(var y=0,I=0;I<2;I++)a[v]==s[2*I]?y=s[2*I+1]:a[v]==s[2*I+1]&&(y=s[2*I]);C.x+=t[y+1]*p,C.y=1-t[a[v]+2],m.push(C)}return m}};function Ad(e,t,n){if(n.shapes=[],Array.isArray(e))for(var i=0,r=e.length;i<r;i++){var A=e[i];n.shapes.push(A.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function ad(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"111"}})),Object.assign(ad.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),ad.FullScreenQuad=(td=new Gc(-1,1,1,-1,0,1),nd=new AA(2,2),id=function(e){this._mesh=new Fr(nd,e)},Object.defineProperty(id.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(id.prototype,{render:function(e){e.render(this._mesh,td)}}),id);var od=function(e,t,n,i,r){ad.call(this),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=i,this.clearAlpha=void 0!==r?r:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1};od.prototype=Object.assign(Object.create(ad.prototype),{constructor:od,render:function(e,t,n){var i,r,A=e.autoClear;e.autoClear=!1,this.scene.overrideMaterial=this.overrideMaterial,this.clearColor&&(i=e.getClearColor().getHex(),r=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(i,r),this.scene.overrideMaterial=null,e.autoClear=A}});var sd={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tgl_FragColor = opacity * texel;","}"].join("\n")},ld=function(e,t){ad.call(this),this.textureID=void 0!==t?t:"tDiffuse",e instanceof Wr?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=kr.clone(e.uniforms),this.material=new Wr({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new ad.FullScreenQuad(this.material)};ld.prototype=Object.assign(Object.create(ad.prototype),{constructor:ld,render:function(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}});var cd=function(e,t){ad.call(this),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1};cd.prototype=Object.assign(Object.create(ad.prototype),{constructor:cd,render:function(e,t,n){var i,r,A=e.getContext(),a=e.state;a.buffers.color.setMask(!1),a.buffers.depth.setMask(!1),a.buffers.color.setLocked(!0),a.buffers.depth.setLocked(!0),this.inverse?(i=0,r=1):(i=1,r=0),a.buffers.stencil.setTest(!0),a.buffers.stencil.setOp(A.REPLACE,A.REPLACE,A.REPLACE),a.buffers.stencil.setFunc(A.ALWAYS,i,4294967295),a.buffers.stencil.setClear(r),a.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),a.buffers.color.setLocked(!1),a.buffers.depth.setLocked(!1),a.buffers.stencil.setLocked(!1),a.buffers.stencil.setFunc(A.EQUAL,1,4294967295),a.buffers.stencil.setOp(A.KEEP,A.KEEP,A.KEEP),a.buffers.stencil.setLocked(!0)}});var ud=function(){ad.call(this),this.needsSwap=!1};ud.prototype=Object.create(ad.prototype),Object.assign(ud.prototype,{render:function(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}});var hd=function(e,t){if(this.renderer=e,void 0===t){var n={minFilter:rt,magFilter:rt,format:gt,stencilBuffer:!1},i=e.getSize(new $t);this._pixelRatio=e.getPixelRatio(),this._width=i.width,this._height=i.height,(t=new Cn(this._width*this._pixelRatio,this._height*this._pixelRatio,n)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===sd&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===ld&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new ld(sd),this.clock=new uu};Object.assign(hd.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},insertPass:function(e,t){this.passes.splice(t,0,e)},isLastEnabledPass:function(e){for(var t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0},render:function(e){void 0===e&&(e=this.clock.getDelta());var t,n,i=this.renderer.getRenderTarget(),r=!1,A=this.passes.length;for(n=0;n<A;n++)if(!1!==(t=this.passes[n]).enabled){if(t.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(n),t.render(this.renderer,this.writeBuffer,this.readBuffer,e,r),t.needsSwap){if(r){var a=this.renderer.getContext(),o=this.renderer.state.buffers.stencil;o.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),o.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==cd&&(t instanceof cd?r=!0:t instanceof ud&&(r=!1))}this.renderer.setRenderTarget(i)},reset:function(e){if(void 0===e){var t=this.renderer.getSize(new $t);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t){this._width=e,this._height=t;var n=this._width*this._pixelRatio,i=this._height*this._pixelRatio;this.renderTarget1.setSize(n,i),this.renderTarget2.setSize(n,i);for(var r=0;r<this.passes.length;r++)this.passes[r].setSize(n,i)},setPixelRatio:function(e){this._pixelRatio=e,this.setSize(this._width,this._height)}});var dd=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1};Object.assign(dd.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),dd.FullScreenQuad=function(){var e=new Gc(-1,1,1,-1,0,1),t=new AA(2,2),n=function(e){this._mesh=new Fr(t,e)};return Object.defineProperty(n.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(n.prototype,{render:function(t){t.render(this._mesh,e)}}),n}();var gd=function e(){Me(this,e)};gd.FXAA="FXAA",gd.SMAA="SMAA",gd.MSAA="MSAA",gd.SSAA="SSAA";var pd={uniforms:{tDiffuse:{value:null},resolution:{value:new $t(1/1024,1/512)}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["precision highp float;","","uniform sampler2D tDiffuse;","","uniform vec2 resolution;","","varying vec2 vUv;","","// FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)","","//----------------------------------------------------------------------------------","// File:        es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag","// SDK Version: v3.00","// Email:       gameworks@nvidia.com","// Site:        http://developer.nvidia.com/","//","// Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.","//","// Redistribution and use in source and binary forms, with or without","// modification, are permitted provided that the following conditions","// are met:","//  * Redistributions of source code must retain the above copyright","//    notice, this list of conditions and the following disclaimer.","//  * Redistributions in binary form must reproduce the above copyright","//    notice, this list of conditions and the following disclaimer in the","//    documentation and/or other materials provided with the distribution.","//  * Neither the name of NVIDIA CORPORATION nor the names of its","//    contributors may be used to endorse or promote products derived","//    from this software without specific prior written permission.","//","// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ``AS IS'' AND ANY","// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE","// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR","// PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR","// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,","// EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,","// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR","// PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY","// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT","// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE","// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.","//","//----------------------------------------------------------------------------------","","#define FXAA_PC 1","#define FXAA_GLSL_100 1","#define FXAA_QUALITY_PRESET 12","","#define FXAA_GREEN_AS_LUMA 1","","/*--------------------------------------------------------------------------*/","#ifndef FXAA_PC_CONSOLE","    //","    // The console algorithm for PC is included","    // for developers targeting really low spec machines.","    // Likely better to just run FXAA_PC, and use a really low preset.","    //","    #define FXAA_PC_CONSOLE 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GLSL_120","    #define FXAA_GLSL_120 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GLSL_130","    #define FXAA_GLSL_130 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_3","    #define FXAA_HLSL_3 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_4","    #define FXAA_HLSL_4 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_5","    #define FXAA_HLSL_5 0","#endif","/*==========================================================================*/","#ifndef FXAA_GREEN_AS_LUMA","    //","    // For those using non-linear color,","    // and either not able to get luma in alpha, or not wanting to,","    // this enables FXAA to run using green as a proxy for luma.","    // So with this enabled, no need to pack luma in alpha.","    //","    // This will turn off AA on anything which lacks some amount of green.","    // Pure red and blue or combination of only R and B, will get no AA.","    //","    // Might want to lower the settings for both,","    //    fxaaConsoleEdgeThresholdMin","    //    fxaaQualityEdgeThresholdMin","    // In order to insure AA does not get turned off on colors","    // which contain a minor amount of green.","    //","    // 1 = On.","    // 0 = Off.","    //","    #define FXAA_GREEN_AS_LUMA 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_EARLY_EXIT","    //","    // Controls algorithm's early exit path.","    // On PS3 turning this ON adds 2 cycles to the shader.","    // On 360 turning this OFF adds 10ths of a millisecond to the shader.","    // Turning this off on console will result in a more blurry image.","    // So this defaults to on.","    //","    // 1 = On.","    // 0 = Off.","    //","    #define FXAA_EARLY_EXIT 1","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_DISCARD","    //","    // Only valid for PC OpenGL currently.","    // Probably will not work when FXAA_GREEN_AS_LUMA = 1.","    //","    // 1 = Use discard on pixels which don't need AA.","    //     For APIs which enable concurrent TEX+ROP from same surface.","    // 0 = Return unchanged color on pixels which don't need AA.","    //","    #define FXAA_DISCARD 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_FAST_PIXEL_OFFSET","    //","    // Used for GLSL 120 only.","    //","    // 1 = GL API supports fast pixel offsets","    // 0 = do not use fast pixel offsets","    //","    #ifdef GL_EXT_gpu_shader4","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifdef GL_NV_gpu_shader5","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifdef GL_ARB_gpu_shader5","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifndef FXAA_FAST_PIXEL_OFFSET","        #define FXAA_FAST_PIXEL_OFFSET 0","    #endif","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GATHER4_ALPHA","    //","    // 1 = API supports gather4 on alpha channel.","    // 0 = API does not support gather4 on alpha channel.","    //","    #if (FXAA_HLSL_5 == 1)","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifdef GL_ARB_gpu_shader5","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifdef GL_NV_gpu_shader5","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifndef FXAA_GATHER4_ALPHA","        #define FXAA_GATHER4_ALPHA 0","    #endif","#endif","","","/*============================================================================","                        FXAA QUALITY - TUNING KNOBS","------------------------------------------------------------------------------","NOTE the other tuning knobs are now in the shader function inputs!","============================================================================*/","#ifndef FXAA_QUALITY_PRESET","    //","    // Choose the quality preset.","    // This needs to be compiled into the shader as it effects code.","    // Best option to include multiple presets is to","    // in each shader define the preset, then include this file.","    //","    // OPTIONS","    // -----------------------------------------------------------------------","    // 10 to 15 - default medium dither (10=fastest, 15=highest quality)","    // 20 to 29 - less dither, more expensive (20=fastest, 29=highest quality)","    // 39       - no dither, very expensive","    //","    // NOTES","    // -----------------------------------------------------------------------","    // 12 = slightly faster then FXAA 3.9 and higher edge quality (default)","    // 13 = about same speed as FXAA 3.9 and better than 12","    // 23 = closest to FXAA 3.9 visually and performance wise","    //  _ = the lowest digit is directly related to performance","    // _  = the highest digit is directly related to style","    //","    #define FXAA_QUALITY_PRESET 12","#endif","","","/*============================================================================","","                           FXAA QUALITY - PRESETS","","============================================================================*/","","/*============================================================================","                     FXAA QUALITY - MEDIUM DITHER PRESETS","============================================================================*/","#if (FXAA_QUALITY_PRESET == 10)","    #define FXAA_QUALITY_PS 3","    #define FXAA_QUALITY_P0 1.5","    #define FXAA_QUALITY_P1 3.0","    #define FXAA_QUALITY_P2 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 11)","    #define FXAA_QUALITY_PS 4","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 3.0","    #define FXAA_QUALITY_P3 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 12)","    #define FXAA_QUALITY_PS 5","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 4.0","    #define FXAA_QUALITY_P4 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 13)","    #define FXAA_QUALITY_PS 6","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 4.0","    #define FXAA_QUALITY_P5 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 14)","    #define FXAA_QUALITY_PS 7","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 4.0","    #define FXAA_QUALITY_P6 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 15)","    #define FXAA_QUALITY_PS 8","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 4.0","    #define FXAA_QUALITY_P7 12.0","#endif","","/*============================================================================","                     FXAA QUALITY - LOW DITHER PRESETS","============================================================================*/","#if (FXAA_QUALITY_PRESET == 20)","    #define FXAA_QUALITY_PS 3","    #define FXAA_QUALITY_P0 1.5","    #define FXAA_QUALITY_P1 2.0","    #define FXAA_QUALITY_P2 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 21)","    #define FXAA_QUALITY_PS 4","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 22)","    #define FXAA_QUALITY_PS 5","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 23)","    #define FXAA_QUALITY_PS 6","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 24)","    #define FXAA_QUALITY_PS 7","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 3.0","    #define FXAA_QUALITY_P6 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 25)","    #define FXAA_QUALITY_PS 8","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 4.0","    #define FXAA_QUALITY_P7 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 26)","    #define FXAA_QUALITY_PS 9","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 4.0","    #define FXAA_QUALITY_P8 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 27)","    #define FXAA_QUALITY_PS 10","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 4.0","    #define FXAA_QUALITY_P9 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 28)","    #define FXAA_QUALITY_PS 11","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 4.0","    #define FXAA_QUALITY_P10 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 29)","    #define FXAA_QUALITY_PS 12","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 2.0","    #define FXAA_QUALITY_P10 4.0","    #define FXAA_QUALITY_P11 8.0","#endif","","/*============================================================================","                     FXAA QUALITY - EXTREME QUALITY","============================================================================*/","#if (FXAA_QUALITY_PRESET == 39)","    #define FXAA_QUALITY_PS 12","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.0","    #define FXAA_QUALITY_P2 1.0","    #define FXAA_QUALITY_P3 1.0","    #define FXAA_QUALITY_P4 1.0","    #define FXAA_QUALITY_P5 1.5","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 2.0","    #define FXAA_QUALITY_P10 4.0","    #define FXAA_QUALITY_P11 8.0","#endif","","","","/*============================================================================","","                                API PORTING","","============================================================================*/","#if (FXAA_GLSL_100 == 1) || (FXAA_GLSL_120 == 1) || (FXAA_GLSL_130 == 1)","    #define FxaaBool bool","    #define FxaaDiscard discard","    #define FxaaFloat float","    #define FxaaFloat2 vec2","    #define FxaaFloat3 vec3","    #define FxaaFloat4 vec4","    #define FxaaHalf float","    #define FxaaHalf2 vec2","    #define FxaaHalf3 vec3","    #define FxaaHalf4 vec4","    #define FxaaInt2 ivec2","    #define FxaaSat(x) clamp(x, 0.0, 1.0)","    #define FxaaTex sampler2D","#else","    #define FxaaBool bool","    #define FxaaDiscard clip(-1)","    #define FxaaFloat float","    #define FxaaFloat2 float2","    #define FxaaFloat3 float3","    #define FxaaFloat4 float4","    #define FxaaHalf half","    #define FxaaHalf2 half2","    #define FxaaHalf3 half3","    #define FxaaHalf4 half4","    #define FxaaSat(x) saturate(x)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_100 == 1)","  #define FxaaTexTop(t, p) texture2D(t, p, 0.0)","  #define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), 0.0)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_120 == 1)","    // Requires,","    //  #version 120","    // And at least,","    //  #extension GL_EXT_gpu_shader4 : enable","    //  (or set FXAA_FAST_PIXEL_OFFSET 1 to work like DX9)","    #define FxaaTexTop(t, p) texture2DLod(t, p, 0.0)","    #if (FXAA_FAST_PIXEL_OFFSET == 1)","        #define FxaaTexOff(t, p, o, r) texture2DLodOffset(t, p, 0.0, o)","    #else","        #define FxaaTexOff(t, p, o, r) texture2DLod(t, p + (o * r), 0.0)","    #endif","    #if (FXAA_GATHER4_ALPHA == 1)","        // use #extension GL_ARB_gpu_shader5 : enable","        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)","        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)","        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)","        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)","    #endif","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_130 == 1)",'    // Requires "#version 130" or better',"    #define FxaaTexTop(t, p) textureLod(t, p, 0.0)","    #define FxaaTexOff(t, p, o, r) textureLodOffset(t, p, 0.0, o)","    #if (FXAA_GATHER4_ALPHA == 1)","        // use #extension GL_ARB_gpu_shader5 : enable","        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)","        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)","        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)","        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)","    #endif","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_3 == 1)","    #define FxaaInt2 float2","    #define FxaaTex sampler2D","    #define FxaaTexTop(t, p) tex2Dlod(t, float4(p, 0.0, 0.0))","    #define FxaaTexOff(t, p, o, r) tex2Dlod(t, float4(p + (o * r), 0, 0))","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_4 == 1)","    #define FxaaInt2 int2","    struct FxaaTex { SamplerState smpl; Texture2D tex; };","    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)","    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_5 == 1)","    #define FxaaInt2 int2","    struct FxaaTex { SamplerState smpl; Texture2D tex; };","    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)","    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)","    #define FxaaTexAlpha4(t, p) t.tex.GatherAlpha(t.smpl, p)","    #define FxaaTexOffAlpha4(t, p, o) t.tex.GatherAlpha(t.smpl, p, o)","    #define FxaaTexGreen4(t, p) t.tex.GatherGreen(t.smpl, p)","    #define FxaaTexOffGreen4(t, p, o) t.tex.GatherGreen(t.smpl, p, o)","#endif","","","/*============================================================================","                   GREEN AS LUMA OPTION SUPPORT FUNCTION","============================================================================*/","#if (FXAA_GREEN_AS_LUMA == 0)","    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.w; }","#else","    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }","#endif","","","","","/*============================================================================","","                             FXAA3 QUALITY - PC","","============================================================================*/","#if (FXAA_PC == 1)","/*--------------------------------------------------------------------------*/","FxaaFloat4 FxaaPixelShader(","    //","    // Use noperspective interpolation here (turn off perspective interpolation).","    // {xy} = center of pixel","    FxaaFloat2 pos,","    //","    // Used only for FXAA Console, and not used on the 360 version.","    // Use noperspective interpolation here (turn off perspective interpolation).","    // {xy_} = upper left of pixel","    // {_zw} = lower right of pixel","    FxaaFloat4 fxaaConsolePosPos,","    //","    // Input color texture.","    // {rgb_} = color in linear or perceptual color space","    // if (FXAA_GREEN_AS_LUMA == 0)","    //     {__a} = luma in perceptual color space (not linear)","    FxaaTex tex,","    //","    // Only used on the optimized 360 version of FXAA Console.",'    // For everything but 360, just use the same input here as for "tex".',"    // For 360, same texture, just alias with a 2nd sampler.","    // This sampler needs to have an exponent bias of -1.","    FxaaTex fxaaConsole360TexExpBiasNegOne,","    //","    // Only used on the optimized 360 version of FXAA Console.",'    // For everything but 360, just use the same input here as for "tex".',"    // For 360, same texture, just alias with a 3nd sampler.","    // This sampler needs to have an exponent bias of -2.","    FxaaTex fxaaConsole360TexExpBiasNegTwo,","    //","    // Only used on FXAA Quality.","    // This must be from a constant/uniform.","    // {x_} = 1.0/screenWidthInPixels","    // {_y} = 1.0/screenHeightInPixels","    FxaaFloat2 fxaaQualityRcpFrame,","    //","    // Only used on FXAA Console.","    // This must be from a constant/uniform.","    // This effects sub-pixel AA quality and inversely sharpness.","    //   Where N ranges between,","    //     N = 0.50 (default)","    //     N = 0.33 (sharper)","    // {x__} = -N/screenWidthInPixels","    // {_y_} = -N/screenHeightInPixels","    // {_z_} =  N/screenWidthInPixels","    // {__w} =  N/screenHeightInPixels","    FxaaFloat4 fxaaConsoleRcpFrameOpt,","    //","    // Only used on FXAA Console.","    // Not used on 360, but used on PS3 and PC.","    // This must be from a constant/uniform.","    // {x__} = -2.0/screenWidthInPixels","    // {_y_} = -2.0/screenHeightInPixels","    // {_z_} =  2.0/screenWidthInPixels","    // {__w} =  2.0/screenHeightInPixels","    FxaaFloat4 fxaaConsoleRcpFrameOpt2,","    //","    // Only used on FXAA Console.","    // Only used on 360 in place of fxaaConsoleRcpFrameOpt2.","    // This must be from a constant/uniform.","    // {x__} =  8.0/screenWidthInPixels","    // {_y_} =  8.0/screenHeightInPixels","    // {_z_} = -4.0/screenWidthInPixels","    // {__w} = -4.0/screenHeightInPixels","    FxaaFloat4 fxaaConsole360RcpFrameOpt2,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_SUBPIX define.","    // It is here now to allow easier tuning.","    // Choose the amount of sub-pixel aliasing removal.","    // This can effect sharpness.","    //   1.00 - upper limit (softer)","    //   0.75 - default amount of filtering","    //   0.50 - lower limit (sharper, less sub-pixel aliasing removal)","    //   0.25 - almost off","    //   0.00 - completely off","    FxaaFloat fxaaQualitySubpix,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD define.","    // It is here now to allow easier tuning.","    // The minimum amount of local contrast required to apply algorithm.","    //   0.333 - too little (faster)","    //   0.250 - low quality","    //   0.166 - default","    //   0.125 - high quality","    //   0.063 - overkill (slower)","    FxaaFloat fxaaQualityEdgeThreshold,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD_MIN define.","    // It is here now to allow easier tuning.","    // Trims the algorithm from processing darks.","    //   0.0833 - upper limit (default, the start of visible unfiltered edges)","    //   0.0625 - high quality (faster)","    //   0.0312 - visible limit (slower)","    // Special notes when using FXAA_GREEN_AS_LUMA,","    //   Likely want to set this to zero.","    //   As colors that are mostly not-green","    //   will appear very dark in the green channel!","    //   Tune by looking at mostly non-green content,","    //   then start at zero and increase until aliasing is a problem.","    FxaaFloat fxaaQualityEdgeThresholdMin,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_SHARPNESS define.","    // It is here now to allow easier tuning.","    // This does not effect PS3, as this needs to be compiled in.","    //   Use FXAA_CONSOLE_PS3_EDGE_SHARPNESS for PS3.","    //   Due to the PS3 being ALU bound,","    //   there are only three safe values here: 2 and 4 and 8.","    //   These options use the shaders ability to a free *|/ by 2|4|8.","    // For all other platforms can be a non-power of two.","    //   8.0 is sharper (default!!!)","    //   4.0 is softer","    //   2.0 is really soft (good only for vector graphics inputs)","    FxaaFloat fxaaConsoleEdgeSharpness,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD define.","    // It is here now to allow easier tuning.","    // This does not effect PS3, as this needs to be compiled in.","    //   Use FXAA_CONSOLE_PS3_EDGE_THRESHOLD for PS3.","    //   Due to the PS3 being ALU bound,","    //   there are only two safe values here: 1/4 and 1/8.","    //   These options use the shaders ability to a free *|/ by 2|4|8.","    // The console setting has a different mapping than the quality setting.","    // Other platforms can use other values.","    //   0.125 leaves less aliasing, but is softer (default!!!)","    //   0.25 leaves more aliasing, and is sharper","    FxaaFloat fxaaConsoleEdgeThreshold,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD_MIN define.","    // It is here now to allow easier tuning.","    // Trims the algorithm from processing darks.","    // The console setting has a different mapping than the quality setting.","    // This only applies when FXAA_EARLY_EXIT is 1.","    // This does not apply to PS3,","    // PS3 was simplified to avoid more shader instructions.","    //   0.06 - faster but more aliasing in darks","    //   0.05 - default","    //   0.04 - slower and less aliasing in darks","    // Special notes when using FXAA_GREEN_AS_LUMA,","    //   Likely want to set this to zero.","    //   As colors that are mostly not-green","    //   will appear very dark in the green channel!","    //   Tune by looking at mostly non-green content,","    //   then start at zero and increase until aliasing is a problem.","    FxaaFloat fxaaConsoleEdgeThresholdMin,","    //","    // Extra constants for 360 FXAA Console only.","    // Use zeros or anything else for other platforms.","    // These must be in physical constant registers and NOT immediates.","    // Immediates will result in compiler un-optimizing.","    // {xyzw} = float4(1.0, -1.0, 0.25, -0.25)","    FxaaFloat4 fxaaConsole360ConstDir",") {","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posM;","    posM.x = pos.x;","    posM.y = pos.y;","    #if (FXAA_GATHER4_ALPHA == 1)","        #if (FXAA_DISCARD == 0)","            FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);","            #if (FXAA_GREEN_AS_LUMA == 0)","                #define lumaM rgbyM.w","            #else","                #define lumaM rgbyM.y","            #endif","        #endif","        #if (FXAA_GREEN_AS_LUMA == 0)","            FxaaFloat4 luma4A = FxaaTexAlpha4(tex, posM);","            FxaaFloat4 luma4B = FxaaTexOffAlpha4(tex, posM, FxaaInt2(-1, -1));","        #else","            FxaaFloat4 luma4A = FxaaTexGreen4(tex, posM);","            FxaaFloat4 luma4B = FxaaTexOffGreen4(tex, posM, FxaaInt2(-1, -1));","        #endif","        #if (FXAA_DISCARD == 1)","            #define lumaM luma4A.w","        #endif","        #define lumaE luma4A.z","        #define lumaS luma4A.x","        #define lumaSE luma4A.y","        #define lumaNW luma4B.w","        #define lumaN luma4B.z","        #define lumaW luma4B.x","    #else","        FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);","        #if (FXAA_GREEN_AS_LUMA == 0)","            #define lumaM rgbyM.w","        #else","            #define lumaM rgbyM.y","        #endif","        #if (FXAA_GLSL_100 == 1)","          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0, 1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 0.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 0.0), fxaaQualityRcpFrame.xy));","        #else","          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));","        #endif","    #endif","/*--------------------------------------------------------------------------*/","    FxaaFloat maxSM = max(lumaS, lumaM);","    FxaaFloat minSM = min(lumaS, lumaM);","    FxaaFloat maxESM = max(lumaE, maxSM);","    FxaaFloat minESM = min(lumaE, minSM);","    FxaaFloat maxWN = max(lumaN, lumaW);","    FxaaFloat minWN = min(lumaN, lumaW);","    FxaaFloat rangeMax = max(maxWN, maxESM);","    FxaaFloat rangeMin = min(minWN, minESM);","    FxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;","    FxaaFloat range = rangeMax - rangeMin;","    FxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);","    FxaaBool earlyExit = range < rangeMaxClamped;","/*--------------------------------------------------------------------------*/","    if(earlyExit)","        #if (FXAA_DISCARD == 1)","            FxaaDiscard;","        #else","            return rgbyM;","        #endif","/*--------------------------------------------------------------------------*/","    #if (FXAA_GATHER4_ALPHA == 0)","        #if (FXAA_GLSL_100 == 1)","          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 1.0), fxaaQualityRcpFrame.xy));","        #else","          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));","        #endif","    #else","        FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(1, -1), fxaaQualityRcpFrame.xy));","        FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));","    #endif","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNS = lumaN + lumaS;","    FxaaFloat lumaWE = lumaW + lumaE;","    FxaaFloat subpixRcpRange = 1.0/range;","    FxaaFloat subpixNSWE = lumaNS + lumaWE;","    FxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;","    FxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNESE = lumaNE + lumaSE;","    FxaaFloat lumaNWNE = lumaNW + lumaNE;","    FxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;","    FxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNWSW = lumaNW + lumaSW;","    FxaaFloat lumaSWSE = lumaSW + lumaSE;","    FxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);","    FxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);","    FxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;","    FxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;","    FxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;","    FxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;","/*--------------------------------------------------------------------------*/","    FxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;","    FxaaFloat lengthSign = fxaaQualityRcpFrame.x;","    FxaaBool horzSpan = edgeHorz >= edgeVert;","    FxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;","/*--------------------------------------------------------------------------*/","    if(!horzSpan) lumaN = lumaW;","    if(!horzSpan) lumaS = lumaE;","    if(horzSpan) lengthSign = fxaaQualityRcpFrame.y;","    FxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;","/*--------------------------------------------------------------------------*/","    FxaaFloat gradientN = lumaN - lumaM;","    FxaaFloat gradientS = lumaS - lumaM;","    FxaaFloat lumaNN = lumaN + lumaM;","    FxaaFloat lumaSS = lumaS + lumaM;","    FxaaBool pairN = abs(gradientN) >= abs(gradientS);","    FxaaFloat gradient = max(abs(gradientN), abs(gradientS));","    if(pairN) lengthSign = -lengthSign;","    FxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posB;","    posB.x = posM.x;","    posB.y = posM.y;","    FxaaFloat2 offNP;","    offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;","    offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;","    if(!horzSpan) posB.x += lengthSign * 0.5;","    if( horzSpan) posB.y += lengthSign * 0.5;","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posN;","    posN.x = posB.x - offNP.x * FXAA_QUALITY_P0;","    posN.y = posB.y - offNP.y * FXAA_QUALITY_P0;","    FxaaFloat2 posP;","    posP.x = posB.x + offNP.x * FXAA_QUALITY_P0;","    posP.y = posB.y + offNP.y * FXAA_QUALITY_P0;","    FxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;","    FxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));","    FxaaFloat subpixE = subpixC * subpixC;","    FxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));","/*--------------------------------------------------------------------------*/","    if(!pairN) lumaNN = lumaSS;","    FxaaFloat gradientScaled = gradient * 1.0/4.0;","    FxaaFloat lumaMM = lumaM - lumaNN * 0.5;","    FxaaFloat subpixF = subpixD * subpixE;","    FxaaBool lumaMLTZero = lumaMM < 0.0;","/*--------------------------------------------------------------------------*/","    lumaEndN -= lumaNN * 0.5;","    lumaEndP -= lumaNN * 0.5;","    FxaaBool doneN = abs(lumaEndN) >= gradientScaled;","    FxaaBool doneP = abs(lumaEndP) >= gradientScaled;","    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;","    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;","    FxaaBool doneNP = (!doneN) || (!doneP);","    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;","    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;","/*--------------------------------------------------------------------------*/","    if(doneNP) {","        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","        doneN = abs(lumaEndN) >= gradientScaled;","        doneP = abs(lumaEndP) >= gradientScaled;","        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;","        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;","        doneNP = (!doneN) || (!doneP);","        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;","        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;","/*--------------------------------------------------------------------------*/","        #if (FXAA_QUALITY_PS > 3)","        if(doneNP) {","            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","            doneN = abs(lumaEndN) >= gradientScaled;","            doneP = abs(lumaEndP) >= gradientScaled;","            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;","            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;","            doneNP = (!doneN) || (!doneP);","            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;","            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;","/*--------------------------------------------------------------------------*/","            #if (FXAA_QUALITY_PS > 4)","            if(doneNP) {","                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                doneN = abs(lumaEndN) >= gradientScaled;","                doneP = abs(lumaEndP) >= gradientScaled;","                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;","                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;","                doneNP = (!doneN) || (!doneP);","                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;","                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;","/*--------------------------------------------------------------------------*/","                #if (FXAA_QUALITY_PS > 5)","                if(doneNP) {","                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                    doneN = abs(lumaEndN) >= gradientScaled;","                    doneP = abs(lumaEndP) >= gradientScaled;","                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;","                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;","                    doneNP = (!doneN) || (!doneP);","                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;","                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;","/*--------------------------------------------------------------------------*/","                    #if (FXAA_QUALITY_PS > 6)","                    if(doneNP) {","                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                        doneN = abs(lumaEndN) >= gradientScaled;","                        doneP = abs(lumaEndP) >= gradientScaled;","                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;","                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;","                        doneNP = (!doneN) || (!doneP);","                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;","                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;","/*--------------------------------------------------------------------------*/","                        #if (FXAA_QUALITY_PS > 7)","                        if(doneNP) {","                            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                            doneN = abs(lumaEndN) >= gradientScaled;","                            doneP = abs(lumaEndP) >= gradientScaled;","                            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;","                            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;","                            doneNP = (!doneN) || (!doneP);","                            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;","                            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;","/*--------------------------------------------------------------------------*/","    #if (FXAA_QUALITY_PS > 8)","    if(doneNP) {","        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","        doneN = abs(lumaEndN) >= gradientScaled;","        doneP = abs(lumaEndP) >= gradientScaled;","        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;","        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;","        doneNP = (!doneN) || (!doneP);","        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;","        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;","/*--------------------------------------------------------------------------*/","        #if (FXAA_QUALITY_PS > 9)","        if(doneNP) {","            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","            doneN = abs(lumaEndN) >= gradientScaled;","            doneP = abs(lumaEndP) >= gradientScaled;","            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;","            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;","            doneNP = (!doneN) || (!doneP);","            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;","            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;","/*--------------------------------------------------------------------------*/","            #if (FXAA_QUALITY_PS > 10)","            if(doneNP) {","                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                doneN = abs(lumaEndN) >= gradientScaled;","                doneP = abs(lumaEndP) >= gradientScaled;","                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;","                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;","                doneNP = (!doneN) || (!doneP);","                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;","                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;","/*--------------------------------------------------------------------------*/","                #if (FXAA_QUALITY_PS > 11)","                if(doneNP) {","                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                    doneN = abs(lumaEndN) >= gradientScaled;","                    doneP = abs(lumaEndP) >= gradientScaled;","                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;","                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;","                    doneNP = (!doneN) || (!doneP);","                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;","                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;","/*--------------------------------------------------------------------------*/","                    #if (FXAA_QUALITY_PS > 12)","                    if(doneNP) {","                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                        doneN = abs(lumaEndN) >= gradientScaled;","                        doneP = abs(lumaEndP) >= gradientScaled;","                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12;","                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12;","                        doneNP = (!doneN) || (!doneP);","                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12;","                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12;","/*--------------------------------------------------------------------------*/","                    }","                    #endif","/*--------------------------------------------------------------------------*/","                }","                #endif","/*--------------------------------------------------------------------------*/","            }","            #endif","/*--------------------------------------------------------------------------*/","        }","        #endif","/*--------------------------------------------------------------------------*/","    }","    #endif","/*--------------------------------------------------------------------------*/","                        }","                        #endif","/*--------------------------------------------------------------------------*/","                    }","                    #endif","/*--------------------------------------------------------------------------*/","                }","                #endif","/*--------------------------------------------------------------------------*/","            }","            #endif","/*--------------------------------------------------------------------------*/","        }","        #endif","/*--------------------------------------------------------------------------*/","    }","/*--------------------------------------------------------------------------*/","    FxaaFloat dstN = posM.x - posN.x;","    FxaaFloat dstP = posP.x - posM.x;","    if(!horzSpan) dstN = posM.y - posN.y;","    if(!horzSpan) dstP = posP.y - posM.y;","/*--------------------------------------------------------------------------*/","    FxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;","    FxaaFloat spanLength = (dstP + dstN);","    FxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;","    FxaaFloat spanLengthRcp = 1.0/spanLength;","/*--------------------------------------------------------------------------*/","    FxaaBool directionN = dstN < dstP;","    FxaaFloat dst = min(dstN, dstP);","    FxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;","    FxaaFloat subpixG = subpixF * subpixF;","    FxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;","    FxaaFloat subpixH = subpixG * fxaaQualitySubpix;","/*--------------------------------------------------------------------------*/","    FxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;","    FxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);","    if(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;","    if( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;","    #if (FXAA_DISCARD == 1)","        return FxaaTexTop(tex, posM);","    #else","        return FxaaFloat4(FxaaTexTop(tex, posM).xyz, lumaM);","    #endif","}","/*==========================================================================*/","#endif","","void main() {","  gl_FragColor = FxaaPixelShader(","    vUv,","    vec4(0.0),","    tDiffuse,","    tDiffuse,","    tDiffuse,","    resolution,","    vec4(0.0),","    vec4(0.0),","    vec4(0.0),","    0.75,","    0.166,","    0.0833,","    0.0,","    0.0,","    0.0,","    vec4(0.0)","  );","","  // TODO avoid querying texture twice for same texel","  gl_FragColor.a = texture2D(tDiffuse, vUv).a;","}"].join("\n")},fd={defines:{SMAA_THRESHOLD:"0.1"},uniforms:{tDiffuse:{value:null},resolution:{value:new $t(1/1024,1/512)}},vertexShader:["uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 3 ];","void SMAAEdgeDetectionVS( vec2 texcoord ) {","\tvOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0,  1.0 );","\tvOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4(  1.0, 0.0, 0.0, -1.0 );","\tvOffset[ 2 ] = texcoord.xyxy + resolution.xyxy * vec4( -2.0, 0.0, 0.0,  2.0 );","}","void main() {","\tvUv = uv;","\tSMAAEdgeDetectionVS( vUv );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","varying vec2 vUv;","varying vec4 vOffset[ 3 ];","vec4 SMAAColorEdgeDetectionPS( vec2 texcoord, vec4 offset[3], sampler2D colorTex ) {","\tvec2 threshold = vec2( SMAA_THRESHOLD, SMAA_THRESHOLD );","\tvec4 delta;","\tvec3 C = texture2D( colorTex, texcoord ).rgb;","\tvec3 Cleft = texture2D( colorTex, offset[0].xy ).rgb;","\tvec3 t = abs( C - Cleft );","\tdelta.x = max( max( t.r, t.g ), t.b );","\tvec3 Ctop = texture2D( colorTex, offset[0].zw ).rgb;","\tt = abs( C - Ctop );","\tdelta.y = max( max( t.r, t.g ), t.b );","\tvec2 edges = step( threshold, delta.xy );","\tif ( dot( edges, vec2( 1.0, 1.0 ) ) == 0.0 )","\t\tdiscard;","\tvec3 Cright = texture2D( colorTex, offset[1].xy ).rgb;","\tt = abs( C - Cright );","\tdelta.z = max( max( t.r, t.g ), t.b );","\tvec3 Cbottom  = texture2D( colorTex, offset[1].zw ).rgb;","\tt = abs( C - Cbottom );","\tdelta.w = max( max( t.r, t.g ), t.b );","\tfloat maxDelta = max( max( max( delta.x, delta.y ), delta.z ), delta.w );","\tvec3 Cleftleft  = texture2D( colorTex, offset[2].xy ).rgb;","\tt = abs( C - Cleftleft );","\tdelta.z = max( max( t.r, t.g ), t.b );","\tvec3 Ctoptop = texture2D( colorTex, offset[2].zw ).rgb;","\tt = abs( C - Ctoptop );","\tdelta.w = max( max( t.r, t.g ), t.b );","\tmaxDelta = max( max( maxDelta, delta.z ), delta.w );","\tedges.xy *= step( 0.5 * maxDelta, delta.xy );","\treturn vec4( edges, 0.0, 0.0 );","}","void main() {","\tgl_FragColor = SMAAColorEdgeDetectionPS( vUv, vOffset, tDiffuse );","}"].join("\n")},md={defines:{SMAA_MAX_SEARCH_STEPS:"8",SMAA_AREATEX_MAX_DISTANCE:"16",SMAA_AREATEX_PIXEL_SIZE:"( 1.0 / vec2( 160.0, 560.0 ) )",SMAA_AREATEX_SUBTEX_SIZE:"( 1.0 / 7.0 )"},uniforms:{tDiffuse:{value:null},tArea:{value:null},tSearch:{value:null},resolution:{value:new $t(1/1024,1/512)}},vertexShader:["uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 3 ];","varying vec2 vPixcoord;","void SMAABlendingWeightCalculationVS( vec2 texcoord ) {","\tvPixcoord = texcoord / resolution;","\tvOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.25, 0.125, 1.25, 0.125 );","\tvOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.125, 0.25, -0.125, -1.25 );","\tvOffset[ 2 ] = vec4( vOffset[ 0 ].xz, vOffset[ 1 ].yw ) + vec4( -2.0, 2.0, -2.0, 2.0 ) * resolution.xxyy * float( SMAA_MAX_SEARCH_STEPS );","}","void main() {","\tvUv = uv;","\tSMAABlendingWeightCalculationVS( vUv );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define SMAASampleLevelZeroOffset( tex, coord, offset ) texture2D( tex, coord + float( offset ) * resolution, 0.0 )","uniform sampler2D tDiffuse;","uniform sampler2D tArea;","uniform sampler2D tSearch;","uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[3];","varying vec2 vPixcoord;","#if __VERSION__ == 100","vec2 round( vec2 x ) {","\treturn sign( x ) * floor( abs( x ) + 0.5 );","}","#endif","float SMAASearchLength( sampler2D searchTex, vec2 e, float bias, float scale ) {","\te.r = bias + e.r * scale;","\treturn 255.0 * texture2D( searchTex, e, 0.0 ).r;","}","float SMAASearchXLeft( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","\tvec2 e = vec2( 0.0, 1.0 );","\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;","\t\ttexcoord -= vec2( 2.0, 0.0 ) * resolution;","\t\tif ( ! ( texcoord.x > end && e.g > 0.8281 && e.r == 0.0 ) ) break;","\t}","\ttexcoord.x += 0.25 * resolution.x;","\ttexcoord.x += resolution.x;","\ttexcoord.x += 2.0 * resolution.x;","\ttexcoord.x -= resolution.x * SMAASearchLength(searchTex, e, 0.0, 0.5);","\treturn texcoord.x;","}","float SMAASearchXRight( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","\tvec2 e = vec2( 0.0, 1.0 );","\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;","\t\ttexcoord += vec2( 2.0, 0.0 ) * resolution;","\t\tif ( ! ( texcoord.x < end && e.g > 0.8281 && e.r == 0.0 ) ) break;","\t}","\ttexcoord.x -= 0.25 * resolution.x;","\ttexcoord.x -= resolution.x;","\ttexcoord.x -= 2.0 * resolution.x;","\ttexcoord.x += resolution.x * SMAASearchLength( searchTex, e, 0.5, 0.5 );","\treturn texcoord.x;","}","float SMAASearchYUp( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","\tvec2 e = vec2( 1.0, 0.0 );","\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;","\t\ttexcoord += vec2( 0.0, 2.0 ) * resolution;","\t\tif ( ! ( texcoord.y > end && e.r > 0.8281 && e.g == 0.0 ) ) break;","\t}","\ttexcoord.y -= 0.25 * resolution.y;","\ttexcoord.y -= resolution.y;","\ttexcoord.y -= 2.0 * resolution.y;","\ttexcoord.y += resolution.y * SMAASearchLength( searchTex, e.gr, 0.0, 0.5 );","\treturn texcoord.y;","}","float SMAASearchYDown( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","\tvec2 e = vec2( 1.0, 0.0 );","\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;","\t\ttexcoord -= vec2( 0.0, 2.0 ) * resolution;","\t\tif ( ! ( texcoord.y < end && e.r > 0.8281 && e.g == 0.0 ) ) break;","\t}","\ttexcoord.y += 0.25 * resolution.y;","\ttexcoord.y += resolution.y;","\ttexcoord.y += 2.0 * resolution.y;","\ttexcoord.y -= resolution.y * SMAASearchLength( searchTex, e.gr, 0.5, 0.5 );","\treturn texcoord.y;","}","vec2 SMAAArea( sampler2D areaTex, vec2 dist, float e1, float e2, float offset ) {","\tvec2 texcoord = float( SMAA_AREATEX_MAX_DISTANCE ) * round( 4.0 * vec2( e1, e2 ) ) + dist;","\ttexcoord = SMAA_AREATEX_PIXEL_SIZE * texcoord + ( 0.5 * SMAA_AREATEX_PIXEL_SIZE );","\ttexcoord.y += SMAA_AREATEX_SUBTEX_SIZE * offset;","\treturn texture2D( areaTex, texcoord, 0.0 ).rg;","}","vec4 SMAABlendingWeightCalculationPS( vec2 texcoord, vec2 pixcoord, vec4 offset[ 3 ], sampler2D edgesTex, sampler2D areaTex, sampler2D searchTex, ivec4 subsampleIndices ) {","\tvec4 weights = vec4( 0.0, 0.0, 0.0, 0.0 );","\tvec2 e = texture2D( edgesTex, texcoord ).rg;","\tif ( e.g > 0.0 ) {","\t\tvec2 d;","\t\tvec2 coords;","\t\tcoords.x = SMAASearchXLeft( edgesTex, searchTex, offset[ 0 ].xy, offset[ 2 ].x );","\t\tcoords.y = offset[ 1 ].y;","\t\td.x = coords.x;","\t\tfloat e1 = texture2D( edgesTex, coords, 0.0 ).r;","\t\tcoords.x = SMAASearchXRight( edgesTex, searchTex, offset[ 0 ].zw, offset[ 2 ].y );","\t\td.y = coords.x;","\t\td = d / resolution.x - pixcoord.x;","\t\tvec2 sqrt_d = sqrt( abs( d ) );","\t\tcoords.y -= 1.0 * resolution.y;","\t\tfloat e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 1, 0 ) ).r;","\t\tweights.rg = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.y ) );","\t}","\tif ( e.r > 0.0 ) {","\t\tvec2 d;","\t\tvec2 coords;","\t\tcoords.y = SMAASearchYUp( edgesTex, searchTex, offset[ 1 ].xy, offset[ 2 ].z );","\t\tcoords.x = offset[ 0 ].x;","\t\td.x = coords.y;","\t\tfloat e1 = texture2D( edgesTex, coords, 0.0 ).g;","\t\tcoords.y = SMAASearchYDown( edgesTex, searchTex, offset[ 1 ].zw, offset[ 2 ].w );","\t\td.y = coords.y;","\t\td = d / resolution.y - pixcoord.y;","\t\tvec2 sqrt_d = sqrt( abs( d ) );","\t\tcoords.y -= 1.0 * resolution.y;","\t\tfloat e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 0, 1 ) ).g;","\t\tweights.ba = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.x ) );","\t}","\treturn weights;","}","void main() {","\tgl_FragColor = SMAABlendingWeightCalculationPS( vUv, vPixcoord, vOffset, tDiffuse, tArea, tSearch, ivec4( 0.0 ) );","}"].join("\n")},vd={uniforms:{tDiffuse:{value:null},tColor:{value:null},resolution:{value:new $t(1/1024,1/512)}},vertexShader:["uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 2 ];","void SMAANeighborhoodBlendingVS( vec2 texcoord ) {","\tvOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0, 1.0 );","\tvOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( 1.0, 0.0, 0.0, -1.0 );","}","void main() {","\tvUv = uv;","\tSMAANeighborhoodBlendingVS( vUv );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform sampler2D tColor;","uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 2 ];","vec4 SMAANeighborhoodBlendingPS( vec2 texcoord, vec4 offset[ 2 ], sampler2D colorTex, sampler2D blendTex ) {","\tvec4 a;","\ta.xz = texture2D( blendTex, texcoord ).xz;","\ta.y = texture2D( blendTex, offset[ 1 ].zw ).g;","\ta.w = texture2D( blendTex, offset[ 1 ].xy ).a;","\tif ( dot(a, vec4( 1.0, 1.0, 1.0, 1.0 )) < 1e-5 ) {","\t\treturn texture2D( colorTex, texcoord, 0.0 );","\t} else {","\t\tvec2 offset;","\t\toffset.x = a.a > a.b ? a.a : -a.b;","\t\toffset.y = a.g > a.r ? -a.g : a.r;","\t\tif ( abs( offset.x ) > abs( offset.y )) {","\t\t\toffset.y = 0.0;","\t\t} else {","\t\t\toffset.x = 0.0;","\t\t}","\t\tvec4 C = texture2D( colorTex, texcoord, 0.0 );","\t\ttexcoord += sign( offset ) * resolution;","\t\tvec4 Cop = texture2D( colorTex, texcoord, 0.0 );","\t\tfloat s = abs( offset.x ) > abs( offset.y ) ? abs( offset.x ) : abs( offset.y );","\t\tC.xyz = pow(C.xyz, vec3(2.2));","\t\tCop.xyz = pow(Cop.xyz, vec3(2.2));","\t\tvec4 mixed = mix(C, Cop, s);","\t\tmixed.xyz = pow(mixed.xyz, vec3(1.0 / 2.2));","\t\treturn mixed;","\t}","}","void main() {","\tgl_FragColor = SMAANeighborhoodBlendingPS( vUv, vOffset, tColor, tDiffuse );","}"].join("\n")},Cd=function(e,t){ad.call(this),this.edgesRT=new Cn(e,t,{depthBuffer:!1,generateMipmaps:!1,minFilter:rt,format:dt}),this.edgesRT.texture.name="SMAAPass.edges",this.weightsRT=new Cn(e,t,{depthBuffer:!1,generateMipmaps:!1,minFilter:rt,format:gt}),this.weightsRT.texture.name="SMAAPass.weights";var n,i,r,A=this,a=wx.getSystemInfoSync();(n=(i=wx.createOffscreenCanvas({type:"2d",width:a.screenWidth,height:a.screenHeight})).createImage()).src=this.getAreaTexture(),n.onload=function(){A.areaTexture.needsUpdate=!0},this.areaTexture=new mn,this.areaTexture.name="SMAAPass.area",this.areaTexture.image=n,this.areaTexture.format=dt,this.areaTexture.minFilter=rt,this.areaTexture.generateMipmaps=!1,this.areaTexture.flipY=!1,(r=i.createImage()).src=this.getSearchTexture(),r.onload=function(){A.searchTexture.needsUpdate=!0},this.searchTexture=new mn,this.searchTexture.name="SMAAPass.search",this.searchTexture.image=r,this.searchTexture.magFilter=tt,this.searchTexture.minFilter=tt,this.searchTexture.generateMipmaps=!1,this.searchTexture.flipY=!1,void 0===fd&&console.error("SMAAPass relies on SMAAShader"),this.uniformsEdges=kr.clone(fd.uniforms),this.uniformsEdges.resolution.value.set(1/e,1/t),this.materialEdges=new Wr({defines:Object.assign({},fd.defines),uniforms:this.uniformsEdges,vertexShader:fd.vertexShader,fragmentShader:fd.fragmentShader}),this.uniformsWeights=kr.clone(md.uniforms),this.uniformsWeights.resolution.value.set(1/e,1/t),this.uniformsWeights.tDiffuse.value=this.edgesRT.texture,this.uniformsWeights.tArea.value=this.areaTexture,this.uniformsWeights.tSearch.value=this.searchTexture,this.materialWeights=new Wr({defines:Object.assign({},md.defines),uniforms:this.uniformsWeights,vertexShader:md.vertexShader,fragmentShader:md.fragmentShader}),this.uniformsBlend=kr.clone(vd.uniforms),this.uniformsBlend.resolution.value.set(1/e,1/t),this.uniformsBlend.tDiffuse.value=this.weightsRT.texture,this.materialBlend=new Wr({uniforms:this.uniformsBlend,vertexShader:vd.vertexShader,fragmentShader:vd.fragmentShader}),this.needsSwap=!1,this.fsQuad=new ad.FullScreenQuad(null)};Cd.prototype=Object.assign(Object.create(ad.prototype),{constructor:Cd,render:function(e,t,n){this.uniformsEdges.tDiffuse.value=n.texture,this.fsQuad.material=this.materialEdges,e.setRenderTarget(this.edgesRT),this.clear&&e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialWeights,e.setRenderTarget(this.weightsRT),this.clear&&e.clear(),this.fsQuad.render(e),this.uniformsBlend.tColor.value=n.texture,this.fsQuad.material=this.materialBlend,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(),this.fsQuad.render(e))},setSize:function(e,t){this.edgesRT.setSize(e,t),this.weightsRT.setSize(e,t),this.materialEdges.uniforms.resolution.value.set(1/e,1/t),this.materialWeights.uniforms.resolution.value.set(1/e,1/t),this.materialBlend.uniforms.resolution.value.set(1/e,1/t)},getAreaTexture:function(){return"data:image/png;base64,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"},getSearchTexture:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAhCAAAAABIXyLAAAAAOElEQVRIx2NgGAWjYBSMglEwEICREYRgFBZBqDCSLA2MGPUIVQETE9iNUAqLR5gIeoQKRgwXjwAAGn4AtaFeYLEAAAAASUVORK5CYII="}});var yd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Me(this,e),this.options=t,this.pass={enabled:!0},this.antiAliasing=t.antialias||gd.FXAA,this.isPostProcessing=!0}return Te(e,[{key:"init",value:function(){pn.render()}},{key:"render",value:function(){}},{key:"enabled",get:function(){this.pass.enabled},set:function(e){this.pass.enabled=e}},{key:"setSize",value:function(e,t){}}]),e}(),Id=function(e,t,n,i){this.renderScene=t,this.renderCamera=n,this.selectedObjects=void 0!==i?i:[],this.visibleEdgeColor=new Qi(1,1,1),this.hiddenEdgeColor=new Qi(.1,.04,.02),this.edgeGlow=0,this.usePatternTexture=!1,this.edgeThickness=1,this.edgeStrength=3,this.downSampleRatio=2,this.pulsePeriod=0,ad.call(this),this.resolution=void 0!==e?new $t(e.x,e.y):new $t(256,256);var r={minFilter:rt,magFilter:rt,format:gt},A=Math.round(this.resolution.x/this.downSampleRatio),a=Math.round(this.resolution.y/this.downSampleRatio);this.maskBufferMaterial=new Zi({color:16777215}),this.maskBufferMaterial.side=2,this.renderTargetMaskBuffer=new Cn(this.resolution.x,this.resolution.y,r),this.renderTargetMaskBuffer.texture.name="OutlinePass.mask",this.renderTargetMaskBuffer.texture.generateMipmaps=!1,this.depthMaterial=new Wa,this.depthMaterial.side=2,this.depthMaterial.depthPacking=Wt,this.depthMaterial.blending=0,this.prepareMaskMaterial=this.getPrepareMaskMaterial(),this.prepareMaskMaterial.side=2,this.prepareMaskMaterial.fragmentShader=function(e,t){var n=t.isPerspectiveCamera?"perspective":"orthographic";return e.replace(/DEPTH_TO_VIEW_Z/g,n+"DepthToViewZ")}(this.prepareMaskMaterial.fragmentShader,this.renderCamera),this.renderTargetDepthBuffer=new Cn(this.resolution.x,this.resolution.y,r),this.renderTargetDepthBuffer.texture.name="OutlinePass.depth",this.renderTargetDepthBuffer.texture.generateMipmaps=!1,this.renderTargetMaskDownSampleBuffer=new Cn(A,a,r),this.renderTargetMaskDownSampleBuffer.texture.name="OutlinePass.depthDownSample",this.renderTargetMaskDownSampleBuffer.texture.generateMipmaps=!1,this.renderTargetBlurBuffer1=new Cn(A,a,r),this.renderTargetBlurBuffer1.texture.name="OutlinePass.blur1",this.renderTargetBlurBuffer1.texture.generateMipmaps=!1,this.renderTargetBlurBuffer2=new Cn(Math.round(A/2),Math.round(a/2),r),this.renderTargetBlurBuffer2.texture.name="OutlinePass.blur2",this.renderTargetBlurBuffer2.texture.generateMipmaps=!1,this.edgeDetectionMaterial=this.getEdgeDetectionMaterial(),this.renderTargetEdgeBuffer1=new Cn(A,a,r),this.renderTargetEdgeBuffer1.texture.name="OutlinePass.edge1",this.renderTargetEdgeBuffer1.texture.generateMipmaps=!1,this.renderTargetEdgeBuffer2=new Cn(Math.round(A/2),Math.round(a/2),r),this.renderTargetEdgeBuffer2.texture.name="OutlinePass.edge2",this.renderTargetEdgeBuffer2.texture.generateMipmaps=!1;this.separableBlurMaterial1=this.getSeperableBlurMaterial(4),this.separableBlurMaterial1.uniforms.texSize.value=new $t(A,a),this.separableBlurMaterial1.uniforms.kernelRadius.value=1,this.separableBlurMaterial2=this.getSeperableBlurMaterial(4),this.separableBlurMaterial2.uniforms.texSize.value=new $t(Math.round(A/2),Math.round(a/2)),this.separableBlurMaterial2.uniforms.kernelRadius.value=4,this.overlayMaterial=this.getOverlayMaterial(),void 0===sd&&console.error("OutlinePass relies on CopyShader");var o=sd;this.copyUniforms=kr.clone(o.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new Wr({uniforms:this.copyUniforms,vertexShader:o.vertexShader,fragmentShader:o.fragmentShader,blending:0,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this.oldClearColor=new Qi,this.oldClearAlpha=1,this.fsQuad=new ad.FullScreenQuad(null),this.tempPulseColor1=new Qi,this.tempPulseColor2=new Qi,this.textureMatrix=new Tn};Id.prototype=Object.assign(Object.create(ad.prototype),{constructor:Id,dispose:function(){this.renderTargetMaskBuffer.dispose(),this.renderTargetDepthBuffer.dispose(),this.renderTargetMaskDownSampleBuffer.dispose(),this.renderTargetBlurBuffer1.dispose(),this.renderTargetBlurBuffer2.dispose(),this.renderTargetEdgeBuffer1.dispose(),this.renderTargetEdgeBuffer2.dispose()},setSize:function(e,t){this.renderTargetMaskBuffer.setSize(e,t);var n=Math.round(e/this.downSampleRatio),i=Math.round(t/this.downSampleRatio);this.renderTargetMaskDownSampleBuffer.setSize(n,i),this.renderTargetBlurBuffer1.setSize(n,i),this.renderTargetEdgeBuffer1.setSize(n,i),this.separableBlurMaterial1.uniforms.texSize.value=new $t(n,i),n=Math.round(n/2),i=Math.round(i/2),this.renderTargetBlurBuffer2.setSize(n,i),this.renderTargetEdgeBuffer2.setSize(n,i),this.separableBlurMaterial2.uniforms.texSize.value=new $t(n,i)},changeVisibilityOfSelectedObjects:function(e){function t(t){t.isMesh&&(e?(t.visible=t.userData.oldVisible,delete t.userData.oldVisible):(t.userData.oldVisible=t.visible,t.visible=e))}for(var n=0;n<this.selectedObjects.length;n++){this.selectedObjects[n].traverse(t)}},changeVisibilityOfNonSelectedObjects:function(e){var t=[];function n(e){e.isMesh&&t.push(e)}for(var i=0;i<this.selectedObjects.length;i++){this.selectedObjects[i].traverse(n)}this.renderScene.traverse((function(n){if(n.isMesh||n.isLine||n.isSprite){for(var i=!1,r=0;r<t.length;r++){if(t[r].id===n.id){i=!0;break}}if(!i){var A=n.visible;e&&!n.bVisible||(n.visible=e),n.bVisible=A}}}))},updateTextureMatrix:function(){this.textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),this.textureMatrix.multiply(this.renderCamera.projectionMatrix),this.textureMatrix.multiply(this.renderCamera.matrixWorldInverse)},render:function(e,t,n,i,r){if(this.selectedObjects.length>0){this.showTransform=!1,this.renderScene.getObjectByName("ObjectControls")&&this.renderScene.getObjectByName("ObjectControls").visible&&(this.showTransform=!0,this.renderScene.getObjectByName("ObjectControls").visible=!1),this.oldClearColor.copy(e.getClearColor()),this.oldClearAlpha=e.getClearAlpha();var A=e.autoClear;e.autoClear=!1,r&&e.state.buffers.stencil.setTest(!1),e.setClearColor(16777215,1),this.changeVisibilityOfSelectedObjects(!1);var a=this.renderScene.background;if(this.renderScene.background=null,this.renderScene.overrideMaterial=this.depthMaterial,e.setRenderTarget(this.renderTargetDepthBuffer),e.clear(),e.render(this.renderScene,this.renderCamera),this.changeVisibilityOfSelectedObjects(!0),this.updateTextureMatrix(),this.changeVisibilityOfNonSelectedObjects(!1),this.renderScene.overrideMaterial=this.prepareMaskMaterial,this.prepareMaskMaterial.uniforms.cameraNearFar.value=new $t(this.renderCamera.near,this.renderCamera.far),this.prepareMaskMaterial.uniforms.depthTexture.value=this.renderTargetDepthBuffer.texture,this.prepareMaskMaterial.uniforms.textureMatrix.value=this.textureMatrix,e.setRenderTarget(this.renderTargetMaskBuffer),e.clear(),e.render(this.renderScene,this.renderCamera),this.renderScene.overrideMaterial=null,this.changeVisibilityOfNonSelectedObjects(!0),this.renderScene.background=a,this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetMaskBuffer.texture,e.setRenderTarget(this.renderTargetMaskDownSampleBuffer),e.clear(),this.fsQuad.render(e),this.tempPulseColor1.copy(this.visibleEdgeColor),this.tempPulseColor2.copy(this.hiddenEdgeColor),this.pulsePeriod>0){var o=.625+.75*Math.cos(.01*performance.now()/this.pulsePeriod)/2;this.tempPulseColor1.multiplyScalar(o),this.tempPulseColor2.multiplyScalar(o)}this.fsQuad.material=this.edgeDetectionMaterial,this.edgeDetectionMaterial.uniforms.maskTexture.value=this.renderTargetMaskDownSampleBuffer.texture,this.edgeDetectionMaterial.uniforms.texSize.value=new $t(this.renderTargetMaskDownSampleBuffer.width,this.renderTargetMaskDownSampleBuffer.height),this.edgeDetectionMaterial.uniforms.visibleEdgeColor.value=this.tempPulseColor1,this.edgeDetectionMaterial.uniforms.hiddenEdgeColor.value=this.tempPulseColor2,e.setRenderTarget(this.renderTargetEdgeBuffer1),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.separableBlurMaterial1,this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=Id.BlurDirectionX,this.separableBlurMaterial1.uniforms.kernelRadius.value=this.edgeThickness,e.setRenderTarget(this.renderTargetBlurBuffer1),e.clear(),this.fsQuad.render(e),this.separableBlurMaterial1.uniforms.colorTexture.value=this.renderTargetBlurBuffer1.texture,this.separableBlurMaterial1.uniforms.direction.value=Id.BlurDirectionY,e.setRenderTarget(this.renderTargetEdgeBuffer1),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.separableBlurMaterial2,this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial2.uniforms.direction.value=Id.BlurDirectionX,e.setRenderTarget(this.renderTargetBlurBuffer2),e.clear(),this.fsQuad.render(e),this.separableBlurMaterial2.uniforms.colorTexture.value=this.renderTargetBlurBuffer2.texture,this.separableBlurMaterial2.uniforms.direction.value=Id.BlurDirectionY,e.setRenderTarget(this.renderTargetEdgeBuffer2),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.overlayMaterial,this.overlayMaterial.uniforms.maskTexture.value=this.renderTargetMaskBuffer.texture,this.overlayMaterial.uniforms.edgeTexture1.value=this.renderTargetEdgeBuffer1.texture,this.overlayMaterial.uniforms.edgeTexture2.value=this.renderTargetEdgeBuffer2.texture,this.overlayMaterial.uniforms.patternTexture.value=this.patternTexture,this.overlayMaterial.uniforms.edgeStrength.value=this.edgeStrength,this.overlayMaterial.uniforms.edgeGlow.value=this.edgeGlow,this.overlayMaterial.uniforms.usePatternTexture.value=this.usePatternTexture,r&&e.state.buffers.stencil.setTest(!0),e.setRenderTarget(n),this.fsQuad.render(e),e.setClearColor(this.oldClearColor,this.oldClearAlpha),e.autoClear=A}this.renderToScreen&&(this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=n.texture,e.setRenderTarget(null),this.fsQuad.render(e)),this.showTransform&&(this.renderScene.getObjectByName("ObjectControls").visible=!0)},getPrepareMaskMaterial:function(){return new Wr({uniforms:{depthTexture:{value:null},cameraNearFar:{value:new $t(.5,.5)},textureMatrix:{value:new Tn}},vertexShader:["varying vec4 projTexCoord;","varying vec4 vPosition;","uniform mat4 textureMatrix;","void main() {","\tvPosition = modelViewMatrix * vec4( position, 1.0 );","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tprojTexCoord = textureMatrix * worldPosition;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#include <packing>","varying vec4 vPosition;","varying vec4 projTexCoord;","uniform sampler2D depthTexture;","uniform vec2 cameraNearFar;","void main() {","\tfloat depth = unpackRGBAToDepth(texture2DProj( depthTexture, projTexCoord ));","\tfloat viewZ = - DEPTH_TO_VIEW_Z( depth, cameraNearFar.x, cameraNearFar.y );","\tfloat depthTest = (-vPosition.z > viewZ) ? 1.0 : 0.0;","\tgl_FragColor = vec4(0.0, depthTest, 1.0, 1.0);","}"].join("\n")})},getEdgeDetectionMaterial:function(){return new Wr({uniforms:{maskTexture:{value:null},texSize:{value:new $t(.5,.5)},visibleEdgeColor:{value:new rn(1,1,1)},hiddenEdgeColor:{value:new rn(1,1,1)}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\t\t\t\tuniform sampler2D maskTexture;\t\t\t\tuniform vec2 texSize;\t\t\t\tuniform vec3 visibleEdgeColor;\t\t\t\tuniform vec3 hiddenEdgeColor;\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\t\t\t\t\tvec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);\t\t\t\t\tvec4 c1 = texture2D( maskTexture, vUv + uvOffset.xy);\t\t\t\t\tvec4 c2 = texture2D( maskTexture, vUv - uvOffset.xy);\t\t\t\t\tvec4 c3 = texture2D( maskTexture, vUv + uvOffset.yw);\t\t\t\t\tvec4 c4 = texture2D( maskTexture, vUv - uvOffset.yw);\t\t\t\t\tfloat diff1 = (c1.r - c2.r)*0.5;\t\t\t\t\tfloat diff2 = (c3.r - c4.r)*0.5;\t\t\t\t\tfloat d = length( vec2(diff1, diff2) );\t\t\t\t\tfloat a1 = min(c1.g, c2.g);\t\t\t\t\tfloat a2 = min(c3.g, c4.g);\t\t\t\t\tfloat visibilityFactor = min(a1, a2);\t\t\t\t\tvec3 edgeColor = 1.0 - visibilityFactor > 0.001 ? visibleEdgeColor : hiddenEdgeColor;\t\t\t\t\tgl_FragColor = vec4(edgeColor, 1.0) * vec4(d);\t\t\t\t}"})},getSeperableBlurMaterial:function(e){return new Wr({defines:{MAX_RADIUS:e},uniforms:{colorTexture:{value:null},texSize:{value:new $t(.5,.5)},direction:{value:new $t(.5,.5)},kernelRadius:{value:1}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\t\t\t\tvarying vec2 vUv;\t\t\t\tuniform sampler2D colorTexture;\t\t\t\tuniform vec2 texSize;\t\t\t\tuniform vec2 direction;\t\t\t\tuniform float kernelRadius;\t\t\t\t\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\t\t\t\t}\t\t\t\tvoid main() {\t\t\t\t\tvec2 invSize = 1.0 / texSize;\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, kernelRadius);\t\t\t\t\tvec4 diffuseSum = texture2D( colorTexture, vUv) * weightSum;\t\t\t\t\tvec2 delta = direction * invSize * kernelRadius/float(MAX_RADIUS);\t\t\t\t\tvec2 uvOffset = delta;\t\t\t\t\tfor( int i = 1; i <= MAX_RADIUS; i ++ ) {\t\t\t\t\t\tfloat w = gaussianPdf(uvOffset.x, kernelRadius);\t\t\t\t\t\tvec4 sample1 = texture2D( colorTexture, vUv + uvOffset);\t\t\t\t\t\tvec4 sample2 = texture2D( colorTexture, vUv - uvOffset);\t\t\t\t\t\tdiffuseSum += ((sample1 + sample2) * w);\t\t\t\t\t\tweightSum += (2.0 * w);\t\t\t\t\t\tuvOffset += delta;\t\t\t\t\t}\t\t\t\t\tgl_FragColor = diffuseSum/weightSum;\t\t\t\t}"})},getOverlayMaterial:function(){return new Wr({uniforms:{maskTexture:{value:null},edgeTexture1:{value:null},edgeTexture2:{value:null},patternTexture:{value:null},edgeStrength:{value:1},edgeGlow:{value:1},usePatternTexture:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\t\t\t\tuniform sampler2D maskTexture;\t\t\t\tuniform sampler2D edgeTexture1;\t\t\t\tuniform sampler2D edgeTexture2;\t\t\t\tuniform sampler2D patternTexture;\t\t\t\tuniform float edgeStrength;\t\t\t\tuniform float edgeGlow;\t\t\t\tuniform bool usePatternTexture;\t\t\t\t\t\t\t\tvoid main() {\t\t\t\t\tvec4 edgeValue1 = texture2D(edgeTexture1, vUv);\t\t\t\t\tvec4 edgeValue2 = texture2D(edgeTexture2, vUv);\t\t\t\t\tvec4 maskColor = texture2D(maskTexture, vUv);\t\t\t\t\tvec4 patternColor = texture2D(patternTexture, 6.0 * vUv);\t\t\t\t\tfloat visibilityFactor = 1.0 - maskColor.g > 0.0 ? 1.0 : 0.5;\t\t\t\t\tvec4 edgeValue = edgeValue1 + edgeValue2 * edgeGlow;\t\t\t\t\tvec4 finalColor = edgeStrength * maskColor.r * edgeValue;\t\t\t\t\tif(usePatternTexture)\t\t\t\t\t\tfinalColor += + visibilityFactor * (1.0 - maskColor.r) * (1.0 - patternColor.r);\t\t\t\t\tgl_FragColor = finalColor;\t\t\t\t}",blending:2,depthTest:!1,depthWrite:!1,transparent:!0})}}),Id.BlurDirectionX=new $t(1,0),Id.BlurDirectionY=new $t(0,1);var wd=function(e){Fe(n,e);var t=Ge(n);function n(e){var i;return Me(this,n),(i=t.call(this,e)).antiAliasing=gd.SMAA,i.selectedColor=e.color||"#fff709",i.objects=[],null==e.strength&&(e.strength=6.5),null==e.glow&&(e.glow=1),null==e.thickness&&(e.thickness=2),i}return Te(n,[{key:"init",value:function(e){this.pass=new Id(new $t(e.width,e.height),e.scene,e.camera),this.pass.edgeStrength=this.options.strength,this.pass.edgeGlow=this.options.glow,this.pass.edgeThickness=this.options.thickness,this.pass.visibleEdgeColor.set(this.selectedColor),this.pass.hiddenEdgeColor.set(this.selectedColor),this.pass.downSampleRatio=x,this.pass.selectedObjects=this.objects,Pe(Ue(n.prototype),"init",this).call(this)}},{key:"render",value:function(){}},{key:"add",value:function(e){this.objects.includes(e)||(this.objects.push(e),this.pass.selectedObjects.push(e),pn.render())}},{key:"remove",value:function(e){this.objects.includes(e)&&(this.objects.splice(this.objects.indexOf(e),1),this.pass.selectedObjects.splice(this.pass.selectedObjects.indexOf(e),1),pn.render())}},{key:"clear",value:function(){this.objects=[],this.pass.selectedObjects&&(this.pass.selectedObjects=[]),pn.render()}}]),n}(yd),bd={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Qi(0)},defaultOpacity:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tvec3 luma = vec3( 0.299, 0.587, 0.114 );","\tfloat v = dot( texel.xyz, luma );","\tvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","\tfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","\tgl_FragColor = mix( outputColor, texel, alpha );","}"].join("\n")},Bd=function(e,t,n,i){ad.call(this),this.strength=void 0!==t?t:1,this.radius=n,this.threshold=i,this.resolution=void 0!==e?new $t(e.x,e.y):new $t(256,256),this.clearColor=new Qi(0,0,0);var r={minFilter:rt,magFilter:rt,format:gt};this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;var A=Math.round(this.resolution.x/2),a=Math.round(this.resolution.y/2);this.renderTargetBright=new Cn(A,a,r),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(var o=0;o<this.nMips;o++){var s=new Cn(A,a,r);s.texture.name="UnrealBloomPass.h"+o,s.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(s);var l=new Cn(A,a,r);l.texture.name="UnrealBloomPass.v"+o,l.texture.generateMipmaps=!1,this.renderTargetsVertical.push(l),A=Math.round(A/2),a=Math.round(a/2)}void 0===bd&&console.error("UnrealBloomPass relies on LuminosityHighPassShader");var c=bd;this.highPassUniforms=kr.clone(c.uniforms),this.highPassUniforms.luminosityThreshold.value=i,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Wr({uniforms:this.highPassUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,defines:{}}),this.separableBlurMaterials=[];var u=[3,5,7,9,11];for(A=Math.round(this.resolution.x/2),a=Math.round(this.resolution.y/2),o=0;o<this.nMips;o++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(u[o])),this.separableBlurMaterials[o].uniforms.texSize.value=new $t(A,a),A=Math.round(A/2),a=Math.round(a/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;this.compositeMaterial.uniforms.bloomFactors.value=[1,.8,.6,.4,.2],this.bloomTintColors=[new rn(1,1,1),new rn(1,1,1),new rn(1,1,1),new rn(1,1,1),new rn(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,void 0===sd&&console.error("UnrealBloomPass relies on CopyShader");var h=sd;this.copyUniforms=kr.clone(h.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new Wr({uniforms:this.copyUniforms,vertexShader:h.vertexShader,fragmentShader:h.fragmentShader,blending:2,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this.oldClearColor=new Qi,this.oldClearAlpha=1,this.basic=new Zi,this.fsQuad=new ad.FullScreenQuad(null)};Bd.prototype=Object.assign(Object.create(ad.prototype),{constructor:Bd,dispose:function(){for(var e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose()},setSize:function(e,t){var n=Math.round(e/2),i=Math.round(t/2);this.renderTargetBright.setSize(n,i);for(var r=0;r<this.nMips;r++)this.renderTargetsHorizontal[r].setSize(n,i),this.renderTargetsVertical[r].setSize(n,i),this.separableBlurMaterials[r].uniforms.texSize.value=new $t(n,i),n=Math.round(n/2),i=Math.round(i/2)},render:function(e,t,n,i,r){this.oldClearColor.copy(e.getClearColor()),this.oldClearAlpha=e.getClearAlpha();var A=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),r&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=n.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);for(var a=this.renderTargetBright,o=0;o<this.nMips;o++)this.fsQuad.material=this.separableBlurMaterials[o],this.separableBlurMaterials[o].uniforms.colorTexture.value=a.texture,this.separableBlurMaterials[o].uniforms.direction.value=Bd.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[o]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[o].uniforms.colorTexture.value=this.renderTargetsHorizontal[o].texture,this.separableBlurMaterials[o].uniforms.direction.value=Bd.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[o]),e.clear(),this.fsQuad.render(e),a=this.renderTargetsVertical[o];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,r&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(n),this.fsQuad.render(e)),e.setClearColor(this.oldClearColor,this.oldClearAlpha),e.autoClear=A},getSeperableBlurMaterial:function(e){return new Wr({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new $t(.5,.5)},direction:{value:new $t(.5,.5)}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\t\t\t\tuniform vec2 direction;\t\t\t\t\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\t\t\t\t}\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\t\t\t\t\tfloat fSigma = float(SIGMA);\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\t\t\t\t\t\tfloat x = float(i);\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\t\t\t\t\t\tweightSum += 2.0 * w;\t\t\t\t\t}\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}"})},getCompositeMaterial:function(e){return new Wr({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},dirtTexture:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\t\t\t\tuniform sampler2D blurTexture1;\t\t\t\tuniform sampler2D blurTexture2;\t\t\t\tuniform sampler2D blurTexture3;\t\t\t\tuniform sampler2D blurTexture4;\t\t\t\tuniform sampler2D blurTexture5;\t\t\t\tuniform sampler2D dirtTexture;\t\t\t\tuniform float bloomStrength;\t\t\t\tuniform float bloomRadius;\t\t\t\tuniform float bloomFactors[NUM_MIPS];\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\t\t\t\t\t\t\t\tfloat lerpBloomFactor(const in float factor) { \t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\t\t\t\t}\t\t\t\t\t\t\t\tvoid main() {\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\t\t\t\t}"})}}),Bd.BlurDirectionX=new $t(1,0),Bd.BlurDirectionY=new $t(0,1);var xd=function(e,t,n,i){ad.call(this),this.scene=e,this.camera=t,this.sampleLevel=4,this.unbiased=!0,this.clearColor=void 0!==n?n:0,this.clearAlpha=void 0!==i?i:0,void 0===sd&&console.error("SSAARenderPass relies on CopyShader");var r=sd;this.copyUniforms=kr.clone(r.uniforms),this.copyMaterial=new Wr({uniforms:this.copyUniforms,vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,premultipliedAlpha:!0,transparent:!0,blending:2,depthTest:!1,depthWrite:!1}),this.fsQuad=new ad.FullScreenQuad(this.copyMaterial)};xd.prototype=Object.assign(Object.create(ad.prototype),{constructor:xd,dispose:function(){this.sampleRenderTarget&&(this.sampleRenderTarget.dispose(),this.sampleRenderTarget=null)},setSize:function(e,t){this.sampleRenderTarget&&this.sampleRenderTarget.setSize(e,t)},render:function(e,t,n){this.sampleRenderTarget||(this.sampleRenderTarget=new Cn(n.width,n.height,{minFilter:rt,magFilter:rt,format:gt}),this.sampleRenderTarget.texture.name="SSAARenderPass.sample");var i=xd.JitterVectors[Math.max(0,Math.min(this.sampleLevel,5))],r=e.autoClear;e.autoClear=!1;var A=e.getClearColor().getHex(),a=e.getClearAlpha(),o=1/i.length;this.copyUniforms.tDiffuse.value=this.sampleRenderTarget.texture;for(var s=n.width,l=n.height,c=0;c<i.length;c++){var u=i[c];this.camera.setViewOffset&&this.camera.setViewOffset(s,l,.0625*u[0],.0625*u[1],s,l);var h=o;if(this.unbiased)h+=.03125*((c+.5)/i.length-.5);this.copyUniforms.opacity.value=h,e.setClearColor(this.clearColor,this.clearAlpha),e.setRenderTarget(this.sampleRenderTarget),e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(this.renderToScreen?null:t),0===c&&(e.setClearColor(0,0),e.clear()),this.fsQuad.render(e)}this.camera.clearViewOffset&&this.camera.clearViewOffset(),e.autoClear=r,e.setClearColor(A,a)}}),xd.JitterVectors=[[[0,0]],[[4,4],[-4,-4]],[[-2,-6],[6,-2],[-6,2],[2,6]],[[1,-3],[-1,3],[5,1],[-3,-5],[-5,5],[-7,-1],[3,7],[7,-7]],[[1,1],[-1,-3],[-3,2],[4,-1],[-5,-2],[2,5],[5,3],[3,-5],[-2,6],[0,-7],[-4,-6],[-6,4],[-8,0],[7,-4],[6,7],[-7,-8]],[[-4,-7],[-7,-5],[-3,-5],[-5,-4],[-1,-4],[-2,-2],[-6,-1],[-4,0],[-7,1],[-1,2],[-6,3],[-3,3],[-7,6],[-3,6],[-5,7],[-1,7],[5,-7],[1,-6],[6,-5],[4,-4],[2,-3],[7,-2],[1,-1],[4,-1],[2,1],[6,2],[0,4],[4,4],[2,5],[7,5],[5,6],[3,7]]];var Md=function(e){Fe(n,e);var t=Ge(n);function n(e){var i;return Me(this,n),(i=t.call(this,e)).antiAliasing=gd.SMAA,i.options.strength=void 0!==i.options.strength?i.options.strength:1,i.options.radius=void 0!==i.options.radius?i.options.radius:0,i.options.threshold=void 0!==i.options.threshold?i.options.threshold:0,i._bloomPass={},i._materials={},i._darkMaterial=new Zi({color:"black"}),i._objects=[],i.isUnrealBloom=!0,i}return Te(n,[{key:"init",value:function(e){this._viewer=e;var t=new $t(e.width,e.height);this._bloomPass=new Bd(t,this.options.strength,this.options.radius,this.options.threshold),this._bloomLayer=new Rn,this._bloomLayer.set(1),this._composer=new hd(e.renderer),this._composer.renderToScreen=!1;var i=new xd(e.scene,e.camera);i.sampleLevel=4,this._composer.addPass(i),this._composer.addPass(new ld(sd)),this._composer.addPass(this._bloomPass),this.pass=new ld(new Wr({uniforms:{baseTexture:{value:null},bloomTexture:{value:this._composer.renderTarget2.texture}},vertexShader:"varying vec2 vUv;\n\t\t\t    void main() {\n\t\t\t\tvUv = uv;\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t    }",fragmentShader:"uniform sampler2D baseTexture;\n                    uniform sampler2D bloomTexture;\n                    varying vec2 vUv;\n                    vec4 getTexture( sampler2D texelToLinearTexture ) {\n                        return mapTexelToLinear( texture2D( texelToLinearTexture , vUv ) );\n                    }\n                    void main() {\n                        gl_FragColor = ( getTexture( baseTexture ) + vec4( 1.0 ) * getTexture( bloomTexture ) );\n\n                    }",defines:{}}),"baseTexture"),this.pass.needsSwap=!0,Pe(Ue(n.prototype),"init",this).call(this)}},{key:"setSize",value:function(e,t){this._composer.setSize(e,t)}},{key:"setStrength",value:function(e){this._bloomPass.strength=e,pn.render()}},{key:"getStrength",value:function(){return this._bloomPass.strength}},{key:"setRadius",value:function(e){this._bloomPass.radius=e,pn.render()}},{key:"getRadius",value:function(){return this._bloomPass.radius}},{key:"setThreshold",value:function(e){this._bloomPass.threshold=e,pn.render()}},{key:"getThreshold",value:function(){return this._bloomPass.threshold}},{key:"setExposure",value:function(e){this._viewer&&(this._viewer.render.toneMappingExposure=Math.pow(e,4),this._bloomPass.exposure=e,pn.render())}},{key:"getExposure",value:function(){return this._bloomPass.exposure||1}},{key:"add",value:function(e){var t=this._objects;function n(e){t.includes(e)||(e.layers.mask=3,e.bloom=!0,t.push(e),pn.render(!0))}"Mesh"===e.type&&n(e),"Object3D"!==e.type&&"Group"!==e.type||e.traverse((function(e){"Mesh"===e.type&&n(e)}))}},{key:"remove",value:function(e){var t=this._objects;function n(e){t.includes(e)&&(e.layers.mask=1,delete e.bloom,t.splice(t.indexOf(e),1),pn.render(!0))}"Mesh"===e.type&&n(e),"Object3D"!==e.type&&"Group"!==e.type||e.traverse((function(e){"Mesh"===e.type&&n(e)}))}},{key:"clear",value:function(){this._objects.map((function(e){e.layers.mask=1,delete e.bloom})),this._objects=[],pn.render(!0)}},{key:"render",value:function(){var e=this;this._viewer.scene.traverse((function(t){e._darkenNonBloomed(t)}));var t=this._viewer.scene.background;this._viewer.scene.background=null,this._composer.render(),this._viewer.scene.background=t,this._viewer.scene.traverse((function(t){e._restoreMaterial(t)}))}},{key:"_darkenNonBloomed",value:function(e){(e.isMesh||e.isSprite)&&!1===this._bloomLayer.test(e.layers)&&(this._materials[e.uuid]=e.material,e.material=this._darkMaterial)}},{key:"_restoreMaterial",value:function(e){this._materials[e.uuid]&&(e.material=this._materials[e.uuid],delete this._materials[e.uuid],pn.render())}}]),n}(yd),Ed={defines:{DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tColor:{value:null},tDepth:{value:null},focus:{value:1},aspect:{value:1},aperture:{value:.025},maxblur:{value:.01},nearClip:{value:1},farClip:{value:1e3}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#include <common>","varying vec2 vUv;","uniform sampler2D tColor;","uniform sampler2D tDepth;","uniform float maxblur;","uniform float aperture;","uniform float nearClip;","uniform float farClip;","uniform float focus;","uniform float aspect;","#include <packing>","float getDepth( const in vec2 screenPosition ) {","\t#if DEPTH_PACKING == 1","\treturn unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","\t#else","\treturn texture2D( tDepth, screenPosition ).x;","\t#endif","}","float getViewZ( const in float depth ) {","\t#if PERSPECTIVE_CAMERA == 1","\treturn perspectiveDepthToViewZ( depth, nearClip, farClip );","\t#else","\treturn orthographicDepthToViewZ( depth, nearClip, farClip );","\t#endif","}","void main() {","\tvec2 aspectcorrect = vec2( 1.0, aspect );","\tfloat viewZ = getViewZ( getDepth( vUv ) );","\tfloat factor = ( focus + viewZ );","\tvec2 dofblur = vec2 ( clamp( factor * aperture, -maxblur, maxblur ) );","\tvec2 dofblur9 = dofblur * 0.9;","\tvec2 dofblur7 = dofblur * 0.7;","\tvec2 dofblur4 = dofblur * 0.4;","\tvec4 col = vec4( 0.0 );","\tcol += texture2D( tColor, vUv.xy );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur9 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur7 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur4 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.4,   0.0  ) * aspectcorrect ) * dofblur4 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur4 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur4 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur4 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur4 );","\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur4 );","\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur4 );","\tgl_FragColor = col / 41.0;","\tgl_FragColor.a = 1.0;","}"].join("\n")},Td=function(e,t,n){ad.call(this),this.scene=e,this.camera=t;var i=void 0!==n.focus?n.focus:1,r=void 0!==n.aspect?n.aspect:t.aspect,A=void 0!==n.aperture?n.aperture:.025,a=void 0!==n.maxblur?n.maxblur:1,o=n.width||M||1,s=n.height||E||1;this.renderTargetDepth=new Cn(o,s,{minFilter:tt,magFilter:tt}),this.renderTargetDepth.texture.name="BokehPass.depth",this.materialDepth=new Wa,this.materialDepth.depthPacking=Wt,this.materialDepth.blending=0,void 0===Ed&&console.error("BokehPass relies on BokehShader");var l=Ed,c=kr.clone(l.uniforms);c.tDepth.value=this.renderTargetDepth.texture,c.focus.value=i,c.aspect.value=r,c.aperture.value=A,c.maxblur.value=a,c.nearClip.value=t.near,c.farClip.value=t.far,this.materialBokeh=new Wr({defines:Object.assign({},l.defines),uniforms:c,vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}),this.uniforms=c,this.needsSwap=!1,this.fsQuad=new ad.FullScreenQuad(this.materialBokeh),this.oldClearColor=new Qi};Td.prototype=Object.assign(Object.create(ad.prototype),{constructor:Td,render:function(e,t,n){this.scene.overrideMaterial=this.materialDepth,this.oldClearColor.copy(e.getClearColor());var i=e.getClearAlpha(),r=e.autoClear;e.autoClear=!1,e.setClearColor(16777215),e.setClearAlpha(1),e.setRenderTarget(this.renderTargetDepth),e.clear(),e.render(this.scene,this.camera),this.uniforms.tColor.value=n.texture,this.uniforms.nearClip.value=this.camera.near,this.uniforms.farClip.value=this.camera.far,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),e.clear(),this.fsQuad.render(e)),this.scene.overrideMaterial=null,e.setClearColor(this.oldClearColor),e.setClearAlpha(i),e.autoClear=r}});var Sd,Fd=function(e){Fe(n,e);var t=Ge(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Me(this,n),(e=t.call(this)).antiAliasing=gd.SMAA,e.focus=i.focus||500,e.aperture=i.aperture||5,e.maxblur=i.maxblur||.01,e}return Te(n,[{key:"init",value:function(e){this.pass=new Td(e.scene,e.camera,{focus:this.focus,aperture:this.aperture,maxblur:this.maxblur,width:e.width,height:e.height}),Pe(Ue(n.prototype),"init",this).call(this)}},{key:"setFocus",value:function(e){this.pass.uniforms.focus.value=e}},{key:"setAperture",value:function(e){this.pass.uniforms.aperture.value=1e-5*e}},{key:"setMaxblur",value:function(e){this.pass.uniforms.maxblur.value=.001*e}}]),n}(yd),Ud=new(function(){function e(){Me(this,e),this.isPostProcessingManager=!0,this.composer=null,this.processArray=[],this.outline=null,this._enableOutline=!1,this.unrealBloom=null,this._enableUnrealBloom=!1,this.dof=null,this._enableDof=!1}return Te(e,[{key:"enabled",get:function(){return this.processArray.length>0}},{key:"domElement",get:function(){return this.composer.renderer.domElement}},{key:"enableOutline",get:function(){return this._enableOutline},set:function(e){this._enableOutline!=Boolean(e)&&(e?(this.add(this.outline),this.outline.clear()):this.remove(this.outline),this._enableOutline=e)}},{key:"enableUnrealBloom",get:function(){return this._enableUnrealBloom},set:function(e){this._enableUnrealBloom!=Boolean(e)&&(e?(this.add(this.unrealBloom),this.unrealBloom.clear()):this.remove(this.unrealBloom),this._enableUnrealBloom=e)}},{key:"enableDof",get:function(){return this._enableDof},set:function(e){this._enableDof!=Boolean(e)&&(e?this.add(this.dof):this.remove(this.dof),this._enableDof=e)}},{key:"init",value:function(e,t,n){this.scene=e,this.camera=t,this.renderer=n,this.width=this.renderer.domElement.width,this.height=this.renderer.domElement.height,this.outline=new wd({color:"#fff709"}),this.unrealBloom=new Md,this.dof=new Fd}},{key:"_initComposer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gd.FXAA,t=new od(this.scene,this.camera);if(this.antiAliasing=e,this.composer=new hd(this.renderer),this.composer.addPass(t),e==gd.FXAA)this.FXAA=new ld(pd),this.FXAA.uniforms.resolution.value.set(1/this.width,1/this.height);else if(e==gd.SMAA){var n=this.renderer.getPixelRatio();this.SMAA=new Cd(this.width*n,this.height*n)}else if(e==gd.MSAA){var i={format:dt,stencilBuffer:!1},r=this.renderer.getDrawingBufferSize(new $t),A=new yn(r.width,r.height,i);this.composer=new hd(this.renderer,A),this.composer.addPass(t),this.composer.addPass(new ld(sd))}}},{key:"add",value:function(e){e&&this.processArray.indexOf(e)<0&&(this.composer||this._initComposer(e.antiAliasing),e.init({camera:this.camera,renderer:this.renderer,scene:this.scene,width:this.width,height:this.height}),this[this.antiAliasing]&&-1==this.composer.passes.indexOf(this[this.antiAliasing])&&this.composer.addPass(this[this.antiAliasing]),this.composer.addPass(e.pass),this.processArray.push(e)),this.enabled&&pn.setRenderer(this),pn.render(),setTimeout(pn.render,20)}},{key:"remove",value:function(e){e&&this.processArray.includes(e)&&(this.composer.passes.remove(e.pass),this.processArray.splice(this.processArray.indexOf(e),1)),this.enabled||pn.setRenderer(),pn.render()}},{key:"render",value:function(){this.processArray.forEach((function(e){e.render()})),this.composer.render()}},{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"resize",value:function(e,t){this.width=e,this.height=t,this.processArray.forEach((function(n){n.setSize(e,t)}))}},{key:"dispose",value:function(){this.processArray=[],this.composer=null}}]),e}()),Rd=function(e){Yl.call(this,e)};Rd.prototype=Object.assign(Object.create(Yl.prototype),{constructor:Rd,load:function(e,t,n,i){var r=this,A=new mn,a=new ql(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(e,(function(e){A.image=r.parse(e),A.needsUpdate=!0,void 0!==t&&t(A)}),n,i),A},parse:function(e){var t=0,n=1,i=2,r=3,A=9,a=10,o=11,s=48,l=4,c=0,u=1,h=2,d=3;e.length<19&&console.error("THREE.TGALoader: Not enough data to contain header.");var g=new Uint8Array(e),p=0,f={id_length:g[p++],colormap_type:g[p++],image_type:g[p++],colormap_index:g[p++]|g[p++]<<8,colormap_length:g[p++]|g[p++]<<8,colormap_size:g[p++],origin:[g[p++]|g[p++]<<8,g[p++]|g[p++]<<8],width:g[p++]|g[p++]<<8,height:g[p++]|g[p++]<<8,pixel_size:g[p++],flags:g[p++]};!function(e){switch(e.image_type){case n:case A:(e.colormap_length>256||24!==e.colormap_size||1!==e.colormap_type)&&console.error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case i:case r:case a:case o:e.colormap_type&&console.error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case t:console.error("THREE.TGALoader: No data.");default:console.error('THREE.TGALoader: Invalid type "%s".',e.image_type)}(e.width<=0||e.height<=0)&&console.error("THREE.TGALoader: Invalid image size."),8!==e.pixel_size&&16!==e.pixel_size&&24!==e.pixel_size&&32!==e.pixel_size&&console.error('THREE.TGALoader: Invalid pixel size "%s".',e.pixel_size)}(f),f.id_length+p>e.length&&console.error("THREE.TGALoader: No data."),p+=f.id_length;var m=!1,v=!1,C=!1;switch(f.image_type){case A:m=!0,v=!0;break;case n:v=!0;break;case a:m=!0;break;case i:break;case o:m=!0,C=!0;break;case r:C=!0}var y=q.createElement("canvas");y.width=f.width,y.height=f.height;var I=y.getContext("2d"),w=I.createImageData(f.width,f.height),b=function(e,t,n,i,r){var A,a,o,s;if(a=n.pixel_size>>3,o=n.width*n.height*a,t&&(s=r.subarray(i,i+=n.colormap_length*(n.colormap_size>>3))),e){var l,c,u;A=new Uint8Array(o);for(var h=0,d=new Uint8Array(a);h<o;)if(c=1+(127&(l=r[i++])),128&l){for(u=0;u<a;++u)d[u]=r[i++];for(u=0;u<c;++u)A.set(d,h+u*a);h+=a*c}else{for(c*=a,u=0;u<c;++u)A[h+u]=r[i++];h+=c}}else A=r.subarray(i,i+=t?n.width*n.height:o);return{pixel_data:A,palettes:s}}(m,v,f,p,g);return function(e,t,n,i,r){var A,a,o,g,p,m;switch((f.flags&s)>>l){default:case h:A=0,o=1,p=t,a=0,g=1,m=n;break;case c:A=0,o=1,p=t,a=n-1,g=-1,m=-1;break;case d:A=t-1,o=-1,p=-1,a=0,g=1,m=n;break;case u:A=t-1,o=-1,p=-1,a=n-1,g=-1,m=-1}if(C)switch(f.pixel_size){case 8:!function(e,t,n,i,r,A,a,o){var s,l,c,u=0,h=f.width;for(c=t;c!==i;c+=n)for(l=r;l!==a;l+=A,u++)s=o[u],e[4*(l+h*c)+0]=s,e[4*(l+h*c)+1]=s,e[4*(l+h*c)+2]=s,e[4*(l+h*c)+3]=255}(e,a,g,m,A,o,p,i);break;case 16:!function(e,t,n,i,r,A,a,o){var s,l,c=0,u=f.width;for(l=t;l!==i;l+=n)for(s=r;s!==a;s+=A,c+=2)e[4*(s+u*l)+0]=o[c+0],e[4*(s+u*l)+1]=o[c+0],e[4*(s+u*l)+2]=o[c+0],e[4*(s+u*l)+3]=o[c+1]}(e,a,g,m,A,o,p,i);break;default:console.error("THREE.TGALoader: Format not supported.")}else switch(f.pixel_size){case 8:!function(e,t,n,i,r,A,a,o,s){var l,c,u,h=s,d=0,g=f.width;for(u=t;u!==i;u+=n)for(c=r;c!==a;c+=A,d++)l=o[d],e[4*(c+g*u)+3]=255,e[4*(c+g*u)+2]=h[3*l+0],e[4*(c+g*u)+1]=h[3*l+1],e[4*(c+g*u)+0]=h[3*l+2]}(e,a,g,m,A,o,p,i,r);break;case 16:!function(e,t,n,i,r,A,a,o){var s,l,c,u=0,h=f.width;for(c=t;c!==i;c+=n)for(l=r;l!==a;l+=A,u+=2)s=o[u+0]+(o[u+1]<<8),e[4*(l+h*c)+0]=(31744&s)>>7,e[4*(l+h*c)+1]=(992&s)>>2,e[4*(l+h*c)+2]=(31&s)>>3,e[4*(l+h*c)+3]=32768&s?0:255}(e,a,g,m,A,o,p,i);break;case 24:!function(e,t,n,i,r,A,a,o){var s,l,c=0,u=f.width;for(l=t;l!==i;l+=n)for(s=r;s!==a;s+=A,c+=3)e[4*(s+u*l)+3]=255,e[4*(s+u*l)+2]=o[c+0],e[4*(s+u*l)+1]=o[c+1],e[4*(s+u*l)+0]=o[c+2]}(e,a,g,m,A,o,p,i);break;case 32:!function(e,t,n,i,r,A,a,o){var s,l,c=0,u=f.width;for(l=t;l!==i;l+=n)for(s=r;s!==a;s+=A,c+=4)e[4*(s+u*l)+2]=o[c+0],e[4*(s+u*l)+1]=o[c+1],e[4*(s+u*l)+0]=o[c+2],e[4*(s+u*l)+3]=o[c+3]}(e,a,g,m,A,o,p,i);break;default:console.error("THREE.TGALoader: Format not supported.")}}(w.data,f.width,f.height,b.pixel_data,b.palettes),I.putImageData(w,0,0),y}});var Ld,Hd,Gd,Pd,Qd=Math.pow(2,8),Dd=[.125,.215,.35,.446,.526,.582],Nd=5+Dd.length,Vd=(Se(Sd={},Pt,0),Se(Sd,Qt,1),Se(Sd,Nt,2),Se(Sd,Vt,3),Se(Sd,Ot,4),Se(Sd,kt,5),Se(Sd,Dt,6),Sd),Od=new Gc,kd=(Ld=8,Hd=new Float32Array(Ld),Gd=new rn(0,1,0),(Pd=new Il({defines:{n:Ld},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:Hd},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:Gd},inputEncoding:{value:Vd[3e3]},outputEncoding:{value:Vd[3e3]}},vertexShader:"\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.x *= -1.0;\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.y *= -1.0;\n\t} else if (face == 5.0) {\n\t\tdirection.xz *= -1.0;\n\t}\n\treturn direction;\n}\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t",fragmentShader:"\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform int samples;\nuniform float weights[n];\nuniform bool latitudinal;\nuniform float dTheta;\nuniform float mipInt;\nuniform vec3 poleAxis;\n".concat("\nuniform int inputEncoding;\nuniform int outputEncoding;\n#include <encodings_pars_fragment>\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t","\n#define ENVMAP_TYPE_CUBE_UV\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\n\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);\n    } else if (face == 1.0) {\n      uv = vec2(direction.x, -direction.z) / abs(direction.y);\n    } else if (face == 2.0) {\n      uv = direction.xy / abs(direction.z);\n    } else if (face == 3.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);\n    } else if (face == 4.0) {\n      uv = direction.xz / abs(direction.y);\n    } else {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);\n    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n// These defines must match with PMREMGenerator\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);// 1.16 = 1.79^0.25\n  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tfor (int i = 0; i < n; i++) {\n\t\tif (i >= samples)\n\t\t\tbreak;\n\t\tfor (int dir = -1; dir < 2; dir += 2) {\n\t\t\tif (i == 0 && dir == 1)\n\t\t\t\tcontinue;\n\t\t\tvec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);\n\t\t\tif (all(equal(axis, vec3(0.0))))\n\t\t\t\taxis = cross(vec3(0.0, 1.0, 0.0), vOutputDirection);\n\t\t\taxis = normalize(axis);\n\t\t\tfloat theta = dTheta * float(dir * i);\n\t\t\tfloat cosTheta = cos(theta);\n\t\t\t// Rodrigues' axis-angle rotation\n\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross(axis, vOutputDirection) * sin(theta)\n\t\t\t\t\t+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);\n\t\t\tgl_FragColor.rgb +=\n\t\t\t\t\tweights[i] * bilinearCubeUV(envMap, sampleDirection, mipInt);\n\t\t}\n\t}\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t"),blending:0,depthTest:!1,depthWrite:!1})).type="SphericalGaussianBlur",Pd),Wd=null,Zd=null,Xd=function(){for(var e=[],t=[],n=[],i=8,r=0;r<Nd;r++){var A=Math.pow(2,i);t.push(A);var a=1/A;r>4?a=Dd[r-8+4-1]:0==r&&(a=0),n.push(a);for(var o=1/(A-1),s=-o/2,l=1+o/2,c=[s,s,l,s,l,l,s,s,l,l,s,l],u=new Float32Array(108),h=new Float32Array(72),d=new Float32Array(36),g=0;g<6;g++){var p=g%3*2/3-1,f=g>2?0:-1,m=[p,f,0,p+2/3,f,0,p+2/3,f+1,0,p,f,0,p+2/3,f+1,0,p,f+1,0];u.set(m,18*g),h.set(c,12*g);var v=[g,g,g,g,g,g];d.set(v,6*g)}var C=new ur;C.setAttribute("position",new Xi(u,3)),C.setAttribute("uv",new Xi(h,2)),C.setAttribute("faceIndex",new Xi(d,1)),e.push(C),i>4&&i--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}(),_d=Xd._lodPlanes,zd=Xd._sizeLods,Kd=Xd._sigmas,Yd=null,jd=null,Jd=null,qd=(1+Math.sqrt(5))/2,$d=1/qd,eg=[new rn(1,1,1),new rn(-1,1,1),new rn(1,1,-1),new rn(-1,1,-1),new rn(0,qd,$d),new rn(0,qd,-$d),new rn($d,0,qd),new rn(-$d,0,qd),new rn(qd,$d,0),new rn(-qd,$d,0)];function tg(e){jd=e,Ag(kd)}function ng(e){var t={magFilter:tt,minFilter:tt,generateMipmaps:!1,type:e?e.type:ot,format:e?e.format:pt,encoding:e?e.encoding:Nt,depthBuffer:!1,stencilBuffer:!1},n=ag(t);return n.depthBuffer=!e,Yd=ag(t),n}function ig(e){Yd.dispose(),jd.setRenderTarget(Jd),e.scissorTest=!1,e.setSize(e.width,e.height)}function rg(e,t,n,i){var r=new Xr(90,1,t,n),A=[1,1,1,1,-1,1],a=[1,1,-1,-1,-1,1],o=jd.outputEncoding,s=jd.toneMapping,l=jd.toneMappingExposure,c=jd.getClearColor(),u=jd.getClearAlpha();jd.toneMapping=1,jd.toneMappingExposure=1,jd.outputEncoding=Pt,e.scale.z*=-1;var h=e.background;if(h&&h.isColor){h.convertSRGBToLinear();var d=Math.max(h.r,h.g,h.b),g=Math.min(Math.max(Math.ceil(Math.log2(d)),-128),127);h=h.multiplyScalar(Math.pow(2,-g));var p=(g+128)/255;jd.setClearColor(h,p),e.background=null}for(var f=0;f<6;f++){var m=f%3;0==m?(r.up.set(0,A[f],0),r.lookAt(a[f],0,0)):1==m?(r.up.set(0,0,A[f]),r.lookAt(0,a[f],0)):(r.up.set(0,A[f],0),r.lookAt(0,0,a[f])),og(i,m*Qd,f>2?Qd:0,Qd,Qd),jd.setRenderTarget(i),jd.render(e,r)}jd.toneMapping=s,jd.toneMappingExposure=l,jd.outputEncoding=o,jd.setClearColor(c,u),e.scale.z*=-1}function Ag(e){var t=new zn;t.add(new Fr(_d[0],e)),jd.compile(t,Od)}function ag(e){var t=new Cn(3*Qd,3*Qd,e);return t.texture.mapping=je,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function og(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function sg(e){var t=jd.autoClear;jd.autoClear=!1;for(var n=1;n<Nd;n++){lg(e,n-1,n,Math.sqrt(Kd[n]*Kd[n]-Kd[n-1]*Kd[n-1]),eg[(n-1)%eg.length])}jd.autoClear=t}function lg(e,t,n,i,r){cg(e,Yd,t,n,i,"latitudinal",r),cg(Yd,e,n,n,i,"longitudinal",r)}function cg(e,t,n,i,r,A,a){"latitudinal"!==A&&"longitudinal"!==A&&console.error("blur direction must be either latitudinal or longitudinal!");var o=new zn;o.add(new Fr(_d[i],kd));var s=kd.uniforms,l=zd[n]-1,c=isFinite(r)?Math.PI/(2*l):2*Math.PI/15,u=r/c,h=isFinite(r)?1+Math.floor(3*u):8;h>8&&console.warn("sigmaRadians, ".concat(r,", is too large and will clip, as it requested ").concat(h," samples when the maximum is set to ").concat(8));for(var d=[],g=0,p=0;p<8;++p){var f=p/u,m=Math.exp(-f*f/2);d.push(m),0==p?g+=m:p<h&&(g+=2*m)}for(p=0;p<d.length;p++)d[p]=d[p]/g;s.envMap.value=e.texture,s.samples.value=h,s.weights.value=d,s.latitudinal.value="latitudinal"===A,a&&(s.poleAxis.value=a),s.dTheta.value=c,s.mipInt.value=8-n,s.inputEncoding.value=Vd[e.texture.encoding],s.outputEncoding.value=Vd[e.texture.encoding];var v=zd[i];og(t,f=3*Math.max(0,Qd-2*v),(0===i?0:2*Qd)+2*v*(i>4?i-8+4:0),3*v,2*v),jd.setRenderTarget(t),jd.render(o,Od)}function ug(){var e=new Il({uniforms:{envMap:{value:null},texelSize:{value:new $t(1,1)},inputEncoding:{value:Vd[3e3]},outputEncoding:{value:Vd[3e3]}},vertexShader:"\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.x *= -1.0;\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.y *= -1.0;\n\t} else if (face == 5.0) {\n\t\tdirection.xz *= -1.0;\n\t}\n\treturn direction;\n}\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t",fragmentShader:"\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform vec2 texelSize;\n".concat("\nuniform int inputEncoding;\nuniform int outputEncoding;\n#include <encodings_pars_fragment>\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t","\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tvec3 outputDirection = normalize(vOutputDirection);\n\tvec2 uv;\n\tuv.y = asin(clamp(outputDirection.y, -1.0, 1.0)) * RECIPROCAL_PI + 0.5;\n\tuv.x = atan(outputDirection.z, outputDirection.x) * RECIPROCAL_PI2 + 0.5;\n\tvec2 f = fract(uv / texelSize - 0.5);\n\tuv -= f * texelSize;\n\tvec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x += texelSize.x;\n\tvec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.y += texelSize.y;\n\tvec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x -= texelSize.x;\n\tvec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tvec3 tm = mix(tl, tr, f.x);\n\tvec3 bm = mix(bl, br, f.x);\n\tgl_FragColor.rgb = mix(tm, bm, f.y);\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t"),blending:0,depthTest:!1,depthWrite:!1});return e.type="EquirectangularToCubeUV",e}function hg(){var e=new Il({uniforms:{envMap:{value:null},inputEncoding:{value:Vd[3e3]},outputEncoding:{value:Vd[3e3]}},vertexShader:"\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.x *= -1.0;\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.y *= -1.0;\n\t} else if (face == 5.0) {\n\t\tdirection.xz *= -1.0;\n\t}\n\treturn direction;\n}\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t",fragmentShader:"\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform samplerCube envMap;\n".concat("\nuniform int inputEncoding;\nuniform int outputEncoding;\n#include <encodings_pars_fragment>\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t","\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t"),blending:0,depthTest:!1,depthWrite:!1});return e.type="CubemapToCubeUV",e}tg.prototype={constructor:tg,fromScene:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Jd=jd.getRenderTarget();var r=ng();return rg(e,n,i,r),t>0&&lg(r,0,0,t),sg(r),ig(r),r},fromEquirectangular:function(e){return e.magFilter=tt,e.minFilter=tt,e.generateMipmaps=!1,this.fromCubemap(e)},fromCubemap:function(e){Jd=jd.getRenderTarget();var t=ng(e);return function(e,t){var n=new zn;e.isCubeTexture?null==Zd&&(Zd=hg()):null==Wd&&(Wd=ug());var i=e.isCubeTexture?Zd:Wd;n.add(new Fr(_d[0],i));var r=i.uniforms;r.envMap.value=e,e.isCubeTexture||r.texelSize.value.set(1/e.image.width,1/e.image.height);r.inputEncoding.value=Vd[e.encoding],r.outputEncoding.value=Vd[e.encoding],og(t,0,0,3*Qd,2*Qd),jd.setRenderTarget(t),jd.render(n,Od)}(e,t),sg(t),ig(t),t},compileCubemapShader:function(){null==Zd&&Ag(Zd=hg())},compileEquirectangularShader:function(){null==Wd&&Ag(Wd=ug())},dispose:function(){kd.dispose(),null!=Zd&&Zd.dispose(),null!=Wd&&Wd.dispose();for(var e=0;e<_d.length;e++)_d[e].dispose()}};var dg=function(){function e(){Me(this,e)}return Te(e,null,[{key:"getTouchByEvent",value:function(e){return e.touches&&e.touches.length>0?e.touches[0]:e.changedTouches&&e.changedTouches.length>0?e.changedTouches[0]:e}},{key:"isIOS",get:function(){return wx.getSystemInfoSync().platform.includes("ios")}},{key:"isAndroid",get:function(){return!wx.getSystemInfoSync().platform.includes("ios")}},{key:"isMobile",get:function(){return!0}},{key:"stringToArrayBuffer",value:function(e){for(var t=new ArrayBuffer(2*e.length),n=new Uint16Array(t),i=0,r=e.length;i<r;i++)n[i]=e.charCodeAt(i);return t}},{key:"arrayBufferToString",value:function(e){return String.fromCharCode.apply(null,new Uint16Array(e))}},{key:"setRaycasterByCamera",value:function(e,t,n){var i=(new Tn).getInverse(n.projectionMatrix),r=(new rn).applyMatrix4(i),A=new rn(e.x,e.y,1).applyMatrix4(i).clone().sub(r).normalize();return t.set(r,A),A}},{key:"getDomMouse",value:function(t,n){t=e.getTouchByEvent(t);var i={},r=n;return n.getBoundingClientRect&&(r=n.getBoundingClientRect()),i.x=(t.offsetX||t.pageX)/r.width*2-1,i.y=-(t.offsetY||t.pageY)/r.height*2+1,i}},{key:"getDomMouseForThreeBox",value:function(t,n){t=e.getTouchByEvent(t);var i={},r=n.getBoundingClientRect();return i.x=t.offsetX/r.width*2-1,i.y=1-t.offsetY/r.height*2,i}},{key:"bindAll",value:function(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}},{key:"getSize",value:function(e){var t=new oi;return t.setFromObject(e),t.getSize(new rn)}},{key:"getModelRootNode",value:function(t){return"modelGroup"==t.parent.name?t:e.getModelRootNode(t.parent)}},{key:"assemblyPath",value:function(e,t){if(e.startsWith("#"))return e;var n=e.split(",");return n.map((function(e){e=e.split("?")[0],e=t+e.slice(e.lastIndexOf("/")+1)})),n.join(",")}},{key:"createCircleMap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,n="rgba("+255*(e=new Color(e)).r+","+255*e.g+","+255*e.b+",",i=q.createElement("canvas");i.width=i.height=t;var r=i.getContext("2d"),A=t/2;r.beginPath(),r.arc(A,A,A,0,2*Math.PI,!0),r.closePath();var a=r.createRadialGradient(A,A,1,A,A,A);a.addColorStop(0,n+"1)"),a.addColorStop(.2,n+"0)"),a.addColorStop(.4,n+"1)"),a.addColorStop(.6,n+"0)"),a.addColorStop(.8,n+"1)"),a.addColorStop(1,n+"0)"),r.fillStyle=a,r.fill();var o=new As(i);return o.minFilter=rt,o.needsUpdate=!0,o}},{key:"segmentIntersection",value:function(e,t,n,i){e=new $t(e.x,e.z),t=new $t(t.x,t.z),n=new $t(n.x,n.z),i=new $t(i.x,i.z);var r=(t.y-e.y)/(t.x-e.x),A=t.y-r*t.x,a=(i.y-n.y)/(i.x-n.x),o=i.y-a*i.x;return{x:(o-A)/(r-a),y:r*((o-A)/(r-a))+A}}},{key:"convertTexture",value:function(e,t){if(!t)return e;var n=new tg(t),i=e.image.src;return e.constructor===mA?(n.compileCubemapShader(),e=n.fromCubemap(e).texture):(n.compileEquirectangularShader(),e=n.fromEquirectangular(e).texture),n.dispose(),e.image.src=i,e}}]),e}(),gg=function(){function e(){Me(this,e)}return Te(e,null,[{key:"setBaseUrl",value:function(t){t=t||"",e.BASE_URL=t}},{key:"_rebuildUrl",value:function(t){return e.RENAME&&(t=e._rename(t)),t.startsWith("http")?t:e.BASE_URL+t}},{key:"load",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,A=arguments.length>4?arguments[4]:void 0,a=function(e){console.error("贴图加载失败:"+t,e),r&&r(e)};if(t.constructor===String){if(6===t.split(",").length){t=t.split(",");for(var o=0;o<t.length;o++)e.RESIZE?t[o]=e._resize(t[o]):t[o]=_rebuildUrl(t[o]);return(new ic).load(t,(function(e){n(e),pn.render()}),i,a)}var s=t.substr(t.lastIndexOf(".")+1).split("?")[0].toUpperCase();switch(s){case"HDR":var l=ut;return(dg.isMobile||AMRT.isWebGL2)&&(l=ot),l=ot,t=e._rebuildUrl(t),(new kh).setDataType(l).load(t,(function(e){e.image.src=t,n(e),pn.render()}),i,a);case"TGA":return t=e._rebuildUrl(t),(new Rd).load(t,(function(e){e.image.src=t,n(e),pn.render()}),i,a);case"BASIS":return;default:var c=t;return c=e.RESIZE?e._resize(c,A):e._rebuildUrl(c),(new rc).load(c,(function(e){n(e),pn.render()}),i,a)}}else if(Array.isArray(t)&&6===t.length){for(var u=0;u<t.length;u++)e.RESIZE?t[u]=e._resize(t[u]):t[u]=e.BASE_URL+t[u];return(new ic).load(t,(function(e){n(e),pn.render()}),i,a)}}},{key:"_resize",value:function(e,t){if(void 0!==t){var n="x-image-process=image/resize,w_"+t+",h_"+t;e.indexOf("?")>-1?e+="&"+n:e+="?"+n,resolve(e)}else if(dg.isMobile){var i="x-image-process=image/resize,w_"+(t=2048)+",h_"+t+"/quality,q_100/marker,u_plus";e.indexOf("?")>-1?e+="&"+i:e+="?"+i}return e}},{key:"_rename",value:function(e){return e=e.split("?")[0],encodeURIComponent(e.slice(e.lastIndexOf("/")+1))}},{key:"loadEnvMap",value:function(t,n){e.load(t,(function(t){var i=e.convertTexture(t);n&&n(i),pn.render(!0)}))}},{key:"convertTexture",value:function(e){var t=new tg(pn.defaultRenderer),n=e.image.src;return e.constructor===mA?(t.compileCubemapShader(),e=t.fromCubemap(e).texture):(t.compileEquirectangularShader(),e=t.fromEquirectangular(e).texture),t.dispose(),e.image.src=n,e}}]),e}();function pg(){var e=new zn,t=new Nr;t.deleteAttribute("uv");var n=new wl({side:1}),i=new wl,r=new Hc(16777215,5,28,2);r.position.set(.418,16.199,.3),e.add(r);var A=new Fr(t,n);A.position.set(-.757,13.219,.717),A.scale.set(31.713,28.305,28.591),e.add(A);var a=new Fr(t,i);a.position.set(-10.906,2.009,1.846),a.rotation.set(0,-.195,0),a.scale.set(2.328,7.905,4.651),e.add(a);var o=new Fr(t,i);o.position.set(-5.607,-.754,-.758),o.rotation.set(0,.994,0),o.scale.set(1.97,1.534,3.955),e.add(o);var s=new Fr(t,i);s.position.set(6.167,.857,7.803),s.rotation.set(0,.561,0),s.scale.set(3.927,6.285,3.687),e.add(s);var l=new Fr(t,i);l.position.set(-2.017,.018,6.124),l.rotation.set(0,.333,0),l.scale.set(2.002,4.566,2.064),e.add(l);var c=new Fr(t,i);c.position.set(2.291,-.756,-2.621),c.rotation.set(0,-.286,0),c.scale.set(1.546,1.552,1.496),e.add(c);var u=new Fr(t,i);u.position.set(-2.193,-.369,-5.547),u.rotation.set(0,.516,0),u.scale.set(3.875,3.487,2.986),e.add(u);var h=new Fr(t,v(50));h.position.set(-16.116,14.37,8.208),h.scale.set(.1,2.428,2.739),e.add(h);var d=new Fr(t,v(50));d.position.set(-16.109,18.021,-8.207),d.scale.set(.1,2.425,2.751),e.add(d);var g=new Fr(t,v(17));g.position.set(14.904,12.198,-1.832),g.scale.set(.15,4.265,6.331),e.add(g);var p=new Fr(t,v(43));p.position.set(-.462,8.89,14.52),p.scale.set(4.38,5.441,.088),e.add(p);var f=new Fr(t,v(20));f.position.set(3.235,11.486,-12.541),f.scale.set(2.5,2,.1),e.add(f);var m=new Fr(t,v(100));function v(e){var t=new Zi;return t.color.setScalar(e),t}return m.position.set(0,20,0),m.scale.set(1,.1,1),e.add(m),e}gg.THUMB_SIZE=512,gg.BASE_URL="",gg.RESIZE=!0,gg.RENAME=!1,gg.renderer=null,gg.basisLoader=null;var fg=function(e){Fe(n,e);var t=Ge(n);function n(){var e;return Me(this,n),(e=t.call(this)).name="modelGroup",e}return Te(n,[{key:"getModelById",value:function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].ID==e)return this.children[t]}},{key:"getModelByName",value:function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].name==e)return this.children[t]}},{key:"updateAnimation",value:function(){this.children.forEach((function(e){e.isModel?e.animation.update():e.isGroup&&e.children.forEach((function(e){e.isModel&&e.animation.update()}))}))}},{key:"isPlaying",value:function(){for(var e=0,t=this.children.length;e<t;e++){var n=this.children[e];if(n.isModel&&!n.animation.paused)return!0;if(n.isGroup)for(var i=0,r=n.children.length;i<r;i++){var A=n.children[i];if(A.isModel&&!A.animation.paused)return!0}}}},{key:"onAfterRender",value:function(){this.updateAnimation()}}]),n}(_n),mg=new(function(e){Fe(n,e);var t=Ge(n);function n(){var e;return Me(this,n),(e=t.call(this)).root=null,e.modelGroup=null,e.scene=null,e.ambientLight=null,e.directLight=null,e.lightFollow=!1,e.camera=null,e.envMapUrl=null,e}return Te(n,[{key:"visible",get:function(){return this.root.visible},set:function(e){this.root.visible=e}},{key:"init",value:function(){this.scene=new zn,this.scene.background=new Qi(15658734),this.scene.environment=new tg(pn.defaultRenderer).fromScene(new pg).texture,this.root=new _n,this.root.name="root",this.scene.add(this.root),this.ambientLight=new Dc(16777215,.7),this.root.add(this.ambientLight),this.directLight=new Qc(16777215,.3),this.directLight.position.set(0,1,1).normalize(),this.root.add(this.directLight),this.modelGroup=new fg,this.root.add(this.modelGroup)}},{key:"getEnvMap",value:function(){return this.envMapUrl||""}},{key:"setEnvMap",value:function(e){this.modelGroup.children.map((function(t){console.log(t.isModel),t.isModel&&t.setEnvMap(e)})),this.envMapUrl=e.isTexture?e.image.src:e}},{key:"getEnvMapRotation",value:function(){return this.envMapRotation||0}},{key:"setEnvMapRotation",value:function(e){this.modelGroup.children.map((function(t){t.isModel&&t.setEnvMapRotation(e)})),this.envMapRotation=e}},{key:"getEnvMapIntensity",value:function(){return this.envMapIntensity||.7}},{key:"setEnvMapIntensity",value:function(e){this.modelGroup.children.map((function(t){t.isModel&&t.setEnvMapIntensity(e)})),this.envMapIntensity=e}},{key:"setSkyBox",value:function(e,t){var n=this;if(pn.render(),void 0!==e&&""!==e)var i=gg.load(e,(function(r){if(r.constructor===mA)n.scene.background=r;else{i.constructor===kh?(r.wrapS=r.wrapT=1001,r.mapping=EquirectangularReflectionMapping):r.mapping=_e;var A={generateMipmaps:!0,minFilter:at,magFilter:rt};n.scene.background=new Kr(1024,1024,A).fromEquirectangularTexture(pn.defaultRenderer,r)}n.scene.background.sky=e,t&&t()}));else this.scene.background=null}},{key:"setBackground",value:function(e){var t=this;0===e.indexOf("#")?(this.scene.background=(new Qi).setStyle(e),pn.render()):(new rc).load(e,(function(e){e.minFilter=rt,t.scene.background=e,pn.render()}))}},{key:"clearBackground",value:function(){this.scene.background=null,pn.render()}},{key:"setLightness",value:function(e){this.ambientLight.intensity=e,pn.render()}},{key:"getLightness",value:function(){return this.ambientLight.intensity}},{key:"getLightColor",value:function(){return"#"+this.ambientLight.color.getHexString()}},{key:"setLightColor",value:function(e){this.ambientLight.color.setStyle(e),pn.render()}},{key:"setDirectLightLightness",value:function(e){this.directLight.intensity=e,pn.render()}},{key:"getDirectLightLightness",value:function(){return this.directLight.intensity}},{key:"getDirectLightColor",value:function(){return"#"+this.directLight.color.getHexString()}},{key:"setDirectLightPosition",value:function(e,t,n){e.isVector3?this.directLight.position.copy(e):(void 0!==e&&(this.directLight.position.x=e),void 0!==t&&(this.directLight.position.y=t),void 0!==n&&(this.directLight.position.z=n)),pn.render()}},{key:"getDirectLightPosition",value:function(){return this.directLight.position}},{key:"setDirectLightColor",value:function(e){this.directLight.color.setStyle(e),pn.render()}},{key:"addSpotLight",value:function(e){if(e.position){var t=new Rc(e.color||16777215,e.intensity||1,e.distance||100,e.angle||Math.PI/8,e.penumbra||.5,e.decay||.5);return Array.isArray(e.position)?t.position.fromArray(e.position):t.position.copy(e.position),e.target&&(t.target=e.target),this.root.add(t),t}console.warn("addSpotLight需要指定position")}},{key:"saveSceneData",value:function(){var e={a:{aa:this.getLightColor(),ab:this.getLightness()},b:{ba:this.getDirectLightColor(),bb:this.getDirectLightLightness()}};return this.lightFollow||(e.b.bc=this.directLight.position.toArray()),this.scene.background&&(this.scene.background.sky?(e.c=1,e.ca=this.scene.background.sky):this.scene.background.isTexture?(e.c=2,e.ca=this.scene.background.image.src):this.scene.background.isColor&&(e.c=2,e.ca="#"+this.scene.background.getHexString())),this.envMapUrl&&(e.e=this.envMapUrl,e.ea=this.envMapRotation||0,e.ei=this.envMapIntensity||.7),JSON.stringify(e)}},{key:"loadSceneData",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=JSON.parse(e),t&&(this.setLightColor(e.a.aa),this.setLightness(e.a.ab),this.setDirectLightColor(e.b.ba),this.setDirectLightLightness(e.b.bb),void 0!==e.b.bc&&(this.setDirectLightPosition(e.b.bc[0],e.b.bc[1],e.b.bc[2]),this.lightFollow=!1),1==e.c&&this.setSkyBox(e.ca),2==e.c&&(Array.isArray(e.ca)||(e.ca=e.ca.split(",")),1==e.ca.length?this.setBackground(e.ca[0]):2==e.ca.length&&(T.width>T.height?this.setBackground(e.ca[0]+"?time="+Date.now()):this.setBackground(e.ca[1]+"?time="+Date.now())))),e}},{key:"loadSceneFile",value:function(e,t){var n=this;(new ql).load(e,(function(e){t.localPath&&gg.setBaseUrl(t.localPath);var i=n.loadSceneData(e,t.background);t.onLoad&&t.onLoad(i)}))}},{key:"showFog",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#ffffff",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;this.scene.fog=new oo(e,t,n)}},{key:"showFogExp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#ffffff",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;t*=5e-5,this.scene.fog=new ao(e,t)}},{key:"setFogDensity",value:function(e){e=e,this.scene.fog&&(this.scene.fog.density=5e-5*e)}},{key:"clearFog",value:function(){this.scene.fog=null}},{key:"showGridHelp",value:function(e,t,n){this.gridHelp?this.gridHelp.visible=!0:(this.gridHelp=new vh(e,t,n,n),this.root.add(this.gridHelp))}},{key:"hideGridHelp",value:function(){this.gridHelp.visible=!1}},{key:"showAxesHelper",value:function(e){if(this.axesHelper&&this.root.remove(this.axesHelper),!e){var t=(new oi).setFromObject(this.modelGroup);e=Math.max(t.getSize().x,t.getSize().y,t.getSize().z)}this.axesHelper=new Oh(e),this.root.add(this.axesHelper)}},{key:"hideAxesHelper",value:function(){this.axesHelper&&this.root.add(this.axesHelper)}},{key:"fitCamera",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.modelGroup,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n&&n.isBox3?e=n:(e=new oi).expandByObject(t);var i=e.getCenter(new rn);t==this.modelGroup&&(t.translateX(-i.x),t.translateY(-i.y),t.translateZ(-i.z),i.x=i.y=i.z=0);var r=1.5,A=.8,a=.05,o=pn.container.getBoundingClientRect();o.width<o.height&&(r=2);var s=e.getSize(new rn),l=Math.max(s.x,s.y,s.z),c=this.camera.fov*(Math.PI/180),u=Math.abs(l/(2*Math.tan(c/2))),h=Math.min(s.x,s.y,s.z);this.camera.near=h*a,20*l>this.camera.far&&(this.camera.far=20*l),this.camera.far<5e3&&(this.camera.far=5e3),this.camera.defaultPos.copy(this.camera.position),this.camera.updateProjectionMatrix();var d=new rn(i.x,i.y+u*A,i.z+u*r);this.camera.controller?(this.camera.controller.setPosition(d.x,d.y,d.z),this.camera.controller.setTarget(i.x,i.y,i.z)):(this.camera.position.z=d.z,this.camera.position.y=d.y,this.camera.lookAt(i.x,i.y,i.z)),pn.render(!0)}},{key:"screenShot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/jpeg",t=arguments.length>1?arguments[1]:void 0,n=this.controls.getView();t&&this.fitCamera(),pn.render(!0);var i=this.renderer.domElement.toDataURL(e);return t&&this.controls.setView(n),i}},{key:"encircleScreenShot",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=[],A=360/n;this.fitCamera();for(var a=this.controls.getView(),o=function(o){t.controls.rotateLeft(0===o?0:-A),t.controls.update(),t.camera.updateMatrixWorld(),pn.render(!0);var s=q.createElement("canvas"),l=s.getContext("2d");s.width=i,s.height=i;var c=new Image;c.onload=function(){var i,A;c.height<=c.width?(A=s.height,i=c.width*(s.height/c.height)):(i=s.width,A=c.height*(s.width/c.width));var o=(s.width-i)/2,u=(s.height-A)/2;l.drawImage(c,o,u,i,A),r.push(s.toDataURL("image/jpeg")),r.length===n&&e&&(t.controls.setView(a),e(r))},c.src=t.renderer.domElement.toDataURL("image/jpeg")},s=0;s<n;s++)o(s)}},{key:"dispose",value:function(){this.scene.traverse((function(e){e.isMesh&&(e.geometry&&e.geometry.dispose(),(Array.isArray(e.material)?e.material:[e.material]).forEach((function(e){e.map&&e.map.dispose(),e.dispose()})))})),this.scene.background&&this.scene.background.dispose&&this.scene.background.dispose(),this.scene.dispose(),this.scene.background=null}}]),n}(Yt));function vg(e){return function(e){for(var t="0123456789abcdef",n="",i=0;i<4*e.length;i++)n+=t.charAt(e[i>>2]>>8*(3-i%4)+4&15)+t.charAt(e[i>>2]>>8*(3-i%4)&15);return n}(function(e){for(var t=e,n=Array(80),i=1732584193,r=-271733879,A=-1732584194,a=271733878,o=-1009589776,s=0;s<t.length;s+=16){for(var l=i,c=r,u=A,h=a,d=o,g=0;g<80;g++){n[g]=g<16?t[s+g]:wg(n[g-3]^n[g-8]^n[g-14]^n[g-16],1);var p=Ig(Ig(wg(i,5),Cg(g,r,A,a)),Ig(Ig(o,n[g]),yg(g)));o=a,a=A,A=wg(r,30),r=i,i=p}i=Ig(i,l),r=Ig(r,c),A=Ig(A,u),a=Ig(a,h),o=Ig(o,d)}return new Array(i,r,A,a,o)}(function(e){for(var t=1+(e.length+8>>6),n=new Array(16*t),i=0;i<16*t;i++)n[i]=0;for(i=0;i<e.length;i++)n[i>>2]|=e.charCodeAt(i)<<24-8*(3&i);return n[i>>2]|=128<<24-8*(3&i),n[16*t-1]=8*e.length,n}(e)))}function Cg(e,t,n,i){return e<20?t&n|~t&i:e<40?t^n^i:e<60?t&n|t&i|n&i:t^n^i}function yg(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function Ig(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function wg(e,t){return e<<t|e>>>32-t}var bg="http://10.10.10.139:4080/common/downloadFile/",Bg=function(){function e(){Me(this,e)}return Te(e,null,[{key:"getModelById",value:function(e){return new Promise((function(t,n){wx.request({url:"https://open.laozicloud.com/v4/auth/getModelFile",method:"POST",data:"modelId="+e+"&type=1&token="+xg.token,header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){if(200==e.statusCode){var i=e.data.datas;Array.isArray(i.m)&&(i.m=i.m.map((function(e){return e.replace(":443","")}))),Array.isArray(i.mat)&&(i.mat=i.mat.map((function(e){return e.replace(":443","")}))),i.scene&&(i.scene=i.scene.replace(":443","")),t(i)}else n(e.resp_msg)},fail:function(e){n("模型获取失败！"+e)}})}))}},{key:"getLocalModelById",value:function(e){try{var t=this.post({url:"http://10.10.10.139:4080/model/preview",body:"id="+e,async:!1});if(t&&6e4===t.resp_code)return JSON.parse(t.datas.paths);throw new Error("模型获取失败！")}catch(e){throw new Error("模型获取失败！")}}},{key:"authorization",value:function(e){return new Promise((function(t,n){wx.request({url:"https://open.laozicloud.com/v4/auth/authentication",method:"POST",data:e,header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){200==e.statusCode?t(e.data):n()},fail:function(e){n(e)}})}))}},{key:"post",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0===e.async&&(e.async=!0);var t=new de;if(e.async&&(t.responseType="json"),t.open("POST",e.url,e.async),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){4==t.readyState&&200==t.status&&e.onSuccess&&e.onSuccess(t.response)},t.onerror=function(t){e.onFaild&&e.onFaild(t)},t.send(e.body),!e.async)return JSON.parse(t.response)}},{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0===e.async&&(e.async=!0);var t=new de;if(e.async&&(t.responseType="json"),t.open("GET",e.url,e.async),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){4==t.readyState&&200==t.status&&e.onSuccess&&e.onSuccess(t.response)},t.onerror=function(t){e.onFaild&&e.onFaild(t)},t.send(),!e.async)return JSON.parse(t.response)}},{key:"setLocalPath",value:function(e,t){return e.m.forEach((function(n,i){e.m[i]=t+"m/"+n})),e.mat.forEach((function(n,i){e.mat[i]=t+"mat/"+n})),void 0!==e.scene&&""!=e.scene&&(e.scene=t+e.scene),void 0!==e.nodes&&""!=e.nodes&&(e.nodes=t+"nodes/"+e.nodes),void 0!==e.i&&""!=e.i&&(e.i=t+"instance/"+e.i),void 0!==e.ii&&e.ii.forEach((function(n,i){e.ii[i]=t+"instance/"+n})),e.localPath=t+"Texture/",e}},{key:"setOnlinePath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bg;return e.m.forEach((function(n,i){e.m[i]=t+n})),e.mat.forEach((function(n,i){e.mat[i]=t+n})),void 0!==e.scene&&""!=e.scene&&(e.scene=t+e.scene),void 0!==e.nodes&&""!=e.nodes&&(e.nodes=t+e.nodes),void 0!==e.i&&""!=e.i&&(e.i=t+e.i),void 0!==e.ii&&e.ii.forEach((function(n,i){e.ii[i]=t+n})),e.localPath=t,e}},{key:"getFileList",value:function(e){try{var t=this.get({url:e+"fileList.json",method:"GET",async:!1});return Array.isArray(t.a)&&(t.a=t.a.map((function(t){return e+t}))),Array.isArray(t.m)&&(t.m=t.m.map((function(t){return e+t}))),Array.isArray(t.mat)&&(t.mat=t.mat.map((function(t){return e+t}))),Array.isArray(t.instance)&&(t.instance=t.instance.map((function(t){return e+t}))),t.scene&&(t.scene=e+t.scene),t.sky&&(t.sky.a=e+t.sky.a,t.sky.b=e+t.sky.b),t}catch(e){console.error("获取本地fileList.json失败")}}}]),e}(),xg=new(function(){function e(){Me(this,e),this.token=null}return Te(e,[{key:"init",value:function(e){this.options=e}},{key:"checkDevloper",value:function(){if(!this.options.appkey||""===this.options.appkey)throw new Error("开发者参数[appkey]缺失!");if(!this.options.appsecret||""===this.options.appsecret)throw new Error("开发者参数[appsecret]缺失!");var e=(new Date).getTime(),t=parseInt(1e6*Math.random()),n=vg(this.options.appsecret+e+t),i="appkey="+this.options.appkey+"&random="+t+"&sign="+n+"&source=3&timeStamp="+e;return Bg.authorization(i)}},{key:"offlineValidation",value:function(e){var t=this;try{callRuntimeCallbacks&&callRuntimeCallbacks([function(n){n.onRuntimeInitialized=function(){var i=0;n&&n.ccall&&(i=n.ccall("WEB_API_CheckLicenseData","number",["string","string","string","string"],[t.options.developerID,t.options.appID,t.options.secretKey,t.options.offlinekey])),e(i)}}])}catch(t){e(0)}}}]),e}()),Mg=function(e){var t=e.index,n=e.attributes;if(null!==t&&void 0!==n.position&&void 0!==n.normal&&void 0!==n.uv){var i=t.array,r=n.position.array,A=n.normal.array,a=n.uv.array,o=r.length/3;void 0===n.tangent&&e.setAttribute("tangent",new Xi(new Float32Array(4*o),4));for(var s=n.tangent.array,l=[],c=[],u=0;u<o;u++)l[u]=new rn,c[u]=new rn;var h=new rn,d=new rn,g=new rn,p=new $t,f=new $t,m=new $t,v=new rn,C=new rn,y=e.groups;0===y.length&&(y=[{start:0,count:i.length}]);u=0;for(var I=y.length;u<I;++u)for(var w=R=(U=y[u]).start,b=R+U.count;w<b;w+=3)L(i[w+0],i[w+1],i[w+2]);var B,x,M,E=new rn,T=new rn,S=new rn,F=new rn;for(u=0,I=y.length;u<I;++u){var U,R;for(w=R=(U=y[u]).start,b=R+U.count;w<b;w+=3)H(i[w+0]),H(i[w+1]),H(i[w+2])}}else console.warn("BufferGeometry: Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");function L(e,t,n){h.fromArray(r,3*e),d.fromArray(r,3*t),g.fromArray(r,3*n),p.fromArray(a,2*e),f.fromArray(a,2*t),m.fromArray(a,2*n);var i=d.x-h.x,A=g.x-h.x,o=d.y-h.y,s=g.y-h.y,u=d.z-h.z,y=g.z-h.z,I=f.x-p.x,w=m.x-p.x,b=f.y-p.y,B=m.y-p.y,x=1/(I*B-w*b);v.set((B*i-b*A)*x,(B*o-b*s)*x,(B*u-b*y)*x),C.set((I*A-w*i)*x,(I*s-w*o)*x,(I*y-w*u)*x),l[e].add(v),l[t].add(v),l[n].add(v),c[e].add(C),c[t].add(C),c[n].add(C)}function H(e){S.fromArray(A,3*e),F.copy(S),x=l[e],E.copy(x),E.sub(S.multiplyScalar(S.dot(x))).normalize(),T.crossVectors(F,x),M=T.dot(c[e]),B=M<0?-1:1,s[4*e]=E.x,s[4*e+1]=E.y,s[4*e+2]=E.z,s[4*e+3]=B}},Eg=null;try{var Tg="undefined"!=typeof module&&"function"==typeof module.require&&module.require("worker_threads")||"function"==typeof __non_webpack_require__&&__non_webpack_require__("worker_threads")||"function"==typeof require&&require("worker_threads");Eg=Tg.Worker}catch(e){}function Sg(e,t,n){var i=void 0===t?null:t,r=function(e,t){return Buffer.from(e,"base64").toString(t?"utf16":"utf8")}(e,void 0!==n&&n),A=r.indexOf("\n",10)+1,a=r.substring(A)+(i?"//# sourceMappingURL="+i:"");return function(e){return new Eg(a,Object.assign({},e,{eval:!0}))}}function Fg(e,t,n){var i=void 0===t?null:t,r=function(e,t){var n=atob(e);if(t){for(var i=new Uint8Array(n.length),r=0,A=n.length;r<A;++r)i[r]=n.charCodeAt(r);return String.fromCharCode.apply(null,new Uint16Array(i.buffer))}return n}(e,void 0!==n&&n),A=r.indexOf("\n",10)+1,a=r.substring(A)+(i?"//# sourceMappingURL="+i:""),o=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(o)}var Ug="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);function Rg(e,t,n){return Ug?Sg(e,t,n):function(e,t,n){var i;return function(r){return i=i||Fg(e,t,n),new Worker(i,r)}}(e,t,n)}var Lg=Rg("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgZnVuY3Rpb24gbm9vcCgpIHt9CgogIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsKICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOwogICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7CiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsKICAgICAgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsKICAgIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOwogICAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOwogICAgcmV0dXJuIENvbnN0cnVjdG9yOwogIH0KCiAgZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7CiAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOwogICAgfQoKICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgewogICAgICBjb25zdHJ1Y3RvcjogewogICAgICAgIHZhbHVlOiBzdWJDbGFzcywKICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICBjb25maWd1cmFibGU6IHRydWUKICAgICAgfQogICAgfSk7CiAgICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsKICB9CgogIGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7CiAgICBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgewogICAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOwogICAgfTsKICAgIHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7CiAgfQoKICBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgewogICAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7CiAgICAgIG8uX19wcm90b19fID0gcDsKICAgICAgcmV0dXJuIG87CiAgICB9OwoKICAgIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7CiAgfQoKICBmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgewogICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsKICAgIGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7CiAgICBpZiAodHlwZW9mIFByb3h5ID09PSAiZnVuY3Rpb24iKSByZXR1cm4gdHJ1ZTsKCiAgICB0cnkgewogICAgICBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSBjYXRjaCAoZSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsKICAgIGlmIChzZWxmID09PSB2b2lkIDApIHsKICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsKICAgIH0KCiAgICByZXR1cm4gc2VsZjsKICB9CgogIGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsKICAgIGlmIChjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7CiAgICAgIHJldHVybiBjYWxsOwogICAgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWQiKTsKICAgIH0KCiAgICByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsKICB9CgogIGZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7CiAgICB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7CiAgICAgIHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwKICAgICAgICAgIHJlc3VsdDsKCiAgICAgIGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7CiAgICAgICAgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsKCiAgICAgICAgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7CiAgICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOwogIH0KCiAgZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgewogICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7CiAgfQoKICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsKICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbCB8fCBpdGVyWyJAQGl0ZXJhdG9yIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7CiAgfQoKICBmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7CiAgICBpZiAoIW8pIHJldHVybjsKICAgIGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOwogICAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOwogICAgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7CiAgICBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOwogICAgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsKICB9CgogIGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7CiAgICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsKCiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07CgogICAgcmV0dXJuIGFycjI7CiAgfQoKICBmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsKICB9CgogIGlmICh3eC5nZXRQZXJmb3JtYW5jZSkgewogICAgdmFyIF93eCRnZXRTeXN0ZW1JbmZvU3luYyA9IHd4LmdldFN5c3RlbUluZm9TeW5jKCk7CiAgICAgICAgX3d4JGdldFN5c3RlbUluZm9TeW5jLnBsYXRmb3JtOwoKICAgIHZhciB3eFBlcmYgPSB3eC5nZXRQZXJmb3JtYW5jZSgpOwogICAgdmFyIGluaXRUaW1lID0gd3hQZXJmLm5vdygpOwogICAgT2JqZWN0LmFzc2lnbih7fSwgd3hQZXJmLCB7CiAgICAgIG5vdzogZnVuY3Rpb24gbm93KCkgewogICAgICAgIHJldHVybiAod3hQZXJmLm5vdygpIC0gaW5pdFRpbWUpIC8gMTAwMDsKICAgICAgfQogICAgfSk7CiAgfQoKICB2YXIgX3d4JGdldFN5c3RlbUluZm9TeW5jJDEgPSB3eC5nZXRTeXN0ZW1JbmZvU3luYygpLAogICAgICBzY3JlZW5XaWR0aCA9IF93eCRnZXRTeXN0ZW1JbmZvU3luYyQxLnNjcmVlbldpZHRoLAogICAgICBzY3JlZW5IZWlnaHQgPSBfd3gkZ2V0U3lzdGVtSW5mb1N5bmMkMS5zY3JlZW5IZWlnaHQ7CiAgICAgIF93eCRnZXRTeXN0ZW1JbmZvU3luYyQxLmRldmljZVBpeGVsUmF0aW87CgogIHZhciBpbm5lcldpZHRoID0gc2NyZWVuV2lkdGg7CiAgdmFyIGlubmVySGVpZ2h0ID0gc2NyZWVuSGVpZ2h0OwoKICBmdW5jdGlvbiBwYXJlbnROb2RlKG9iaiwgbGV2ZWwpIHsKICAgIGlmICghKCdwYXJlbnROb2RlJyBpbiBvYmopKSB7CiAgICAgIHZhciBfcGFyZW50OwoKICAgICAgaWYgKGxldmVsID09PSAwKSB7CiAgICAgICAgX3BhcmVudCA9IGZ1bmN0aW9uIF9wYXJlbnQoKSB7CiAgICAgICAgICAvLyByZXR1cm4gZG9jdW1lbnQKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH07CiAgICAgIH0gZWxzZSBpZiAobGV2ZWwgPT09IDEpIHsKICAgICAgICBfcGFyZW50ID0gZnVuY3Rpb24gX3BhcmVudCgpIHsKICAgICAgICAgIHJldHVybiBkb2N1bWVudCQxLmRvY3VtZW50RWxlbWVudDsKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIF9wYXJlbnQgPSBmdW5jdGlvbiBfcGFyZW50KCkgewogICAgICAgICAgcmV0dXJuIGRvY3VtZW50JDEuYm9keTsKICAgICAgICB9OwogICAgICB9CgogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAncGFyZW50Tm9kZScsIHsKICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgIGdldDogX3BhcmVudAogICAgICB9KTsKICAgIH0KCiAgICBpZiAoISgncGFyZW50RWxlbWVudCcgaW4gb2JqKSkgewogICAgICB2YXIgX3BhcmVudDI7CgogICAgICBpZiAobGV2ZWwgPT09IDApIHsKICAgICAgICBfcGFyZW50MiA9IGZ1bmN0aW9uIF9wYXJlbnQyKCkgewogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfTsKICAgICAgfSBlbHNlIGlmIChsZXZlbCA9PT0gMSkgewogICAgICAgIF9wYXJlbnQyID0gZnVuY3Rpb24gX3BhcmVudDIoKSB7CiAgICAgICAgICByZXR1cm4gZG9jdW1lbnQkMS5kb2N1bWVudEVsZW1lbnQ7CiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICBfcGFyZW50MiA9IGZ1bmN0aW9uIF9wYXJlbnQyKCkgewogICAgICAgICAgcmV0dXJuIGRvY3VtZW50JDEuYm9keTsKICAgICAgICB9OwogICAgICB9CgogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAncGFyZW50RWxlbWVudCcsIHsKICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgIGdldDogX3BhcmVudDIKICAgICAgfSk7CiAgICB9CiAgfQogIGZ1bmN0aW9uIHN0eWxlKG9iaikgewogICAgb2JqLnN0eWxlID0gb2JqLnN0eWxlIHx8IHt9OwogICAgT2JqZWN0LmFzc2lnbihvYmouc3R5bGUsIHsKICAgICAgdG9wOiAnMHB4JywKICAgICAgbGVmdDogJzBweCcsCiAgICAgIHdpZHRoOiBpbm5lcldpZHRoICsgJ3B4JywKICAgICAgaGVpZ2h0OiBpbm5lckhlaWdodCArICdweCcsCiAgICAgIG1hcmdpbjogJzBweCcsCiAgICAgIHBhZGRpbmc6ICcwcHgnCiAgICB9KTsKICB9CiAgZnVuY3Rpb24gY2xpZW50UmVnaW9uKG9iaikgewogICAgaWYgKCEoJ2NsaWVudExlZnQnIGluIG9iaikpIHsKICAgICAgb2JqLmNsaWVudExlZnQgPSAwOwogICAgICBvYmouY2xpZW50VG9wID0gMDsKICAgIH0KCiAgICBpZiAoISgnY2xpZW50V2lkdGgnIGluIG9iaikpIHsKICAgICAgb2JqLmNsaWVudFdpZHRoID0gaW5uZXJXaWR0aDsKICAgICAgb2JqLmNsaWVudEhlaWdodCA9IGlubmVySGVpZ2h0OwogICAgfQoKICAgIGlmICghKCdnZXRCb3VuZGluZ0NsaWVudFJlY3QnIGluIG9iaikpIHsKICAgICAgb2JqLmdldEJvdW5kaW5nQ2xpZW50UmVjdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgcmV0ID0gewogICAgICAgICAgeDogMCwKICAgICAgICAgIHk6IDAsCiAgICAgICAgICB0b3A6IDAsCiAgICAgICAgICBsZWZ0OiAwLAogICAgICAgICAgd2lkdGg6IHRoaXMuY2xpZW50V2lkdGgsCiAgICAgICAgICBoZWlnaHQ6IHRoaXMuY2xpZW50SGVpZ2h0CiAgICAgICAgfTsKICAgICAgICByZXQucmlnaHQgPSByZXQud2lkdGg7CiAgICAgICAgcmV0LmJvdHRvbSA9IHJldC5oZWlnaHQ7CiAgICAgICAgcmV0dXJuIHJldDsKICAgICAgfTsKICAgIH0KICB9CiAgZnVuY3Rpb24gb2Zmc2V0UmVnaW9uKG9iaikgewogICAgaWYgKCEoJ29mZnNldExlZnQnIGluIG9iaikpIHsKICAgICAgb2JqLm9mZnNldExlZnQgPSAwOwogICAgICBvYmoub2Zmc2V0VG9wID0gMDsKICAgIH0KCiAgICBpZiAoISgnb2Zmc2V0V2lkdGgnIGluIG9iaikpIHsKICAgICAgb2JqLm9mZnNldFdpZHRoID0gaW5uZXJXaWR0aDsKICAgICAgb2JqLm9mZnNldEhlaWdodCA9IGlubmVySGVpZ2h0OwogICAgfQogIH0KICBmdW5jdGlvbiBzY3JvbGxSZWdpb24ob2JqKSB7CiAgICBpZiAoISgnc2Nyb2xsTGVmdCcgaW4gb2JqKSkgewogICAgICBvYmouc2Nyb2xsTGVmdCA9IDA7CiAgICAgIG9iai5zY3JvbGxUb3AgPSAwOwogICAgfQoKICAgIGlmICghKCdzY3JvbGxXaWR0aCcgaW4gb2JqKSkgewogICAgICBvYmouc2Nyb2xsV2lkdGggPSBpbm5lcldpZHRoOwogICAgICBvYmouc2Nyb2xsSGVpZ2h0ID0gaW5uZXJIZWlnaHQ7CiAgICB9CiAgfQogIGZ1bmN0aW9uIGNsYXNzTGlzdChvYmopIHsKICAgIHZhciBub29wID0gZnVuY3Rpb24gbm9vcCgpIHt9OwoKICAgIG9iai5jbGFzc0xpc3QgPSBbXTsKICAgIG9iai5jbGFzc0xpc3QuYWRkID0gbm9vcDsKICAgIG9iai5jbGFzc0xpc3QucmVtb3ZlID0gbm9vcDsKICAgIG9iai5jbGFzc0xpc3QuY29udGFpbnMgPSBub29wOwogICAgb2JqLmNsYXNzTGlzdC50b2dnbGUgPSBub29wOwogIH0KCiAgdmFyIF9ldmVudHMgPSBuZXcgV2Vha01hcCgpOwoKICB2YXIgRXZlbnRUYXJnZXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gRXZlbnRUYXJnZXQoKSB7CiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFdmVudFRhcmdldCk7CgogICAgICBfZXZlbnRzLnNldCh0aGlzLCB7fSk7CiAgICB9CgogICAgX2NyZWF0ZUNsYXNzKEV2ZW50VGFyZ2V0LCBbewogICAgICBrZXk6ICJhZGRFdmVudExpc3RlbmVyIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHsKICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CgogICAgICAgIHZhciBldmVudHMgPSBfZXZlbnRzLmdldCh0aGlzKTsKCiAgICAgICAgaWYgKCFldmVudHMpIHsKICAgICAgICAgIGV2ZW50cyA9IHt9OwoKICAgICAgICAgIF9ldmVudHMuc2V0KHRoaXMsIGV2ZW50cyk7CiAgICAgICAgfQoKICAgICAgICBpZiAoIWV2ZW50c1t0eXBlXSkgewogICAgICAgICAgZXZlbnRzW3R5cGVdID0gW107CiAgICAgICAgfQoKICAgICAgICBldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7CgogICAgICAgIGlmIChvcHRpb25zLmNhcHR1cmUpIHsKICAgICAgICAgIGNvbnNvbGUud2FybignRXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcjogb3B0aW9ucy5jYXB0dXJlIGlzIG5vdCBpbXBsZW1lbnRlZC4nKTsKICAgICAgICB9CgogICAgICAgIGlmIChvcHRpb25zLm9uY2UpIHsKICAgICAgICAgIGNvbnNvbGUud2FybignRXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcjogb3B0aW9ucy5vbmNlIGlzIG5vdCBpbXBsZW1lbnRlZC4nKTsKICAgICAgICB9CgogICAgICAgIGlmIChvcHRpb25zLnBhc3NpdmUpIHsKICAgICAgICAgIGNvbnNvbGUud2FybignRXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcjogb3B0aW9ucy5wYXNzaXZlIGlzIG5vdCBpbXBsZW1lbnRlZC4nKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAicmVtb3ZlRXZlbnRMaXN0ZW5lciIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7CgogICAgICAgIHZhciBldmVudHMgPSBfZXZlbnRzLmdldCh0aGlzKTsKCiAgICAgICAgaWYgKGV2ZW50cykgewogICAgICAgICAgdmFyIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTsKCiAgICAgICAgICBpZiAobGlzdGVuZXJzICYmIGxpc3RlbmVycy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSBsaXN0ZW5lcnMubGVuZ3RoOyBpLS07IGkgPiAwKSB7CiAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyc1tpXSA9PT0gbGlzdGVuZXIpIHsKICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaSwgMSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiZGlzcGF0Y2hFdmVudCIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KCkgewogICAgICAgIHZhciBldmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CgogICAgICAgIHZhciBsaXN0ZW5lcnMgPSBfZXZlbnRzLmdldCh0aGlzKVtldmVudC50eXBlXTsKCiAgICAgICAgaWYgKGxpc3RlbmVycykgewogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgbGlzdGVuZXJzW2ldKGV2ZW50KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gRXZlbnRUYXJnZXQ7CiAgfSgpOwoKICB2YXIgTm9kZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0V2ZW50VGFyZ2V0KSB7CiAgICBfaW5oZXJpdHMoTm9kZSwgX0V2ZW50VGFyZ2V0KTsKCiAgICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKE5vZGUpOwoKICAgIGZ1bmN0aW9uIE5vZGUoKSB7CiAgICAgIHZhciBfdGhpczsKCiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOb2RlKTsKCiAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7CiAgICAgIF90aGlzLmNoaWxkTm9kZXMgPSBbXTsKICAgICAgcmV0dXJuIF90aGlzOwogICAgfQoKICAgIF9jcmVhdGVDbGFzcyhOb2RlLCBbewogICAgICBrZXk6ICJhcHBlbmRDaGlsZCIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBlbmRDaGlsZChub2RlKSB7CiAgICAgICAgdGhpcy5jaGlsZE5vZGVzLnB1c2gobm9kZSk7CgogICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgTm9kZSkgewogICAgICAgICAgdGhpcy5jaGlsZE5vZGVzLnB1c2gobm9kZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZhaWxlZCB0byBleGVjdXRlZCBcJ2FwcGVuZENoaWxkXCcgb24gXCdOb2RlXCc6IHBhcmFtZXRlciAxIGlzIG5vdCBvZiB0eXBlIFwnTm9kZVwnLicpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJjbG9uZU5vZGUiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gY2xvbmVOb2RlKCkgewogICAgICAgIHZhciBjb3B5Tm9kZSA9IE9iamVjdC5jcmVhdGUodGhpcyk7CiAgICAgICAgT2JqZWN0LmFzc2lnbihjb3B5Tm9kZSwgdGhpcyk7CiAgICAgICAgcmV0dXJuIGNvcHlOb2RlOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogInJlbW92ZUNoaWxkIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUNoaWxkKG5vZGUpIHsKICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmNoaWxkTm9kZXMuZmluZEluZGV4KGZ1bmN0aW9uIChjaGlsZCkgewogICAgICAgICAgcmV0dXJuIGNoaWxkID09PSBub2RlOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoaW5kZXggPiAtMSkgewogICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGROb2Rlcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gTm9kZTsKICB9KEV2ZW50VGFyZ2V0KTsKCiAgdmFyIEVsZW1lbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Ob2RlKSB7CiAgICBfaW5oZXJpdHMoRWxlbWVudCwgX05vZGUpOwoKICAgIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoRWxlbWVudCk7CgogICAgZnVuY3Rpb24gRWxlbWVudCgpIHsKICAgICAgdmFyIF90aGlzOwoKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVsZW1lbnQpOwoKICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKTsKICAgICAgX3RoaXMuY2xhc3NOYW1lID0gJyc7CiAgICAgIF90aGlzLmNoaWxkcmVuID0gW107CiAgICAgIHJldHVybiBfdGhpczsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoRWxlbWVudCwgW3sKICAgICAga2V5OiAic2V0QXR0cmlidXRlIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSkgewogICAgICAgIHRoaXNbbmFtZV0gPSB2YWx1ZTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJnZXRBdHRyaWJ1dGUiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QXR0cmlidXRlKG5hbWUpIHsKICAgICAgICByZXR1cm4gdGhpc1tuYW1lXTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJzZXRBdHRyaWJ1dGVOUyIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRBdHRyaWJ1dGVOUyhuYW1lLCB2YWx1ZSkgewogICAgICAgIHRoaXNbbmFtZV0gPSB2YWx1ZTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJnZXRBdHRyaWJ1dGVOUyIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBdHRyaWJ1dGVOUyhuYW1lKSB7CiAgICAgICAgcmV0dXJuIHRoaXNbbmFtZV07CiAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gRWxlbWVudDsKICB9KE5vZGUpOwoKICB2YXIgSFRNTEVsZW1lbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9FbGVtZW50KSB7CiAgICBfaW5oZXJpdHMoSFRNTEVsZW1lbnQsIF9FbGVtZW50KTsKCiAgICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEhUTUxFbGVtZW50KTsKCiAgICBmdW5jdGlvbiBIVE1MRWxlbWVudCgpIHsKICAgICAgdmFyIF90aGlzOwoKICAgICAgdmFyIHRhZ05hbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnOwogICAgICB2YXIgbGV2ZWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDsKCiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIVE1MRWxlbWVudCk7CgogICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpOwogICAgICBfdGhpcy5jbGFzc05hbWUgPSAnJzsKICAgICAgX3RoaXMuY2hpbGRyZW4gPSBbXTsKICAgICAgX3RoaXMuZm9jdXMgPSBub29wOwogICAgICBfdGhpcy5ibHVyID0gbm9vcDsKICAgICAgX3RoaXMuaW5zZXJ0QmVmb3JlID0gbm9vcDsKICAgICAgX3RoaXMuYXBwZW5kQ2hpbGQgPSBub29wOwogICAgICBfdGhpcy5yZW1vdmVDaGlsZCA9IG5vb3A7CiAgICAgIF90aGlzLnJlbW92ZSA9IG5vb3A7CiAgICAgIF90aGlzLmlubmVySFRNTCA9ICcnOwogICAgICBfdGhpcy50YWdOYW1lID0gdGFnTmFtZS50b1VwcGVyQ2FzZSgpOwogICAgICBwYXJlbnROb2RlKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBsZXZlbCk7CiAgICAgIHN0eWxlKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgICAgY2xhc3NMaXN0KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgICAgY2xpZW50UmVnaW9uKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgICAgb2Zmc2V0UmVnaW9uKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgICAgc2Nyb2xsUmVnaW9uKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgICAgcmV0dXJuIF90aGlzOwogICAgfQoKICAgIHJldHVybiBIVE1MRWxlbWVudDsKICB9KEVsZW1lbnQpOwoKICAvLyBpbXBvcnQgeyBIVE1MQ2FudmFzRWxlbWVudCwgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBXZWJHTFJlbmRlcmluZ0NvbnRleHQgfSBmcm9tICcuL2NvbnN0cnVjdG9yJwogIHZhciBfY2FudmFzID0gbnVsbDsgLy/nm67liY3kvb/nlKjnmoRjYW52YXMKCiAgdmFyIF9jYW52YXNNYXAgPSBuZXcgTWFwKCk7CgogIHZhciBFdmVudCA9IGZ1bmN0aW9uIEV2ZW50KHR5cGUpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFdmVudCk7CgogICAgdGhpcy5jYW5jZWxCdWJibGUgPSBmYWxzZTsKICAgIHRoaXMuY2FuY2VsYWJsZSA9IGZhbHNlOwogICAgdGhpcy50YXJnZXQgPSBudWxsOwogICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbDsKICAgIHRoaXMucHJldmVudERlZmF1bHQgPSBub29wOwogICAgdGhpcy5zdG9wUHJvcGFnYXRpb24gPSBub29wOwogICAgdGhpcy50eXBlID0gdHlwZTsKICAgIHRoaXMudGltZVN0YW1wID0gRGF0ZS5ub3coKTsKICB9OwoKICB2YXIgbG9jYXRpb24kMSA9IHsKICAgIGhyZWY6ICdhcHAuanMnLAogICAgcmVsb2FkOiBmdW5jdGlvbiByZWxvYWQoKSB7fSwKICAgIHJlcGxhY2U6IGZ1bmN0aW9uIHJlcGxhY2UoaHJlZikgewogICAgICB0aGlzLmhyZWYgPSBocmVmOwogICAgfQogIH07CgogIGZ1bmN0aW9uIEltYWdlKCkgewoKICAgIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdwbGVhc2UgcmVnaXN0ZXIgYSBjYW52YXMnKTsKICAgIH0KICB9CgogIHZhciBEb2N1bWVudEVsZW1lbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9IVE1MRWxlbWVudCkgewogICAgX2luaGVyaXRzKERvY3VtZW50RWxlbWVudCwgX0hUTUxFbGVtZW50KTsKCiAgICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKERvY3VtZW50RWxlbWVudCk7CgogICAgZnVuY3Rpb24gRG9jdW1lbnRFbGVtZW50KCkgewogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRG9jdW1lbnRFbGVtZW50KTsKCiAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCAnaHRtbCcsIDApOwogICAgfQoKICAgIHJldHVybiBEb2N1bWVudEVsZW1lbnQ7CiAgfShIVE1MRWxlbWVudCk7CgogIHZhciBCb2R5ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfSFRNTEVsZW1lbnQpIHsKICAgIF9pbmhlcml0cyhCb2R5LCBfSFRNTEVsZW1lbnQpOwoKICAgIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQm9keSk7CgogICAgZnVuY3Rpb24gQm9keSgpIHsKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJvZHkpOwoKICAgICAgLy8g5Li65LqG5oCn6IO9LCDmraTlpITkuI3mjInnhafmoIflh4bnmoRET03lsYLnuqflhbPns7vorr7orqEKICAgICAgLy8g5bCGIGJvZHkg6K6+572u5Li6IDDnuqcsIHBhcmVudOWFg+e0oOS4um51bGwKICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsICdib2R5JywgMCk7CiAgICB9CgogICAgcmV0dXJuIEJvZHk7CiAgfShIVE1MRWxlbWVudCk7CiAgLy8gd3gub25Ub3VjaE1vdmUoZXZlbnRIYW5kbGVyRmFjdG9yeSgndG91Y2htb3ZlJykpCiAgLy8gd3gub25Ub3VjaEVuZChldmVudEhhbmRsZXJGYWN0b3J5KCd0b3VjaGVuZCcpKQogIC8vIHd4Lm9uVG91Y2hDYW5jZWwoZXZlbnRIYW5kbGVyRmFjdG9yeSgndG91Y2hjYW5jZWwnKSkKCiAgdmFyIGV2ZW50cyA9IHt9OwogIHZhciBkb2N1bWVudCQxID0gewogICAgcmVhZHlTdGF0ZTogJ2NvbXBsZXRlJywKICAgIHZpc2liaWxpdHlTdGF0ZTogJ3Zpc2libGUnLAogICAgLy8gJ3Zpc2libGUnICwgJ2hpZGRlbicKICAgIGhpZGRlbjogZmFsc2UsCiAgICBmdWxsc2NyZWVuOiB0cnVlLAogICAgbG9jYXRpb246IGxvY2F0aW9uJDEsCiAgICBzY3JpcHRzOiBbXSwKICAgIHN0eWxlOiB7fSwKICAgIG9udG91Y2hzdGFydDogbnVsbCwKICAgIG9udG91Y2htb3ZlOiBudWxsLAogICAgb250b3VjaGVuZDogbnVsbCwKICAgIG9udmlzaWJpbGl0eWNoYW5nZTogbnVsbCwKICAgIHBhcmVudE5vZGU6IG51bGwsCiAgICBwYXJlbnRFbGVtZW50OiBudWxsLAogICAgY3JlYXRlRWxlbWVudDogZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0YWdOYW1lKSB7CiAgICAgIHRhZ05hbWUgPSB0YWdOYW1lLnRvTG93ZXJDYXNlKCk7CgogICAgICBpZiAodGFnTmFtZSA9PT0gJ2NhbnZhcycpIHsKICAgICAgICB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BsZWFzZSByZWdpc3RlciBhIGNhbnZhcycpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh0YWdOYW1lID09PSAnaW1nJykgewogICAgICAgIHJldHVybiBuZXcgSW1hZ2UoKTsKICAgICAgfSAvLyBlbHNlIGlmICh0YWdOYW1lID09PSAnYXVkaW8nKSB7CiAgICAgIC8vICAgcmV0dXJuIG5ldyBBdWRpbygpCiAgICAgIC8vIH0gCiAgICAgIC8vIH0gZWxzZSBpZiAodGFnTmFtZSA9PT0gJ3ZpZGVvJykgewogICAgICAvLyAgIHJldHVybiBuZXcgSFRNTFZpZGVvRWxlbWVudCgpCiAgICAgIC8vIH0KCgogICAgICByZXR1cm4gbmV3IEhUTUxFbGVtZW50KHRhZ05hbWUpOwogICAgfSwKICAgIGNyZWF0ZUVsZW1lbnROUzogZnVuY3Rpb24gY3JlYXRlRWxlbWVudE5TKG5hbWVTcGFjZSwgdGFnTmFtZSkgewogICAgICByZXR1cm4gdGhpcy5jcmVhdGVFbGVtZW50KHRhZ05hbWUpOwogICAgfSwKICAgIGNyZWF0ZVRleHROb2RlOiBmdW5jdGlvbiBjcmVhdGVUZXh0Tm9kZSh0ZXh0KSB7CiAgICAgIC8vIFRPRE86IERvIHdlIG5lZWQgdGhlIFRleHROb2RlIENsYXNzID8/PwogICAgICByZXR1cm4gdGV4dDsKICAgIH0sCiAgICBnZXRFbGVtZW50QnlJZDogZnVuY3Rpb24gZ2V0RWxlbWVudEJ5SWQoaWQpIHsKICAgICAgaWYgKF9jYW52YXNNYXAuaGFzKGlkKSkgewogICAgICAgIHJldHVybiBfY2FudmFzTWFwLmdldChpZCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfSwKICAgIGdldEVsZW1lbnRzQnlUYWdOYW1lOiBmdW5jdGlvbiBnZXRFbGVtZW50c0J5VGFnTmFtZSh0YWdOYW1lKSB7CiAgICAgIHRhZ05hbWUgPSB0YWdOYW1lLnRvTG93ZXJDYXNlKCk7CgogICAgICBpZiAodGFnTmFtZSA9PT0gJ2hlYWQnKSB7CiAgICAgICAgcmV0dXJuIFtkb2N1bWVudCQxLmhlYWRdOwogICAgICB9IGVsc2UgaWYgKHRhZ05hbWUgPT09ICdib2R5JykgewogICAgICAgIHJldHVybiBbZG9jdW1lbnQkMS5ib2R5XTsKICAgICAgfSBlbHNlIGlmICh0YWdOYW1lID09PSAnY2FudmFzJykgewogICAgICAgIHJldHVybiBfdG9Db25zdW1hYmxlQXJyYXkoX2NhbnZhc01hcCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBbXTsKICAgIH0sCiAgICBnZXRFbGVtZW50c0J5VGFnTmFtZU5TOiBmdW5jdGlvbiBnZXRFbGVtZW50c0J5VGFnTmFtZU5TKG5hbWVTcGFjZSwgdGFnTmFtZSkgewogICAgICByZXR1cm4gdGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWdOYW1lKTsKICAgIH0sCiAgICBnZXRFbGVtZW50c0J5TmFtZTogZnVuY3Rpb24gZ2V0RWxlbWVudHNCeU5hbWUodGFnTmFtZSkgewogICAgICBpZiAodGFnTmFtZSA9PT0gJ2hlYWQnKSB7CiAgICAgICAgcmV0dXJuIFtkb2N1bWVudCQxLmhlYWRdOwogICAgICB9IGVsc2UgaWYgKHRhZ05hbWUgPT09ICdib2R5JykgewogICAgICAgIHJldHVybiBbZG9jdW1lbnQkMS5ib2R5XTsKICAgICAgfSBlbHNlIGlmICh0YWdOYW1lID09PSAnY2FudmFzJykgewogICAgICAgIHJldHVybiBfdG9Db25zdW1hYmxlQXJyYXkoX2NhbnZhc01hcCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBbXTsKICAgIH0sCiAgICBxdWVyeVNlbGVjdG9yOiBmdW5jdGlvbiBxdWVyeVNlbGVjdG9yKHF1ZXJ5KSB7CiAgICAgIGlmIChxdWVyeSA9PT0gJ2hlYWQnKSB7CiAgICAgICAgcmV0dXJuIGRvY3VtZW50JDEuaGVhZDsKICAgICAgfSBlbHNlIGlmIChxdWVyeSA9PT0gJ2JvZHknKSB7CiAgICAgICAgcmV0dXJuIGRvY3VtZW50JDEuYm9keTsKICAgICAgfSBlbHNlIGlmIChxdWVyeSA9PT0gJ2NhbnZhcycpIHsKICAgICAgICByZXR1cm4gX2NhbnZhczsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgaWQgPSBxdWVyeS5zbGljZSgxKTsKCiAgICAgICAgaWYgKF9jYW52YXNNYXAuaGFzKGlkKSkgewogICAgICAgICAgcmV0dXJuIF9jYW52YXNNYXAuZ2V0KGlkKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfSwKICAgIHF1ZXJ5U2VsZWN0b3JBbGw6IGZ1bmN0aW9uIHF1ZXJ5U2VsZWN0b3JBbGwocXVlcnkpIHsKICAgICAgaWYgKHF1ZXJ5ID09PSAnaGVhZCcpIHsKICAgICAgICByZXR1cm4gW2RvY3VtZW50JDEuaGVhZF07CiAgICAgIH0gZWxzZSBpZiAocXVlcnkgPT09ICdib2R5JykgewogICAgICAgIHJldHVybiBbZG9jdW1lbnQkMS5ib2R5XTsKICAgICAgfSBlbHNlIGlmIChxdWVyeSA9PT0gJ2NhbnZhcycpIHsKICAgICAgICByZXR1cm4gX3RvQ29uc3VtYWJsZUFycmF5KF9jYW52YXNNYXApOwogICAgICB9CgogICAgICByZXR1cm4gW107CiAgICB9LAogICAgYWRkRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewogICAgICBpZiAoIWV2ZW50c1t0eXBlXSkgewogICAgICAgIGV2ZW50c1t0eXBlXSA9IFtdOwogICAgICB9CgogICAgICBldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7CiAgICB9LAogICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewogICAgICB2YXIgbGlzdGVuZXJzID0gZXZlbnRzW3R5cGVdOwoKICAgICAgaWYgKGxpc3RlbmVycyAmJiBsaXN0ZW5lcnMubGVuZ3RoID4gMCkgewogICAgICAgIGZvciAodmFyIGkgPSBsaXN0ZW5lcnMubGVuZ3RoOyBpLS07IGkgPiAwKSB7CiAgICAgICAgICBpZiAobGlzdGVuZXJzW2ldID09PSBsaXN0ZW5lcikgewogICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBkaXNwYXRjaEV2ZW50OiBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KGV2ZW50KSB7CiAgICAgIHZhciB0eXBlID0gZXZlbnQudHlwZTsKICAgICAgdmFyIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTsKCiAgICAgIGlmIChsaXN0ZW5lcnMpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgbGlzdGVuZXJzW2ldKGV2ZW50KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChldmVudC50YXJnZXQgJiYgdHlwZW9mIGV2ZW50LnRhcmdldFsnb24nICsgdHlwZV0gPT09ICdmdW5jdGlvbicpIHsKICAgICAgICBldmVudC50YXJnZXRbJ29uJyArIHR5cGVdKGV2ZW50KTsKICAgICAgfQogICAgfQogIH07CiAgZG9jdW1lbnQkMS5kb2N1bWVudEVsZW1lbnQgPSBuZXcgRG9jdW1lbnRFbGVtZW50KCk7CiAgZG9jdW1lbnQkMS5oZWFkID0gbmV3IEhUTUxFbGVtZW50KCdoZWFkJyk7CiAgZG9jdW1lbnQkMS5ib2R5ID0gbmV3IEJvZHkoKTsKCiAgZnVuY3Rpb24gb25WaXNpYmlsaXR5Q2hhbmdlKHZpc2libGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIGRvY3VtZW50JDEudmlzaWJpbGl0eVN0YXRlID0gdmlzaWJsZSA/ICd2aXNpYmxlJyA6ICdoaWRkZW4nOwogICAgICB2YXIgaGlkZGVuID0gIXZpc2libGU7CgogICAgICBpZiAoZG9jdW1lbnQkMS5oaWRkZW4gPT09IGhpZGRlbikgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgZG9jdW1lbnQkMS5oaWRkZW4gPSBoaWRkZW47CiAgICAgIHZhciBldmVudCA9IG5ldyBFdmVudCgndmlzaWJpbGl0eWNoYW5nZScpOwogICAgICBldmVudC50YXJnZXQgPSBkb2N1bWVudCQxOwogICAgICBldmVudC50aW1lU3RhbXAgPSBEYXRlLm5vdygpOwogICAgICBkb2N1bWVudCQxLmRpc3BhdGNoRXZlbnQoZXZlbnQpOwogICAgfTsKICB9CgogIGlmICh3eC5vbkhpZGUpIHsKICAgIHd4Lm9uSGlkZShvblZpc2liaWxpdHlDaGFuZ2UoZmFsc2UpKTsKICB9CgogIGlmICh3eC5vblNob3cpIHsKICAgIHd4Lm9uU2hvdyhvblZpc2liaWxpdHlDaGFuZ2UodHJ1ZSkpOwogIH0KCiAgdmFyIHN5c3RlbUluZm8gPSB3eC5nZXRTeXN0ZW1JbmZvU3luYygpOwogIHZhciBzeXN0ZW0gPSBzeXN0ZW1JbmZvLnN5c3RlbTsKICBzeXN0ZW1JbmZvLnBsYXRmb3JtOwogIHN5c3RlbUluZm8ubGFuZ3VhZ2U7CiAgc3lzdGVtLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignYW5kcm9pZCcpICE9PSAtMTsKCiAgaWYgKHd4Lm9uTmV0d29ya1N0YXR1c0NoYW5nZSkgewogICAgd3gub25OZXR3b3JrU3RhdHVzQ2hhbmdlKGZ1bmN0aW9uIChldmVudCkgewogICAgICBldmVudC5pc0Nvbm5lY3RlZDsKICAgIH0pOwogIH0KCiAgdmFyIF9yZXF1ZXN0SGVhZGVyID0gbmV3IFdlYWtNYXAoKTsKCiAgdmFyIF9yZXNwb25zZUhlYWRlciA9IG5ldyBXZWFrTWFwKCk7CgogIHZhciBfcmVxdWVzdFRhc2sgPSBuZXcgV2Vha01hcCgpOwoKICBmdW5jdGlvbiBfdHJpZ2dlckV2ZW50KHR5cGUpIHsKICAgIHZhciBldmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgICBldmVudC50YXJnZXQgPSBldmVudC50YXJnZXQgfHwgdGhpczsKCiAgICBpZiAodHlwZW9mIHRoaXNbIm9uIi5jb25jYXQodHlwZSldID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIHRoaXNbIm9uIi5jb25jYXQodHlwZSldLmNhbGwodGhpcywgZXZlbnQpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gX2NoYW5nZVJlYWR5U3RhdGUocmVhZHlTdGF0ZSkgewogICAgdmFyIGV2ZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICAgIHRoaXMucmVhZHlTdGF0ZSA9IHJlYWR5U3RhdGU7CiAgICBldmVudC5yZWFkeVN0YXRlID0gcmVhZHlTdGF0ZTsKCiAgICBfdHJpZ2dlckV2ZW50LmNhbGwodGhpcywgJ3JlYWR5c3RhdGVjaGFuZ2UnLCBldmVudCk7CiAgfQoKICBmdW5jdGlvbiBfaXNSZWxhdGl2ZVBhdGgodXJsKSB7CiAgICByZXR1cm4gIS9eKGh0dHB8aHR0cHN8ZnRwfHd4ZmlsZSk6XC9cLy4qL2kudGVzdCh1cmwpOwogIH0KCiAgdmFyIFhNTEh0dHBSZXF1ZXN0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRXZlbnRUYXJnZXQpIHsKICAgIF9pbmhlcml0cyhYTUxIdHRwUmVxdWVzdCwgX0V2ZW50VGFyZ2V0KTsKCiAgICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFhNTEh0dHBSZXF1ZXN0KTsKCiAgICBmdW5jdGlvbiBYTUxIdHRwUmVxdWVzdCgpIHsKICAgICAgdmFyIF90aGlzOwoKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFhNTEh0dHBSZXF1ZXN0KTsKCiAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7CiAgICAgIC8qDQogICAgICAgKiBUT0RPIOi/meS4gOaJueS6i+S7tuW6lOivpeaYr+WcqCBYTUxIdHRwUmVxdWVzdEV2ZW50VGFyZ2V0LnByb3RvdHlwZSDkuIrpnaLnmoQNCiAgICAgICAqLwoKICAgICAgX3RoaXMub25hYm9ydCA9IG51bGw7CiAgICAgIF90aGlzLm9uZXJyb3IgPSBudWxsOwogICAgICBfdGhpcy5vbmxvYWQgPSBudWxsOwogICAgICBfdGhpcy5vbmxvYWRzdGFydCA9IG51bGw7CiAgICAgIF90aGlzLm9ucHJvZ3Jlc3MgPSBudWxsOwogICAgICBfdGhpcy5vbnRpbWVvdXQgPSBudWxsOwogICAgICBfdGhpcy5vbmxvYWRlbmQgPSBudWxsOwogICAgICBfdGhpcy5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsOwogICAgICBfdGhpcy5yZWFkeVN0YXRlID0gMDsKICAgICAgX3RoaXMucmVzcG9uc2UgPSBudWxsOwogICAgICBfdGhpcy5yZXNwb25zZVRleHQgPSBudWxsOwogICAgICBfdGhpcy5yZXNwb25zZVR5cGUgPSAndGV4dCc7CiAgICAgIF90aGlzLmRhdGFUeXBlID0gJ3N0cmluZyc7CiAgICAgIF90aGlzLnJlc3BvbnNlWE1MID0gbnVsbDsKICAgICAgX3RoaXMuc3RhdHVzID0gMDsKICAgICAgX3RoaXMuc3RhdHVzVGV4dCA9ICcnOwogICAgICBfdGhpcy51cGxvYWQgPSB7fTsKICAgICAgX3RoaXMud2l0aENyZWRlbnRpYWxzID0gZmFsc2U7CgogICAgICBfcmVxdWVzdEhlYWRlci5zZXQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIHsKICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcKICAgICAgfSk7CgogICAgICBfcmVzcG9uc2VIZWFkZXIuc2V0KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCB7fSk7CgogICAgICByZXR1cm4gX3RoaXM7CiAgICB9CgogICAgX2NyZWF0ZUNsYXNzKFhNTEh0dHBSZXF1ZXN0LCBbewogICAgICBrZXk6ICJhYm9ydCIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhYm9ydCgpIHsKICAgICAgICB2YXIgbXlSZXF1ZXN0VGFzayA9IF9yZXF1ZXN0VGFzay5nZXQodGhpcyk7CgogICAgICAgIGlmIChteVJlcXVlc3RUYXNrKSB7CiAgICAgICAgICBteVJlcXVlc3RUYXNrLmFib3J0KCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogImdldEFsbFJlc3BvbnNlSGVhZGVycyIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbGxSZXNwb25zZUhlYWRlcnMoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlSGVhZGVyID0gX3Jlc3BvbnNlSGVhZGVyLmdldCh0aGlzKTsKCiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHJlc3BvbnNlSGVhZGVyKS5tYXAoZnVuY3Rpb24gKGhlYWRlcikgewogICAgICAgICAgcmV0dXJuICIiLmNvbmNhdChoZWFkZXIsICI6ICIpLmNvbmNhdChyZXNwb25zZUhlYWRlcltoZWFkZXJdKTsKICAgICAgICB9KS5qb2luKCdcbicpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogImdldFJlc3BvbnNlSGVhZGVyIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJlc3BvbnNlSGVhZGVyKGhlYWRlcikgewogICAgICAgIHJldHVybiBfcmVzcG9uc2VIZWFkZXIuZ2V0KHRoaXMpW2hlYWRlcl07CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAib3BlbiIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuKG1ldGhvZCwgdXJsCiAgICAgIC8qIGFzeW5jLCB1c2VyLCBwYXNzd29yZCDov5nlh6DkuKrlj4LmlbDlnKjlsI/nqIvluo/lhoXkuI3mlK/mjIEqLwogICAgICApIHsKICAgICAgICB0aGlzLl9tZXRob2QgPSBtZXRob2Q7CiAgICAgICAgdGhpcy5fdXJsID0gdXJsOwoKICAgICAgICBfY2hhbmdlUmVhZHlTdGF0ZS5jYWxsKHRoaXMsIFhNTEh0dHBSZXF1ZXN0Lk9QRU5FRCk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAib3ZlcnJpZGVNaW1lVHlwZSIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvdmVycmlkZU1pbWVUeXBlKCkge30KICAgIH0sIHsKICAgICAga2V5OiAic2VuZCIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZW5kKCkgewogICAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7CgogICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgIT09IFhNTEh0dHBSZXF1ZXN0Lk9QRU5FRCkgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gZXhlY3V0ZSAnc2VuZCcgb24gJ1hNTEh0dHBSZXF1ZXN0JzogVGhlIG9iamVjdCdzIHN0YXRlIG11c3QgYmUgT1BFTkVELiIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgdXJsID0gdGhpcy5fdXJsOwoKICAgICAgICAgIHZhciBoZWFkZXIgPSBfcmVxdWVzdEhlYWRlci5nZXQodGhpcyk7CgogICAgICAgICAgdmFyIHJlc3BvbnNlVHlwZSA9IHRoaXMucmVzcG9uc2VUeXBlOwogICAgICAgICAgdmFyIGRhdGFUeXBlID0gdGhpcy5kYXRhVHlwZTsKCiAgICAgICAgICB2YXIgcmVsYXRpdmUgPSBfaXNSZWxhdGl2ZVBhdGgodXJsKTsKCiAgICAgICAgICB2YXIgZW5jb2Rpbmc7CgogICAgICAgICAgaWYgKHJlc3BvbnNlVHlwZSA9PT0gJ2FycmF5YnVmZmVyJykgOyBlbHNlIHsKICAgICAgICAgICAgZW5jb2RpbmcgPSAndXRmOCc7CiAgICAgICAgICB9CgogICAgICAgICAgZGVsZXRlIHRoaXMucmVzcG9uc2U7CiAgICAgICAgICB0aGlzLnJlc3BvbnNlID0gbnVsbDsKCiAgICAgICAgICB2YXIgb25TdWNjZXNzID0gZnVuY3Rpb24gb25TdWNjZXNzKF9yZWYpIHsKICAgICAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGEsCiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlID0gX3JlZi5zdGF0dXNDb2RlLAogICAgICAgICAgICAgICAgaGVhZGVyID0gX3JlZi5oZWFkZXI7CiAgICAgICAgICAgIHN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlID09PSB1bmRlZmluZWQgPyAyMDAgOiBzdGF0dXNDb2RlOwoKICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhICE9PSAnc3RyaW5nJyAmJiAhKGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpIHsKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpOwogICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgX3RoaXMyLnN0YXR1cyA9IHN0YXR1c0NvZGU7CgogICAgICAgICAgICBpZiAoaGVhZGVyKSB7CiAgICAgICAgICAgICAgX3Jlc3BvbnNlSGVhZGVyLnNldChfdGhpczIsIGhlYWRlcik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90cmlnZ2VyRXZlbnQuY2FsbChfdGhpczIsICdsb2Fkc3RhcnQnKTsKCiAgICAgICAgICAgIF9jaGFuZ2VSZWFkeVN0YXRlLmNhbGwoX3RoaXMyLCBYTUxIdHRwUmVxdWVzdC5IRUFERVJTX1JFQ0VJVkVEKTsKCiAgICAgICAgICAgIF9jaGFuZ2VSZWFkeVN0YXRlLmNhbGwoX3RoaXMyLCBYTUxIdHRwUmVxdWVzdC5MT0FESU5HKTsKCiAgICAgICAgICAgIF90aGlzMi5yZXNwb25zZSA9IGRhdGE7CgogICAgICAgICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7CiAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF90aGlzMiwgJ3Jlc3BvbnNlVGV4dCcsIHsKICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgICAgICAgICAgdGhyb3cgIkludmFsaWRTdGF0ZUVycm9yIDogcmVzcG9uc2VUeXBlIGlzICIgKyB0aGlzLnJlc3BvbnNlVHlwZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczIucmVzcG9uc2VUZXh0ID0gZGF0YTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NoYW5nZVJlYWR5U3RhdGUuY2FsbChfdGhpczIsIFhNTEh0dHBSZXF1ZXN0LkRPTkUpOwoKICAgICAgICAgICAgX3RyaWdnZXJFdmVudC5jYWxsKF90aGlzMiwgJ2xvYWQnKTsKCiAgICAgICAgICAgIF90cmlnZ2VyRXZlbnQuY2FsbChfdGhpczIsICdsb2FkZW5kJyk7CiAgICAgICAgICB9OwoKICAgICAgICAgIHZhciBvbkZhaWwgPSBmdW5jdGlvbiBvbkZhaWwoX3JlZjIpIHsKICAgICAgICAgICAgdmFyIGVyck1zZyA9IF9yZWYyLmVyck1zZzsKCiAgICAgICAgICAgIC8vIFRPRE8g6KeE6IyD6ZSZ6K+vCiAgICAgICAgICAgIGlmIChlcnJNc2cuaW5kZXhPZignYWJvcnQnKSAhPT0gLTEpIHsKICAgICAgICAgICAgICBfdHJpZ2dlckV2ZW50LmNhbGwoX3RoaXMyLCAnYWJvcnQnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdHJpZ2dlckV2ZW50LmNhbGwoX3RoaXMyLCAnZXJyb3InLCB7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJNc2cKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX3RyaWdnZXJFdmVudC5jYWxsKF90aGlzMiwgJ2xvYWRlbmQnKTsKCiAgICAgICAgICAgIGlmIChyZWxhdGl2ZSkgewogICAgICAgICAgICAgIC8vIOeUqOaIt+WNs+S9v+ayoeebkeWQrGVycm9y5LqL5Lu2LCDkuZ/nu5nlh7rnm7jlupTnmoTorablkYoKICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyTXNnKTsKICAgICAgICAgICAgfQogICAgICAgICAgfTsKCiAgICAgICAgICBpZiAocmVsYXRpdmUpIHsKICAgICAgICAgICAgdmFyIGZzID0gd3guZ2V0RmlsZVN5c3RlbU1hbmFnZXIoKTsKICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgJ2ZpbGVQYXRoJzogdXJsLAogICAgICAgICAgICAgICdzdWNjZXNzJzogb25TdWNjZXNzLAogICAgICAgICAgICAgICdmYWlsJzogb25GYWlsCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBpZiAoZW5jb2RpbmcpIHsKICAgICAgICAgICAgICBvcHRpb25zWydlbmNvZGluZyddID0gZW5jb2Rpbmc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZzLnJlYWRGaWxlKG9wdGlvbnMpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgd3gucmVxdWVzdCh7CiAgICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICBtZXRob2Q6IHRoaXMuX21ldGhvZCwKICAgICAgICAgICAgaGVhZGVyOiBoZWFkZXIsCiAgICAgICAgICAgIGRhdGFUeXBlOiBkYXRhVHlwZSwKICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiByZXNwb25zZVR5cGUsCiAgICAgICAgICAgIHN1Y2Nlc3M6IG9uU3VjY2VzcywKICAgICAgICAgICAgZmFpbDogb25GYWlsCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAic2V0UmVxdWVzdEhlYWRlciIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRSZXF1ZXN0SGVhZGVyKGhlYWRlciwgdmFsdWUpIHsKICAgICAgICB2YXIgbXlIZWFkZXIgPSBfcmVxdWVzdEhlYWRlci5nZXQodGhpcyk7CgogICAgICAgIG15SGVhZGVyW2hlYWRlcl0gPSB2YWx1ZTsKCiAgICAgICAgX3JlcXVlc3RIZWFkZXIuc2V0KHRoaXMsIG15SGVhZGVyKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJhZGRFdmVudExpc3RlbmVyIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHsKICAgICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdGhpc1snb24nICsgdHlwZV0gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgZXZlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwogICAgICAgICAgZXZlbnQudGFyZ2V0ID0gZXZlbnQudGFyZ2V0IHx8IF90aGlzMzsKICAgICAgICAgIGxpc3RlbmVyLmNhbGwoX3RoaXMzLCBldmVudCk7CiAgICAgICAgfTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJyZW1vdmVFdmVudExpc3RlbmVyIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHsKICAgICAgICBpZiAodGhpc1snb24nICsgdHlwZV0gPT09IGxpc3RlbmVyKSB7CiAgICAgICAgICB0aGlzWydvbicgKyB0eXBlXSA9IG51bGw7CiAgICAgICAgfQogICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIFhNTEh0dHBSZXF1ZXN0OwogIH0oRXZlbnRUYXJnZXQpOyAvLyBUT0RPIOayoeazleaooeaLnyBIRUFERVJTX1JFQ0VJVkVEIOWSjCBMT0FESU5HIOS4pOS4queKtuaAgQogIFhNTEh0dHBSZXF1ZXN0LlVOU0VORCA9IDA7CiAgWE1MSHR0cFJlcXVlc3QuT1BFTkVEID0gMTsKICBYTUxIdHRwUmVxdWVzdC5IRUFERVJTX1JFQ0VJVkVEID0gMjsKICBYTUxIdHRwUmVxdWVzdC5MT0FESU5HID0gMzsKICBYTUxIdHRwUmVxdWVzdC5ET05FID0gNDsKCiAgdmFyIF93eCRnZXRTeXN0ZW1JbmZvU3luYyQyID0gd3guZ2V0U3lzdGVtSW5mb1N5bmMoKSwKICAgICAgcGxhdGZvcm0kMiA9IF93eCRnZXRTeXN0ZW1JbmZvU3luYyQyLnBsYXRmb3JtOyAvLyBleHBvcnQgeyBkZWZhdWx0IGFzIEhUTUxJbWFnZUVsZW1lbnQgfSBmcm9tICcuL0hUTUxJbWFnZUVsZW1lbnQnCgogIGlmIChwbGF0Zm9ybSQyICE9PSAnZGV2dG9vbHMnKSB7CiAgICB2YXIgd3hQZXJmJDEgPSB3eC5nZXRQZXJmb3JtYW5jZSA/IHd4LmdldFBlcmZvcm1hbmNlKCkgOiBEYXRlOwogICAgdmFyIGNvbnNvbGVUaW1lcnMgPSB7fTsKCiAgICBjb25zb2xlLnRpbWUgPSBmdW5jdGlvbiAobmFtZSkgewogICAgICBjb25zb2xlVGltZXJzW25hbWVdID0gd3hQZXJmJDEubm93KCk7CiAgICB9OwoKICAgIGNvbnNvbGUudGltZUVuZCA9IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgIHZhciB0aW1lU3RhcnQgPSBjb25zb2xlVGltZXJzW25hbWVdOwoKICAgICAgaWYgKCF0aW1lU3RhcnQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciB0aW1lRWxhcHNlZCA9IHd4UGVyZiQxLm5vdygpIC0gdGltZVN0YXJ0OwogICAgICBjb25zb2xlLmxvZyhuYW1lICsgIjogIiArIHRpbWVFbGFwc2VkIC8gMTAwMCArICJtcyIpOwogICAgICBkZWxldGUgY29uc29sZVRpbWVyc1tuYW1lXTsKICAgIH07CiAgfQoKICBpZiAod3gub25XaW5kb3dSZXNpemUpIHsKICAgIHd4Lm9uV2luZG93UmVzaXplKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgdmFyIGV2ZW50ID0gbmV3IEV2ZW50KCdyZXNpemUnKTsKICAgICAgZXZlbnQudGFyZ2V0ID0gZG9jdW1lbnQkMTsKICAgICAgZXZlbnQudGltZVN0YW1wID0gRGF0ZS5ub3coKTsKICAgICAgZXZlbnQucmVzID0gcmVzOwogICAgICBldmVudC53aW5kb3dXaWR0aCA9IHJlcy53aW5kb3dXaWR0aDsKICAgICAgZXZlbnQud2luZG93SGVpZ2h0ID0gcmVzLndpbmRvd0hlaWdodDsKICAgICAgZG9jdW1lbnQkMS5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKICAgIH0pOwogIH0KCiAgd3guYXJyYXlCdWZmZXJUb0Jhc2U2NCB8fCBub29wOwogIHd4LmJhc2U2NFRvQXJyYXlCdWZmZXIgfHwgbm9vcDsgLy8gY29uc3QgZmV0Y2ggPSB7fSwgY2hyb21lID0ge30sIGNvbnNvbGUgPSB7fQoKICAvKioqDQogICAqIOWkhOeQhuaWh+S7tuWKoOi9veWPiuino+aekA0KICAgKi8KCiAgLyoq54q25oCBKi8KICB2YXIgU1RBVFVTID0gewogICAgQ29tcGxldGU6ICdjb21wbGV0ZScsCiAgICBQcm9ncmVzczogJ3Byb2dyZXNzJywKICAgIEVycm9yOiAnZXJyb3InCiAgfTsKICAvKirmjqXmlLbmtojmga8qLwoKICBzZWxmLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7CiAgICBzd2l0Y2ggKGUuZGF0YS5jbWQpIHsKICAgICAgY2FzZSAnbWVzaCc6CiAgICAgICAgbG9hZE1lc2goZS5kYXRhLmRhdGEpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnaW1nJzoKICAgICAgICBwcmVsb2FkSW1hZ2UoZS5kYXRhLmRhdGEpOwogICAgICAgIGJyZWFrOwogICAgfQogIH07CiAgLyoqDQogICAqIOWPkemAgea2iOaBrw0KICAgKiBAcGFyYW0gc3RhdHVzIOeKtuaAgQ0KICAgKiBAcGFyYW0gZGF0YSDopoHlj5HpgIHnmoTmlbDmja4NCiAgICovCgoKICBmdW5jdGlvbiBwb3N0TXNnKHN0YXR1cywgdGFzaywgZGF0YSkgewogICAgcG9zdE1lc3NhZ2UoewogICAgICBzdGF0dXM6IHN0YXR1cywKICAgICAgdGFzazogdGFzaywKICAgICAgZGF0YTogZGF0YSwKICAgICAgdGltZTogbmV3IERhdGUoKQogICAgfSk7CiAgfQogIC8qKuWKoOi9vee9keagvOaWh+S7tiovCgogIGZ1bmN0aW9uIGxvYWRNZXNoKHVybCkgewogICAgLy8gY29uc29sZS50aW1lKCd3b3JrZXLliqDovb3mqKHlnovogJfml7bvvJonKTsKICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7IC8vIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gJ2pzb24nOwoKICAgIHJlcXVlc3Qub3BlbignR0VUJywgdXJsLCB0cnVlKTsKICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uIChldmVudCkgewogICAgICB2YXIgcmVzcG9uc2UgPSB0aGlzLnJlc3BvbnNlOyAvL+WKoOi9veaIkOWKnwoKICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSAyMDAgfHwgdGhpcy5zdGF0dXMgPT09IDApIHsKICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDApIGNvbnNvbGUud2FybignSFRUUCBTdGF0dXMgMCByZWNlaXZlZC4nKTsgLy8gY29uc29sZS50aW1lRW5kKCd3b3JrZXLliqDovb3mqKHlnovogJfml7bvvJonKTsKICAgICAgICAvLyBjb25zb2xlLnRpbWUoICd3b3JrZXLop6PmnpDmqKHlnovogJfml7bvvJonICk7CgogICAgICAgIHBhcnNlR2VvbWV0cnkoSlNPTi5wYXJzZShyZXNwb25zZSkpOyAvLyBjb25zb2xlLnRpbWVFbmQoICd3b3JrZXLop6PmnpDmqKHlnovogJfml7bvvJonICk7CiAgICAgICAgLy8gcGFyc2VHZW9tZXRyeSggcmVzcG9uc2UgKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwb3N0TXNnKFNUQVRVUy5FcnJvciwgJ21lc2gnLCAnTG9hZGluZyBFcnJvciAnICsgdGhpcy5zdGF0dXMgKyAnIFVSTDonICsgdXJsKTsKICAgICAgfQogICAgfSwgZmFsc2UpOyAvL+WKoOi9vei/m+W6pgoKICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgcG9zdE1zZyhTVEFUVVMuUHJvZ3Jlc3MsICdtZXNoJywgewogICAgICAgIGxvYWRlZDogZXZlbnQubG9hZGVkLAogICAgICAgIHRvdGFsOiBldmVudC50b3RhbAogICAgICB9KTsKICAgIH0sIGZhbHNlKTsgLy/liqDovb3lh7rplJkKCiAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIHBvc3RNc2coU1RBVFVTLkVycm9yLCAnbWVzaCcsIGV2ZW50Lm1lc3NhZ2UpOwogICAgfSwgZmFsc2UpOwogICAgcmVxdWVzdC5zZW5kKG51bGwpOwogIH0KICAvKioNCiAgICog6aKE5Yqg6L295Zu+54mHDQogICAqLwoKICBmdW5jdGlvbiBwcmVsb2FkSW1hZ2UodXJsKSB7CiAgICB2YXIgcGF0aHM7CgogICAgaWYgKEFycmF5LmlzQXJyYXkodXJsKSkgewogICAgICBwYXRocyA9IHVybDsKICAgIH0gZWxzZSB7CiAgICAgIHBhdGhzID0gW3VybF07CiAgICB9CgogICAgcGF0aHMuZm9yRWFjaChmdW5jdGlvbiAodXJsKSB7CiAgICAgIGlmICh1cmwuaW5kZXhPZignaHR0cCcpID09IC0xKSB1cmwgPSBsb2NhdGlvbi5vcmlnaW4gKyAnLycgKyB1cmw7CiAgICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgIHJlcXVlc3Qub3BlbignR0VUJywgdXJsLCB0cnVlKTsKICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgdGhpcy5yZXNwb25zZTsgLy/liqDovb3miJDlip8KCiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSAyMDAgfHwgdGhpcy5zdGF0dXMgPT09IDApIHsKICAgICAgICAgIHBvc3RNc2coU1RBVFVTLkNvbXBsZXRlLCAnaW1nJywgdXJsKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcG9zdE1zZyhTVEFUVVMuRXJyb3IsICdpbWcnLCAnTG9hZGluZyBFcnJvciAnICsgdGhpcy5zdGF0dXMgKyAnIFVSTDonICsgdXJsKTsKICAgICAgICB9CiAgICAgIH0sIGZhbHNlKTsKICAgICAgcmVxdWVzdC5zZW5kKG51bGwpOwogICAgfSk7CiAgfQogIC8qKg0KICAgKiDop6PmnpBnZW9tZXRyeQ0KICAgKiBAcGFyYW0gZGF0YQ0KICAgKi8KCiAgZnVuY3Rpb24gcGFyc2VHZW9tZXRyeShkYXRhKSB7CiAgICB2YXIgbWVzaGVzID0gZGF0YTsKCiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gbWVzaGVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBnZW9EYXRhID0gbWVzaGVzW2ldOwoKICAgICAgaWYgKGdlb0RhdGEuaCAmJiBnZW9EYXRhLmgubGVuZ3RoID4gMCkgewogICAgICAgIC8vcG9zaXRpb24KICAgICAgICBpZiAoZ2VvRGF0YS5oICYmIGdlb0RhdGEuaC5sZW5ndGggPiAwKSB7CiAgICAgICAgICBnZW9EYXRhLmggPSBuZXcgRmxvYXQzMkFycmF5KGdlb0RhdGEuaCk7CiAgICAgICAgfSAvL25vcm1hbAoKCiAgICAgICAgaWYgKGdlb0RhdGEuaiAmJiBnZW9EYXRhLmoubGVuZ3RoID4gMCkgewogICAgICAgICAgZ2VvRGF0YS5qID0gbmV3IEZsb2F0MzJBcnJheShnZW9EYXRhLmopOwogICAgICAgIH0gLy91dgoKCiAgICAgICAgaWYgKGdlb0RhdGEuayAmJiBnZW9EYXRhLmsubGVuZ3RoID4gMCkgewogICAgICAgICAgZ2VvRGF0YS5rID0gbmV3IEZsb2F0MzJBcnJheShnZW9EYXRhLmspOwogICAgICAgIH0gLy91djIKCgogICAgICAgIGlmIChnZW9EYXRhLmwgJiYgZ2VvRGF0YS5sLmxlbmd0aCA+IDApIHsKICAgICAgICAgIGdlb0RhdGEubCA9IG5ldyBGbG9hdDMyQXJyYXkoZ2VvRGF0YS5sKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBwb3N0TXNnKFNUQVRVUy5Db21wbGV0ZSwgJ21lc2gnLCBkYXRhKTsKICB9Cgp9KCkpOwoK",null,!1),Hg=function(){function e(){Me(this,e),this._worker=void 0}return Te(e,[{key:"loadMesh",value:function(e,t,n,i){var r=this;this._load("mesh",e,(function(e){t(e),r.closeWorker()}),n,i)}},{key:"preloadMap",value:function(e,t,n){this._load("img",e,t,void 0,n)}},{key:"closeWorker",value:function(){this._worker.terminate()}},{key:"_load",value:function(e,t,n,i,r){"undefined"!=typeof Worker?(this._worker||(this._worker=new Lg),this._worker.onmessage=function(t){if(t.data.task==e)switch(t.data.status){case"complete":n&&n(t.data.data);break;case"progress":i&&i(t.data.data);break;case"error":r&&r(t.data.data)}},this._worker.postMessage({cmd:e,data:t})):console.log("浏览器不支持worker")}}]),e}(),Gg=function(e){Fe(n,e);var t=Ge(n);function n(){return Me(this,n),t.call(this)}return Te(n,[{key:"dispatchEvent",value:function(e,t){Pe(Ue(n.prototype),"dispatchEvent",this).call(this,{type:e,data:t})}}]),n}(Yt),Pg=function(e){Fe(n,e);var t=Ge(n);function n(e){var i;return Me(this,n),(i=t.call(this))._rootModel=e,i._speed=1,i._paused=!0,i._clock=new uu,i._stopped=!1,i.loop=!0,i._mixers=[],i._actions=[],i._mixer=null,i._clipMap=new Map,i._currentAction=null,i._clipName=null,i.actions=[],i._defaultAction=null,i}return Te(n,[{key:"addClip",value:function(e){var t=this;this._mixer||(this._mixer=new Nu(this._rootModel),this._mixer.addEventListener("finished",(function(e){t.stop(),t.dispatchEvent(ln.ENDED),t.onEnded&&t.onEnded()})),this._mixer.addEventListener("loop",(function(e){this.dispatchEvent(ln.LOOP)})));var n=this._mixer.clipAction(e);this._clipMap.set(e.name,n),this.actions.push(e.name),this._defaultAction||(this._defaultAction=n)}},{key:"play",value:function(e,t,n){if(this._mixers.length>0)this._play(e);else{if(e||console.warn("play: 需要指定需要播放的动画"),this._clipName=e,this._paused=this._stopped=!1,this._clock.start(),e){var i=this._clipMap.get(e);i&&(this._currentAction&&this._currentAction!==i&&this._currentAction.stop(),this._currentAction=i)}this._currentAction||(this._currentAction=this._defaultAction),this._currentAction&&(this._currentAction.paused=!1,this._currentAction.setLoop(this.loop?St:Tt),this._currentAction.play())}}},{key:"_play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._paused||this.stop(),this._paused=this._stopped=!1,this._mixers.forEach((function(t){t._actions.forEach((function(t){t.timeScale=e?-1:1,t.play()}))}))}},{key:"playByCrossFade",value:function(e,t){var n;if(this._clipName=e,this._paused=this._stopped=!1,this._clock.start(),e&&(n=this._clipMap.get(e)),n&&n!=this._currentAction){n.pause=!1;var i=this._currentAction;this._currentAction=n,this._currentAction.setLoop(this.loop?St:Tt),i.crossFadeTo(n,t,!0)}else this._currentAction.pause=!1,this._currentAction.setLoop(this.loop?St:Tt),this._currentAction.play()}},{key:"setData",value:function(e,t){this._mixers=e,this._actions=t}},{key:"setLoop",value:function(e){this.loop=e,this._currentAction&&this._currentAction.setLoop(this.loop?St:Tt)}},{key:"getLoop",value:function(){return this.loop}},{key:"speed",get:function(){return this._speed},set:function(e){this._speed=e}},{key:"paused",get:function(){return this._paused}},{key:"pause",value:function(){this._paused=!0}},{key:"stop",value:function(){this._paused=this._stopped=!0,this._mixers.forEach((function(e){e._actions.forEach((function(e){e.stop()}))})),this._currentAction&&this._currentAction.stop()}},{key:"update",value:function(){if(!this._paused&&this._mixers.length>0)for(var e=this._clock.getDelta()*this._speed,t=0;t<this._mixers.length;t++)this._mixers[t].update(e);if(!this._paused&&this._mixer){var n=this._clock.getDelta()*this._speed;this._mixer.update(n),pn.render()}}},{key:"hasAnimation",value:function(){if(this._mixer)return!0;var e=this._mixers.length;if(0===e)return!1;if(this._mixers.length>0){for(var t=0;t<e;t++)for(var n=this._actions[t].getClip().tracks,i=0;i<n.length;i++)if(n[i].times.length>1)return!0;return!1}return!1}},{key:"list",value:function(){var e=[];if(this._mixer){var t,n=Ve(this._clipMap.keys());try{for(n.s();!(t=n.n()).done;){var i=t.value;e.push(i)}}catch(e){n.e(e)}finally{n.f()}}return e}},{key:"onEnded",value:function(){}}]),n}(Gg),Qg=function(){function e(t){var n=this;Me(this,e),this.objects=[],t.traverse((function(e){e.isMesh&&(n.objects.push(e),e.defaultMat=e.material)})),this.normalMaterial=new Ml}return Te(e,[{key:"applyUV",value:function(e){var t=(new rc).load(e);this.objects.forEach((function(e){if(Array.isArray(e.material))for(var n=0;n<e.material.length;n++)e.material[n]=new Fl({albedo:t});else e.material=new Fl({albedo:t})})),pn.render()}},{key:"applyNormal",value:function(){var e=this;this.objects.forEach((function(t){t.material=e.normalMaterial})),pn.render()}},{key:"applyWireFrame",value:function(){this.resetMaterial(),this.objects.forEach((function(e){Array.isArray(e.material)?e.material.forEach((function(e){e.wireframe=!0})):e.material.wireframe=!0})),pn.render()}},{key:"resetMaterial",value:function(){this.objects.forEach((function(e){e.material=e.defaultMat,Array.isArray(e.material)?e.material.forEach((function(e){e.wireframe=!1})):e.material.wireframe=!1})),pn.render()}}]),e}(),Dg=function(e){Fe(n,e);var t=Ge(n);function n(e,i,r,A){var a;return Me(this,n),a=t.call(this),e&&(a.object=e,a._draw(i,r,A)),a}return Te(n,[{key:"_draw",value:function(e,t,n){var i;i=this.object.isBox3?this.object:(new oi).setFromObject(this.object);var r=new rn;i.getSize(r),this.maxLength=Math.max(r.x,r.y,r.z),this.textScale=2,this.textMeshScale=.002*this.maxLength,this.fontSize=20*this.textScale,console.log("模型尺寸",r);var A=new rn;i.getCenter(A);var a=.03*this.maxLength,o=.2*this.maxLength,s=.5*this.fontSize*this.textMeshScale/this.textScale,l=new rn(i.min.x,i.max.y+o,A.z),c=new rn(i.max.x,i.max.y+o,A.z);void 0!==e&&""!==e||(e=l.distanceTo(c).toFixed(4));var u=this._drawLine(l,c);u.rotation.z=Math.PI/2;var h=new rn(l.x,l.y+s,l.z),d=new rn(l.x,l.y-s,l.z);u=this._drawLine(h,d),h.set(c.x,c.y+s,c.z),d.set(c.x,c.y-s,c.z),u=this._drawLine(h,d);var g=this._drawText(e,new rn(A.x,i.max.y+a+o,A.z)),p=g.clone();this.add(p),p.rotation.y=Math.PI,this.lengthMesh=g,this.lengthMesh.back=p,l.set(i.min.x-o,i.min.y,(i.max.z+i.min.z)/2),c.set(i.min.x-o,i.max.y,(i.max.z+i.min.z)/2),u=this._drawLine(l,c),void 0!==n&&""!==n||(n=l.distanceTo(c).toFixed(4)),h.set(l.x+s,l.y,l.z),d.set(l.x-s,l.y,l.z),(u=this._drawLine(h,d)).rotation.z=Math.PI/2,h.set(c.x+s,c.y,c.z),d.set(c.x-s,c.y,c.z),(u=this._drawLine(h,d)).rotation.z=Math.PI/2,p=(g=this._drawText(n,new rn(i.min.x-a-o,A.y,A.z))).clone(),this.add(p),p.position.x-=a/2,g.rotation.z=p.rotation.z=Math.PI/2,p.rotation.y=Math.PI,this.heightMesh=g,this.heightMesh.back=p,l.set(i.max.x+o,A.y,i.min.z),c.set(i.max.x+o,A.y,i.max.z),(u=this._drawLine(l,c)).rotation.x=Math.PI/2,void 0!==t&&""!==t||(t=l.distanceTo(c).toFixed(4)),h.set(l.x,l.y+s,l.z),d.set(l.x,l.y-s,l.z),u=this._drawLine(h,d),h.set(c.x,c.y+s,c.z),d.set(c.x,c.y-s,c.z),u=this._drawLine(h,d),p=(g=this._drawText(t,new rn(i.max.x+o,A.y+a,A.z))).clone(),this.add(p),g.rotation.y=p.rotation.y=Math.PI/2,p.rotation.y=-Math.PI/2,this.widthMesh=g,this.widthMesh.back=p}},{key:"updateSize",value:function(e,t,n){this.lengthMesh&&void 0!==e&&""!==e&&this._updateTextMesh(this.lengthMesh,e),this.widthMesh&&void 0!==t&&""!==t&&this._updateTextMesh(this.widthMesh,t),this.heightMesh&&void 0!==n&&""!==n&&this._updateTextMesh(this.heightMesh,n)}},{key:"_updateTextMesh",value:function(e,t){var n=e.material,i=n.map.image;this._fillText(n.map.image,t),n.map.needsUpdate=!0,n.needsUpdate=!0,e.back.material.map.needsUpdate=!0,e.back.material.needsUpdate=!0,e.back.geometry.dispose(),e.geometry.dispose(),e.back.geometry=e.geometry=new AA(i.width*this.textMeshScale/this.textScale,i.height*this.textMeshScale/this.textScale)}},{key:"_drawLine",value:function(e,t){var n=.005*this.maxLength*.5,i=new Fr(new Nr(n,e.distanceTo(t),n),new Zi({color:"#ffffff",side:2}));return i.position.copy(e.clone().add(t).multiplyScalar(.5)),i.renderOrder=5e3,this.add(i),i}},{key:"_drawText",value:function(e,t){var n=q.createElement("canvas");(n=wx.createOffscreenCanvas({type:"2d"})).height=this.fontSize,this._fillText(n,e);var i=new AA(n.width*this.textMeshScale/this.textScale,n.height*this.textMeshScale/this.textScale),r=new As(n);(r=new Yr(n.getContext("2d").getImageData(0,0,n.width,n.height).data,n.width,n.height,gt)).anisotropy=16;var A=new Zi({map:r,transparent:!0});A.depthTest=!1;var a=new Fr(i,A);return a.position.copy(t),this.add(a),a}},{key:"_fillText",value:function(e,t){var n=this.fontSize+"px 宋体";e.width=this._measureTextWidth(n,t);var i=e.getContext("2d");i.clearRect(0,0,e.width,e.height),i.font=n,i.fillStyle="#ffffff",i.textAlign="left",i.textBaseline="top",i.fillText(t,0,0)}},{key:"_measureTextWidth",value:function(e,t){this._measureCanvas||(this._measureCanvas=q.createElement("canvas"),this._measureCanvas=wx.createOffscreenCanvas({type:"2d"}),this._measureCanvas.height=100,this._measureCanvas.width=100);var n=this._measureCanvas.getContext("2d");return n.font=e,n.measureText(t).width}},{key:"show",value:function(e,t,n,i){e&&this.object!==e&&(this.object=e),this.object&&this._draw(t,n,i),pn.render(!0)}},{key:"dispose",value:function(){}}]),n}(_n),Ng=function(e){Fe(n,e);var t=Ge(n);function n(e,i){var r;Me(this,n),(r=t.call(this)).object=e,r.options=i||{},void 0===r.options.exposeFactor&&(r.options.exposeFactor=2),void 0===r.options.exposeByPart&&(r.options.exposeByPart=!1),void 0===r.options.exposeType&&(r.options.exposeType="NORMAL"),r.digits=10,r.prePercent=0,r.allModels=[];var A=r.object.getObjectByName("shadow");return r.options.exposeByPart?A.parent.children.forEach((function(e){e!==A&&e.children.forEach((function(e){r.allModels.push(e)}))})):r.object.traverse((function(e){e.geometry&&"shadow"!==e.name&&r.allModels.push(e)})),r.setMode(r.options.exposeType),pn.render(),r}return Te(n,[{key:"setMode",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NORMAL";switch(t){case"SPHERE":var n=this.allModels.length,i=Math.ceil(Math.sqrt(n)),r=this._genSphereGeo(i,n),A=r.length,a=[],o=(new oi).setFromObject(this.object),s=o.getSize(new rn),l=Math.max(s.x,s.y,s.z);this.allModels.forEach((function(t){var n=e._getRandom(A,a);a.push(n);var i=r[n].clone().normalize();t.direct=i.clone().multiplyScalar(l*e.options.exposeFactor)}));break;default:var c=(new oi).setFromObject(this.object),u=c.getCenter(new rn);this.allModels.forEach((function(t){var n=(new oi).setFromObject(t);t.direct=n.getCenter(new rn).sub(u).clone().multiplyScalar(e.options.exposeFactor)}))}}},{key:"applyScalar",value:function(e){var t=e-this.prePercent;this.prePercent=e,this.allModels.forEach((function(e){var n=e.getWorldPosition(new rn);n.add(e.direct.clone().multiplyScalar(t));var i=e.parent.worldToLocal(n);e.position.copy(i)})),pn.render(),this.dispatchEvent(ln.CHANGE,e)}},{key:"_getRandom",value:function(e,t){var n=Math.floor(Math.random()*e);return t.indexOf(n)>-1?this._getRandom(e,t):n}},{key:"_genSphereGeo",value:function(e,t){var n=new il(1,e,e),i=this._removeRepeat(n.vertices);return i.length<t?this._genSphereGeo(e+1,t):i}},{key:"_removeRepeat",value:function(e){var t=[],n=this;return e.forEach((function(e){t.find((function(t){return n._equalV(e,t)}))||t.push(e)})),t}},{key:"_equalF",value:function(e,t){return parseFloat(Number(e).toFixed(10))===parseFloat(Number(t).toFixed(10))}},{key:"_equalV",value:function(e,t){return this._equalF(e.x,t.x)&&this._equalF(e.y,t.y)&&this._equalF(e.z,t.z)}}]),n}(Gg);_n.prototype.startMove=function(e){var t=this;if(e.path){this.tween&&this.tween.stop();var n=[];e.path.forEach((function(e){n.push((new rn).copy(e))}));var i=new dc(n);i.curveType="catmullrom",i.tension=0;var r,A={t:0},a=new rn;this.tween=new hn.Tween(A).to({t:1},e.time||3e3).onUpdate((function(){var e=new rn;i.getPoint(A.t,e),a.copy(e),r&&i.getPoint(A.t+.01,a),r=A.t,t.position.copy(e.clone())})).onComplete((function(){e.onComplete&&e.onComplete()})).repeat(e.loop||1).start()}else console.error("startMove缺少参数path")},_n.prototype.stopMove=function(){this.tween&&this.tween.stop()};var Vg=function(e){Fe(n,e);var t=Ge(n);function n(){var e;return Me(this,n),(e=t.call(this))._cacheMaterials={},e.isModel=!0,e.name="",e.objects=[],e.materials=[],e.animation=new Pg(Le(e)),e.envMap=null,e.clickCallback=[],e.dblclickCallback=[],e.mousedownCallback=[],e.mousemoveCallback=[],e.onBeforeRender=function(){},e}return Te(n,[{key:"materialViewer",get:function(){return this._materialViewer||(this._materialViewer=new Qg(this)),this._materialViewer}},{key:"applyWireFrame",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?this.materialViewer.applyWireFrame.bind(this._materialViewer)():this.materialViewer.resetMaterial.bind(this._materialViewer)()}},{key:"add",value:function(e){Pe(Ue(n.prototype),"add",this).call(this,e),pn.render()}},{key:"remove",value:function(e){e.parent&&Pe(Ue(n.prototype),"remove",this).call(this,e),pn.render()}},{key:"getObjectByName",value:function(e){return Pe(Ue(n.prototype),"getObjectByName",this).call(this,e)}},{key:"getObjectById",value:function(e){return Pe(Ue(n.prototype),"getObjectById",this).call(this,e)}},{key:"replace",value:function(e,t){e.position.copy(t.localToWorld(t.position.clone())),e.rotation.copy(t.rotation),t.parent.add(e),t.parent.remove(t),pn.render()}},{key:"setPosition",value:function(e,t,n){this.position.set(e,t,n)}},{key:"setRotation",value:function(e,t,n){this.rotation.set(e,t,n)}},{key:"setScale",value:function(e,t,n){this.scale.set(e,t,n)}},{key:"setEnvMap",value:function(e){var t=this;e.isTexture?(this.envMap=e,this.materials.forEach((function(t){t.envMap=e,t.needsUpdate=!0})),pn.render()):gg.loadEnvMap(e,(function(e){t.envMap=e,t.materials.forEach((function(t){t.envMap=e,t.needsUpdate=!0})),pn.render()}))}},{key:"getEnvMap",value:function(){if(this.envMap)return this.envMap.image.src}},{key:"setEnvMapRotation",value:function(e){this.envMapRotation=e,this.materials.forEach((function(t){t.envMap&&(t.envRotateY=Math.PI/180*e,t.needsUpdate=!0)})),pn.render()}},{key:"getEnvMapRotation",value:function(){return this.envMapRotation||0}},{key:"setEnvMapIntensity",value:function(e){this.envMapIntensity=e,this.materials.forEach((function(t){t.envMapIntensity=e,t.needsUpdate=!0}))}},{key:"getEnvMapIntensity",value:function(){return this.envMapIntensity||.7}},{key:"clearEnvMap",value:function(){this.envMap=null,this.materials.forEach((function(e){e.envMap=null,e.needsUpdate=!0})),pn.render()}},{key:"hasAnimation",value:function(){return this.animation.hasAnimation()}},{key:"adapt",value:function(e){var t=new oi;t.expandByObject(e);var n=t.getCenter(new rn);this.objects.forEach((function(e){e.position.x-=n.x,e.position.y-=n.y,e.position.z-=n.z}))}},{key:"getMesh",value:function(e,t){var n=this;e.children&&e.children.forEach((function(e){"Mesh"===e.type&&t.push(e),e.children&&n.getMesh(e,t)}))}},{key:"getSize",value:function(){var e=new oi;e.setFromObject(this);var t=new rn;return e.getSize(t),t}},{key:"onComplete",value:function(){var e=this;this.objects=[],this.traverse((function(t){t.isMesh&&e.objects.push(t)}))}},{key:"showDimension",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.dimension&&mg.root.remove(this.dimension),this.dimension=new Dg(this,e,t,n),mg.root.add(this.dimension)}},{key:"hideDimension",value:function(){this.dimension&&(mg.root.remove(this.dimension),this.dimension=null)}},{key:"setExploding",value:function(e){this.exploding||(this.exploding=new Ng(this)),this.exploding.applyScalar(parseFloat(e))}},{key:"setExplodingMode",value:function(e){this.exploding||(this.exploding=new Ng(this)),this.exploding.applyScalar(0),this.exploding.setMode(e)}},{key:"onBeforeRender",value:function(e,t,n){}},{key:"onAfterRender",value:function(e,t,n){}},{key:"on",value:function(e,t){"click"==e&&(this.clickCallback.push(t),ep.intersectObjects.click.includes(this)||ep.intersectObjects.click.push(this)),"dblclick"==e&&(this.dblclickCallback.push(t),ep.intersectObjects.dblclick.includes(this)||ep.intersectObjects.dblclick.push(this)),"mousedown"==e&&(this.mousedownCallback.push(t),ep.intersectObjects.mousedown.includes(this)||ep.intersectObjects.mousedown.push(this)),"mousemove"==e&&(this.mousemoveCallback.push(t),ep.intersectObjects.mousemove.includes(this)||ep.intersectObjects.mousemove.push(this))}},{key:"off",value:function(e,t){"click"==e&&(this.clickCallback.includes(t)&&this.clickCallback.remove(t),0==this.clickCallback.length&&ep.intersectObjects.click.includes(this)&&ep.intersectObjects.click.remove(this)),"dblclick"==e&&(this.dblclickCallback.includes(t)&&this.dblclickCallback.remove(t),0==this.dblclickCallback.length&&ep.intersectObjects.dblclick.includes(this)&&ep.intersectObjects.dblclick.remove(this)),"mousedown"==e&&(this.mousedownCallback.includes(t)&&this.mousedownCallback.remove(t),0==this.mousedownCallback.length&&ep.intersectObjects.mousedown.includes(this)&&ep.intersectObjects.mousedown.remove(this)),"mousemove"==e&&(this.mousemoveCallback.includes(t)&&this.mousemoveCallback.remove(t),0==this.mousemoveCallback.length&&ep.intersectObjects.mousemove.includes(this)&&ep.intersectObjects.mousemove.remove(this))}},{key:"clear",value:function(){this.clickCallback.map((function(e){ep.intersectObjects.click.remove(e)})),this.dblclickCallback.map((function(e){ep.intersectObjects.dblclick.remove(e)})),this.mousemoveCallback.map((function(e){ep.intersectObjects.mousemove.remove(e)})),this.mousedownCallback.map((function(e){ep.intersectObjects.mousedown.remove(e)})),this.clickCallback=[],this.dblclickCallback=[],this.mousemoveCallback=[],this.mousedownCallback=[]}},{key:"dispose",value:function(){this.traverse((function(e){e.isMesh&&(e.geometry&&e.geometry.dispose(),(Array.isArray(e.material)?e.material:[e.material]).forEach((function(e){e.map&&e.map.dispose(),e.dispose()})))}))}},{key:"setColor",value:function(e,t){this.selectedMaterial=this._getMaterialByName(e),this._applyParams("color",t,"color")}},{key:"setOpacity",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.selectedMaterial=this._getMaterialByName(e),this._applyParams("opacity",t),this._updateTransparent()}},{key:"setAlbedoMap",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.selectedMaterial=this._getMaterialByName(e),this._applyParams("albedo",t,"map"),this.selectedMaterial.albedo&&(this.selectedMaterial.albedo.repeat.set(i,i),this.selectedMaterial.albedo.offset.set(n,n),this.selectedMaterial.needsUpdate=!0),pn.render()}},{key:"setNormalMap",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;this.selectedMaterial=this._getMaterialByName(e),this._applyParams("normalMap",t,"map"),this._applyParams("normalScale",n),this.selectedMaterial.normalMap&&(this.selectedMaterial.normalMap.repeat.set(r,r),this.selectedMaterial.normalMap.offset.set(i,i),this.selectedMaterial.needsUpdate=!0),pn.render()}},{key:"_updateTransparent",value:function(){this.selectedMaterial&&(this.selectedMaterial.opacity<1||this.selectedMaterial.transparency>0?this.selectedMaterial.transparent=!0:1==this.selectedMaterial.opacity&&0==this.selectedMaterial.transparency&&(this.selectedMaterial.transparent=!1))}},{key:"_getMaterialByName",value:function(e){var t=this.materials.find((function(t){return t.name==e}));if(!t)throw new Error("找不到该材质");return t}},{key:"_applyParams",value:function(e,t,n){var i=this;if(this._cacheMaterials[this.selectedMaterial.name]||(this._cacheMaterials[this.selectedMaterial.name]=this.selectedMaterial.clone()),"map"===n){var r=this.selectedMaterial[e];if(void 0===this.selectedMaterial[e+"0"]&&(this.selectedMaterial[e+"0"]=r||null),t){var A=t;t=gg.load(t,(function(t){"reflectMap"!==e&&"envMap"!==e||((t=gg.convertTexture(t)).image.src=A,i.selectedMaterial[e]=t,i.selectedMaterial.needsUpdate=!0,pn.render())})),"envMap"===e?t.custom=!0:t.wrapS=t.wrapT=1e3}else t=null;this.selectedMaterial[e]=t}else"color"===n?this.selectedMaterial[e].setStyle(t):this.selectedMaterial[e]=t;this.selectedMaterial.needsUpdate=!0,pn.render()}},{key:"applyMaterialFile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.loader){var i=n.fromOthers,r=n.localPath;this.splitCache&&(this.splitCache.map((function(e){var n=t.objects.find((function(t){return t.id===e.a})),i=t.materials.find((function(t){return t.name===e.c}));i&&(n.material[e.b]=i)})),this.splitCache=[]),this.loader.loader.extraMaterial={},r&&gg.setBaseUrl(r),this.loader.loader.replaceMaterials(e,(function(){gg.setBaseUrl(!1),t.options.env&&t.setEnvMap(t.envMap)}),i)}}}]),n}(_n),Og={};function kg(){}kg.prototype=Object.assign(kg.prototype,{constructor:kg,load:function(e,t,n,i){if(void 0===Og[e]){Og[e]=[],Og[e].push({onLoad:t,onProgress:n,onError:i});var r=new de;return r.open("GET",e,!0),r.addEventListener("load",(function(t){var n=this.response,i=Og[e];if(delete Og[e],200===this.status||0===this.status)for(var A=0,a=i.length;A<a;A++){(o=i[A]).onLoad&&o.onLoad(n)}else for(A=0,a=i.length;A<a;A++){var o;(o=i[A]).onError&&o.onError(t)}r.end=!0}),!1),r.addEventListener("progress",(function(t){for(var n=Og[e],i=0,r=n.length;i<r;i++){var A=n[i];A.onProgress&&A.onProgress(t)}}),!1),r.addEventListener("error",(function(t){var n=Og[e];delete Og[e];for(var i=0,A=n.length;i<A;i++){var a=n[i];a.onError&&a.onError(t)}r.end=!0}),!1),r.addEventListener("abort",(function(t){var n=Og[e];delete Og[e];for(var i=0,A=n.length;i<A;i++){var a=n[i];a.onError&&a.onError(t)}r.end=!0}),!1),void 0!==this.responseType&&(r.responseType=this.responseType),r.send(null),r}Og[e].push({onLoad:t,onProgress:n,onError:i})},setResponseType:function(e){return this.responseType=e,this}});var Wg=function(e){Fe(n,e);var t=Ge(n);function n(){var e;return Me(this,n),(e=t.call(this)).isBIM=!0,e.bimConfig=null,e.structureTree=null,e.basePath="",e.extension="",e.nodeTree=null,e.nodeArray=[],e.faceMap=null,e}return Te(n,[{key:"getComponentInfo",value:function(e,t){if(void 0!==e.faceIndex){var n=this.getComponentInfoByFace(e);n&&(n.bim||n.parent.bim?t(n.bim||n.parent.bim):this.getComponentFileByCID(n.CID||n.parent.CID,(function(){t(n.bim||n.parent.bim)})))}else e.userData.bim||e.parent.userData.bim?t(e.userData.bim||e.parent.userData.bim):this.getComponentFileByCID(e.CID||e.parent.CID,(function(){t(e.userData.bim||e.parent.userData.bim)}))}},{key:"getObjectByCID",value:function(e){return this.getObjectByProperty("CID",parseInt(e))}},{key:"getComponentInfoByCID",value:function(e){var t=this.getObjectByProperty("CID",parseInt(e));if(t)return this.getComponentInfo(t)}},{key:"getComponentFileByCID",value:function(e,t){for(var n=0;n<this.bimConfig.length;n++){var i=this.bimConfig[n];!i.loaded&&i.b.indexOf(e)>-1&&this.loadComponentFile(i,t)}}},{key:"loadComponentFile",value:function(e,t){var n=this,i="gz"===this.extension?e.a+"."+this.extension:e.a;(new kg).load(this.basePath+i,(function(e){n.parseComponentFile(JSON.parse(e)),t()})),e.loaded=!0}},{key:"parseComponentFile",value:function(e,t){var n=this;e.forEach((function(e){var t={id:e.a,pid:e.b,name:e.c,data:e.d};if(n.nodeTree){var i=n.nodeArray.find((function(t){return t.CID==e.a}));i&&(i.bim=t)}else{var r=n.getObjectByProperty("CID",e.a);r&&(r.userData.bim=t)}}))}},{key:"onComplete",value:function(){var e=this;this.objects=[],this.traverse((function(t){if(t.isMesh&&e.objects.push(t),t.name.indexOf("##")>-1){var n=t.name.split("##");t.name=n[0],t.CID=parseInt(n[1])}}))}},{key:"getNodeByFace",value:function(e){return this.nodeArray.find((function(t){return e>=t.face[0]&&e<=t.face[1]}))}},{key:"getComponentInfoByFace",value:function(e,t){var n=this.faceMap.find((function(t){return t.a==e.object.ID}));if(n){for(var i=null,r=0,A=n.b.length;r<A;r+=3)if(e.faceIndex>=n.b[r]&&e.faceIndex<=n.b[r+1]){i=n.b[r+2];break}if(null!==i)return this.nodeTree[i]}}},{key:"getFaceRange",value:function(e){var t=this.faceMap.find((function(t){return t.a==e.object.ID}));if(t){for(var n=null,i=0,r=t.b.length;i<r;i+=3)if(e.faceIndex>=t.b[i]&&e.faceIndex<=t.b[i+1]){n=[t.b[i],t.b[i+1]];break}return n}}},{key:"setMaterialByFace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#00f9ff",n=this.getFaceRange(e),i=n[0],r=n[1],A=e.object.material[0].clone();A.color.setStyle(t);var a=e.object,o=a.geometry.index.count,s=3*i,l=3*r;a.originIndex=[];for(var c=0;c<o;c++)a.originIndex.push(a.geometry.index.array[c]);a.geometry.index.array=[];for(var u=[],h=[],d=0;d<o;d++)d>=s&&d<l?u.push(a.originIndex[d]):h.push(a.originIndex[d]);a.geometry.setIndex(h.concat(u));var g=o-u.length;u=null,h=null,a.geometry.clearGroups(),a.geometry.addGroup(0,g,0),a.geometry.addGroup(g,o,1),a.material.length>1&&(a.material=[a.material[0]]),a.material.push(A)}},{key:"clearMaterialByFace",value:function(e){var t=e.object;if(t.material.length>0){var n=t.geometry.index.count;t.geometry.setIndex(t.originIndex),t.originIndex=null,delete t.originIndex,t.geometry.clearGroups(),t.geometry.addGroup(0,n,0),t.material.pop()}}}]),n}(Vg),Zg=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Me(this,e),this.cacheMats=[],this.queryMats={},this.cacheMeshes=[],this.cacheMesheIds=[],this.cacheAnimations=[],this.cacheActions=[],this.cacheSkyboxs={},this.cacheSkinnedMeshs=[],this.cacheSkinnedMeshIds=[],this.cacheEnvMap={},this.cacheAoMap={},this.instances=null,this.extraMaterial={},this.cacheExtraMat=[],this.scene=null,this.hasSkinnedAnimation=!1,this.model=t.isBIM?new Wg:new Vg,this.model.objects=this.cacheMeshes,this.model.materials=this.cacheMats,this.model.animation.setData(this.cacheAnimations,this.cacheActions)}return Te(e,[{key:"load",value:function(e,t,n,i){var r=this;"undefined"!=typeof Worker?(this.workerLoader=new Hg,this.workerLoader.loadMesh(e,(function(e){t(r.parse(e))}),n,(function(e){console.error("网格文件解析出错！"),i&&i(e)}))):(new ql).load(e,(function(e){try{r.parse(JSON.parse(e))}catch(e){console.error("网格文件解析出错！",e),i&&i(e)}t(r.model)}),n,i)}},{key:"loadNodes",value:function(e,t,n){var i=this;(new ql).load(e,(function(e){i.generateNodes(JSON.parse(e)),t()}),void 0,(function(t){console.error("节点文件加载失败:"+e,t)}))}},{key:"generateNodes",value:function(e){var t=this;e.forEach((function(e){var n=new Ja;if(n.ID=e.a,n.name=e.b,-1==e.c)t.model.add(n);else{var i=t.model.getObjectByProperty("ID",e.c);i&&i.add(n)}n.applyMatrix((new Tn).fromArray(e.d)),t.addToCache(n)}))}},{key:"parse",value:function(e){var t=this.model;Array.isArray(e)||(e=[e]);for(var n=[],i=0;i<e.length;i++){var r=void 0,A=e[i];if(6==A.at&&this.instances){var a=this._getInstanceMatrix(A.a);a&&(A.iid=A.a,A.a=a.b,A.b=a.a,A.d=a.d)}if(null==A.at||0==A.at||2==A.at||6==A.at||A.h&&A.ff&&0==A.ff.length)if(r=this.generateMesh(A),void 0!==A.iid&&(r.iid=A.iid),this.addToCache(r),-1===r.parentID)t.add(r);else{var o=this.cacheMesheIds.indexOf(r.parentID);-1!==o?this.cacheMeshes[o].add(r):t.add(r)}else if(1==A.at||3==A.at)if(r=this.generateSkinnedMesh(A),this.hasSkinnedAnimation=!0,this.cacheMesheIds.push(r.ID),-1===r.parentID)t.add(r);else{var s=this.cacheSkinnedMeshIds.indexOf(r.parentID);-1!==s?this.cacheSkinnedMeshs[s].add(r):t.add(r)}n.push(r)}if(this.hasSkinnedAnimation)for(var l=0;l<this.cacheSkinnedMeshs.length;l++){var c=this.cacheSkinnedMeshs[l];if(null!=c&&null!=c.xIDs){for(var u=[],h=0;h<c.xIDs.length;h++)u[h]=this.cacheSkinnedMeshs[c.xIDs[h]];var d=new Ro(u);c.bind(d)}}return this._initMaterial(),n}},{key:"generateMesh",value:function(e){var t;if(e.h&&e.h.length>0){var n=this.generateGeometry(e);t=new Fr(n,this.generateMaterial(n))}else t=new _n;return t.name=e.a,t.ID=e.b,t.parentID=e.c,t.applyMatrix((new Tn).fromArray(e.d)),t}},{key:"generateSkinnedMesh",value:function(e){var t;if(e.h){var n=this.generateGeometry(e),i=this.generateMaterial(n,!0);e.ff&&e.ff.length>0?(i.skinning=!0,n.setAttribute("skinIndex",new ji(e.ff,4)),n.setAttribute("skinWeight",new $i(e.gg,4)),(t=new So(n,i)).xIDs=e.hh):t=new Fr(n,i)}else t=new Lo;return t.name=e.a,t.ID=e.b,t.applyMatrix((new Tn).fromArray(e.d)),this.cacheSkinnedMeshs[e.b]=t,this.model.add(t),this.model.updateMatrixWorld(!0),t}},{key:"generateGeometry",value:function(e){var t=new ur;t.name=e.a;var n=new Tn;if(e.e&&n.fromArray(e.e),!(e.h&&e.h.length>0))return null;var i=new $i(e.h,3);if(n.applyToBufferAttribute(i),t.setAttribute("position",i),e.j&&e.j.length>0){var r=new $i(e.j,3);(new on).getNormalMatrix(n).applyToBufferAttribute(r),t.setAttribute("normal",r)}else console.warn("无法线");e.k&&e.k.length>0?t.setAttribute("uv",new $i(e.k,2)):console.warn("无UV"),e.l&&e.l.length>0&&t.setAttribute("uv2",new $i(e.l,2)),t.setIndex(e.i),e.j&&0!=e.j.length||t.computeVertexNormals(),t.clearGroups(),e.k&&e.k.length>0&&Mg(t);for(var A=[],a=0;a<e.m.length/3;a++)-1===A.indexOf(e.m[3*a+2])&&A.push(e.m[3*a+2]);for(var o=0;o<e.m.length/3;o++)t.addGroup(3*e.m[3*o],3*(e.m[3*o+1]-e.m[3*o]),A.indexOf(e.m[3*o+2]));return t.m=A,t}},{key:"preloadMap",value:function(e,t,n){this.workerLoader||(this.workerLoader=new Hg),this.workerLoader.preloadMap(e,t,void 0,n)}},{key:"loadMaterials",value:function(e,t,n){var i=this;(new ql).load(e,(function(e){e=JSON.parse(e),i.SnameTable&&Array.isArray(e.a)&&e.a.map((function(e){e.ee&&i.SnameTable[e.ee]&&(e.a=i.SnameTable[e.ee])})),i.parseMaterials(e,t,n)}))}},{key:"loadAOMap",value:function(e,t){var n=this;gg.BASE_URL="",gg.load(e,(function(e){e.wrapS=e.wrapT=1e3,n.cacheMats.forEach((function(t){t.aoMap=e,t.needsUpdate=!0})),t&&t instanceof Function&&t()}),null,t)}},{key:"generateMaterial",value:function(e,t){for(var n=[],i=0;i<e.m.length;i++){var r=e.m[i];if(void 0!==this.queryMats[r])n.push(this.cacheMats[this.queryMats[r]]);else{var A=this._createBaseMaterial(r);n.push(A),t&&(A.skinning=!0),this.cacheMats.push(A),this.queryMats[r]=this.cacheMats.length-1}}return delete e.m,n}},{key:"_createBaseMaterial",value:function(e){var t=new Fl;return t.name=e,t.color=new Qi("#cccccc"),t}},{key:"parseMaterials",value:function(e,t,n){var i=this;if(Array.isArray(e)&&(e={a:e,b:[]}),this.extraMaterial=e.c||{},e.a.length>0){var r=e.b,A=0,a=e.a.length;e.a.forEach((function(o){i.parseMaterial(o,r,(function(){++A===a&&(i._initMaterial(),t&&t instanceof Function&&t())}),n,e.ed)}))}else t&&t instanceof Function&&t()}},{key:"applyMaterial",value:function(){}},{key:"setEnvMap",value:function(e,t){this.cacheMats.forEach((function(n){n.envPath==e&&(n.envMap=t,n.needsUpdate=!0)}))}},{key:"parseMaterial",value:function(e,t,n,i,r){var A=this,a=e.a,o=this.queryMats[a];if(void 0===o&&a&&a.toString().indexOf("_")>-1){var s=a.split("_")[0],l=this.queryMats[s],c=this.cacheMats[l],u=this.cacheMeshes.find((function(t){return t.name===e.mn})),h=c.clone();h.name=a,h.sname=c.sname,h.ID=a,this.cacheMats.push(h),o=this.cacheMats.length-1,this.queryMats[a]=o,u.material[u.material.indexOf(c)]=h}var d=this.cacheMats[o],g=0,p=0;function f(){++g===p&&(d.needsUpdate=!0,n&&n instanceof Function&&n())}if(d||(d=this._createBaseMaterial(a),this.cacheMats.push(d),this.queryMats[a]=this.cacheMats.length-1),d){if(d.sname=e.ee,void 0!==e.b&&(r||void 0===e.c&&!r?d.color=(new Qi).fromArray(e.b):d.color.set(16777215)),void 0!==e.c&&t[e.c]){p++;var m=t[e.c];gg.load(m,(function(t){t.wrapS=t.wrapT=1e3,null!=e.t&&t.repeat.set(e.t[0],e.t[1]),null!=e.x&&t.offset.set(e.x[0],e.x[1]),null!=e.ad&&(d.albedoUV=e.ad),d.albedo=t,void 0!==e.c?d.useDefault=e.useDefault:d.useDefault=!0,f()}),null,(function(e){console.error("贴图加载出错"),f()}))}else d.albedoUV=null,d.needsUpdate=!0;if(e.d){var v=(new Qi).fromArray(e.d);d.emissive=v}if(void 0!==e.e&&(d.aoScale=parseFloat(e.e)),void 0!==e.f&&d.color.multiplyScalar(parseFloat(e.f)),void 0!==e.g&&(d.smoothness=parseFloat(e.g)),void 0!==e.h&&(d.metallic=parseFloat(e.h)),void 0!==e.i&&(d.normalScale=parseFloat(e.i)),void 0!==e.j&&(d.opacity=parseFloat(e.j)),void 0!==e.gg&&(d.transparency=parseFloat(e.gg)),void 0!==e.hh&&(d.alphaTest=parseFloat(e.hh)),void 0!==e.ii&&(d.reflectIntensity=parseFloat(e.ii)),void 0!==e.si&&(d.side=e.si),void 0!==e.q&&t[e.q]?(p++,gg.load(t[e.q],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.u?t.repeat.set(e.u[0],e.u[1]):t.repeat.set(1,1),void 0!==e.mm&&t.offset.set(e.mm[0],e.mm[1]),void 0!==e.nn&&(t.rotation=e.nn),d.normalMap=t,f()}),null,(function(e){console.error("贴图加载出错"),f()}))):(d.normalMap=null,d.needsUpdate=!0),void 0!==e.cf&&t[e.cf]?(p++,gg.load(t[e.cf],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.cb?t.repeat.set(e.cb[0],e.cb[1]):t.repeat.set(1,1),void 0!==e.cg&&t.offset.set(e.cg[0],e.cg[1]),void 0!==e.cn&&(t.rotation=e.cn),void 0!==e.ca&&(d.normalScale2=parseFloat(e.ca)),d.normalMap2=t,f()}),null,(function(e){console.error("贴图加载出错"),f()}))):(d.normalMap2=null,d.needsUpdate=!0),void 0!==e.r&&t[e.r]){p++;var C=this,y=t[e.r];C.cacheAoMap[y]?(d.aoMap=C.cacheAoMap[y],d.aoUV=e.fd,C.cacheAoMap[y+"_mats"].push(d),f()):(d.aoMap=C.cacheAoMap[y]=gg.load(t[e.r],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.v?t.repeat.set(e.v[0],e.v[1]):t.repeat.set(1,1),void 0!==e.fc&&t.offset.set(e.fc[0],e.fc[1]),d.aoUV=e.fd,C.cacheAoMap[y+"_mats"]&&C.cacheAoMap[y+"_mats"].map((function(e){return e.needsUpdate=!0})),f()}),null,(function(e){console.error("贴图加载出错"),f()})),C.cacheAoMap[y+"_mats"]=[d])}else void 0===e.fd&&(d.aoUV=1),d.aoMap=null,d.needsUpdate=!0;if(void 0!==e.y&&t[e.y]?(p++,gg.load(t[e.y],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.bb?t.repeat.set(e.bb[0],e.bb[1]):t.repeat.set(1,1),void 0!==e.pp&&t.offset.set(e.pp[0],e.pp[1]),d.metallicMap=t,f()}),null,(function(e){console.error("贴图加载出错"),f()}))):(d.metallicMap=null,d.needsUpdate=!0),void 0!==e.z&&t[e.z]?(p++,gg.load(t[e.z],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.cc?t.repeat.set(e.cc[0],e.cc[1]):t.repeat.set(1,1),void 0!==e.qq&&t.offset.set(e.qq[0],e.qq[1]),d.roughnessMap=t,f()}),null,(function(e){console.error("贴图加载出错"),f()}))):(d.roughnessMap=null,d.needsUpdate=!0),void 0!==e.aa&&t[e.aa]?(p++,gg.load(t[e.aa],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.dd?t.repeat.set(e.dd[0],e.dd[1]):t.repeat.set(1,1),void 0!==e.rr&&t.offset.set(e.rr[0],e.rr[1]),void 0!==e.gd&&(d.emissiveUV=e.gd),d.emissiveMap=t,f()}),null,(function(e){console.error("贴图加载出错"),f()}))):(d.emissiveMap=null,d.needsUpdate=!0),void 0!==e.ww){var I=t[e.ww];d.envPath=I,void 0!==e.xx&&(d.envRotateY=e.xx),this.cacheEnvMap[I]||(this.cacheEnvMap[I]={},gg.load(I,(function(e){e=gg.convertTexture(e),A.cacheEnvMap[I]=e,A.setEnvMap(I,e)}),null,(function(e){})))}else this.cacheMats.forEach((function(e){e.envMap=null,e.needsUpdate=!0}));if(void 0!==e.ev&&(d.envMapIntensity=e.ev),void 0!==e.ll&&t[e.ll]){p++;var w=t[e.ll];void 0!==e.yy&&(d.reflectRotateY=e.yy),gg.load(w,(function(e){(e=gg.convertTexture(e)).wrapS=e.wrapT=1e3,d.reflectMap=e,f()}),null,(function(e){console.error("贴图加载出错"),f()}))}else d.reflectMap=null,d.needsUpdate=!0;d.retainMap=!0,void 0!==e.jj&&(d.retainMap=Boolean(e.ii)),void 0!==e.kk&&!0!==e.kk?d.renderOrder=Number(e.kk):d.renderOrder=d.opacity<1?zt:Kt,null!=e.jr&&(d.reflectivity=e.jr),null!=e.l&&(d.wireframe=e.l),null!=e.o&&(d.skinning=e.o),null!=e.p&&(d.vertexTangents=e.p),null!=e.qn&&(d.normalMapType=e.qn),null!=e.rm&&(d.morphTargets=e.rm),null!=e.transparent&&(d.transparent=e.transparent),(d.opacity<1||d.transparency>0||d.alphaTest>0)&&(d.transparent=!0),void 0!==e.ev&&(d.envMapIntensity=e.ev),d.needsUpdate=!0,0===p&&n&&n instanceof Function&&n()}}},{key:"loadAnimation",value:function(e,t){var n=this;(new ql).load(e,(function(e){try{n.hasSkinnedAnimation?n.parseSkinnedAnimation(JSON.parse(e)):n.parseAnimation(JSON.parse(e))}catch(e){console.error("动画文件解析出错！",e)}t&&t()}))}},{key:"parseAnimation",value:function(e){for(var t=[],n=0,i=0;i<e.length;i++){var r=e[i].c[e[i].c.length-1];r>n&&(n=r)}for(var A=0;A<e.length;A++){var a=e[A];-1===t.indexOf(a.a)&&t.push(a.a);var o=this.cacheMesheIds.indexOf(a.a),s=this.cacheMeshes[o];void 0===s.keyframes&&(s.keyframes=[]),"a"===a.b?s.keyframes.push(new Zl(".position",a.c,a.d)):"b"===a.b?s.keyframes.push(new kl(".quaternion",a.c,a.d)):"c"===a.b&&s.keyframes.push(new Zl(".scale",a.c,a.d))}for(var l=0;l<t.length;l++){var c=this.cacheMesheIds.indexOf(t[l]),u=this.cacheMeshes[c];u.clip=new Xl(u.name,n,u.keyframes);var h=new Nu(u),d=h.clipAction(u.clip);this.cacheActions.push(d),this.cacheAnimations.push(h),d.play()}}},{key:"parseSkinnedAnimation",value:function(e){for(var t,n=[],i=0,r=0;r<e.length;r++){var A=e[r],a=this.cacheSkinnedMeshs[A.a].name,o=[],s=[],l=[],c=[];A.d>i&&(i=A.d);for(var u=0;u<A.b.length;u++){o.push(A.b[u].a);var h=(new Tn).fromArray(A.b[u].b),d=new rn,g=new en,p=new rn;h.decompose(d,g,p),s.push(d.x),s.push(d.y),s.push(d.z),l.push(g.x),l.push(g.y),l.push(g.z),l.push(g.w),c.push(p.x),c.push(p.y),c.push(p.z)}n.push(new Zl(a+".position",o,s)),n.push(new kl(a+".quaternion",o,l)),n.push(new Zl(a+".scale",o,c))}var f=new Xl("test",i,n),m=(t=new Nu(this.model)).clipAction(f);m.play(),this.cacheAnimations.push(t),this.cacheActions.push(m)}},{key:"_getInstanceMatrix",value:function(e){for(var t=0,n=this.instances.length;t<n;t++)if(this.instances[t].c==e)return this.instances[t]}},{key:"addToCache",value:function(e){this.cacheMeshes.push(e),this.cacheMesheIds.push(e.ID)}},{key:"_initMaterial",value:function(){var e=this;this.cacheMeshes.forEach((function(t){if(t.isMesh){t.renderOrder=(Array.isArray(t.material)?t.material[0]:t.material).renderOrder;var n=Array.isArray(t.material)?t.material:[t.material];t.geometry.attributes&&!t.geometry.attributes.uv&&n.forEach((function(e){e.vertexTangents=!1})),t.geometry.attributes&&t.geometry.attributes.uv2&&n.forEach((function(e){void 0===e.aoUV&&(e.aoUV=1)}));var i=function(n){var i=e.extraMaterial[n],r=e.cacheMats.find((function(e){return e.name==n}));if(!r)return"continue";i.map((function(n){n.a==t.ID&&(e.cacheExtraMat.push({a:t.ID,b:n.b,c:t.material[n.b].name}),t.material[n.b]=r,t.overMaterial=[n.b].concat(Qe(t.overMaterial||[])))}))};for(var r in e.extraMaterial)i(r)}}))}},{key:"replaceMaterials",value:function(e,t,n){var i=this;this.cacheExtraMat.map((function(e){var t=i.cacheMeshes.find((function(t){return t.ID==e.a})),n=i.cacheMats[i.queryMats[e.c]];t.material[e.b]=n})),this.extraMaterial={};for(var r=function(e){var t=i.cacheMats[e];i.cacheMeshes.find((function(e){return!!e.isMesh&&e.material.find((function(e){return e===t}))}))||(t.dispose(),delete i.queryMats[t.name],i.cacheMats.splice(e,1))},A=this.cacheMats.length-1;A>=0;A--)r(A);n&&(this.SnameTable={},this.cacheMats.map((function(e){e.sname&&(i.SnameTable[e.sname]=e.ID)}))),this.loadMaterials(e,t)}}]),e}(),Xg=function(){function e(e){Yl.call(this,e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this._geometryList=[],this.loadedFileNum=0,this.taskId2Worker={},this.workerStateById={},this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}return e.prototype=Object.assign(Object.create(Yl.prototype),{constructor:e,setDecoderPath:function(e){return this.decoderPath=e,this},setDecoderConfig:function(e){return this.decoderConfig=e,this},setWorkerLimit:function(e){return this.workerLimit=e,this},setVerbosity:function(){console.warn("DRACOLoader: The .setVerbosity() method has been removed.")},setDrawMode:function(){console.warn("DRACOLoader: The .setDrawMode() method has been removed.")},setSkipDequantization:function(){console.warn("DRACOLoader: The .setSkipDequantization() method has been removed.")},load:function(e,t,n,i,r,A){var a=this,o=new ql(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),"use-credentials"===this.crossOrigin&&o.setWithCredentials(!0),this.onLoad=t,this.onComplete=n;var s=this;o.load(e,(function(e){var t={attributeIDs:s.defaultAttributeIDs,attributeTypes:s.defaultAttributeTypes,useUniqueIDs:!1};a.decodeGeometry(e,t,A).catch(r)}),i,r)},decodeDracoFile:function(e,t,n,i,r){},decodeWholeFile:function(e,t){if("MBIN"===convertArrayBufferToString(e,0,4))return this.parseModelFile(e,t)},readPaddingBytes:function(e){var t=e.getUint8();e.getString(t)},decodeGeometry:function(e,t,n){var i,r=this;for(var A in t.attributeTypes){var a=t.attributeTypes[A];void 0!==a.BYTES_PER_ELEMENT&&(t.attributeTypes[A]=a.name)}if(0===e.byteLength)throw new Error("DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.");var o=this.workerNextTaskID++,s=e.byteLength;return this._getWorker(o,s).then((function(n){return i=n,r.workerStateById[o]=0,new Promise((function(n,A){i._callbacks[o]={resolve:n,reject:A},r.taskId2Worker[o]=i;try{i.postMessage({type:"decode",id:o,taskConfig:t,buffer:e},[e])}catch(e){console.log(i)}}))}))},onReceiveMessageFromWebworker:function(e,t){var n=this.taskId2Worker[e];this._createGeometry(n,e,t),n&&e&&1==this.workerStateById[e]&&(this._releaseTask(n,e),this.workerStateById[e]=2,this.taskId2Worker[e]=null,this.onComplete())},arrayMax:function(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t},_createGeometry:function(e,t,n){if("mbin"===n.fileType){n.bComplete&&(this.workerStateById[t]=1);var i=n.geometry;if(null===i)return;if(i.chunkType,2===i.chunkType){var r=new ur;if(r.custom_data={},r.custom_data.id=i.id,r.custom_data.parentId=i.parentId,r.custom_data.matrix=i.matrix,r.custom_data.bIsNodel=i.bIsNodel,r.custom_data.nodeType=i.nodeType,void 0!==i.materialIndex){r.clearGroups(),r.custom_data.materialIndex=[];for(var A=i.materialIndex.length/3,a=0;a<A;a++)r.custom_data.materialIndex.push(i.materialIndex[3*a+2]),r.addGroup(3*i.materialIndex[3*a],3*i.materialIndex[3*a+1],a)}r.name=Oc.decodeText(new Uint8Array(i.name)),i.index&&(i.index.array=new Float32Array(i.index.array.split(",")),r.index=new(this.arrayMax(i.index.array)>65535?qi:ji)(i.index.array,1),delete i.index.array,i.index=null);for(a=0;a<i.attributes.length;a++){var o=i.attributes[a];o.array=new Float32Array(o.array.split(","));var s=o.name,l=o.itemSize,c=new Xi(i.attributes[a].array,l);r.setAttribute(s,c),delete i.attributes[a].array,i.attributes[a]=null}i=null,this.onLoad(r)}}else if("bbin"===n.fileType||"bmbin"===n.fileType){if(n.bComplete&&(this.workerStateById[t]=1),null===n.geometry)return;this.onLoad(n.geometry)}else if("kmbin"===n.fileType){if(n.bComplete&&(this.workerStateById[t]=1),null===n.geometry)return;n.geometry.insts.forEach((function(e){e.name=Oc.decodeText(new Uint8Array(e.name))})),this.onLoad(n.geometry)}else if("abin"===n.fileType){if(n.bComplete&&(this.workerStateById[t]=1),null===n.geometry)return;n.geometry.name=Oc.decodeText(new Uint8Array(n.geometry.name)),this.onLoad(n.geometry)}},_loadLibrary:function(e,t){var n=new ql(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),new Promise((function(t,i){n.load(e,t,void 0,i)}))},preload:function(){return this._initDecoder(),this},_initDecoder:function(){var e=this;if(this.decoderPending)return this.decoderPending;"object"!==("undefined"==typeof WebAssembly?"undefined":xe(WebAssembly))||this.decoderConfig.type;var t=[];return t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer")),this.decoderPending=Promise.all(t).then((function(t){e.decoderConfig.wasmBinary=new Uint8Array(t[0]).toString()})),this.decoderPending},_getWorker:function(e,t){var n=this;return this._initDecoder().then((function(){if(n.currentWorker)return n.currentWorker;(e=wx.createWorker("workers/DRACOWorker.js",{useExperimentalWorker:!0}))._callbacks={},e._taskCosts={},e._taskLoad=0,e.postMessage({type:"init",decoderConfig:n.decoderConfig});var e,t=n;return e.onMessage((function(n){switch(n.type){case"decode":t.onReceiveMessageFromWebworker(n.id,n);break;case"error":e._callbacks[n.id].reject(n);break;default:console.error('DRACOLoader: Unexpected message, "'+n.type+'"')}})),e.onProcessKilled((function(){n.currentWorker=null,wx.DRACOWorker=null,console.log("onProcessKilled")})),n.currentWorker=e,wx.DRACOWorker=e,n.currentWorker})).catch((function(e){console.log(e)}))},_releaseTask:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]},debug:function(){console.log("Task load: ",this.workerPool.map((function(e){return e._taskLoad})))},dispose:function(){this.currentWorker.terminate();for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}),e.DRACOWorker=function(){var e,t;function n(e,t,n,a,o){var s={},l=0;e.getUint32();var c=e.getUint8();s.name=e.getString(c),s.ticksPerSecond=e.getFloat32(),s.Duration=e.getFloat32();var h=32&e.getUint32();s.isBoneAnim=!1,s.animType2Anim={},s.animType2Anim.transAnim=[],s.animType2Anim.rotAnim=[],s.animType2Anim.scaleAnim=[];for(var d=0;d<4;d++){var p=e.getUint32();if(4==p){s.isBoneAnim=!0,s.boneId2Anim=[];var f=e.getUint32();if(e.getUint32(),h){var m=e.getUint32();if(m>0){var v;this.dracoLoadCount++;var C=e.getArrayBuffer(m);o.Init(new Int8Array(C),C.byteLength),t.decodeType=4;for(var y,I=g(n,a,o,t),w=I.attributes.length,b=0;b<w;b++)if("time"!==(v=I.attributes[b]).name){var B={};B.boneId=parseInt(v.name),B.frameNum=y.length,B.frameTimes=y,B.frameVals=[];for(var x=0;x<B.frameNum;x++){for(var M=[],E=0;E<16;E++)M[E]=v.array[16*x+E];B.frameVals[x]=M}s.boneId2Anim.push(B)}else y=v.array;y.length>l&&(l=y.length)}}else for(var T=0;T<f;T++){var S=i(e);S.frameNum>l&&(l=S.frameNum),null!==S&&s.boneId2Anim.push(S)}u(e)}else{var F=e.getUint32();e.getUint32();for(var U=0;U<F;U++){s.meshNum=e.getUint32();var R=e.getUint32Array(s.meshNum);if(5==p||7==p)(L=r(e,h,t,n,a,o)).frameNum>l&&(l=L.frameNum),L.meshId=R,null!==L&&(5==p?s.animType2Anim.transAnim.push(L):7==p&&s.animType2Anim.scaleAnim.push(L));else if(6==p){var L;(L=A(e,h,t,n,a,o)).frameNum>l&&(l=L.frameNum),L.meshId=R,null!==L&&s.animType2Anim.rotAnim.push(L)}else console.log("Error: chunkType errror!!!!")}u(e)}}return u(e),l<2?null:s}function i(e){var t={};t.boneId=e.getUint32(),t.frameNum=e.getUint32(),t.frameTimes=e.getFloat32Array(t.frameNum),t.frameVals=new Array(t.frameNum);for(var n=0;n<t.frameNum;n++)t.frameVals[n]=e.getMatrix4();return t}function r(e,t,n,i,r,A){var a={};if(a.frameNum=e.getUint32(),t&&a.frameNum>=5){var o=e.getUint32();if(o>0){var s=e.getArrayBuffer(o);A.Init(new Int8Array(s),s.byteLength),n.decodeType=5;var l=g(i,r,A,n);a.frameTimes=l.attributes[0].array,a.frameVals=l.attributes[1].array}}else a.frameTimes=e.getFloat32Array(a.frameNum),a.frameVals=e.getFloat32Array(3*a.frameNum);return a}function A(e,t,n,i,r,A){var a={};if(a.frameNum=e.getUint32(),t&&a.frameNum>=5){var o=e.getUint32(),s=e.getArrayBuffer(o);A.Init(new Int8Array(s),s.byteLength),n.decodeType=5;var l=g(i,r,A,n);a.frameTimes=l.attributes[0].array,a.frameVals=l.attributes[1].array}else a.frameTimes=e.getFloat32Array(a.frameNum),a.frameVals=e.getFloat32Array(4*a.frameNum);return a}function a(e,t,n,i,r,A){var a={meshId:0,boneIds:[],boneIndices:[],boneWeights:[]};e.getUint32(),a.meshId=e.getUint32();for(var o=e.getUint32(),s=[],l=0;l<o;l++){var c=e.getUint32();s.push(c)}a.boneIds=s;var h=e.getUint32(),d=e.getUint8Array(h),p=0,f=0,m=0,v=0,C=[],y=[],I=e.getUint8(),w=4*(Math.round(I%4)>0?parseInt(I/4)+1:parseInt(I/4));if(t){var b=e.getUint32();if(b>0){var B=e.getArrayBuffer(b);A.Init(new Int8Array(B),B.byteLength),n.decodeType=3;var x=g(i,r,A,n),M=x.attributes[0].array,E=x.attributes[1].array;M.length;for(var T=0;T<h;T++){p=d[T];for(var S=0,F=0;F<p;F++){var U=M[f+F],R=E[f+F];C[S=parseInt(F/4)]||(C[S]=[]),y[S]||(y[S]=[]),C[S].push(U),y[S].push(R)}for(var L=p;L<w;L++)C[S=parseInt(L/4)]||(C[S]=[]),y[S]||(y[S]=[]),C[S].push(0),y[S].push(0);f+=p}a.boneIndices=C,a.boneWeights=y}}else{e.getUint32();for(var H=0;H<h;H++){p=d[H];for(var G=0,P=0;P<p;P++)m=e.getUint16(),v=e.getFloat32(),C[G=parseInt(P/4)]||(C[G]=[]),y[G]||(y[G]=[]),C[G].push(m),y[G].push(v);for(var Q=p;Q<w;Q++)C[G=parseInt(Q/4)]||(C[G]=[]),y[G]||(y[G]=[]),C[G].push(0),y[G].push(0);f+=p}}return u(e),a}function o(e){var t={};return t.id=e.getUint32(),t.ref_id=e.getUint32(),t.parent_Id=e.getUint32(),t.offsetMatrix=e.getMatrix4(),t}function s(e){var t={};t.id=e.getUint32(),t.nodeId=e.getUint32(),t.offsetMatrix=e.getMatrix4();var n=e.getUint8();return t.name=e.getString(n),t}function l(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=e.byteLength),h.decodeText(new Uint8Array(e,t,n))}function c(e,t,n,i,r){var A=this,a={index:null,attributes:[]};a.id=e.getUint32(),a.parentId=e.getInt32(),a.matrix=e.getMatrix4(),a.loadedState={};var o=e.getUint32();if(a.bIsNodel=1&o,a.bIsNodel){var s=64==(64&o);a.nodeType=s?4:3}else{a.bUseCompose=2&o,a.bHaveNormal=4&o,a.bHaveUVData=8&o,a.bHaveUV2Data=16&o,a.bUseDraco=32&o;var l,c,h=64==(64&o);if(a.nodeType=h?2:1,a.bUseDraco){if((m=e.getUint32())>0){a.loadedState[0]=0;var d=e.getArrayBuffer(m);r.Init(new Int8Array(d),d.byteLength),t.decodeType=1,(p=g(n,i,r,t)).attributes[0].name="position",a.attributes.push(p.attributes[0])}else a.vertexNum=0,a.loadedState[0]=1;if((m=e.getUint32())>0){a.loadedState[1]=0;d=e.getArrayBuffer(m);r.Init(new Int8Array(d),d.byteLength),t.decodeType=2;var p=g(n,i,r,t);a.index={array:p.attributes[0].array},a.faceNum=p.attributes[0].array.length/3}else a.faceNum=0,a.loadedState[1]=1}else a.vertexNum=e.getUint32(),a.vertexs=e.getFloat32Array(3*a.vertexNum),a.attributes.push({name:"position",array:a.vertexs,itemSize:3}),a.faceNum=e.getUint32(),a.faceVerIndexs=e.getUint32Array(3*a.faceNum),a.index={array:a.faceVerIndexs};if(a.bHaveUVData)if(a.bUseDraco){if((m=e.getUint32())>0){a.loadedState[2]=0;d=e.getArrayBuffer(m);r.Init(new Int8Array(d),d.byteLength),t.decodeType=1,(p=g(n,i,r,t)).attributes[0].name="uv",a.attributes.push(p.attributes[0])}else a.UVNum=0,a.loadedState[2]=1;if(a.bUseCompose)if((m=e.getUint32())>0){a.loadedState[3]=0;d=e.getArrayBuffer(m);this.dracoLoadCount++,dracoLoader.decodeDracoFile(d,(function(e){a.faceComposedUVIndexs=e.attributes[0].array,a.loadedState[3]=1,A.dracoOnLoad()}),null,null,2)}else a.loadedState[3]=1;else a.loadedState[3]=1}else a.UVNum=e.getUint32(),a.uvData=e.getFloat32Array(2*a.UVNum),a.attributes.push({name:"uv",array:a.uvData,itemSize:2}),a.bUseCompose&&(a.faceComposedUVIndexs=e.getUint32Array(3*a.faceNum)),a.loadedState[3]=1;else a.loadedState[2]=1,a.loadedState[3]=1;if(a.bHaveUV2Data)if(a.bUseDraco){if((m=e.getUint32())>0){a.loadedState[4]=0;d=e.getArrayBuffer(m);r.Init(new Int8Array(d),d.byteLength),t.decodeType=1,(p=g(n,i,r,t)).attributes[0].name="uv2",a.attributes.push(p.attributes[0])}else a.UV2Num=0,a.loadedState[4]=1;if(a.bUseCompose)if((m=e.getUint32())>0){a.loadedState[5]=0;d=e.getArrayBuffer(m);this.dracoLoadCount++,dracoLoader.decodeDracoFile(d,(function(e){a.faceComposedUV2Indexs=e.attributes[0].array,a.loadedState[5]=1,A.dracoOnLoad()}),null,null,2)}else a.loadedState[5]=1;else a.loadedState[5]=1}else a.UV2Num=e.getUint32(),a.uv2Data=e.getFloat32Array(2*a.UV2Num),a.loadedState[4]=1,a.attributes.push({name:"uv2",array:a.uv2Data,itemSize:2}),a.bUseCompose&&(a.faceComposedUV2Indexs=e.getUint32Array(3*a.faceNum)),a.loadedState[5]=1;else a.loadedState[4]=1,a.loadedState[5]=1;a.materialNum=e.getUint32(),a.materialIndex=new Array(a.materialNum);for(var f=0;f<a.materialNum;f++)l=e.getUint32(),a.materialIndex[3*f]=l,c=e.getUint32(),a.materialIndex[3*f+1]=c,a.materialIndex[3*f+2]=e.getUint32();if(1===a.materialNum&&(a.materialIndex[0]=0,a.materialIndex[1]=a.faceNum),a.bHaveNormal)if(a.bUseDraco){var m;if((m=e.getUint32())>0){a.loadedState[6]=0;d=e.getArrayBuffer(m);r.Init(new Int8Array(d),d.byteLength),t.decodeType=1,(p=g(n,i,r,t)).attributes[0].name="normal",a.attributes.push(p.attributes[0])}else a.normalNum=0,a.loadedState[6]=1;if(a.bUseCompose)if((m=e.getUint32())>0){a.loadedState[7]=0;d=e.getArrayBuffer(m);this.dracoLoadCount++,dracoLoader.decodeDracoFile(d,(function(e){a.faceComposedNormalIndexs=e.attributes[0].array,a.loadedState[7]=1,A.dracoOnLoad()}),null,null,2)}else a.loadedState[7]=1;else a.loadedState[7]=1}else a.normalNum=e.getUint32(),a.normals=e.getFloat32Array(3*a.normalNum),a.loadedState[6]=1,a.attributes.push({name:"normal",array:a.normals,itemSize:3}),a.bUseCompose&&(a.faceComposedNormalIndexs=e.getUint32Array(3*a.faceNum)),a.loadedState[7]=1;else a.loadedState[6]=1,a.loadedState[7]=1}var v=e.getUint8();return a.name=e.getString(v),u(e),a}function u(e){var t=e.getUint8();e.getString(t)}onmessage=function(i){var r=i.data;switch(r.type){case"init":e=r.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"clear_data":console.log("clear_data");break;case"decode":var A=r.buffer,h=r.taskConfig;t.then((function(e){var t=e.draco,i=new t.Decoder,p=new t.DecoderBuffer;try{var f=l(A,0,4);if("MBIN"===f)(function(e,t,n,i,r,A){if(function(e){var t="MBIN",n=4,i=l(e,0,n);return e.byteLength>=n&&t===i}(t)){var h=new d(t);for(h.skip(4),h.getUint32();h.offset<h.size();){var p=h.getUint32();if(2===p){var f=h.getUint32();if(h.getUint32(),0==f)return void self.postMessage({type:"decode",id:e.id,fileType:"mbin",bComplete:!0,geometry:null});this.totalMeshNum=f,this.completedMeshNum=0;for(var m=0;m<f;m++){if(h.getUint32(),null!==(I=c(h,n,i,r,A))){I.chunkType=2;for(var v=[],C=0;C<I.attributes.length;C++)v.push(I.attributes[C].array.buffer);I.index&&v.push(I.index.array.buffer)}var y=m==f-1;self.postMessage({type:"decode",id:e.id,fileType:"mbin",bComplete:y,geometry:I},v)}u(h)}else if(1===p){var I={},w=h.getUint32();h.getUint32();var b=[];for(m=0;m<w;m++){var B=s(h);null!==B&&(B.chunkType=1,b.push(B))}I.bones=b,u(h);var x=[];for(f=h.getUint32(),m=0;m<f;m++){var M=h.getUint32(),E=h.getUint8(),T=(w=h.getUint32(),{});T.meshId=M,T.maxBoneCount=E,T.boneList=h.getUint32Array(w),x.push(T)}I.boneMeshList=x,self.postMessage({type:"decode",id:e.id,fileType:"bbin",bComplete:!0,geometry:I})}else if(9===p){I={};var S=h.getUint32(),F=h.getUint32();h.getUint32();var U=[];if(F&&S>=5){var R=h.getUint32();if(R>0){var L=h.getArrayBuffer(R);A.Init(new Int8Array(L),L.byteLength),n.decodeType=6;var H=(I=g(i,r,A,n)).attributes[0].array;for(m=0;m<S;m++){(V={}).id=H[3*m],V.ref_id=H[3*m+1],V.parent_Id=H[3*m+2],V.offsetMatrix=[],V.chunkType=9,U.push(V)}var G=I.attributes[1].array,P=I.attributes[2].array,Q=0,D=0;for(m=0;m<S;m++){for(var N=0;N<3;N++)U[m].offsetMatrix.push(G[Q++]),U[m].offsetMatrix.push(G[Q++]),U[m].offsetMatrix.push(G[Q++]),U[m].offsetMatrix.push(0);U[m].offsetMatrix.push(P[D++]),U[m].offsetMatrix.push(P[D++]),U[m].offsetMatrix.push(P[D++]),U[m].offsetMatrix.push(1)}}}else for(m=0;m<S;m++){var V;null!==(V=o(h))&&(V.chunkType=9,U.push(V))}for(m=0;m<S;m++){var O=h.getUint8();U[m].name=h.getString(O)}I.insts=U,u(h),self.postMessage({type:"decode",id:e.id,fileType:"kmbin",bComplete:!0,geometry:I})}else if(3===p){var k=h.getUint32();if(0==k)return void self.postMessage({type:"decode",id:e.id,fileType:"bmbin",bComplete:!0,geometry:null});F=h.getUint32();h.getUint32();for(m=0;m<k;m++){console.log("bone data:_bonedMeshNum:"+k),null!==(I=a(h,F,n,i,r,A))&&(I.chunkType=3);y=m==k-1;self.postMessage({type:"decode",id:e.id,fileType:"bmbin",bComplete:y,geometry:I})}u(h)}}h=null}else console.log("mbin file format error!!!!!!!!")})(r,A,h,t,i,p);else if("ABIN"===f)(function(e,t,i,r,A,a){if(function(e){var t="ABIN",n=4,i=l(e,0,n);return e.byteLength>=n&&t===i}(t)){var o=new d(t);if(o.skip(4),o.getUint32(),8===o.getUint32()){var s=o.getUint32();if(o.getUint32(),0==s)return void self.postMessage({type:"decode",id:e.id,fileType:"abin",bComplete:!0,geometry:null});for(var c=0;c<s;c++){var h=n(o,i,r,A,a);if(null!==h)var g=[];var p=c==s-1;self.postMessage({type:"decode",id:e.id,bComplete:p,fileType:"abin",geometry:h},g)}u(o)}}else console.log("abin file format error!!!!!!!!")})(r,A,h,t,i,p)}catch(e){console.error(e),self.postMessage({type:"error",id:r.id,error:e.message})}finally{t.destroy(p),t.destroy(i)}r.buffer=null}))}};var h={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function d(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=void 0===t||t}function g(e,t,n,i){i.attributeIDs;i.attributeTypes;var r,A,a=i.decodeType,o=t.GetEncodedGeometryType(n);if(o===e.TRIANGULAR_MESH)r=new e.Mesh,A=t.DecodeBufferToMesh(n,r);else{if(o!==e.POINT_CLOUD)throw new Error("DRACOLoader: Unexpected geometry type.");r=new e.PointCloud,A=t.DecodeBufferToPointCloud(n,r)}if(!A.ok()||0===r.ptr)throw new Error("DRACOLoader: Decoding failed: "+A.error_msg());var s,l={index:null,attributes:[]};if(1===a)s=t.GetAttribute(r,0),l.attributes.push(p(e,t,r,"position",Float32Array,s));else if(2===a)s=t.GetAttribute(r,0),l.attributes.push(p(e,t,r,"index",Uint32Array,s));else if(3===a)s=t.GetAttribute(r,0),l.attributes.push(p(e,t,r,"boneIndex",Uint16Array,s)),s=t.GetAttribute(r,1),l.attributes.push(p(e,t,r,"boneWeight",Float32Array,s));else if(6===a)s=t.GetAttribute(r,0),l.attributes.push(p(e,t,r,"ididids",Int32Array,s)),s=t.GetAttribute(r,1),l.attributes.push(p(e,t,r,"offsetMat",Float32Array,s)),s=t.GetAttribute(r,2),l.attributes.push(p(e,t,r,"trans",Float32Array,s));else if(5===a)s=t.GetAttribute(r,0),l.attributes.push(p(e,t,r,"time",Float32Array,s)),s=t.GetAttribute(r,1),l.attributes.push(p(e,t,r,"frameVal",Float32Array,s));else{if(4!==a)throw new Error("DRACOLoader: Unexpected Draco_Data_Type.");s=t.GetAttribute(r,0),l.attributes.push(p(e,t,r,"time",Float32Array,s));for(var c,u,h,d=t.GetAttributeMetadata(r,0),g=new e.MetadataQuerier,f=g.NumEntries(d),m=0;m<f;m++)"name"===(c=g.GetEntryName(d,m))?console.log(g.GetStringEntry(d,c)):(u=g.GetIntEntry(d,c),h=parseInt(c),s=t.GetAttribute(r,h),l.attributes.push(p(e,t,r,u+"",Float32Array,s)))}return e.destroy(r),l}function p(e,t,n,i,r,A){var a,o,s=A.num_components(),l=n.num_points()*s;switch(r){case Float32Array:var c=4*l;a=e._malloc(c),t.GetAttributeDataArrayForAllPoints(n,A,e.DT_FLOAT32,c,a),o=new Float32Array(e.HEAPF32.buffer,a,l).slice(),e._free(a);break;case Int8Array:a=e._malloc(l),t.GetAttributeDataArrayForAllPoints(n,A,e.DT_INT8,l,a),o=new Int8Array(e.HEAP8.buffer,a,l).slice(),e._free(a);break;case Int16Array:c=2*l;a=e._malloc(c),t.GetAttributeDataArrayForAllPoints(n,A,e.DT_INT16,c,a),o=new Int16Array(e.HEAP16.buffer,a,l).slice(),e._free(a);break;case Int32Array:c=4*l;a=e._malloc(c),t.GetAttributeDataArrayForAllPoints(n,A,e.DT_INT32,c,a),o=new Int32Array(e.HEAP32.buffer,a,l).slice(),e._free(a);break;case Uint8Array:a=e._malloc(l),t.GetAttributeDataArrayForAllPoints(n,A,e.DT_UINT8,l,a),o=new Uint8Array(e.HEAPU8.buffer,a,l).slice(),e._free(a);break;case Uint16Array:c=2*l;a=e._malloc(c),t.GetAttributeDataArrayForAllPoints(n,A,e.DT_UINT16,c,a),o=new Uint16Array(e.HEAPU16.buffer,a,l).slice(),e._free(a);break;case Uint32Array:c=4*l;a=e._malloc(c),t.GetAttributeDataArrayForAllPoints(n,A,e.DT_UINT32,c,a),o=new Uint32Array(e.HEAPU32.buffer,a,l).slice(),e._free(a);break;default:throw new Error("DRACOLoader: Unexpected attribute type.")}return{name:i,array:o,itemSize:s}}d.prototype={constructor:d,getOffset:function(){return this.offset},size:function(){return this.dv.buffer.byteLength},skip:function(e){this.offset+=e},getBoolean:function(){return 1==(1&this.getUint8())},getBooleanArray:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getBoolean());return t},getUint8:function(){var e=this.dv.getUint8(this.offset);return this.offset+=1,e},getUint8Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getUint8());return t},getInt16:function(){var e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},getUint16:function(e){if(null!=e)return t=this.dv.getUint16(e,this.littleEndian);var t=this.dv.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},getInt32:function(){var e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},getInt32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt32());return t},getUint32:function(){var e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},getUint32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getUint32());return t},getMatrix4:function(){for(var e=[],t=0;t<16;t++)e.push(this.getFloat32());return e},getInt64:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),2147483648&t?(t=4294967295&~t,4294967295===(e=4294967295&~e)&&(t=t+1&4294967295),-(4294967296*t+(e=e+1&4294967295))):4294967296*t+e},getInt64Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt64());return t},getUint64:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),4294967296*t+e},getFloat32:function(e){if(null!=e)return t=this.dv.getFloat32(e,this.littleEndian);var t=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},getFloat32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat32());return t},getFloat64:function(){var e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},getFloat64Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat64());return t},getArrayBuffer:function(e){var t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},getString:function(e){for(var t=[],n=0;n<e;n++)t[n]=this.getUint8();var i=t.indexOf(0);return i>=0&&(t=t.slice(0,i)),t}}},e.taskCache=new WeakMap,e.setDecoderPath=function(){console.warn("DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.")},e.setDecoderConfig=function(){console.warn("DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.")},e.releaseDecoderModule=function(){console.warn("DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.")},e.getDecoderModule=function(){console.warn("DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.")},e}();function _g(e,t,n){this.objects=[],this.tmpGeometry=e.clone(),No.call(this,e,t,n),this.frustumCulled=!1}function zg(e){Wi.call(this),this.defines={STANDARD:""},this.type="AMRTBasicMaterial",this.color=new Qi(16777215),this.albedo=null,this.albedoUV=0,this.normalMap=null,this.normalScale=1,this.normalMap2=null,this.normalScale2=1,this.metallicMap=null,this.metallic=0,this.roughnessMap=null,this.smoothness=0,this.aoMap=null,this.aoScale=1,this.aoUV=0,this.emissive=new Qi(0),this.emissiveMap=null,this.emissiveUV=0,this.reflectMap=null,this.reflectIntensity=0,this.cutout=.5,this.reflectivity=1,this.transparency=0,this.opacity=1,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.vertexTangents=!0,this.normalMapType=0,this.envRotateY=0,this.envYMatrix=new on,this.reflectRotateY=0,this.reflecYMatrix=new on,this.setValues(e),this.__defineSetter__("envRotateY",(function(e){this.envYMatrix=(new on).rotateY(e)})),this.__defineSetter__("reflectRotateY",(function(e){this.reflecYMatrix=(new on).rotateY(e)}))}_g.prototype=Object.assign(Object.create(No.prototype),{constructor:_g,isInstancedMesh:!0,deleteItem:function(e){if(e&&0!=e.length){var t=new Float32Array(16*(this.count-e.length));e.push(this.count);for(var n=0,i=0,r=0;r<e.length;r++){this.objects.splice(e[r]-r,1);var A=16*e[r];if(n<A){var a=this.bufferArray.slice(n,A);t.set(a,i),i+=a.length}n=A+16}for(var o=0;o<this.objects.length;o++)this.objects[o].instanceIndex=o;this.bufferArray=t,this.instanceMatrix=new Xi(this.bufferArray,16),this.count=this.count-e.length+1}},addItem:function(e){this.count+=e.length;var t=new Float32Array(16*this.count);t.set(this.bufferArray,0),this.bufferArray=t;for(var n=0;n<e.length;n++)e[n].refreshInstanceMesh(),this.objects.push(e[n])}}),zg.prototype=Object.create(Wi.prototype),zg.prototype.constructor=zg,zg.prototype.isAMRTBasicMaterial=!0,zg.prototype.copy=function(e){return Wi.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.albedo=e.albedo,this.albedoUV=e.albedoUV,this.normalMap=e.normalMap,this.normalScale=e.normalScale,this.normalMap2=e.normalMap2,this.normalScale2=e.normalScale2,this.metallicMap=e.metallicMap,this.metallic=e.metallic,this.roughnessMap=e.roughnessMap,this.smoothness=e.smoothness,this.aoMap=e.aoMap,this.aoScale=e.aoScale,this.aoUV=e.aoUV,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveUV=e.emissiveUV,this.reflectMap=e.reflectMap,this.reflectIntensity=e.reflectIntensity,this.cutout=e.cutout,this.reflectivity=e.reflectivity,this.transparency=e.transparency,this.opacity=e.opacity,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.vertexTangents=e.vertexTangents,this.normalMapType=e.normalMapType,this.envRotateY=e.envRotateY,this.envYMatrix=e.envYMatrix,this.reflectRotateY=e.reflectRotateY,this.reflecYMatrix=e.reflecYMatrix,this},zg.prototype.dispose=function(){Wi.prototype.dispose.call(this),this.albedo&&this.albedo.dispose(),this.metallicMap&&this.metallicMap.dispose(),this.roughnessMap&&this.roughnessMap.dispose(),this.aoMap&&this.aoMap.dispose(),this.emissiveMap&&this.emissiveMap.dispose(),this.reflectMap&&this.reflectMap.dispose(),this.envMap&&this.envMap.dispose()};var Kg=[];function Yg(){this.geometry=null,this._material=null,this.instanceIndex=0,this._instanceMesh=null,this.rootInverse=new Tn,this.material0=null,this._mesh=null,_n.call(this),Object.defineProperty(this,"instanceMesh",{get:function(){return this._instanceMesh},set:function(e){this._instanceMesh!=e&&(this._instanceMesh=e,this.geometry=this._instanceMesh.tmpGeometry,this._material=this._instanceMesh.material[0],this.material0=this._material,this._mesh=new Fr(this.geometry,this._material),this._mesh.name=this.name)}}),Object.defineProperty(this,"material",{get:function(){return null==this._instanceMesh?null:(this._material===this._instanceMesh.material[0]&&this.createMesh(),this._material)},set:function(e){console.log("set"),this._material=e,this._mesh.material=this._material,this._mesh.material0=this._material,null==this._mesh.parent&&this.add(this._mesh)}})}Yg.prototype=Object.assign(Object.create(_n.prototype),{constructor:Yg,intanceObject:!0,setDirty:function(){this.refreshInstanceMesh()},refreshInstanceMesh:function(){null!=this._instanceMesh&&(this._instanceMesh.updateMatrixWorld(!0),this.rootInverse.getInverse(this._instanceMesh.matrixWorld),this._instanceMesh.setMatrixAt(this.instanceIndex,this.rootInverse.multiply(this.matrixWorld)),this._instanceMesh.instanceMatrix.needsUpdate=!0)},createMesh:function(){if(null==this._mesh.parent){var e=new zg;e.copy(this._material),this._material=e,this.material0=this._material,this._mesh.material=this._material,this._mesh.material0=this._material,this._instanceMesh.deleteItem([this.instanceIndex]),this.add(this._mesh)}},raycast:function(e,t){null!=this._mesh&&(this._mesh.matrixWorld=this.matrixWorld,this._mesh.raycast(e,Kg),Kg.length>0&&(this.createMesh(),Kg[0].object=this,t.push(Kg[0])),Kg.length=0)}});var jg=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Me(this,e),this.cacheMats=[],this.queryMats={},this.cacheMeshes=[],this.cacheMesheIds=[],this.cacheAnimations=[],this.cacheActions=[],this.cacheSkinnedMeshs=[],this.cacheSkinnedMeshIds=[],this.cacheEnvMap={},this.cacheAoMap={},this.hasSkinnedAnimation=!1,this.model=t.isBIM?new Wg:new Vg,this.model.objects=this.cacheMeshes,this.model.materials=this.cacheMats,this.instances=null,this.ref=[],this.sref=[],gg.renderer=pn.getRenderer(),this.boneListByMeshMap=new Map,this.boneListMap=new Map,this.meshLoader=new Xg,this.extraMaterial={},this.cacheExtraMat=[],this.instanceMap=new Map,this.loadCount=0,this.currentLoadCount=0,this.meshLoader.setDecoderPath(this._getDecoderPath()),this.meshLoader.setWorkerLimit(8),this.isOpenInstance=t.instance||!1,this.isOpenInstance&&console.log("开启实例化")}return Te(e,[{key:"setLoadCount",value:function(e){this.loadCount=e}},{key:"_getDecoderPath",value:function(){if(q.getElementById("AMRT")){var e=q.getElementById("AMRT").src;e.slice(0,e.lastIndexOf("/"))+"/"}else for(var t=0;t<q.scripts.length;t++){var n=q.scripts[t];n.src&&"app.js"===n.src.slice(n.src.lastIndexOf("/")+1)&&n.src.slice(0,n.src.lastIndexOf("/"))+"/"}return"https://waibu-demo.obs.cn-east-2.myhuaweicloud.com:443/amrt/"}},{key:"load",value:function(e,t,n,i){var r=this;this.meshLoader.load(e,(function(e){if(e){var t;e.attributes.normal||e.computeVertexNormals(),e.attributes.uv&&Mg(e);var n=r.instanceMap.get(e.custom_data.id);if(n){if(!0!==r.isOpenInstance){console.log("实例化转换为网格对象");for(var i=0;i<n.length;i++){(t=new Fr(e,r.generateMaterial(e))).ID=n[i].ID,r.addToCache(t),t.applyMatrix(n[i].matrix.clone()),t.sid=n[i].sid,t.parentId=n[i].parentId,t.materialIndex=e.custom_data.materialIndex,t.nodeType=1,t.name=n[i].name,r._assembly(t)}return r.instanceMap.set(e.custom_data.id,void 0),void delete e.custom_data}t=new _g(e,r.generateMaterial(e),n.length)}else if(1===e.custom_data.nodeType){t=new Fr(e,r.generateMaterial(e)),r.addToCache(t)}else if(2===e.custom_data.nodeType){var A=r.boneListByMeshMap.get(e.custom_data.id);if(A){(t=new So(e,r.generateMaterial(e,!0))).boneNum=A.maxBoneCount;var a=new Ro(A.bones);t.bind(a),r.addToCache(t)}}else if(4===e.custom_data.nodeType){var o=r.boneListMap.get(e.custom_data.id);t=o||new Lo}else t=new _n;t.ID=e.custom_data.id,t.applyMatrix((new Tn).fromArray(e.custom_data.matrix)),t.sid=e.custom_data.id,t.parentId=n?-1:e.custom_data.parentId,t.materialIndex=e.custom_data.materialIndex,t.nodeType=e.custom_data.nodeType,t.name=e.name,delete e.custom_data,r._assembly(t)}}),(function(){r.currentLoadCount++;var e,n=Ve(r.boneListByMeshMap);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(r.ref[i[0]]){var A=r.ref[i[0]];A.bind(A.skeleton)}}}catch(e){n.e(e)}finally{n.f()}if(r.loadCount===r.currentLoadCount&&!0===r.isOpenInstance){var a=new Tn;a.getInverse(r.model.matrixWorld);var o,s=Ve(r.instanceMap);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(r.ref[l[0]]){var c=r.ref[l[0]],u=l[1];if(u){for(var h=0;h<u.length;h++){u[h].instanceMesh=c,u[h].instanceIndex=h,u[h].updateMatrixWorld(!0);var d=new Tn;c.setMatrixAt(h,d.multiplyMatrices(a,u[h].matrixWorld)),c.instanceMatrix.needsUpdate=!0,c.objects.push(u[h])}r.instanceMap.set(l[0],void 0)}}}}catch(e){s.e(e)}finally{s.f()}r.currentLoadCount=0,console.log("complete")}t(r.model),r._initMaterial()}),n,i)}},{key:"_assembly",value:function(e){var t=this;this.ref[e.sid]=e,-1===e.parentId?this.model.add(e):this.ref[e.parentId]?(this.ref[e.parentId].add(e),e.updateMatrixWorld(!0)):(void 0===this.sref[e.parentId]&&(this.sref[e.parentId]=[]),this.sref[e.parentId].push(e.sid)),this.sref[e.sid]&&(this.sref[e.sid].forEach((function(n){e.add(t.ref[n]),e.updateMatrixWorld(!0)})),this.sref[e.sid]=null)}},{key:"clearTempData",value:function(){this.ref=null,this.sref=null}},{key:"loadBoneList",value:function(e,t){var n=this;this.meshLoader.load(e,(function(e){if(e&&e.boneMeshList)for(var t=0;t<e.boneMeshList.length;t++){for(var i=e.boneMeshList[t],r={},A=[],a=0;a<i.boneList.length;a++){var o=n.boneListMap.get(i.boneList[a]);o||(o=new Lo,n.boneListMap.set(i.boneList[a],o)),A.push(o)}r.bones=A,r.maxBoneCount=i.maxBoneCount,n.boneListByMeshMap.set(i.meshId,r)}}),(function(){t&&t()}))}},{key:"loadSkin",value:function(e,t){var n=this;this.meshLoader.load(e,(function(e){if(e)for(var t=0;t<e.boneIndices.length;t++)n.ref[e.meshId].geometry.setAttribute("skinIndex_"+4*(t+1),new ji(e.boneIndices[t],4)),n.ref[e.meshId].geometry.setAttribute("skinWeight_"+4*(t+1),new $i(e.boneWeights[t],4))}),(function(){t&&t()}))}},{key:"loadInstance",value:function(e,t){var n=this;this.meshLoader.load(e,(function(e){e&&e.insts&&(e.insts.forEach((function(e){var t=new Yg;t.applyMatrix4((new Tn).fromArray(e.offsetMatrix)),t.name=e.name,t.ID=e.id,t.sid=e.id,t.parentId=e.parent_Id,n.isOpenInstance&&n.addToCache(t);var i=n.instanceMap.get(e.ref_id);i?i.push(t):n.instanceMap.set(e.ref_id,[t]),n.isOpenInstance&&n._assembly(t)})),delete e.insts)}),(function(){t&&t()}))}},{key:"loadMaterials",value:function(e,t,n){var i=this;(new ql).load(e,(function(e){if(e=JSON.parse(e),i.model.originMaps={},e.z)for(var r in e.b)i.model.originMaps[e.b[r]]=e.z[r];e.b&&(e.b=e.z||[]),pn.getRenderer().extensions.has("OES_texture_half_float")||(console.log("不支持拓展 OES_texture_half_float ，改用加载原贴图。"),e.b=e.z||[]),i.SnameTable&&Array.isArray(e.a)&&e.a.map((function(e){e.ee&&i.SnameTable[e.ee]&&(e.a=i.SnameTable[e.ee])})),i.parseMaterials(e,t,n)}))}},{key:"loadAOMap",value:function(e,t){var n=this;gg.BASE_URL="",gg.load(e,(function(e){e.wrapS=e.wrapT=1e3,n.cacheMats.forEach((function(t){t.aoMap=e,t.needsUpdate=!0})),t&&t instanceof Function&&t()}),null,t)}},{key:"generateMaterial",value:function(e,t){for(var n=[],i=0;i<e.custom_data.materialIndex.length;i++){var r=e.custom_data.materialIndex[i];if(void 0!==this.queryMats[r]){var A=this.cacheMats[this.queryMats[r]];n.push(A)}else{var a=this._createBaseMaterial(r);n.push(a),t&&(a.skinning=!0),this.cacheMats.push(a),this.queryMats[r]=this.cacheMats.length-1}}return n}},{key:"_createBaseMaterial",value:function(e){var t=new Fl;return t.name=e,t.color=new Qi("#cccccc"),t}},{key:"parseMaterials",value:function(e,t,n){var i=this;if(Array.isArray(e)&&(e={a:e,b:[]}),this.extraMaterial=e.c||{},e.a.length>0){var r=e.b,A=0,a=e.a.length,o=new Map;e.a.forEach((function(s){var l=s;if(null!=l.re){var c=l.a,u=l.re;(l=o.get(u)).re=u,l.a=c}else o.set(l.a,l);i.parseMaterial(l,r,(function(){++A===a&&(i._initMaterial(),t&&t instanceof Function&&t())}),n,e.ed)})),o.clear()}else t&&t instanceof Function&&t()}},{key:"applyMaterial",value:function(){}},{key:"setEnvMap",value:function(e,t){this.cacheMats.forEach((function(n){n.envPath==e&&(n.envMap=t,n.needsUpdate=!0)}))}},{key:"parseMaterial",value:function(e,t,n,i,r){var A=this,a=e.a,o=this.queryMats[a];if(void 0===o&&a&&a&&a.toString().indexOf("_")>-1){var s=a.split("_")[0],l=this.queryMats[s],c=this.cacheMats[l],u=this.cacheMeshes.find((function(t){return t.name===e.mn})),h=c.clone();h.name=e.ee||a,h.sname=c.sname,h.ID=a,this.cacheMats.push(h),o=this.cacheMats.length-1,this.queryMats[a]=o,u.material[u.material.indexOf(c)]=h}var d=this.cacheMats[o],g=0,p=0;function f(){++g===p&&(d.needsUpdate=!0,n&&n instanceof Function&&n())}if(d||(d=this._createBaseMaterial(a),this.cacheMats.push(d),this.queryMats[a]=this.cacheMats.length-1),d){if(d.name=a,d.ID=a,d.sname=e.ee,void 0!==e.b&&(r||void 0===e.c&&!r?d.color=(new Qi).fromArray(e.b):d.color.set(16777215)),void 0!==e.c&&t[e.c]){p++;var m=t[e.c];gg.load(m,(function(t){t.wrapS=t.wrapT=1e3,null!=e.t&&t.repeat.set(e.t[0],e.t[1]),null!=e.x&&t.offset.set(e.x[0],e.x[1]),null!=e.ad&&(d.albedoUV=e.ad),d.albedo=t,void 0!==e.c?d.useDefault=e.useDefault:d.useDefault=!0,f()}),null,(function(e){console.error("贴图加载出错"),f()}))}else d.albedoUV=null,d.needsUpdate=!0;if(e.d){var v=(new Qi).fromArray(e.d);d.emissive=v}if(void 0!==e.e&&(d.aoScale=parseFloat(e.e)),void 0!==e.f&&d.color.multiplyScalar(parseFloat(e.f)),void 0!==e.g&&(d.smoothness=parseFloat(e.g)),void 0!==e.h&&(d.metallic=parseFloat(e.h)),void 0!==e.i&&(d.normalScale=parseFloat(e.i)),void 0!==e.j&&(d.opacity=parseFloat(e.j)),void 0!==e.gg&&(d.transparency=parseFloat(e.gg)),(d.opacity<1||d.transparency>0)&&(d.transparent=!0),void 0!==e.hh&&(d.alphaTest=parseFloat(e.hh)),void 0!==e.ii&&(d.reflectIntensity=parseFloat(e.ii)),void 0!==e.si&&(d.side=e.si),void 0!==e.q&&t[e.q]?(p++,gg.load(t[e.q],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.u?t.repeat.set(e.u[0],e.u[1]):t.repeat.set(1,1),void 0!==e.mm&&t.offset.set(e.mm[0],e.mm[1]),void 0!==e.nn&&(t.rotation=e.nn),d.normalMap=t,f()}),null,(function(e){console.error("贴图加载出错"),f()}))):(d.normalMap=null,d.needsUpdate=!0),void 0!==e.cf&&t[e.cf]?(p++,gg.load(t[e.cf],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.cb?t.repeat.set(e.cb[0],e.cb[1]):t.repeat.set(1,1),void 0!==e.cg&&t.offset.set(e.cg[0],e.cg[1]),void 0!==e.cn&&(t.rotation=e.cn),void 0!==e.ca&&(d.normalScale2=parseFloat(e.ca)),d.normalMap2=t,f()}),null,(function(e){console.error("贴图加载出错"),f()}))):(d.normalMap2=null,d.needsUpdate=!0),void 0!==e.r&&t[e.r]){p++;var C=this,y=t[e.r];C.cacheAoMap[y]?(d.aoMap=C.cacheAoMap[y],d.aoUV=e.fd,C.cacheAoMap[y+"_mats"].push(d),f()):(d.aoMap=C.cacheAoMap[y]=gg.load(t[e.r],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.v?t.repeat.set(e.v[0],e.v[1]):t.repeat.set(1,1),void 0!==e.fc&&t.offset.set(e.fc[0],e.fc[1]),d.aoUV=e.fd,C.cacheAoMap[y+"_mats"]&&C.cacheAoMap[y+"_mats"].map((function(e){return e.needsUpdate=!0})),f()}),null,(function(e){console.error("贴图加载出错"),f()})),C.cacheAoMap[y+"_mats"]=[d])}else void 0===e.fd&&(d.aoUV=1),d.aoMap=null,d.needsUpdate=!0;if(void 0!==e.y&&t[e.y]?(p++,gg.load(t[e.y],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.bb?t.repeat.set(e.bb[0],e.bb[1]):t.repeat.set(1,1),void 0!==e.pp&&t.offset.set(e.pp[0],e.pp[1]),d.metallicMap=t,f()}),null,(function(e){console.error("贴图加载出错"),f()}))):(d.metallicMap=null,d.needsUpdate=!0),void 0!==e.z&&t[e.z]?(p++,gg.load(t[e.z],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.cc?t.repeat.set(e.cc[0],e.cc[1]):t.repeat.set(1,1),void 0!==e.qq&&t.offset.set(e.qq[0],e.qq[1]),d.roughnessMap=t,f()}),null,(function(e){console.error("贴图加载出错"),f()}))):(d.roughnessMap=null,d.needsUpdate=!0),void 0!==e.aa&&t[e.aa]?(p++,gg.load(t[e.aa],(function(t){t.wrapS=t.wrapT=1e3,void 0!==e.dd?t.repeat.set(e.dd[0],e.dd[1]):t.repeat.set(1,1),void 0!==e.rr&&t.offset.set(e.rr[0],e.rr[1]),void 0!==e.gd&&(d.emissiveUV=e.gd),d.emissiveMap=t,f()}),null,(function(e){console.error("贴图加载出错"),f()}))):(d.emissiveMap=null,d.needsUpdate=!0),void 0!==e.ww){var I=t[e.ww];d.envPath=I,void 0!==e.xx&&(d.envRotateY=e.xx),this.cacheEnvMap[I]||(this.cacheEnvMap[I]={},gg.load(I,(function(e){e=gg.convertTexture(e),A.cacheEnvMap[I]=e,A.setEnvMap(I,e)}),null,(function(e){})))}else this.cacheMats.forEach((function(e){e.envMap=null,e.needsUpdate=!0}));if(void 0!==e.ev&&(d.envMapIntensity=e.ev),void 0!==e.ll&&t[e.ll]){p++;var w=t[e.ll];void 0!==e.yy&&(d.reflectRotateY=e.yy),gg.load(w,(function(e){(e=gg.convertTexture(e)).wrapS=e.wrapT=1e3,d.reflectMap=e,f()}),null,(function(e){console.error("贴图加载出错"),f()}))}else d.reflectMap=null,d.needsUpdate=!0;d.retainMap=!0,void 0!==e.jj&&(d.retainMap=Boolean(e.ii)),void 0!==e.kk&&!0!==e.kk?d.renderOrder=Number(e.kk):d.renderOrder=d.opacity<1?zt:Kt,null!=e.jr&&(d.reflectivity=e.jr),null!=e.l&&(d.wireframe=e.l),null!=e.o&&(d.skinning=e.o),null!=e.p&&(d.vertexTangents=e.p),null!=e.qn&&(d.normalMapType=e.qn),null!=e.rm&&(d.morphTargets=e.rm),null!=e.transparent&&(d.transparent=e.transparent),void 0!==e.ev&&(d.envMapIntensity=e.ev),d.re=e.re,d.needsUpdate=!0,0===p&&n&&n instanceof Function&&n()}}},{key:"addToCache",value:function(e){this.cacheMeshes.push(e),this.cacheMesheIds.push(e.ID)}},{key:"loadAnimation",value:function(e,t){var n=this;this.hasSkinnedAnimation=!0,this.meshLoader.load(e,(function(e){try{if(e){var i=[];if(e.animType2Anim){var r=n.parseAnimation(e);i=i.concat(r)}else e.boneId2Anim&&e.boneId2Anim.length>0&&(i=i.concat(n.parseSkinAnimation(e)));var A=new Xl(e.name,e.Duration,i);n.model.animation.addClip(A)}}catch(e){console.error("动画文件解析出错！",e)}t&&t()}),(function(){}))}},{key:"parseSkinAnimation",value:function(e){if(e.boneId2Anim){var t=new Tn,n=new rn,i=new en,r=new rn;e.Duration;for(var A=[],a=0;a<e.boneId2Anim.length;a++){for(var o=e.boneId2Anim[a],s=this.ref[o.boneId].name,l=o.frameTimes,c=[],u=[],h=[],d=0;d<o.frameVals.length;d++){var g=o.frameVals[d];t.fromArray(g),t.decompose(n,i,r),c.push(n.x,n.y,n.z),u.push(i.x,i.y,i.z,i.w),h.push(r.x,r.y,r.z)}var p=new Zl(s+".position",l,c),f=new kl(s+".quaternion",l,u),m=new Zl(s+".scale",l,h);A.push(p,f,m)}return A}}},{key:"parseAnimation",value:function(e){var t=e.animType2Anim,n=[];if(t.transAnim)for(var i=0;i<t.transAnim.length;i++)for(var r=t.transAnim[i],A=0;A<r.meshId.length;A++)if(this.ref[r.meshId[A]]){var a=this.ref[r.meshId[A]].uuid,o=new Float32Array(Object.keys(r.frameTimes).length),s=new Float32Array(Object.keys(r.frameVals).length);for(var l in r.frameTimes)o[l]=r.frameTimes[l];for(var c in r.frameVals)s[c]=r.frameVals[c];r.frameTimes=o,r.frameVals=s,n.push(new Zl(a+".position",r.frameTimes,r.frameVals))}if(t.scaleAnim)for(var u=0;u<t.scaleAnim.length;u++)for(var h=t.scaleAnim[u],d=0;d<h.meshId.length;d++)if(this.ref[h.meshId[d]]){var g=this.ref[h.meshId[d]].uuid,p=new Float32Array(Object.keys(h.frameTimes).length),f=new Float32Array(Object.keys(h.frameVals).length);for(var m in h.frameTimes)p[m]=h.frameTimes[m];for(var v in h.frameVals)f[v]=h.frameVals[v];h.frameTimes=p,h.frameVals=f,n.push(new Zl(g+".scale",h.frameTimes,h.frameVals))}if(t.rotAnim)for(var C=0;C<t.rotAnim.length;C++)for(var y=t.rotAnim[C],I=0;I<y.meshId.length;I++)if(this.ref[y.meshId[I]]){var w=this.ref[y.meshId[I]].uuid,b=new Float32Array(Object.keys(y.frameTimes).length),B=new Float32Array(Object.keys(y.frameVals).length);for(var x in y.frameTimes)b[x]=y.frameTimes[x];for(var M in y.frameVals)B[M]=y.frameVals[M];y.frameTimes=b,y.frameVals=B,n.push(new kl(w+".quaternion",y.frameTimes,y.frameVals))}return n}},{key:"parseSkinnedAnimation",value:function(e){for(var t,n=[],i=0,r=0;r<e.length;r++){var A=e[r],a=this.cacheSkinnedMeshs[A.a].name,o=[],s=[],l=[],c=[];A.d>i&&(i=A.d);for(var u=0;u<A.b.length;u++){o.push(A.b[u].a);var h=(new Tn).fromArray(A.b[u].b),d=new rn,g=new en,p=new rn;h.decompose(d,g,p),s.push(d.x),s.push(d.y),s.push(d.z),l.push(g.x),l.push(g.y),l.push(g.z),l.push(g.w),c.push(p.x),c.push(p.y),c.push(p.z)}n.push(new Zl(a+".position",o,s)),n.push(new kl(a+".quaternion",o,l)),n.push(new Zl(a+".scale",o,c))}var f=new Xl("test",i,n),m=(t=new Nu(this.model)).clipAction(f);m.play(),this.cacheAnimations.push(t),this.cacheActions.push(m)}},{key:"_initMaterial",value:function(){var e=this;this.cacheMeshes.forEach((function(t){if(t.isMesh){t.renderOrder=(Array.isArray(t.material)?t.material[0]:t.material).renderOrder;var n=Array.isArray(t.material)?t.material:[t.material];t.geometry.attributes&&!t.geometry.attributes.uv&&n.forEach((function(e){e.vertexTangents=!1})),t.geometry.attributes&&t.geometry.attributes.uv2&&n.forEach((function(e){void 0===e.aoUV&&(e.aoUV=1)}));var i=function(n){var i=e.extraMaterial[n],r=e.cacheMats.find((function(e){return e.name==n}));if(!r)return"continue";i.map((function(n){n.a==t.ID&&(e.cacheExtraMat.push({a:t.ID,b:n.b,c:t.material[n.b].name}),t.material[n.b]=r,t.overMaterial=[n.b].concat(Qe(t.overMaterial||[])))}))};for(var r in e.extraMaterial)i(r)}}))}},{key:"replaceMaterials",value:function(e,t,n){var i=this;this.cacheExtraMat.map((function(e){var t=i.cacheMeshes.find((function(t){return t.ID==e.a})),n=i.cacheMats[i.queryMats[e.c]];t.material[e.b]=n})),this.extraMaterial={};for(var r=function(e){var t=i.cacheMats[e];i.cacheMeshes.find((function(e){return!!e.isMesh&&e.material.find((function(e){return e===t}))}))||(t.dispose(),delete i.queryMats[t.name],i.cacheMats.splice(e,1))},A=this.cacheMats.length-1;A>=0;A--)r(A);n&&(this.SnameTable={},this.cacheMats.map((function(e){e.sname&&(i.SnameTable[e.sname]=e.ID)}))),this.loadMaterials(e,t)}}]),e}(),Jg=function(e){Fe(n,e);var t=Ge(n);function n(){var e;return Me(this,n),(e=t.call(this)).logId="",e}return Te(n,[{key:"load",value:function(e,t,n,i){var r=this,A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(this.paths=e,void 0!==e.localPath&&gg.setBaseUrl(e.localPath),this._onLoad=t,this._onProgress=n,this._onError=i,this.logId=!!A.log&&A.log.toString(),e.m[0].indexOf(".mbin")>-1?this.loader=new jg(A):this.loader=new Zg(A),this.paths.nodes)this.loader.loadNodes(this.paths.nodes,(function(){r._loadMultiMesh()}));else if(this.paths.instance&&this.paths.instance.length>0)for(var a=0;a<this.paths.instance.length;a++)this.loader.loadInstance(this.paths.instance[a],(function(){r._loadSkinAndMesh()}));else this._loadSkinAndMesh();return this.loader.model.name=A.name||this.loader.model.name,this.loader.model.ID=A.id||"",A.position&&(Array.isArray(A.position)?this.loader.model.position.fromArray(A.position):A.position.isVector3&&this.loader.model.position.copy(A.position)),A.rotation&&Array.isArray(A.rotation)&&this.loader.model.rotation.set(qt.degToRad(A.rotation[0]),qt.degToRad(A.rotation[1]),qt.degToRad(A.rotation[2])),A.scale&&(Array.isArray(A.scale)&&3===A.scale.length?this.loader.model.scale.fromArray(A.scale):isNaN(A.scale)?A.scale.isVector3&&this.loader.model.scale.copy(A.scale):this.loader.model.scale.multiplyScalar(A.scale)),this.loader.model}},{key:"_loadSkinAndMesh",value:function(){var e=this;if(this.paths.bone&&this.paths.bone.length>0)for(var t=0;t<this.paths.bone.length;t++)this.loader.loadBoneList(this.paths.bone[t],(function(){e._loadMultiMesh()}));else this._loadMultiMesh()}},{key:"_loadMaterials",value:function(e){var t=this;this.logId&&console.time("材质加载用时(".concat(this.logId,")")),void 0!==this.paths.rs&&(gg.RESIZE=Boolean(this.paths.rs)),void 0!==this.paths.localPath&&(gg.RESIZE=!1);var n=0,i=e.length;e.forEach((function(e){t.loader.loadMaterials(e,(function(){++n===i&&(t.paths.ao&&""!=t.paths.ao?t.loader.loadAOMap(t.paths.ao,(function(){t.dispatchEvent(ln.MATERIAL_LOADED,t.loader.model)})):t.dispatchEvent(ln.MATERIAL_LOADED,t.loader.model),t.logId&&console.timeEnd("材质加载用时(".concat(t.logId,")")))}),(function(e){console.error("材质加载出错",e),t.dispatchEvent(ln.MATERIAL_LOAD_ERROR)}))}))}},{key:"_loadAnimations",value:function(){var e=this;this.logId&&console.time("动画加载用时(".concat(this.logId,")"));var t=0,n=this.paths.a.length;this.paths.a.forEach((function(i){e.loader.loadAnimation(i,(function(){++t===n&&(e.dispatchEvent(ln.ANIMATION_LOADED),e.logId&&console.timeEnd("动画加载用时(".concat(e.logId,")")))}))}))}},{key:"_loadComplete",value:function(e){var t=this;this._loadMaterials(this.paths.mat),this.paths.a&&this.paths.a.length>0&&(this.paths.skin&&this.paths.skin.length>0?this._loadSkin(this.paths.skin,(function(){t._loadAnimations()})):this._loadAnimations()),this._onProgress&&this._onProgress(100),this.dispatchEvent(ln.MESH_LOADED,e),this._onLoad&&this._onLoad(e)}},{key:"_loadSkin",value:function(e,t){for(var n=0;n<e.length;n++)this.loader.loadSkin(e[n],t)}},{key:"_loadMultiMesh",value:function(){var e=this;this.logId&&console.time("网格加载用时(".concat(this.logId,")"));var t=this.paths.m.length,n=0,i=0,r=function(){n++,o(1),n>=t&&(e.logId&&console.timeEnd("网格加载用时(".concat(e.logId,")")),e.paths.i&&e.paths.ii?e.loadInstanceMesh((function(){e._loadComplete(e.loader.model)})):e._loadComplete(e.loader.model))},A=function(r){var A=e.paths.ms&&e.paths.ms[i];if(e._onProgress){var a=r.total;A&&(a=parseInt(A));var o=n/t;null!=a&&a>0&&(o+=1/t*r.loaded/a),e._onProgress(parseInt(100*o))}},a=function(t){e._onError&&e._onError(t),e.dispatchEvent(ln.MESH_LOAD_ERROR)},o=function(n){e.loader.setLoadCount&&e.loader.setLoadCount(t);for(var o=0;o<n&&i<t;o++){var s=e.paths.m[i];e.loader.load(s,r,A,a),i++}};t>0?o(Math.min(t,20)):r()}},{key:"_preloadMaterial",value:function(){void 0!==this.paths.localPath&&(gg.RESIZE=!1),this.paths.mat.forEach((function(e){(new ql).load(e,(function(e){for(var t in(e=JSON.parse(e)).b)gg.load(e.b[t])}))}))}},{key:"loadInstanceMesh",value:function(e){var t=this;(new ql).load(this.paths.i,(function(n){var i=JSON.parse(n);t.loader.instances=i;var r=t.paths.ii.length,A=0;t.paths.ii.forEach((function(n){t.loader.load(n,(function(n){(n=n[0]).parent&&n.parent.remove(n);var a=[];i.forEach((function(e,t){e.c==n.iid&&a.push(e)}));var o=new Fl;o.name=name,o.color=new Qi("#cccccc");var s=[o],l=new _g(n.geometry,s,a.length);t.loader.model.add(l);var c=new Tn;c.getInverse(t.loader.model.matrixWorld),a.forEach((function(e,n){var i=new Yg;i.name=e.b,i.instanceMesh=l,i.instanceIndex=n,i.applyMatrix((new Tn).fromArray(e.d));var r=t.loader.model.getObjectByProperty("ID",e.e)||t.loader.model;r&&(r.add(i),t.loader.addToCache(i)),i.updateMatrixWorld(!0);var A=new Tn;l.setMatrixAt(n,A.multiplyMatrices(c,i.matrixWorld)),l.objects.push(i)})),l.instanceMatrix.needsUpdate=!0,++A>=r&&e()}))}))}),void 0,(function(){console.error("实例化数据文件加载失败"),e()}))}},{key:"preloadMap",value:function(e,t,n){this.loader.preloadMap(e,t,void 0,n)}},{key:"dispatchEvent",value:function(e,t){Pe(Ue(n.prototype),"dispatchEvent",this).call(this,{type:e,data:t})}},{key:"addEventListener",value:function(e,t){return Pe(Ue(n.prototype),"addEventListener",this).call(this,e,t),this}}]),n}(Yt),qg=function(e){Fe(n,e);var t=Ge(n);function n(e){return Me(this,n),t.call(this,e)}return Te(n,[{key:"load",value:function(e,t,i,r){var A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return A.isBIM=!0,Pe(Ue(n.prototype),"load",this).call(this,e,t,i,r,A),this.loadConfig(this.paths.bim),this.paths.bimNode&&this.loadNodeTree(this.paths.bimNode),this.loader.model}},{key:"loadNodeTree",value:function(e){var t=this;(new ql).setResponseType("json").load(e,(function(e){var n={};e.forEach((function(t){if(t.b.indexOf("##")>-1){var i=t.b.split("##");t.b=i[0],t.CID=parseInt(i[1])}var r=e.find((function(e){return t.c==e.a}));t.parent=r,n[t.a]=t})),t.loader.model.nodeArray=e,t.loader.model.nodeTree=n,t.paths.bimFace&&(new ql).setResponseType("json").load(t.paths.bimFace,(function(e){t.loader.model.faceMap=e}))}))}},{key:"loadConfig",value:function(e,t){var n=this;this.loader.model.isBIM=!0,this.loader.model.basePath=e.substring(0,e.lastIndexOf("/"))+"/",this.loader.model.extension=e.substring(e.lastIndexOf(".")+1,e.length),this.loader.model.extension=this.loader.model.extension.split("?")[0],(new ql).load(e,(function(e){e=JSON.parse(e),n.loader.model.bimConfig=e.c,n.loader.model.structureTree=e.d,t&&t()}))}}]),n}(Jg),$g=function(){function e(){Me(this,e),this._rayCaster=null}return Te(e,[{key:"rayCaster",get:function(){return this._rayCaster||(this._rayCaster=new ku),this._rayCaster}},{key:"rayIntersect",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t=t||mg.root;var i=dg.getDomMouse(e,pn.containerRect);return this.rayCaster.setFromCamera(i,pn.camera),Array.isArray(t)?this.rayCaster.intersectObjects(t,n):this.rayCaster.intersectObject(t,n)}},{key:"intersectObject",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return console.error("缺少事件对象: MouseEvent"),!1;t=t||mg.modelGroup;var i=this.rayIntersect(e,t,n);return i.length>0?i[0]:null}},{key:"intersectObjects",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return console.error("缺少事件对象: MouseEvent"),!1;t=t||mg.modelGroup;var i=this.rayIntersect(e,t,n);return i}},{key:"intersectModels",value:function(e,t,n,i){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(!e)return console.error("缺少事件对象: MouseEvent"),!1;if(i=i||mg.modelGroup,this.rayCaster.constructor===ku){var A=this.rayIntersect(e,i,r);return t&&(n?t.call(n,A):t(A)),A}this.rayCaster.executeTest((function(e){t&&(n?t.call(n,e.intersects):t(e.intersects))}),!0)}},{key:"intersectBox",value:function(e,t){if(!e)return console.error("缺少事件对象: MouseEvent"),!1;var n=dg.getDomMouse(e,pn.containerRect);this.rayCaster.setFromCamera(n,pn.camera);var i=(new oi).setFromObject(t);return this.rayCaster.ray.intersectBox(i)}},{key:"screenToVector",value:function(e){var t=this.intersectObject(e,mg.root);return t?t.point:null}},{key:"vectorToScreen",value:function(e){var t=pn.container.getBoundingClientRect(),n=t.width/2,i=t.height/2,r=e.clone();return r.project(pn.camera),new $t(r.x*n+n,-r.y*i+i)}}]),e}(),ep=new(function(e){Fe(n,e);var t=Ge(n);function n(){var e;return Me(this,n),(e=t.call(this)).root=null,e.modelGroup=null,e.scene=null,e.intersectObjects={click:[],dblclick:[],mousedown:[],mousemove:[]},e}return Te(n,[{key:"init",value:function(e){if(!mg.scene)throw new Error("scene is not instance of Scene.");this.scene=mg.scene,this.root=mg.root,this.modelGroup=mg.modelGroup,this.viewer=e,this.picker=new $g,pn.container.addEventListener("click",this._eventHandler.bind(this,"click")),pn.container.addEventListener("dblclick",this._eventHandler.bind(this,"dblclick")),pn.container.addEventListener("mousedown",this._eventHandler.bind(this,"mousedown")),pn.container.addEventListener("mousemove",this._eventHandler.bind(this,"mousemove"))}},{key:"_eventHandler",value:function(e,t){if(0!=this.intersectObjects[e].length){var n=this.picker.intersectObject(t,this.intersectObjects[e],!0);if(n){var i=[];n.object.traverseAncestors((function(t){switch(e){case"click":i=t.clickCallback;break;case"dblclick":i=t.dblclickCallback;break;case"mousedown":i=t.mousedownCallback;break;case"mousemove":i=t.mousemoveCallback}t.isModel&&i.map((function(e){e.bind(t)()}))}))}}}},{key:"getModelById",value:function(e){return this.modelGroup.getModelById(e)}},{key:"getModelByName",value:function(e){return this.modelGroup.getModelByName(e)}},{key:"add",value:function(e){e.isModel?this.addModel(e):e.isPostProcessing?Ud.add(e):e.isObject3D&&this.root.add(e),pn.render()}},{key:"remove",value:function(e){e.isModel?this.removeModel(e):e.isPostProcessing?Ud.remove(e):e.isObject3D&&this.root.remove(e),pn.render()}},{key:"addModel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.modelGroup.add(e),this.dispatchEvent({type:ln.MODEL_UPDATE}),(1===this.modelGroup.children.length||t.fitCamera||void 0===t.fitCamera)&&(t.box&&!t.box.isBox3&&(t.box=(new oi).setFromArray(t.box.min.concat(t.box.max))),mg.fitCamera(e,t.box)),pn.render()}},{key:"removeModel",value:function(e){e.parent&&e.parent.remove(e),this.dispatchEvent({type:ln.MODEL_UPDATE}),pn.render()}},{key:"loadModel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.background=t.background||void 0===t.background,t.env=t.env||void 0===t.env,t.focus=t.focus||void 0===t.focus,t.addModel=t.addModel||void 0===t.addModel,this.loadModel_miniprogram(e,t)}},{key:"loadModel_miniprogram",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e,i=this;if(e.constructor!==String&&isNaN(e))t.baseURL&&(n=Bg.setLocalPath(e,t.baseURL)),A();else{if(!xg.token)return void console.error("调用老子云在线模型需要进行鉴权，鉴权方法参考：viewer.validate");t.id=t.id||e;var r=t.local?Bg.getLocalModelById:Bg.getModelById;r(e).then((function(i){if(n=i,"无权访问该模型"!=i){if("token不存在或已失效"===i)return xg.token=xg.checkDevloper(),void(xg.token&&Bg.getModelById(e).then((function(e){n=e,t.local&&Bg.setOnlinePath(n),A()})));t.local&&Bg.setOnlinePath(n),A()}})).catch((function(e){t.onError&&t.onError(e)}))}function A(){if(xg.options&&xg.options.offline){var e=!1;for(var r in n){var A=n[r];if(Array.isArray(A)){if(A.find((function(e){return e.includes("https://laozi-auto-east.obs.cn-east-2.myhuaweicloud.com")})))throw e=!0,new Error("离线模式下不允许加载线上资源")}else if(A.includes("https://laozi-auto-east.obs.cn-east-2.myhuaweicloud.com"))throw e=!0,new Error("离线模式下不允许加载线上资源")}if(e)return}if(!n.levelUrl){var a=n.bim?new qg(i):new Jg,o=a.load(n,(function(e){n.fitCamera=void 0===t.focus||t.focus,!1!==t.addModel&&i.addModel(e,n),t.onLoad&&t.onLoad(e)}),(function(e){t.onProgress&&t.onProgress(e)}),(function(e){t.onError&&t.onError(e)}),t);return a.addEventListener(ln.MATERIAL_LOADED,(function(){t.onMatLoad&&t.onMatLoad(),n.scene?mg.loadSceneFile(n.scene,{onLoad:function(e){t.env&&e.e&&gg.loadEnvMap(e.e,(function(t){o.materials.map((function(n){n.envMap=t,n.envMapIntensity=e.ei||.7,n.envRotateY=Math.PI/180*(e.ea||0),n.needsUpdate=!0}))}))},background:t.background}):n.sky&&(n.sky.b&&t.background&&mg.setSkyBox(n.sky.b),n.sky.a&&t.env&&gg.loadEnvMap(n.sky.a,(function(e){o.setEnvMap(e)}))),!t.env&&mg.envMapUrl&&m.setEnvMap(mg.envMapUrl)})),a.addEventListener(ln.ANIMATION_LOADED,(function(){t.onAnimeLoad&&t.onAnimeLoad(o)})),o.loader=a,o}this.viewer.largeSceneLoader.load(n.levelUrl,(function(e){t.onLoad&&t.onLoad(e)}))}}}]),n}(Yt));function tp(e,t){var n,i,r,A,a;this.object=e,this.domElement=void 0!==t?t:q,this.enabled=!0,this.target=new rn,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this._minPolarAngle=0,this._maxPolarAngle=Math.PI,this._minAzimuthAngle=-1/0,this._maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this._enableZoom=!0,this.zoomSpeed=1,this._enableRotate=!0,this.rotateSpeed=1,this._enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!1,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:Oe.LEFT,MIDDLE:Oe.MIDDLE,RIGHT:Oe.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._rotateLeft=function(e){S(e)},this._rotateUp=function(e){F(e)},this.panLeft=function(e){R(e,o.object.matrix)},this.panRight=function(e){R(-e,o.object.matrix)},this.panUp=function(e){L(e,o.object.matrix)},this.panDown=function(e){L(-e,o.object.matrix)},this.dollyIn=function(e){G(e,!0),pn.render()},this.dollyOut=function(e){P(e,!0),pn.render()},this.saveState=function(){o.target0.copy(o.target),o.position0.copy(o.object.position),o.zoom0=o.object.zoom},this.reset=function(){m.set(0,0,0),o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),o.dispatchEvent(s),o._update(),h=u.NONE},this._update=(n=new rn,i=(new en).setFromUnitVectors(e.up,new rn(0,1,0)),r=i.clone().inverse(),A=new rn,a=new en,function(){var e=o.object.position;n.copy(e).sub(o.target),n.applyQuaternion(i),g.setFromVector3(n),o.autoRotate&&h===u.NONE&&S(2*Math.PI/60/60*o.autoRotateSpeed),g.theta+=p.theta,g.phi+=p.phi,g.theta=Math.max(o._minAzimuthAngle,Math.min(o._maxAzimuthAngle,g.theta)),g.phi=Math.max(o._minPolarAngle,Math.min(o._maxPolarAngle,g.phi)),g.makeSafe(),g.radius*=f,g.radius=Math.max(o.minDistance,Math.min(o.maxDistance,g.radius)),o.target.add(m),n.setFromSpherical(g),n.applyQuaternion(r),e.equals(o.target.clone().add(n))||e.copy(o.target).add(n),o.object.lookAt(o.target);var t=!1;return m.equals(new rn)||(t=!0),!0===o.enableDamping?(p.theta*=1-o.dampingFactor,p.phi*=1-o.dampingFactor,m.multiplyScalar(1-o.dampingFactor)):(p.set(0,0,0),m.set(0,0,0)),f=1,!!(v||A.distanceToSquared(o.object.position)>d||8*(1-a.dot(o.object.quaternion))>d)&&(t?s.data="pan":delete s.data,o.dispatchEvent(s),A.copy(o.object.position),a.copy(o.object.quaternion),v=!1,!0)}),this.computePosition=function(e,t,n,i){var r=(new en).setFromUnitVectors(o.object.up,new rn(0,1,0)),A=r.clone().inverse(),a=new rn;return a.copy(e).sub(t),a.applyQuaternion(r),g.setFromVector3(a),void 0!==n?g.theta=n:g.theta+=p.theta,void 0!==i?g.phi=i:g.phi+=p.phi,g.theta=Math.max(o._minAzimuthAngle,Math.min(o._maxAzimuthAngle,g.theta)),g.phi=Math.max(o._minPolarAngle,Math.min(o._maxPolarAngle,g.phi)),g.makeSafe(),g.radius*=f,g.radius=Math.max(o.minDistance,Math.min(o.maxDistance,g.radius)),a.setFromSpherical(g),a.applyQuaternion(A),e.copy(t).add(a),e},this.dispose=function(){o.domElement.removeEventListener("contextmenu",_,!1),o.domElement.removeEventListener("mousedown",D,!1),o.domElement.removeEventListener("wheel",O,!1),o.domElement.removeEventListener("touchstart",W,!1),o.domElement.removeEventListener("touchend",X,!1),o.domElement.removeEventListener("touchmove",Z,!1),q.removeEventListener("mousemove",N,!1),q.removeEventListener("mouseup",V,!1),Ie("keydown",k)};var o=this,s={type:"change"},l={type:"start"},c={type:"end"},u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4},h=u.NONE,d=1e-6,g=new Xu,p=new Xu;this.sphericalDelta=p;var f=1,m=new rn,v=!1,C=new $t,y=new $t,I=new $t,w=new $t,b=new $t,B=new $t,x=new $t,M=new $t,E=new $t;function T(){return Math.pow(.95,o.zoomSpeed)}function S(e){p.theta-=e,pn.render()}function F(e){p.phi-=e,pn.render()}this.spherical=g;var U,R=(U=new rn,function(e,t){U.setFromMatrixColumn(t,0),U.multiplyScalar(-e),m.add(U),pn.render()}),L=function(){var e=new rn;return function(t,n){!0===o.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(o.object.up,e)),e.multiplyScalar(t),m.add(e),pn.render()}}(),H=function(){var e=new rn;return function(t,n){var i=o.domElement===q?o.domElement.body:o.domElement;if(o.object.isPerspectiveCamera){var r=o.object.position;e.copy(r).sub(o.target);var A=e.length();A*=Math.tan(o.object.fov/2*Math.PI/180),R(2*t*A/i.clientHeight,o.object.matrix),L(2*n*A/i.clientHeight,o.object.matrix)}else o.object.isOrthographicCamera?(R(t*(o.object.right-o.object.left)/o.object.zoom/i.clientWidth,o.object.matrix),L(n*(o.object.top-o.object.bottom)/o.object.zoom/i.clientHeight,o.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),o._enablePan=!1)}}();function G(e,t){o.object.isPerspectiveCamera?(t?f=e:f/=e,console.log(f)):o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom*e)),o.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o._enableZoom=!1)}function P(e,t){o.object.isPerspectiveCamera?(t?f=e:f*=e,console.log(f)):o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/e)),o.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o._enableZoom=!1)}function Q(e){w.set(e.clientX,e.clientY)}function D(e){if(!1!==o.enabled){switch(e.preventDefault(),o.domElement.focus&&o.domElement.focus(),e.button){case o.mouseButtons.LEFT:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===o._enablePan)return;Q(e),h=u.PAN}else{if(!1===o._enableRotate)return;!function(e){C.set(e.clientX,e.clientY)}(e),h=u.ROTATE}break;case o.mouseButtons.MIDDLE:if(!1===o._enableZoom)return;!function(e){x.set(e.clientX,e.clientY)}(e),h=u.DOLLY;break;case o.mouseButtons.RIGHT:if(!1===o._enablePan)return;Q(e),h=u.PAN}h!==u.NONE&&(q.addEventListener("mousemove",N,!1),q.addEventListener("mouseup",V,!1),o.dispatchEvent(l))}}function N(e){if(!1!==o.enabled)switch(e.preventDefault(),h){case u.ROTATE:if(!1===o._enableRotate)return;!function(e){y.set(e.clientX,e.clientY),I.subVectors(y,C).multiplyScalar(o.rotateSpeed);var t=o.domElement===q?o.domElement.body:o.domElement;S(2*Math.PI*I.x/t.clientHeight),F(2*Math.PI*I.y/t.clientHeight),C.copy(y),o._update()}(e);break;case u.DOLLY:if(!1===o._enableZoom)return;!function(e){M.set(e.clientX,e.clientY),E.subVectors(M,x),E.y>0?G(T()):E.y<0&&P(T()),x.copy(M),o._update()}(e);break;case u.PAN:if(!1===o._enablePan)return;!function(e){b.set(e.clientX,e.clientY),B.subVectors(b,w).multiplyScalar(o.panSpeed),H(B.x,B.y),w.copy(b),o._update()}(e)}}function V(e){!1!==o.enabled&&(q.removeEventListener("mousemove",N,!1),q.removeEventListener("mouseup",V,!1),o.dispatchEvent(c),h=u.NONE)}function O(e){!1===o.enabled||!1===o._enableZoom||h!==u.NONE&&h!==u.ROTATE||(e.preventDefault(),o.dispatchEvent(l),function(e){e.deltaY<0?P(T()):e.deltaY>0&&G(T()),o._update()}(e),o.dispatchEvent(c))}function k(e){!1!==o.enabled&&!1!==o.enableKeys&&!1!==o._enablePan&&function(e){var t=!1;switch(e.keyCode){case o.keys.UP:H(0,o.keyPanSpeed),t=!0;break;case o.keys.BOTTOM:H(0,-o.keyPanSpeed),t=!0;break;case o.keys.LEFT:H(o.keyPanSpeed,0),t=!0;break;case o.keys.RIGHT:H(-o.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),o._update())}(e)}function W(e){if(!1!==o.enabled){switch(e.preventDefault(),e.touches.length){case 1:if(!1===o._enableRotate)return;!function(e){C.set(e.touches[0].pageX,e.touches[0].pageY)}(e),h=u.TOUCH_ROTATE;break;case 2:if(!1===o._enableZoom&&!1===o._enablePan)return;!function(e){if(o._enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);x.set(0,i)}if(o._enablePan){var r=.5*(e.touches[0].pageX+e.touches[1].pageX),A=.5*(e.touches[0].pageY+e.touches[1].pageY);w.set(r,A)}}(e),h=u.TOUCH_DOLLY_PAN;break;default:h=u.NONE}h!==u.NONE&&o.dispatchEvent(l)}}function Z(e){if(!1!==o.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===o._enableRotate)return;if(h!==u.TOUCH_ROTATE)return;!function(e){y.set(e.touches[0].pageX,e.touches[0].pageY),I.subVectors(y,C).multiplyScalar(o.rotateSpeed);var t=o.domElement===q?o.domElement.body:o.domElement;S(2*Math.PI*I.x/t.clientHeight),F(2*Math.PI*I.y/t.clientHeight),C.copy(y),o._update()}(e);break;case 2:if(!1===o._enableZoom&&!1===o._enablePan)return;if(h!==u.TOUCH_DOLLY_PAN)return;!function(e){if(o._enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);M.set(0,i),E.set(0,Math.pow(M.y/x.y,o.zoomSpeed)),G(E.y),x.copy(M)}if(o._enablePan){var r=.5*(e.touches[0].pageX+e.touches[1].pageX),A=.5*(e.touches[0].pageY+e.touches[1].pageY);b.set(r,A),B.subVectors(b,w).multiplyScalar(o.panSpeed),H(B.x,B.y),w.copy(b)}o._update()}(e);break;default:h=u.NONE}}function X(e){h=u.NONE,!1!==o.enabled&&(o.dispatchEvent(c),h=u.NONE)}function _(e){!1!==o.enabled&&e.preventDefault()}o.domElement.addEventListener("contextmenu",_,!1),o.domElement.addEventListener("mousedown",D,!1),o.domElement.addEventListener("wheel",O,!1),o.domElement.addEventListener("touchstart",W,!1),o.domElement.addEventListener("touchend",X,!1),o.domElement.addEventListener("touchmove",Z,!1),ye("keydown",k),this._update()}tp.prototype=Object.create(Yt.prototype),tp.prototype.constructor=tp,Object.defineProperties(tp.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this._enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this._enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use ._enableRotate instead."),!this._enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use ._enableRotate instead."),this._enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}});var np=function e(){Me(this,e)};np.TOP="top",np.NORMAL="normal",np.MAP="map",np.ROAM_FREE="roam_free",np.ROAM_AUTO="roam_auto",np.ORBIT="orbit";var ip,rp=function(e){Fe(n,e);var t=Ge(n);function n(e,i,r,A){var a;return Me(this,n),(a=t.call(this)).object=e,a.camera=i,a.tween=r,a.controls=A,a}return Te(n,[{key:"setCameraFloor",value:function(e){this.cameraPos=this.camera.position.clone(),this.controls.enabled=!1,e&&(e.z*=-1,this.camera.position.copy(e)),this.camera.lookAt(new rn),this.object.add(this.camera)}},{key:"stopCameraFloor",value:function(){this.controls.enabled=!0,this.camera.parent==this.object&&this.object.remove(this.camera),this.cameraPos&&this.camera.position.copy(this.cameraPos)}},{key:"stopMoving",value:function(){this.tween.stop(),this.stopCameraFloor()}}]),n}(Yt),Ap={type:ln.CHANGE},ap=function(e){Fe(n,e);var t=Ge(n);function n(e){var i;return Me(this,n),(i=t.call(this,e.camera,e.renderer.domElement))._viewMode=np.NORMAL,i._rotateTween=null,i.viewer=e,i.object=e.camera,i.camera=e.camera,e.camera.controller=Le(i),i}return Te(n,[{key:"viewMode",get:function(){return this._viewMode},set:function(e){this._viewMode=e,this.dispatchEvent({type:"view_change",data:e})}},{key:"getView",value:function(){return{position:this.object.position.toArray(),target:this.target.toArray()}}},{key:"setView",value:function(e){void 0!==e&&(void 0!==e.position&&(Array.isArray(e.position)?this.object.position.fromArray(e.position):this.object.position.copy(e.position)),void 0!==e.target&&this.target&&(Array.isArray(e.position)?this.target.fromArray(e.target):this.target.copy(e.target))),pn.render(!0)}},{key:"enablePan",get:function(){return this._enablePan},set:function(e){this._enablePan=e}},{key:"enableRotate",get:function(){return this._enableRotate},set:function(e){this._enableRotate=e}},{key:"enableZoom",get:function(){return this._enableZoom},set:function(e){this._enableZoom=e}},{key:"maxPolarAngle",get:function(){return this._maxPolarAngle/(Math.PI/180)},set:function(e){this._maxPolarAngle=Math.PI/180*e}},{key:"minPolarAngle",get:function(){return this._minPolarAngle/(Math.PI/180)},set:function(e){this._minPolarAngle=Math.PI/180*e}},{key:"maxAzimuthAngle",get:function(){return this._maxAzimuthAngle/(Math.PI/180)},set:function(e){this._maxAzimuthAngle=Math.PI/180*e}},{key:"minAzimuthAngle",get:function(){return this._minAzimuthAngle/(Math.PI/180)},set:function(e){this._minAzimuthAngle=Math.PI/180*e}},{key:"flyTo",value:function(e){var t,n,i=this;if(void 0!==(e=e||{}).position&&(t=Array.isArray(e.position)?(new rn).fromArray(e.position):(new rn).copy(e.position)),void 0!==e.target&&(n=Array.isArray(e.target)?(new rn).fromArray(e.target):(new rn).copy(e.target)),e.object&&(e.object.isObject3D||e.object.isMesh)&&(n=e.object.parent.localToWorld(e.object.position.clone()),t=this._fitCamera(e.object).add(n),e.yAngle&&(t.x=0,t.applyAxisAngle(new rn(0,1,0),Math.PI/180*e.yAngle).add(n)),e.xAngle)){var r=this._fitCamera(e.object).add(n);r.applyAxisAngle(new rn(1,0,0),Math.PI/180*e.xAngle*-1),t.copy(r),e.yAngle&&(t.x=0,t.applyAxisAngle(new rn(0,1,0),Math.PI/180*e.yAngle).add(n))}t&&(n&&n.distanceTo(this.target)>0&&new hn.Tween(this.target).to(n,500).onUpdate((function(){i.object.lookAt(i.target)})).start(),new hn.Tween(this.object.position).to(t,e.time||500).onUpdate((function(){i.object.lookAt(i.target),i._dispatchEvent(Ap)})).onComplete((function(){e.complete&&e.complete()})).start())}},{key:"fit",value:function(e){if(e.isMesh||e.isObject3D){pn.render(!0);var t=e.parent.localToWorld(e.position.clone()),n=this._fitCamera(e).add(t);this.object.position.copy(n),this.target.copy(t),this._dispatchEvent(Ap)}}},{key:"setPosition",value:function(e,t,n){this.object.position.set(e,t,n),this._dispatchEvent(Ap)}},{key:"setTarget",value:function(e,t,n){this.target.set(e,t,n),this._dispatchEvent(Ap)}},{key:"moveForward",value:function(e){var t=new rn;this.object.getWorldDirection(t),this.object.position.add(t.multiplyScalar(e)),this._dispatchEvent(Ap)}},{key:"moveBackward",value:function(e){var t=new rn;this.object.getWorldDirection(t),this.object.position.add(t.multiplyScalar(-e)),this._dispatchEvent(Ap)}},{key:"moveLeft",value:function(e){this.panLeft(e)}},{key:"moveRight",value:function(e){this.panRight(e)}},{key:"moveUp",value:function(e){this.panUp(e)}},{key:"moveDown",value:function(e){this.panDown(e)}},{key:"rotateLeft",value:function(e){e=Math.PI/180*e,this._rotateLeft(e)}},{key:"rotateUp",value:function(e){e=Math.PI/180*e,this._rotateUp(e)}},{key:"rotateAround",value:function(e){var t,n=this,i=e.target,r=e.object;r&&(r.isMesh||r.isObject3D)?t=r.parent.localToWorld(r.position.clone()):i&&void 0!==i.x&&void 0!==i.y&&void 0!==i.z&&(t=(new rn).copy(i)),this.stopRotateAround();var A=function(){if(e.yAngle){var t=0,i={angle:0};n._rotateTween=new hn.Tween(i).to({angle:e.yAngle},e.time).onUpdate((function(){n.rotateLeft(i.angle-t),t=i.angle})).start().repeat(e.loop||1)}if(e.xAngle){var r=0,A={angle:0};n._rotateTween=new hn.Tween(A).to({angle:e.xAngle},e.time).onUpdate((function(){n.rotateUp(A.angle-r),r=A.angle})).start().repeat(e.loop||1)}};t.distanceTo(this.target)>0?new hn.Tween(this.target).to(t,500).onUpdate((function(){n.object.lookAt(n.target),n._dispatchEvent(Ap)})).onComplete((function(){A()})).start():A()}},{key:"stopRotateAround",value:function(){this._rotateTween&&this._rotateTween.stop()}},{key:"movePath",value:function(e){var t,n=[];e.path.forEach((function(e){n.push((new rn).copy(e))}));var i=new dc(n);i.curveType="catmullrom",i.tension=0,i.getPoints(50);var r,A={t:0},a=new rn,o=new hn.Tween(A).to({t:1},e.time).onUpdate((function(){var t=new rn;i.getPoint(A.t,t),a.copy(t),r&&i.getPoint(A.t+.01,a),r=A.t,e.object.lookAt(a.clone()),e.object.position.copy(t.clone())})).onComplete((function(){t.stopCameraFloor()})).repeat(e.loop||1).start();return t=new rp(e.object,this.object,o,this)}},{key:"_fitCamera",value:function(e){var t=new oi;t.makeEmpty(),t.expandByObject(e);var n=1.5;this.viewer.containerRect.width<this.viewer.containerRect.height&&(n=2);var i=new rn,r=t.getSize(new rn),A=Math.max(r.x,r.y,r.z),a=this.object.fov*(Math.PI/180),o=Math.abs(A/(2*Math.tan(a/2)));return i.z=o*n,i.y=.5*o,i}},{key:"update",value:function(){this.enabled&&this._update()}},{key:"_dispatchEvent",value:function(e){this.dispatchEvent(e)}},{key:"switchToOrthoCamera",value:function(){var e=new Gc(this.viewer.containerRect.width/-2,this.viewer.containerRect.width/2,this.viewer.containerRect.height/2,this.viewer.containerRect.height/-2,this.viewer.camera.near,this.viewer.camera.far),t=dg.getSize(this.viewer.modelGroup),n=.7*Math.min(this.viewer.containerRect.width,this.viewer.containerRect.height)/Math.max(t.x,t.z);e.position.set(0,1,0),e.zoom=n,e.updateProjectionMatrix(),this.object=e,this._viewMode=np.TOP,this.enabled=!0,this.enableRotate=!1,this.update(),pn.setCamera(e),pn.render()}},{key:"switchToPerspectiveCamera",value:function(){this.object=this.viewer.camera,this._viewMode=np.NORMAL,this.enabled=!0,this.enableRotate=!0,this.update(),pn.setCamera(),pn.render()}},{key:"setViewMode",value:function(e){var t=this;if(e===np.NORMAL){if(this.object.isPerspectiveCamera)return;pn.setCamera(),this.switchToPerspectiveCamera(),this._prevView&&(new hn.Tween(this.target).to(this._prevView.target,500).start(),new hn.Tween(this.object.position).to(this._prevView.position,500).onUpdate((function(){t.object.lookAt(t.target)})).onComplete((function(){})).start(),this._prevView=null)}else if(e===np.TOP){if(this.object.isOrthographicCamera)return;this._prevView=this.getView(),this._prevView.position=(new rn).fromArray(this._prevView.position),this._prevView.target=(new rn).fromArray(this._prevView.target);var n=new rn;this.enabled=!1,this.target.copy(n);var i=this.computePosition(this.object.defaultPos,n,0,0),r=this._prevView.target.clone();new hn.Tween(r).to(n,500).onUpdate((function(){t.object.lookAt(r)})).start(),new hn.Tween(this.object.position).to(i,500).onComplete((function(){t.switchToOrthoCamera()})).start()}}},{key:"startAutoRotate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;this.autoRotateSpeed=e,this.autoRotate=!0}},{key:"stopAutoRotate",value:function(){this.autoRotate=!1}},{key:"follow",value:function(e){var t=this;e||console.error("缺少参数object"),this.followTask=function(){var n=t._fitCamera(e);t.setPosition(e.position.x,e.position.y+n.y,e.position.z+n.z),t.setTarget(e.position.x,e.position.y,e.position.z)}.bind(this),this.viewer.addEventListener("update",this.followTask)}},{key:"stopFollow",value:function(){this.viewer.removeEventListener("update",this.followTask)}}]),n}(tp);ap.VIEW_CHANGE="view_change";var op=function(e){Fe(n,e);var t=Ge(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Me(this,n),(i=t.call(this)).containerRect=null,i.camera=null,i.renderManager=null,i.sceneManager=null,i.disposed=!1,i.composer=null,i.controls=null,i.onControlsChange=null,i._options=r,e.constructor===String&&(e=q.querySelector("#"+e)||q.querySelector("."+e)),i.container=e||q.body,!r.nv){if(xg.init(r),r.offline)return He(i);void 0!==r.offlinekey&&xg.offlineValidation((function(e){if(!e)throw new Error("授权失败！请检查您的开发者凭证。")}))}return Object.defineProperty(wx,"__viewer",{writable:!0,value:Le(i)}),i}return Te(n,[{key:"renderer",get:function(){return this.renderManager.defaultRenderer}},{key:"render",get:function(){return this.renderManager.render.bind(this.renderManager)}},{key:"domElement",get:function(){return this.renderManager.domElement}},{key:"scene",get:function(){return this.sceneManager.scene}},{key:"root",get:function(){return this.sceneManager.root}},{key:"modelGroup",get:function(){return this.sceneManager.modelGroup}},{key:"setSkyBox",get:function(){return this.sceneManager.setSkyBox.bind(this.sceneManager)}},{key:"setBackground",get:function(){return this.sceneManager.setBackground.bind(this.sceneManager)}},{key:"clearBackground",get:function(){return this.sceneManager.clearBackground.bind(this.sceneManager)}},{key:"loadSceneData",get:function(){return this.sceneManager.loadSceneData.bind(this.sceneManager)}},{key:"saveSceneData",get:function(){return this.sceneManager.saveSceneData.bind(this.sceneManager)}},{key:"fitCamera",get:function(){return this.sceneManager.fitCamera.bind(this.sceneManager)}},{key:"getModelById",get:function(){return this.modelManager.getModelById.bind(this.modelManager)}},{key:"getModelByName",get:function(){return this.modelManager.getModelByName.bind(this.modelManager)}},{key:"add",get:function(){return this.modelManager.add.bind(this.modelManager)}},{key:"remove",get:function(){return this.modelManager.remove.bind(this.modelManager)}},{key:"loadModel",get:function(){return this.modelManager.loadModel.bind(this.modelManager)}},{key:"validate",value:function(){return new Promise((function(e,t){xg.checkDevloper().then((function(n){n&&6e4===n.resp_code?(xg.token=n.datas,e()):t("授权失败,请检查您的开发者凭证是否正确。")})).catch((function(e){t("授权失败,请检查您的开发者凭证是否正确。")}))}))}},{key:"initialize",value:function(e){var t=this;this.containerRect=this.container.getBoundingClientRect(),this.camera=new Xr(50,this.containerRect.width/this.containerRect.height,1,5e3),this.camera.position.set(0,0,1),pn.init(this.container),pn.setCamera(this.camera),mg.init(),ep.init(this),this.renderManager=pn,this.sceneManager=mg,this.modelManager=ep,pn.scene=this.scene,pn.camera=this.camera,pn.defaultCamera=this.camera,mg.camera=this.camera,Ud.init(this.scene,this.camera,this.renderer),this.composer=Ud,e.isMap?(this.renderer.domElement.style.pointerEvents="none",this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.top=0,this.renderer.domElement.style.left=0,pn.setLoop(!1)):(pn.render(!0),this._initControls(),ye("resize",(function(){t.resize()})),this.container.addEventListener("resize",(function(){t.resize()}),!1)),this._proxyEvent()}},{key:"_initControls",value:function(){var e=this;this.controls=new ap(this),this.controls.screenSpacePanning=!0,this.controls.addEventListener(ln.CHANGE,(function(){e.lightFollow&&e._directLight.position.copy(e.camera.position),e.onControlsChange&&e.onControlsChange()})),this.controls.addEventListener(ap.VIEW_CHANGE,(function(t){e.controls.setViewMode(t.data)})),this.camera.defaultPos=this.camera.position.clone(),pn.addAfterRenderTask(this.controls.update.bind(this.controls))}},{key:"_proxyEvent",value:function(){var e=this;pn.addEventListener(ln.UPDATE,(function(){e.controls.update(),e.dispatchEvent(ln.UPDATE)})),ep.addEventListener(ln.MODEL_UPDATE,(function(){e.dispatchEvent(ln.MODEL_UPDATE)}))}},{key:"resize",value:function(){this.containerRect=this.container.getBoundingClientRect(),this.camera.aspect=this.containerRect.width/this.containerRect.height,this.camera.updateProjectionMatrix(),this.domElement.style.width=this.containerRect.width+"px",this.domElement.style.height=this.containerRect.height+"px",this.renderManager.resize()}},{key:"dispatchEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Pe(Ue(n.prototype),"dispatchEvent",this).call(this,{type:e,data:t})}},{key:"getComponentInfo",value:function(e,t){e.traverseAncestors((function(n){n.isBIM&&n.getComponentInfo(e,t)}))}},{key:"showViewCube",value:function(){this.viewCubeControls.domElement.style.display="block",pn.addAfterRenderTask(ip)}},{key:"hideViewCube",value:function(){this.viewCubeControls.domElement.style.display="none",pn.removeAfterRenderTask(ip)}},{key:"dispose",value:function(){this.sceneManager.dispose(),this.renderManager.dispose(),this.controls.dispose(),this.composer.dispose(),this.disposed=!0,this.container.innerHTML=""}}]),n}(Yt);function sp(e,t,n,i){if(e instanceof Zr){console.warn("DragControls: Constructor now expects ( objects, camera, domElement )");var r=e;e=t,t=r}var A=new wi,a=new ku,o=new rn,s=new rn,l=new rn,c=new Tn,u=null,h=this;function d(){n.addEventListener("mousemove",p,!1),n.addEventListener("mousedown",f,!1),n.addEventListener("mouseup",m,!1),n.addEventListener("mouseleave",m,!1),n.addEventListener("touchmove",p,!1),n.addEventListener("touchstart",f,!1),n.addEventListener("touchend",m,!1)}function g(){n.removeEventListener("mousemove",p,!1),n.removeEventListener("mousedown",f,!1),n.removeEventListener("mouseup",m,!1),n.removeEventListener("mouseleave",m,!1),n.removeEventListener("touchmove",p,!1),n.removeEventListener("touchstart",f,!1),n.removeEventListener("touchend",m,!1)}function p(e){if(e.preventDefault(),function(e){e=dg.getTouchByEvent(e);var i=dg.getDomMouse(e,n);a.setFromCamera(i,t)}(e),u&&h.enabled)return a.ray.intersectPlane(A,s)&&u.position.copy(s.sub(o).applyMatrix4(c)),void h.dispatchEvent({type:"drag",object:u})}function f(e){!function(e,i){e.length>0&&(u=e[0].object,r=u,d=l.setFromMatrixPosition(r.matrixWorld),A.setFromNormalAndCoplanarPoint(t.getWorldDirection(A.normal),d),a.ray.intersectPlane(A,s)&&(c.getInverse(u.parent.matrixWorld),o.copy(s).sub(l.setFromMatrixPosition(u.matrixWorld))),n.style.cursor="move",h.dispatchEvent({type:"dragstart",object:u}));var r,d}(i.intersectModels(e))}function m(e){e.preventDefault(),h.dispatchEvent({type:"dragend",object:u}),u=null,n.style.cursor="auto"}d(),this.enabled=!0,this.activate=d,this.deactivate=g,this.dispose=function(){g()}}sp.prototype=Object.create(Yt.prototype),sp.prototype.constructor=sp;var lp=function(e){Fe(n,e);var t=Ge(n);function n(e){var i;return Me(this,n),(i=t.call(this)).viewer=e,i._enabled=!1,i._enableDrag=!1,i._startPoint=new $t,i._selected=void 0,i.selectedColor="#ff0000",i.objects=[],i.dragControls=new sp(i.viewer.modelGroup,i.viewer.camera,i.viewer.domElement,i.viewer),i.dragControls.deactivate(),i.dragControls.enabled=!1,i._initEvents(),i}return Te(n,[{key:"_initEvents",value:function(){var e=this;this.viewer.domElement.addEventListener(ln.START,(function(t){t=dg.getTouchByEvent(t),e._startPoint.set(t.clientX,t.clientY)})),this.viewer.domElement.addEventListener(ln.END,(function(t){t=dg.getTouchByEvent(t);var n=e._startPoint.distanceTo(new $t(t.clientX,t.clientY));e.enabled&&!e._enableDrag&&n<5&&e.viewer.intersectModels(t,e._rayCasterHandler,e)})),this.dragControls.addEventListener("dragstart",(function(t){e.enableDrag&&(e.selected=t.object,e.viewer.controls.enabled=!1)})),this.dragControls.addEventListener("dragend",(function(t){e.enableDrag&&(e.viewer.controls.enabled=!0),e.selected&&e._updateMesh(e.selected,!0)})),this.viewer.addEventListener(ln.MODEL_UPDATE,(function(){e._enabled&&e._initData()}))}},{key:"_rayCasterHandler",value:function(e){console.log(e[0]),e.length>0&&this.selected!=e[0].object?(this.selected=e[0].object,this.dispatchEvent(ln.CHANGE,this.selected)):0===e.length&&this.selected&&(this.selected=null,this.dispatchEvent(ln.CHANGE,this.selected))}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e,this._initData()}},{key:"enableDrag",get:function(){return this._enableDrag},set:function(e){this._enableDrag=e,this.dragControls.enabled=e,this._enableDrag?this.dragControls.activate():this.dragControls.deactivate()}},{key:"selected",get:function(){return this._selected},set:function(e){var t=this;(this.selected&&(this.selected.material=this.selected.material0,this.selected.transparent&&(this.selected.material=this._cloneMate(this.selected.material),this.transparent(this.selected))),this._selected=e,this._selected&&(this._selected.isMesh||this._selected.intanceObject))&&(this._selected.material=this._cloneMate(this._selected.material),(Array.isArray(this._selected.material)?this._selected.material:[this._selected.material]).forEach((function(e){e.color.setStyle(t.selectedColor)})),this._selected.transparent&&this.transparent(this._selected));pn.render()}},{key:"unSelected",value:function(e){e.isMesh&&(e.material=e.material0),pn.render()}},{key:"toggleDisplay",value:function(){var e=this;this.objects.forEach((function(t){t.visible=!t.visible,e._updateMesh(t)})),pn.render()}},{key:"hide",value:function(){this.selected&&(this.selected.visible=!1,this._updateMesh(this.selected),pn.render())}},{key:"_updateMesh",value:function(e,t){}},{key:"showAll",value:function(){var e=this;this.objects.forEach((function(t){t.visible=!0,e._updateMesh(t)})),pn.render()}},{key:"transparent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selected;if(e){e.transparent=!0;var t=Array.isArray(e.material)?e.material:[e.material];t.forEach((function(e){e.opacity0=void 0!==e.opacity0?e.opacity0:e.opacity,e.transparent0=void 0!==e.transparent0?e.transparent0:e.transparent,e.opacity=.3,e.transparent=!0})),pn.render()}}},{key:"unTransparent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selected;e&&(Array.isArray(e.material)?e.material.forEach((function(e){e.opacity=e.opacity0,e.transparent=e.transparent0})):(e.material.opacity=void 0!==e.material.opacity0?e.material.opacity0:1,e.material.transparent=e.material.transparent0),e.transparent=!1,pn.render())}},{key:"translucenceOthers",value:function(e){var t=this;this.objects.forEach((function(n){n!==e&&n.visible&&t.transparent(n)})),pn.render()}},{key:"restore",value:function(){var e=this;this.objects.forEach((function(t){e.restoreObject(t)})),this.selected=null}},{key:"restoreObject",value:function(e){e&&(e.visible||(this._updateMesh(e,!0),e.visible=!0),this.restoreMaterial(e),this.restorePosition(e),e.transparent=e.transparent0,e==this.selected&&(this.selected=null)),pn.render()}},{key:"restoreMaterial",value:function(e){e&&(e.material=e.material0,(Array.isArray(e.material)?e.material:[e.material]).forEach((function(e){e.opacity=e.opacity0,e.transparent=e.transparent0})),pn.render())}},{key:"restorePosition",value:function(e){e&&e.position.copy(e.position0)}},{key:"dispose",value:function(){this.dragControls.enabled=!1,this.dragControls.deactivate()}},{key:"_initData",value:function(){var e=this;this.objects=[],this.viewer.modelGroup.traverse((function(t){t.isMesh&&(e.objects.push(t),t.material0||(t.position0=t.position.clone(),(Array.isArray(t.material)?t.material:[t.material]).forEach((function(e){e.opacity0=e.opacity,e.transparent0=e.transparent})),t.material0=t.material))}))}},{key:"_cloneMate",value:function(e){var t;return Array.isArray(e)?(t=[],e.forEach((function(e){var n=e.clone();n.opacity0=e.opacity0,n.transparent0=e.transparent0,t.push(n)}))):((t=e.clone()).opacity0=e.opacity0,t.transparent0=e.transparent0),t}}]),n}(Gg);function cp(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function up(e){Yl.call(this,e),this.root=void 0}function hp(e){if(e.sc&&e.sc.length>0){void 0===e.cid&&(e.cid=[]);for(var t=0;t<e.sc.length;t++)e.sc[t].pid=e.id,e.cid.push(e.sc[t].id);for(var n=0;n<e.sc.length;n++)hp(e.sc[n])}}function dp(e,t){if(e.sc&&e.sc.length>0)for(var n=0;n<e.sc.length;n++)t(e.sc[n]),dp(e.sc[n],t)}Object.assign(cp.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},cross:function(e){return void 0!==w?this.crossVectors(e,w):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,i=e.y,r=e.z,A=t.x,a=t.y,o=t.z;return this.x=i*o-r*a,this.y=r*A-n*o,this.z=n*a-i*A,this},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},fromArray:function(e){return this.x=e[0],this.y=e[1],this.z=e[2],this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements,A=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*A,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*A,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*A,this}}),up.prototype=Object.assign(Object.create(Yl.prototype),{constructor:up,load:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],A=new ql(this.manager);A.setResponseType("json");var a=this;A.load(e,(function(e){a.data=e;var n=a.parse(r);t(n)}),n,i)},isInBox:function(e,t,n,i,r,A){return!(e<n||e>r||t<i||t>A)},parse:function(e){for(var t=[],n=this.data,i=0,r=0,A=0,a=0,o=0;o<n.length;o++)0===n[o].b&&n[o].d&&Array.isArray(n[o].d)&&(i+=n[o].d[0],r+=n[o].d[1],A+=n[o].d[2],a++);i/=a,r/=a,A/=a;for(var s=0;s<n.length;s++){var l=(new cp).fromArray(n[s].d);l.y-=r;var c=new $t(n[s].x,n[s].z),u=(new $t).setScalar(n[s].e);e||this.root.localToWorld(l);var h=new ci(l,n[s].c);h.id=s,h.acfi=n[s].a,h.acfl=n[s].b,h.ec=c,h.e=(new Ku).setFromCenterAndSize(c,u),h.sc=[],void 0===t[h.acfl]&&(t[h.acfl]=[]),t[h.acfl].push(h)}for(var d=[],g=0,p=t[0].length;g<p;g++)d.push(t[0][g]);var f=d.length;if(t.length>1)for(var m=1;m<t.length;m++)for(var v=0,C=t[m].length;v<C;v++){for(var y=m-1,I=0,w=d;I<=y;){if(0==I){for(var b=0;b<f;b++)if(d[b].e.containsPoint(t[m][v].ec)){w=d[b];break}}else for(var B=0,x=w.sc.length;B<x;B++)if(w.sc[B].e.containsPoint(t[m][v].ec)){w=w.sc[B];break}I++}w.sc.push(t[m][v])}for(var M=0;M<f;M++)hp(d[M]);for(var E=[],T=0;T<f;T++)E[d[T].id]=d[T],dp(d[T],(function(e){E[e.id]=e}));for(var S=0,F=E.length;S<F;S++)delete E[S].sc,delete E[S].e,delete E[S].ec;return{levels:E,center:{x:i,y:r,z:A}}}});var gp={wheeltime:0,WHEELMAX:300,initLevelDetect:function(e,t){gp.detect=t,e.addEventListener("wheel",(function(e){e.preventDefault(),gp.wheeltime=Date.now(),setTimeout((function(){Date.now()-gp.wheeltime>=gp.WHEELMAX&&t()}),gp.WHEELMAX)}),!1),e.addEventListener("mouseup",(function(e){e.preventDefault(),gp.detect(),t()}),!1),e.addEventListener("touchend",(function(e){e.preventDefault(),t()}),!1)}},pp=function(e){this.camera=e,this.focusLevels=function(e){for(var t=0,n=0,i=0,r=0,A=0,a=0,o=0,s=0,l=1e-6,c=0;c<e.length;c++)l+=e[c].center.y,0===c?(t=e[c].center.x,n=e[c].center.x,i=e[c].center.z,r=e[c].center.z,A=e[c].radius,a=e[c].radius,o=e[c].radius,s=e[c].radius):(e[c].center.x<t?(t=e[c].center.x,A=e[c].radius):e[c].center.x>n&&(n=e[c].center.x,a=e[c].radius),e[c].center.z<r?(r=e[c].center.z,s=e[c].radius):e[c].center.z>i&&(i=e[c].center.z,o=e[c].radius));var u=new rn(t-A,l/=e.length,r-s),h=new rn(n+a,l,i+o),d=new rn((u.x+h.x)/2,l,(u.z+h.z)/2),g=Math.abs(u.x-h.x),p=Math.abs(u.z-h.z),f=Math.tan(Math.PI/180*.5*this.camera.fov),m=p/2/f,v=g/this.camera.aspect/2/f,C=(new rn).copy(d);return C.y+=m>v?m:v,this.camera.position.copy(C),this.camera.lookAt(d),this.camera.updateProjectionMatrix(),d},this.focusSimple=function(){return this.camera.position.copy(new rn(0,1e3,0)),this.camera.lookAt(new rn),this.camera.updateProjectionMatrix(),new rn}},fp=Rg("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewoJJ3VzZSBzdHJpY3QnOwoKCWZ1bmN0aW9uIFZlY3RvcjMoeCwgeSwgeikgewoJICB0aGlzLnggPSB4IHx8IDA7CgkgIHRoaXMueSA9IHkgfHwgMDsKCSAgdGhpcy56ID0geiB8fCAwOwoJfQoKCU9iamVjdC5hc3NpZ24oVmVjdG9yMy5wcm90b3R5cGUsIHsKCSAgaXNWZWN0b3IzOiB0cnVlLAoJICBzZXQ6IGZ1bmN0aW9uIHNldCh4LCB5LCB6KSB7CgkgICAgdGhpcy54ID0geDsKCSAgICB0aGlzLnkgPSB5OwoJICAgIHRoaXMueiA9IHo7CgkgICAgcmV0dXJuIHRoaXM7CgkgIH0sCgkgIGNvcHk6IGZ1bmN0aW9uIGNvcHkodikgewoJICAgIHRoaXMueCA9IHYueDsKCSAgICB0aGlzLnkgPSB2Lnk7CgkgICAgdGhpcy56ID0gdi56OwoJICAgIHJldHVybiB0aGlzOwoJICB9LAoJICBkb3Q6IGZ1bmN0aW9uIGRvdCh2KSB7CgkgICAgcmV0dXJuIHRoaXMueCAqIHYueCArIHRoaXMueSAqIHYueSArIHRoaXMueiAqIHYuejsKCSAgfSwKCSAgbGVuZ3RoU3E6IGZ1bmN0aW9uIGxlbmd0aFNxKCkgewoJICAgIHJldHVybiB0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLno7CgkgIH0sCgkgIGxlbmd0aDogZnVuY3Rpb24gbGVuZ3RoKCkgewoJICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56KTsKCSAgfSwKCSAgbWFuaGF0dGFuTGVuZ3RoOiBmdW5jdGlvbiBtYW5oYXR0YW5MZW5ndGgoKSB7CgkgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMueCkgKyBNYXRoLmFicyh0aGlzLnkpICsgTWF0aC5hYnModGhpcy56KTsKCSAgfSwKCSAgbm9ybWFsaXplOiBmdW5jdGlvbiBub3JtYWxpemUoKSB7CgkgICAgcmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHRoaXMubGVuZ3RoKCkgfHwgMSk7CgkgIH0sCgkgIGNyb3NzOiBmdW5jdGlvbiBjcm9zcyh2KSB7CgkgICAgaWYgKHcgIT09IHVuZGVmaW5lZCkgewoJICAgICAgcmV0dXJuIHRoaXMuY3Jvc3NWZWN0b3JzKHYsIHcpOwoJICAgIH0KCgkgICAgcmV0dXJuIHRoaXMuY3Jvc3NWZWN0b3JzKHRoaXMsIHYpOwoJICB9LAoJICBjcm9zc1ZlY3RvcnM6IGZ1bmN0aW9uIGNyb3NzVmVjdG9ycyhhLCBiKSB7CgkgICAgdmFyIGF4ID0gYS54LAoJICAgICAgICBheSA9IGEueSwKCSAgICAgICAgYXogPSBhLno7CgkgICAgdmFyIGJ4ID0gYi54LAoJICAgICAgICBieSA9IGIueSwKCSAgICAgICAgYnogPSBiLno7CgkgICAgdGhpcy54ID0gYXkgKiBieiAtIGF6ICogYnk7CgkgICAgdGhpcy55ID0gYXogKiBieCAtIGF4ICogYno7CgkgICAgdGhpcy56ID0gYXggKiBieSAtIGF5ICogYng7CgkgICAgcmV0dXJuIHRoaXM7CgkgIH0sCgkgIGRpc3RhbmNlVG86IGZ1bmN0aW9uIGRpc3RhbmNlVG8odikgewoJICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0YW5jZVRvU3F1YXJlZCh2KSk7CgkgIH0sCgkgIGRpc3RhbmNlVG9TcXVhcmVkOiBmdW5jdGlvbiBkaXN0YW5jZVRvU3F1YXJlZCh2KSB7CgkgICAgdmFyIGR4ID0gdGhpcy54IC0gdi54LAoJICAgICAgICBkeSA9IHRoaXMueSAtIHYueSwKCSAgICAgICAgZHogPSB0aGlzLnogLSB2Lno7CgkgICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5ICsgZHogKiBkejsKCSAgfSwKCSAgbWFuaGF0dGFuRGlzdGFuY2VUbzogZnVuY3Rpb24gbWFuaGF0dGFuRGlzdGFuY2VUbyh2KSB7CgkgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMueCAtIHYueCkgKyBNYXRoLmFicyh0aGlzLnkgLSB2LnkpICsgTWF0aC5hYnModGhpcy56IC0gdi56KTsKCSAgfSwKCSAgZnJvbUFycmF5OiBmdW5jdGlvbiBmcm9tQXJyYXkoYXJyYXkpIHsKCSAgICB0aGlzLnggPSBhcnJheVswXTsKCSAgICB0aGlzLnkgPSBhcnJheVsxXTsKCSAgICB0aGlzLnogPSBhcnJheVsyXTsKCSAgICByZXR1cm4gdGhpczsKCSAgfSwKCSAgYXBwbHlNYXRyaXg0OiBmdW5jdGlvbiBhcHBseU1hdHJpeDQobSkgewoJICAgIHZhciB4ID0gdGhpcy54LAoJICAgICAgICB5ID0gdGhpcy55LAoJICAgICAgICB6ID0gdGhpcy56OwoJICAgIHZhciBlID0gbS5lbGVtZW50czsKCSAgICB2YXIgdyA9IDEgLyAoZVszXSAqIHggKyBlWzddICogeSArIGVbMTFdICogeiArIGVbMTVdKTsKCSAgICB0aGlzLnggPSAoZVswXSAqIHggKyBlWzRdICogeSArIGVbOF0gKiB6ICsgZVsxMl0pICogdzsKCSAgICB0aGlzLnkgPSAoZVsxXSAqIHggKyBlWzVdICogeSArIGVbOV0gKiB6ICsgZVsxM10pICogdzsKCSAgICB0aGlzLnogPSAoZVsyXSAqIHggKyBlWzZdICogeSArIGVbMTBdICogeiArIGVbMTRdKSAqIHc7CgkgICAgcmV0dXJuIHRoaXM7CgkgIH0KCX0pOwoKCWZ1bmN0aW9uIFBsYW5lKCkgewoJICB0aGlzLm5vcm1hbCA9IG5ldyBWZWN0b3IzKDEsIDAsIDApOwoJICB0aGlzLmNvbnN0YW50ID0gMDsKCX0KCglPYmplY3QuYXNzaWduKFBsYW5lLnByb3RvdHlwZSwgewoJICBzZXQ6IGZ1bmN0aW9uIHNldChub3JtYWwsIGNvbnN0YW50KSB7CgkgICAgdGhpcy5ub3JtYWwuZnJvbUFycmF5KG5vcm1hbCk7CgkgICAgdGhpcy5jb25zdGFudCA9IGNvbnN0YW50OwoJICAgIHJldHVybiB0aGlzOwoJICB9LAoJICBkaXN0YW5jZVRvUG9pbnQ6IGZ1bmN0aW9uIGRpc3RhbmNlVG9Qb2ludChwb2ludCkgewoJICAgIHJldHVybiB0aGlzLm5vcm1hbC5kb3QocG9pbnQpICsgdGhpcy5jb25zdGFudDsKCSAgfSwKCSAgZGlzdGFuY2VUb1NwaGVyZTogZnVuY3Rpb24gZGlzdGFuY2VUb1NwaGVyZShzcGhlcmUpIHsKCSAgICByZXR1cm4gdGhpcy5kaXN0YW5jZVRvUG9pbnQoc3BoZXJlLmNlbnRlcikgLSBzcGhlcmUucmFkaXVzOwoJICB9LAoJICBpbnRlcnNlY3RzU3BoZXJlOiBmdW5jdGlvbiBpbnRlcnNlY3RzU3BoZXJlKHNwaGVyZSkgewoJICAgIHJldHVybiBzcGhlcmUuaW50ZXJzZWN0c1BsYW5lKHRoaXMpOwoJICB9Cgl9KTsKCglmdW5jdGlvbiBGcnVzdHVtKCkgewoJICB0aGlzLnBsYW5lcyA9IFtuZXcgUGxhbmUoKSwgbmV3IFBsYW5lKCksIG5ldyBQbGFuZSgpLCBuZXcgUGxhbmUoKSwgbmV3IFBsYW5lKCksIG5ldyBQbGFuZSgpXTsKCX0KCglPYmplY3QuYXNzaWduKEZydXN0dW0ucHJvdG90eXBlLCB7CgkgIGludGVyc2VjdHNTcGhlcmU6IGZ1bmN0aW9uIGludGVyc2VjdHNTcGhlcmUoc3BoZXJlKSB7CgkgICAgdmFyIHBsYW5lcyA9IHRoaXMucGxhbmVzOwoJICAgIHZhciBjZW50ZXIgPSBzcGhlcmUuY2VudGVyOwoJICAgIHZhciBuZWdSYWRpdXMgPSAtc3BoZXJlLnJhZGl1czsKCgkgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2OyBpKyspIHsKCSAgICAgIHZhciBkaXN0YW5jZSA9IHBsYW5lc1tpXS5kaXN0YW5jZVRvUG9pbnQoY2VudGVyKTsKCgkgICAgICBpZiAoZGlzdGFuY2UgPCBuZWdSYWRpdXMpIHsKCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgfQoJICAgIH0KCgkgICAgcmV0dXJuIHRydWU7CgkgIH0KCX0pOwoKCWZ1bmN0aW9uIHNvcnRCeURpcyhhLCBiKSB7CgkgIHJldHVybiBiLmQgLSBhLmQ7Cgl9CgoJdmFyIHJycnIgPSBbXTsKCXZhciBsZXZlbHM7Cgl2YXIgRF9MRVZFTFMgPSBbNTAwLCAyMDAsIDEwMCwgLUluZmluaXR5XTsKCXZhciBVX0xFVkVMUyA9IFtJbmZpbml0eSwgNTAwLCAyMDAsIDEwMF07IC8v5paw5aKe77yI5pyA5aSn57qn5Yir5Yik5pat6Zeu6aKY77yJLS3lvIDlp4sKCgl2YXIgZF9sYXN0ID0gRF9MRVZFTFMubGVuZ3RoIC0gMTsKCXZhciBtYXhfbGV2ZWwgPSAwOyAvL+aWsOWinu+8iOacgOWkp+e6p+WIq+WIpOaWremXrumimO+8iS0t57uT5p2fCgoJdmFyIHYxID0gbmV3IFZlY3RvcjMoKTsKCglmdW5jdGlvbiBmaW5kU3ViQ2h1bmsoZiwgdCwgY3AsIGMpIHsKCSAgLy/kuI3lpITnkIbop4bph47lpJbnmoTlv6sKCSAgaWYgKGYuaW50ZXJzZWN0c1NwaGVyZSh0KSkgewoJICAgIHYxLmNvcHkodC5jZW50ZXIpOwoJICAgIHYxLnkgKz0gYy55OwoJICAgIHZhciBkaXMgPSBjcC5kaXN0YW5jZVRvKHYxKTsgLy/mlrDlop7vvIjmnIDlpKfnuqfliKvliKTmlq3pl67popjvvIktLeW8gOWniwoKCSAgICB2YXIgZF9sID0gdC5hY2ZsOwoJICAgIGlmIChkX2wgPT0gbWF4X2xldmVsKSBkX2wgPSBkX2xhc3Q7IC8v5paw5aKe77yI5pyA5aSn57qn5Yir5Yik5pat6Zeu6aKY77yJLS3nu5PmnZ8KCgkgICAgaWYgKGRpcyA+IFVfTEVWRUxTW3QuYWNmbF0pIHsKCSAgICAgIC8v5peg5pWI5Z2XCgkgICAgICBpZiAodC5hY2ZsID4gMCkgewoJICAgICAgICB2MS5jb3B5KGxldmVsc1t0LnBpZF0uY2VudGVyKTsKCSAgICAgICAgdjEueSArPSBjLnk7CgoJICAgICAgICBpZiAoY3AuZGlzdGFuY2VUbyh2MSkgPD0gRF9MRVZFTFNbdC5hY2ZsIC0gMV0pIHsKCSAgICAgICAgICB2YXIgcmUgPSB7fTsKCSAgICAgICAgICByZS5pID0gdC5hY2ZpOwoJICAgICAgICAgIHJlLmwgPSB0LmFjZmw7CgkgICAgICAgICAgcmUucCA9IHQucGlkOwoJICAgICAgICAgIHJlLmMgPSB0LmNpZDsKCSAgICAgICAgICByZS5kID0gZGlzOwoJICAgICAgICAgIHJlLnYgPSB0LmlkOwoJICAgICAgICAgIHJycnIucHVzaChyZSk7CgkgICAgICAgIH0KCSAgICAgIH0gLy/kv67mlLnvvIjmnIDlpKfnuqfliKvliKTmlq3pl67popjvvIktLeW8gOWniwoKCSAgICB9IGVsc2UgaWYgKGRpcyA8PSBEX0xFVkVMU1tkX2xdKSB7CgkgICAgICAvL+S/ruaUue+8iOacgOWkp+e6p+WIq+WIpOaWremXrumimO+8iS0t57uT5p2fCgkgICAgICAvL+afpeaJvuWtkOWdlwoJICAgICAgaWYgKHQuY2lkKSB7CgkgICAgICAgIGZvciAodmFyIHRpID0gMCwgdGMgPSB0LmNpZC5sZW5ndGg7IHRpIDwgdGM7IHRpKyspIHsKCSAgICAgICAgICBmaW5kU3ViQ2h1bmsoZiwgbGV2ZWxzW3QuY2lkW3RpXV0sIGNwLCBjKTsKCSAgICAgICAgfQoJICAgICAgfQoJICAgIH0gZWxzZSB7CgkgICAgICAvL+acieaViOWdlwoJICAgICAgdmFyIHJlID0ge307CgkgICAgICByZS5pID0gdC5hY2ZpOwoJICAgICAgcmUubCA9IHQuYWNmbDsKCSAgICAgIHJlLnAgPSB0LnBpZDsKCSAgICAgIHJlLmMgPSB0LmNpZDsKCSAgICAgIHJlLmQgPSBkaXM7CgkgICAgICByZS52ID0gdC5pZDsKCSAgICAgIHJycnIucHVzaChyZSk7CgkgICAgfQoJICB9Cgl9CgoJZnVuY3Rpb24gTENEZXRlY3QoKSB7CgkgIC8v57qn5Yir5Y+C5pWw77yM5a6e6ZmF6aG555uu5Lit5Y+v5Lul6Ieq55Sx6YWN572u77yM55uu5YmN5pSv5oyB5Yiw56ys5LiJ57qn5YirCgkgIHRoaXMuY3BvcyA9IG5ldyBWZWN0b3IzKCk7CgkgIHRoaXMuZnJ1c3R1bSA9IG5ldyBGcnVzdHVtKCk7CgkgIHRoaXMuY2VudGVyID0gbmV3IFZlY3RvcjMoKTsKCgkgIHRoaXMuc2V0TGV2ZWxzID0gZnVuY3Rpb24gKHRsZXZlbHMpIHsKCSAgICBsZXZlbHMgPSB0bGV2ZWxzOwoJICAgIHRoaXMuY291bnQgPSBsZXZlbHMubGVuZ3RoOwoJICAgIHRoaXMuYmFzZUxldmVscyA9IFtdOwoKCSAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY291bnQ7IGkrKykgewoJICAgICAgaWYgKGxldmVsc1tpXS5hY2ZsID09IDApIHsKCSAgICAgICAgdGhpcy5iYXNlTGV2ZWxzLnB1c2goaSk7CgkgICAgICB9IC8v5paw5aKe77yI5pyA5aSn57qn5Yir5Yik5pat6Zeu6aKY77yJLS3lvIDlp4sKCgoJICAgICAgaWYgKGxldmVsc1tpXS5hY2ZsID4gbWF4X2xldmVsKSBtYXhfbGV2ZWwgPSBsZXZlbHNbaV0uYWNmbDsgLy/mlrDlop7vvIjmnIDlpKfnuqfliKvliKTmlq3pl67popjvvIktLee7k+adnwoJICAgIH0KCgkgICAgdGhpcy5iYXNlTGV2ZWxzQ291bnQgPSB0aGlzLmJhc2VMZXZlbHMubGVuZ3RoOwoJICB9OwoKCSAgdGhpcy5zZXRDYW1lcmFQb3MgPSBmdW5jdGlvbiAoY3BvcykgewoJICAgIHRoaXMuY3Bvcy5mcm9tQXJyYXkoY3Bvcyk7CgkgIH07CgoJICB0aGlzLnNldEZydXN0dW0gPSBmdW5jdGlvbiAoZnJ1c3R1bVN0YXRlKSB7CgkgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2OyBpKyspIHsKCSAgICAgIHZhciBiYXNlID0gaSAqIDQ7CgkgICAgICB0aGlzLmZydXN0dW0ucGxhbmVzW2ldLnNldChbZnJ1c3R1bVN0YXRlW2Jhc2VdLCBmcnVzdHVtU3RhdGVbYmFzZSArIDFdLCBmcnVzdHVtU3RhdGVbYmFzZSArIDJdXSwgZnJ1c3R1bVN0YXRlW2Jhc2UgKyAzXSk7CgkgICAgfQoJICB9OwoKCSAgdGhpcy5zZXRDb21wbGV0ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewoJICAgIHRoaXMuY29tcGxldGUgPSBjYWxsYmFjazsKCSAgfTsKCgkgIHRoaXMuc2V0Q2VudGVyID0gZnVuY3Rpb24gKGNlbnRlcikgewoJICAgIHRoaXMuY2VudGVyLnNldChjZW50ZXIueCwgY2VudGVyLnksIGNlbnRlci56KTsKCSAgfTsKCgkgIHRoaXMuZGV0ZWN0ID0gZnVuY3Rpb24gKCkgewoJICAgIHJycnIgPSBbXTsKCgkgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJhc2VMZXZlbHNDb3VudDsgaSsrKSB7CgkgICAgICBmaW5kU3ViQ2h1bmsodGhpcy5mcnVzdHVtLCBsZXZlbHNbdGhpcy5iYXNlTGV2ZWxzW2ldXSwgdGhpcy5jcG9zLCB0aGlzLmNlbnRlcik7CgkgICAgfQoKCSAgICBycnJyLnNvcnQoc29ydEJ5RGlzKTsKCgkgICAgaWYgKHRoaXMuY29tcGxldGUpIHsKCSAgICAgIHRoaXMuY29tcGxldGUocnJycik7CgkgICAgfQoKCSAgICBycnJyID0gbnVsbDsKCSAgfTsKCX0KCgl2YXIgZGV0ZWN0ID0gbmV3IExDRGV0ZWN0KCk7CglkZXRlY3Quc2V0Q29tcGxldGUoZnVuY3Rpb24gKHIpIHsKCSAgc2VsZi5wb3N0TWVzc2FnZShyKTsKCX0pOwoKCXNlbGYub25tZXNzYWdlID0gZnVuY3Rpb24gKGV2dCkgewoJICBzd2l0Y2ggKGV2dC5kYXRhLnR5cGUpIHsKCSAgICBjYXNlICJpbml0IjoKCSAgICAgIGRldGVjdC5zZXRMZXZlbHMoZXZ0LmRhdGEuZGF0YSk7CgkgICAgICBkZXRlY3Quc2V0Q2VudGVyKGV2dC5kYXRhLmNlbnRlcik7CgkgICAgICBicmVhazsKCgkgICAgY2FzZSAiZGV0ZWN0IjoKCSAgICAgIGRldGVjdC5zZXRDYW1lcmFQb3MoZXZ0LmRhdGEucG9zKTsKCSAgICAgIGRldGVjdC5zZXRGcnVzdHVtKGV2dC5kYXRhLnN0YXRlKTsKCSAgICAgIGRldGVjdC5kZXRlY3QoKTsKCSAgICAgIGV2dC5kYXRhLnBvcyA9IG51bGw7CgkgICAgICBldnQuZGF0YS5zdGF0ZSA9IG51bGw7CgkgICAgICBicmVhazsKCSAgfQoKCSAgZGVsZXRlIGV2dC5kYXRhOwoJfTsKCn0oKSk7Cgo=",null,!1),mp=Rg("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgZnVuY3Rpb24gbm9vcCgpIHt9CgogIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsKICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOwogICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7CiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsKICAgICAgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsKICAgIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOwogICAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOwogICAgcmV0dXJuIENvbnN0cnVjdG9yOwogIH0KCiAgZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7CiAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOwogICAgfQoKICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgewogICAgICBjb25zdHJ1Y3RvcjogewogICAgICAgIHZhbHVlOiBzdWJDbGFzcywKICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICBjb25maWd1cmFibGU6IHRydWUKICAgICAgfQogICAgfSk7CiAgICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsKICB9CgogIGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7CiAgICBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgewogICAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOwogICAgfTsKICAgIHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7CiAgfQoKICBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgewogICAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7CiAgICAgIG8uX19wcm90b19fID0gcDsKICAgICAgcmV0dXJuIG87CiAgICB9OwoKICAgIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7CiAgfQoKICBmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgewogICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsKICAgIGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7CiAgICBpZiAodHlwZW9mIFByb3h5ID09PSAiZnVuY3Rpb24iKSByZXR1cm4gdHJ1ZTsKCiAgICB0cnkgewogICAgICBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSBjYXRjaCAoZSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsKICAgIGlmIChzZWxmID09PSB2b2lkIDApIHsKICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsKICAgIH0KCiAgICByZXR1cm4gc2VsZjsKICB9CgogIGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsKICAgIGlmIChjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7CiAgICAgIHJldHVybiBjYWxsOwogICAgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWQiKTsKICAgIH0KCiAgICByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsKICB9CgogIGZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7CiAgICB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7CiAgICAgIHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwKICAgICAgICAgIHJlc3VsdDsKCiAgICAgIGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7CiAgICAgICAgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsKCiAgICAgICAgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7CiAgICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOwogIH0KCiAgZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgewogICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7CiAgfQoKICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsKICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbCB8fCBpdGVyWyJAQGl0ZXJhdG9yIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7CiAgfQoKICBmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7CiAgICBpZiAoIW8pIHJldHVybjsKICAgIGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOwogICAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOwogICAgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7CiAgICBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOwogICAgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsKICB9CgogIGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7CiAgICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsKCiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07CgogICAgcmV0dXJuIGFycjI7CiAgfQoKICBmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsKICB9CgogIGlmICh3eC5nZXRQZXJmb3JtYW5jZSkgewogICAgdmFyIF93eCRnZXRTeXN0ZW1JbmZvU3luYyA9IHd4LmdldFN5c3RlbUluZm9TeW5jKCk7CiAgICAgICAgX3d4JGdldFN5c3RlbUluZm9TeW5jLnBsYXRmb3JtOwoKICAgIHZhciB3eFBlcmYgPSB3eC5nZXRQZXJmb3JtYW5jZSgpOwogICAgdmFyIGluaXRUaW1lID0gd3hQZXJmLm5vdygpOwogICAgT2JqZWN0LmFzc2lnbih7fSwgd3hQZXJmLCB7CiAgICAgIG5vdzogZnVuY3Rpb24gbm93KCkgewogICAgICAgIHJldHVybiAod3hQZXJmLm5vdygpIC0gaW5pdFRpbWUpIC8gMTAwMDsKICAgICAgfQogICAgfSk7CiAgfQoKICB2YXIgX3d4JGdldFN5c3RlbUluZm9TeW5jJDEgPSB3eC5nZXRTeXN0ZW1JbmZvU3luYygpLAogICAgICBzY3JlZW5XaWR0aCA9IF93eCRnZXRTeXN0ZW1JbmZvU3luYyQxLnNjcmVlbldpZHRoLAogICAgICBzY3JlZW5IZWlnaHQgPSBfd3gkZ2V0U3lzdGVtSW5mb1N5bmMkMS5zY3JlZW5IZWlnaHQ7CiAgICAgIF93eCRnZXRTeXN0ZW1JbmZvU3luYyQxLmRldmljZVBpeGVsUmF0aW87CgogIHZhciBpbm5lcldpZHRoID0gc2NyZWVuV2lkdGg7CiAgdmFyIGlubmVySGVpZ2h0ID0gc2NyZWVuSGVpZ2h0OwoKICBmdW5jdGlvbiBwYXJlbnROb2RlKG9iaiwgbGV2ZWwpIHsKICAgIGlmICghKCdwYXJlbnROb2RlJyBpbiBvYmopKSB7CiAgICAgIHZhciBfcGFyZW50OwoKICAgICAgaWYgKGxldmVsID09PSAwKSB7CiAgICAgICAgX3BhcmVudCA9IGZ1bmN0aW9uIF9wYXJlbnQoKSB7CiAgICAgICAgICAvLyByZXR1cm4gZG9jdW1lbnQKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH07CiAgICAgIH0gZWxzZSBpZiAobGV2ZWwgPT09IDEpIHsKICAgICAgICBfcGFyZW50ID0gZnVuY3Rpb24gX3BhcmVudCgpIHsKICAgICAgICAgIHJldHVybiBkb2N1bWVudCQxLmRvY3VtZW50RWxlbWVudDsKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIF9wYXJlbnQgPSBmdW5jdGlvbiBfcGFyZW50KCkgewogICAgICAgICAgcmV0dXJuIGRvY3VtZW50JDEuYm9keTsKICAgICAgICB9OwogICAgICB9CgogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAncGFyZW50Tm9kZScsIHsKICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgIGdldDogX3BhcmVudAogICAgICB9KTsKICAgIH0KCiAgICBpZiAoISgncGFyZW50RWxlbWVudCcgaW4gb2JqKSkgewogICAgICB2YXIgX3BhcmVudDI7CgogICAgICBpZiAobGV2ZWwgPT09IDApIHsKICAgICAgICBfcGFyZW50MiA9IGZ1bmN0aW9uIF9wYXJlbnQyKCkgewogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfTsKICAgICAgfSBlbHNlIGlmIChsZXZlbCA9PT0gMSkgewogICAgICAgIF9wYXJlbnQyID0gZnVuY3Rpb24gX3BhcmVudDIoKSB7CiAgICAgICAgICByZXR1cm4gZG9jdW1lbnQkMS5kb2N1bWVudEVsZW1lbnQ7CiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICBfcGFyZW50MiA9IGZ1bmN0aW9uIF9wYXJlbnQyKCkgewogICAgICAgICAgcmV0dXJuIGRvY3VtZW50JDEuYm9keTsKICAgICAgICB9OwogICAgICB9CgogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAncGFyZW50RWxlbWVudCcsIHsKICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgIGdldDogX3BhcmVudDIKICAgICAgfSk7CiAgICB9CiAgfQogIGZ1bmN0aW9uIHN0eWxlKG9iaikgewogICAgb2JqLnN0eWxlID0gb2JqLnN0eWxlIHx8IHt9OwogICAgT2JqZWN0LmFzc2lnbihvYmouc3R5bGUsIHsKICAgICAgdG9wOiAnMHB4JywKICAgICAgbGVmdDogJzBweCcsCiAgICAgIHdpZHRoOiBpbm5lcldpZHRoICsgJ3B4JywKICAgICAgaGVpZ2h0OiBpbm5lckhlaWdodCArICdweCcsCiAgICAgIG1hcmdpbjogJzBweCcsCiAgICAgIHBhZGRpbmc6ICcwcHgnCiAgICB9KTsKICB9CiAgZnVuY3Rpb24gY2xpZW50UmVnaW9uKG9iaikgewogICAgaWYgKCEoJ2NsaWVudExlZnQnIGluIG9iaikpIHsKICAgICAgb2JqLmNsaWVudExlZnQgPSAwOwogICAgICBvYmouY2xpZW50VG9wID0gMDsKICAgIH0KCiAgICBpZiAoISgnY2xpZW50V2lkdGgnIGluIG9iaikpIHsKICAgICAgb2JqLmNsaWVudFdpZHRoID0gaW5uZXJXaWR0aDsKICAgICAgb2JqLmNsaWVudEhlaWdodCA9IGlubmVySGVpZ2h0OwogICAgfQoKICAgIGlmICghKCdnZXRCb3VuZGluZ0NsaWVudFJlY3QnIGluIG9iaikpIHsKICAgICAgb2JqLmdldEJvdW5kaW5nQ2xpZW50UmVjdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgcmV0ID0gewogICAgICAgICAgeDogMCwKICAgICAgICAgIHk6IDAsCiAgICAgICAgICB0b3A6IDAsCiAgICAgICAgICBsZWZ0OiAwLAogICAgICAgICAgd2lkdGg6IHRoaXMuY2xpZW50V2lkdGgsCiAgICAgICAgICBoZWlnaHQ6IHRoaXMuY2xpZW50SGVpZ2h0CiAgICAgICAgfTsKICAgICAgICByZXQucmlnaHQgPSByZXQud2lkdGg7CiAgICAgICAgcmV0LmJvdHRvbSA9IHJldC5oZWlnaHQ7CiAgICAgICAgcmV0dXJuIHJldDsKICAgICAgfTsKICAgIH0KICB9CiAgZnVuY3Rpb24gb2Zmc2V0UmVnaW9uKG9iaikgewogICAgaWYgKCEoJ29mZnNldExlZnQnIGluIG9iaikpIHsKICAgICAgb2JqLm9mZnNldExlZnQgPSAwOwogICAgICBvYmoub2Zmc2V0VG9wID0gMDsKICAgIH0KCiAgICBpZiAoISgnb2Zmc2V0V2lkdGgnIGluIG9iaikpIHsKICAgICAgb2JqLm9mZnNldFdpZHRoID0gaW5uZXJXaWR0aDsKICAgICAgb2JqLm9mZnNldEhlaWdodCA9IGlubmVySGVpZ2h0OwogICAgfQogIH0KICBmdW5jdGlvbiBzY3JvbGxSZWdpb24ob2JqKSB7CiAgICBpZiAoISgnc2Nyb2xsTGVmdCcgaW4gb2JqKSkgewogICAgICBvYmouc2Nyb2xsTGVmdCA9IDA7CiAgICAgIG9iai5zY3JvbGxUb3AgPSAwOwogICAgfQoKICAgIGlmICghKCdzY3JvbGxXaWR0aCcgaW4gb2JqKSkgewogICAgICBvYmouc2Nyb2xsV2lkdGggPSBpbm5lcldpZHRoOwogICAgICBvYmouc2Nyb2xsSGVpZ2h0ID0gaW5uZXJIZWlnaHQ7CiAgICB9CiAgfQogIGZ1bmN0aW9uIGNsYXNzTGlzdChvYmopIHsKICAgIHZhciBub29wID0gZnVuY3Rpb24gbm9vcCgpIHt9OwoKICAgIG9iai5jbGFzc0xpc3QgPSBbXTsKICAgIG9iai5jbGFzc0xpc3QuYWRkID0gbm9vcDsKICAgIG9iai5jbGFzc0xpc3QucmVtb3ZlID0gbm9vcDsKICAgIG9iai5jbGFzc0xpc3QuY29udGFpbnMgPSBub29wOwogICAgb2JqLmNsYXNzTGlzdC50b2dnbGUgPSBub29wOwogIH0KCiAgdmFyIF9ldmVudHMgPSBuZXcgV2Vha01hcCgpOwoKICB2YXIgRXZlbnRUYXJnZXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gRXZlbnRUYXJnZXQoKSB7CiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFdmVudFRhcmdldCk7CgogICAgICBfZXZlbnRzLnNldCh0aGlzLCB7fSk7CiAgICB9CgogICAgX2NyZWF0ZUNsYXNzKEV2ZW50VGFyZ2V0LCBbewogICAgICBrZXk6ICJhZGRFdmVudExpc3RlbmVyIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHsKICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CgogICAgICAgIHZhciBldmVudHMgPSBfZXZlbnRzLmdldCh0aGlzKTsKCiAgICAgICAgaWYgKCFldmVudHMpIHsKICAgICAgICAgIGV2ZW50cyA9IHt9OwoKICAgICAgICAgIF9ldmVudHMuc2V0KHRoaXMsIGV2ZW50cyk7CiAgICAgICAgfQoKICAgICAgICBpZiAoIWV2ZW50c1t0eXBlXSkgewogICAgICAgICAgZXZlbnRzW3R5cGVdID0gW107CiAgICAgICAgfQoKICAgICAgICBldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7CgogICAgICAgIGlmIChvcHRpb25zLmNhcHR1cmUpIHsKICAgICAgICAgIGNvbnNvbGUud2FybignRXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcjogb3B0aW9ucy5jYXB0dXJlIGlzIG5vdCBpbXBsZW1lbnRlZC4nKTsKICAgICAgICB9CgogICAgICAgIGlmIChvcHRpb25zLm9uY2UpIHsKICAgICAgICAgIGNvbnNvbGUud2FybignRXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcjogb3B0aW9ucy5vbmNlIGlzIG5vdCBpbXBsZW1lbnRlZC4nKTsKICAgICAgICB9CgogICAgICAgIGlmIChvcHRpb25zLnBhc3NpdmUpIHsKICAgICAgICAgIGNvbnNvbGUud2FybignRXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcjogb3B0aW9ucy5wYXNzaXZlIGlzIG5vdCBpbXBsZW1lbnRlZC4nKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAicmVtb3ZlRXZlbnRMaXN0ZW5lciIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7CgogICAgICAgIHZhciBldmVudHMgPSBfZXZlbnRzLmdldCh0aGlzKTsKCiAgICAgICAgaWYgKGV2ZW50cykgewogICAgICAgICAgdmFyIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTsKCiAgICAgICAgICBpZiAobGlzdGVuZXJzICYmIGxpc3RlbmVycy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSBsaXN0ZW5lcnMubGVuZ3RoOyBpLS07IGkgPiAwKSB7CiAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyc1tpXSA9PT0gbGlzdGVuZXIpIHsKICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaSwgMSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiZGlzcGF0Y2hFdmVudCIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KCkgewogICAgICAgIHZhciBldmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CgogICAgICAgIHZhciBsaXN0ZW5lcnMgPSBfZXZlbnRzLmdldCh0aGlzKVtldmVudC50eXBlXTsKCiAgICAgICAgaWYgKGxpc3RlbmVycykgewogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgbGlzdGVuZXJzW2ldKGV2ZW50KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gRXZlbnRUYXJnZXQ7CiAgfSgpOwoKICB2YXIgTm9kZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0V2ZW50VGFyZ2V0KSB7CiAgICBfaW5oZXJpdHMoTm9kZSwgX0V2ZW50VGFyZ2V0KTsKCiAgICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKE5vZGUpOwoKICAgIGZ1bmN0aW9uIE5vZGUoKSB7CiAgICAgIHZhciBfdGhpczsKCiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOb2RlKTsKCiAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7CiAgICAgIF90aGlzLmNoaWxkTm9kZXMgPSBbXTsKICAgICAgcmV0dXJuIF90aGlzOwogICAgfQoKICAgIF9jcmVhdGVDbGFzcyhOb2RlLCBbewogICAgICBrZXk6ICJhcHBlbmRDaGlsZCIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBlbmRDaGlsZChub2RlKSB7CiAgICAgICAgdGhpcy5jaGlsZE5vZGVzLnB1c2gobm9kZSk7CgogICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgTm9kZSkgewogICAgICAgICAgdGhpcy5jaGlsZE5vZGVzLnB1c2gobm9kZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZhaWxlZCB0byBleGVjdXRlZCBcJ2FwcGVuZENoaWxkXCcgb24gXCdOb2RlXCc6IHBhcmFtZXRlciAxIGlzIG5vdCBvZiB0eXBlIFwnTm9kZVwnLicpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJjbG9uZU5vZGUiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gY2xvbmVOb2RlKCkgewogICAgICAgIHZhciBjb3B5Tm9kZSA9IE9iamVjdC5jcmVhdGUodGhpcyk7CiAgICAgICAgT2JqZWN0LmFzc2lnbihjb3B5Tm9kZSwgdGhpcyk7CiAgICAgICAgcmV0dXJuIGNvcHlOb2RlOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogInJlbW92ZUNoaWxkIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUNoaWxkKG5vZGUpIHsKICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmNoaWxkTm9kZXMuZmluZEluZGV4KGZ1bmN0aW9uIChjaGlsZCkgewogICAgICAgICAgcmV0dXJuIGNoaWxkID09PSBub2RlOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoaW5kZXggPiAtMSkgewogICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGROb2Rlcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gTm9kZTsKICB9KEV2ZW50VGFyZ2V0KTsKCiAgdmFyIEVsZW1lbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Ob2RlKSB7CiAgICBfaW5oZXJpdHMoRWxlbWVudCwgX05vZGUpOwoKICAgIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoRWxlbWVudCk7CgogICAgZnVuY3Rpb24gRWxlbWVudCgpIHsKICAgICAgdmFyIF90aGlzOwoKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVsZW1lbnQpOwoKICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKTsKICAgICAgX3RoaXMuY2xhc3NOYW1lID0gJyc7CiAgICAgIF90aGlzLmNoaWxkcmVuID0gW107CiAgICAgIHJldHVybiBfdGhpczsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoRWxlbWVudCwgW3sKICAgICAga2V5OiAic2V0QXR0cmlidXRlIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSkgewogICAgICAgIHRoaXNbbmFtZV0gPSB2YWx1ZTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJnZXRBdHRyaWJ1dGUiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QXR0cmlidXRlKG5hbWUpIHsKICAgICAgICByZXR1cm4gdGhpc1tuYW1lXTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJzZXRBdHRyaWJ1dGVOUyIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRBdHRyaWJ1dGVOUyhuYW1lLCB2YWx1ZSkgewogICAgICAgIHRoaXNbbmFtZV0gPSB2YWx1ZTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJnZXRBdHRyaWJ1dGVOUyIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBdHRyaWJ1dGVOUyhuYW1lKSB7CiAgICAgICAgcmV0dXJuIHRoaXNbbmFtZV07CiAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gRWxlbWVudDsKICB9KE5vZGUpOwoKICB2YXIgSFRNTEVsZW1lbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9FbGVtZW50KSB7CiAgICBfaW5oZXJpdHMoSFRNTEVsZW1lbnQsIF9FbGVtZW50KTsKCiAgICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEhUTUxFbGVtZW50KTsKCiAgICBmdW5jdGlvbiBIVE1MRWxlbWVudCgpIHsKICAgICAgdmFyIF90aGlzOwoKICAgICAgdmFyIHRhZ05hbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnOwogICAgICB2YXIgbGV2ZWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDsKCiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIVE1MRWxlbWVudCk7CgogICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpOwogICAgICBfdGhpcy5jbGFzc05hbWUgPSAnJzsKICAgICAgX3RoaXMuY2hpbGRyZW4gPSBbXTsKICAgICAgX3RoaXMuZm9jdXMgPSBub29wOwogICAgICBfdGhpcy5ibHVyID0gbm9vcDsKICAgICAgX3RoaXMuaW5zZXJ0QmVmb3JlID0gbm9vcDsKICAgICAgX3RoaXMuYXBwZW5kQ2hpbGQgPSBub29wOwogICAgICBfdGhpcy5yZW1vdmVDaGlsZCA9IG5vb3A7CiAgICAgIF90aGlzLnJlbW92ZSA9IG5vb3A7CiAgICAgIF90aGlzLmlubmVySFRNTCA9ICcnOwogICAgICBfdGhpcy50YWdOYW1lID0gdGFnTmFtZS50b1VwcGVyQ2FzZSgpOwogICAgICBwYXJlbnROb2RlKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBsZXZlbCk7CiAgICAgIHN0eWxlKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgICAgY2xhc3NMaXN0KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgICAgY2xpZW50UmVnaW9uKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgICAgb2Zmc2V0UmVnaW9uKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgICAgc2Nyb2xsUmVnaW9uKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTsKICAgICAgcmV0dXJuIF90aGlzOwogICAgfQoKICAgIHJldHVybiBIVE1MRWxlbWVudDsKICB9KEVsZW1lbnQpOwoKICAvLyBpbXBvcnQgeyBIVE1MQ2FudmFzRWxlbWVudCwgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBXZWJHTFJlbmRlcmluZ0NvbnRleHQgfSBmcm9tICcuL2NvbnN0cnVjdG9yJwogIHZhciBfY2FudmFzID0gbnVsbDsgLy/nm67liY3kvb/nlKjnmoRjYW52YXMKCiAgdmFyIF9jYW52YXNNYXAgPSBuZXcgTWFwKCk7CgogIHZhciBFdmVudCA9IGZ1bmN0aW9uIEV2ZW50KHR5cGUpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFdmVudCk7CgogICAgdGhpcy5jYW5jZWxCdWJibGUgPSBmYWxzZTsKICAgIHRoaXMuY2FuY2VsYWJsZSA9IGZhbHNlOwogICAgdGhpcy50YXJnZXQgPSBudWxsOwogICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbDsKICAgIHRoaXMucHJldmVudERlZmF1bHQgPSBub29wOwogICAgdGhpcy5zdG9wUHJvcGFnYXRpb24gPSBub29wOwogICAgdGhpcy50eXBlID0gdHlwZTsKICAgIHRoaXMudGltZVN0YW1wID0gRGF0ZS5ub3coKTsKICB9OwoKICB2YXIgbG9jYXRpb24gPSB7CiAgICBocmVmOiAnYXBwLmpzJywKICAgIHJlbG9hZDogZnVuY3Rpb24gcmVsb2FkKCkge30sCiAgICByZXBsYWNlOiBmdW5jdGlvbiByZXBsYWNlKGhyZWYpIHsKICAgICAgdGhpcy5ocmVmID0gaHJlZjsKICAgIH0KICB9OwoKICBmdW5jdGlvbiBJbWFnZSgpIHsKCiAgICB7CiAgICAgIHRocm93IG5ldyBFcnJvcigncGxlYXNlIHJlZ2lzdGVyIGEgY2FudmFzJyk7CiAgICB9CiAgfQoKICB2YXIgRG9jdW1lbnRFbGVtZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfSFRNTEVsZW1lbnQpIHsKICAgIF9pbmhlcml0cyhEb2N1bWVudEVsZW1lbnQsIF9IVE1MRWxlbWVudCk7CgogICAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihEb2N1bWVudEVsZW1lbnQpOwoKICAgIGZ1bmN0aW9uIERvY3VtZW50RWxlbWVudCgpIHsKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERvY3VtZW50RWxlbWVudCk7CgogICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgJ2h0bWwnLCAwKTsKICAgIH0KCiAgICByZXR1cm4gRG9jdW1lbnRFbGVtZW50OwogIH0oSFRNTEVsZW1lbnQpOwoKICB2YXIgQm9keSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0hUTUxFbGVtZW50KSB7CiAgICBfaW5oZXJpdHMoQm9keSwgX0hUTUxFbGVtZW50KTsKCiAgICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEJvZHkpOwoKICAgIGZ1bmN0aW9uIEJvZHkoKSB7CiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCb2R5KTsKCiAgICAgIC8vIOS4uuS6huaAp+iDvSwg5q2k5aSE5LiN5oyJ54Wn5qCH5YeG55qERE9N5bGC57qn5YWz57O76K6+6K6hCiAgICAgIC8vIOWwhiBib2R5IOiuvue9ruS4uiAw57qnLCBwYXJlbnTlhYPntKDkuLpudWxsCiAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCAnYm9keScsIDApOwogICAgfQoKICAgIHJldHVybiBCb2R5OwogIH0oSFRNTEVsZW1lbnQpOwogIC8vIHd4Lm9uVG91Y2hNb3ZlKGV2ZW50SGFuZGxlckZhY3RvcnkoJ3RvdWNobW92ZScpKQogIC8vIHd4Lm9uVG91Y2hFbmQoZXZlbnRIYW5kbGVyRmFjdG9yeSgndG91Y2hlbmQnKSkKICAvLyB3eC5vblRvdWNoQ2FuY2VsKGV2ZW50SGFuZGxlckZhY3RvcnkoJ3RvdWNoY2FuY2VsJykpCgogIHZhciBldmVudHMgPSB7fTsKICB2YXIgZG9jdW1lbnQkMSA9IHsKICAgIHJlYWR5U3RhdGU6ICdjb21wbGV0ZScsCiAgICB2aXNpYmlsaXR5U3RhdGU6ICd2aXNpYmxlJywKICAgIC8vICd2aXNpYmxlJyAsICdoaWRkZW4nCiAgICBoaWRkZW46IGZhbHNlLAogICAgZnVsbHNjcmVlbjogdHJ1ZSwKICAgIGxvY2F0aW9uOiBsb2NhdGlvbiwKICAgIHNjcmlwdHM6IFtdLAogICAgc3R5bGU6IHt9LAogICAgb250b3VjaHN0YXJ0OiBudWxsLAogICAgb250b3VjaG1vdmU6IG51bGwsCiAgICBvbnRvdWNoZW5kOiBudWxsLAogICAgb252aXNpYmlsaXR5Y2hhbmdlOiBudWxsLAogICAgcGFyZW50Tm9kZTogbnVsbCwKICAgIHBhcmVudEVsZW1lbnQ6IG51bGwsCiAgICBjcmVhdGVFbGVtZW50OiBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHRhZ05hbWUpIHsKICAgICAgdGFnTmFtZSA9IHRhZ05hbWUudG9Mb3dlckNhc2UoKTsKCiAgICAgIGlmICh0YWdOYW1lID09PSAnY2FudmFzJykgewogICAgICAgIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncGxlYXNlIHJlZ2lzdGVyIGEgY2FudmFzJyk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHRhZ05hbWUgPT09ICdpbWcnKSB7CiAgICAgICAgcmV0dXJuIG5ldyBJbWFnZSgpOwogICAgICB9IC8vIGVsc2UgaWYgKHRhZ05hbWUgPT09ICdhdWRpbycpIHsKICAgICAgLy8gICByZXR1cm4gbmV3IEF1ZGlvKCkKICAgICAgLy8gfSAKICAgICAgLy8gfSBlbHNlIGlmICh0YWdOYW1lID09PSAndmlkZW8nKSB7CiAgICAgIC8vICAgcmV0dXJuIG5ldyBIVE1MVmlkZW9FbGVtZW50KCkKICAgICAgLy8gfQoKCiAgICAgIHJldHVybiBuZXcgSFRNTEVsZW1lbnQodGFnTmFtZSk7CiAgICB9LAogICAgY3JlYXRlRWxlbWVudE5TOiBmdW5jdGlvbiBjcmVhdGVFbGVtZW50TlMobmFtZVNwYWNlLCB0YWdOYW1lKSB7CiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7CiAgICB9LAogICAgY3JlYXRlVGV4dE5vZGU6IGZ1bmN0aW9uIGNyZWF0ZVRleHROb2RlKHRleHQpIHsKICAgICAgLy8gVE9ETzogRG8gd2UgbmVlZCB0aGUgVGV4dE5vZGUgQ2xhc3MgPz8/CiAgICAgIHJldHVybiB0ZXh0OwogICAgfSwKICAgIGdldEVsZW1lbnRCeUlkOiBmdW5jdGlvbiBnZXRFbGVtZW50QnlJZChpZCkgewogICAgICBpZiAoX2NhbnZhc01hcC5oYXMoaWQpKSB7CiAgICAgICAgcmV0dXJuIF9jYW52YXNNYXAuZ2V0KGlkKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9LAogICAgZ2V0RWxlbWVudHNCeVRhZ05hbWU6IGZ1bmN0aW9uIGdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZ05hbWUpIHsKICAgICAgdGFnTmFtZSA9IHRhZ05hbWUudG9Mb3dlckNhc2UoKTsKCiAgICAgIGlmICh0YWdOYW1lID09PSAnaGVhZCcpIHsKICAgICAgICByZXR1cm4gW2RvY3VtZW50JDEuaGVhZF07CiAgICAgIH0gZWxzZSBpZiAodGFnTmFtZSA9PT0gJ2JvZHknKSB7CiAgICAgICAgcmV0dXJuIFtkb2N1bWVudCQxLmJvZHldOwogICAgICB9IGVsc2UgaWYgKHRhZ05hbWUgPT09ICdjYW52YXMnKSB7CiAgICAgICAgcmV0dXJuIF90b0NvbnN1bWFibGVBcnJheShfY2FudmFzTWFwKTsKICAgICAgfQoKICAgICAgcmV0dXJuIFtdOwogICAgfSwKICAgIGdldEVsZW1lbnRzQnlUYWdOYW1lTlM6IGZ1bmN0aW9uIGdldEVsZW1lbnRzQnlUYWdOYW1lTlMobmFtZVNwYWNlLCB0YWdOYW1lKSB7CiAgICAgIHJldHVybiB0aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZ05hbWUpOwogICAgfSwKICAgIGdldEVsZW1lbnRzQnlOYW1lOiBmdW5jdGlvbiBnZXRFbGVtZW50c0J5TmFtZSh0YWdOYW1lKSB7CiAgICAgIGlmICh0YWdOYW1lID09PSAnaGVhZCcpIHsKICAgICAgICByZXR1cm4gW2RvY3VtZW50JDEuaGVhZF07CiAgICAgIH0gZWxzZSBpZiAodGFnTmFtZSA9PT0gJ2JvZHknKSB7CiAgICAgICAgcmV0dXJuIFtkb2N1bWVudCQxLmJvZHldOwogICAgICB9IGVsc2UgaWYgKHRhZ05hbWUgPT09ICdjYW52YXMnKSB7CiAgICAgICAgcmV0dXJuIF90b0NvbnN1bWFibGVBcnJheShfY2FudmFzTWFwKTsKICAgICAgfQoKICAgICAgcmV0dXJuIFtdOwogICAgfSwKICAgIHF1ZXJ5U2VsZWN0b3I6IGZ1bmN0aW9uIHF1ZXJ5U2VsZWN0b3IocXVlcnkpIHsKICAgICAgaWYgKHF1ZXJ5ID09PSAnaGVhZCcpIHsKICAgICAgICByZXR1cm4gZG9jdW1lbnQkMS5oZWFkOwogICAgICB9IGVsc2UgaWYgKHF1ZXJ5ID09PSAnYm9keScpIHsKICAgICAgICByZXR1cm4gZG9jdW1lbnQkMS5ib2R5OwogICAgICB9IGVsc2UgaWYgKHF1ZXJ5ID09PSAnY2FudmFzJykgewogICAgICAgIHJldHVybiBfY2FudmFzOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBpZCA9IHF1ZXJ5LnNsaWNlKDEpOwoKICAgICAgICBpZiAoX2NhbnZhc01hcC5oYXMoaWQpKSB7CiAgICAgICAgICByZXR1cm4gX2NhbnZhc01hcC5nZXQoaWQpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9LAogICAgcXVlcnlTZWxlY3RvckFsbDogZnVuY3Rpb24gcXVlcnlTZWxlY3RvckFsbChxdWVyeSkgewogICAgICBpZiAocXVlcnkgPT09ICdoZWFkJykgewogICAgICAgIHJldHVybiBbZG9jdW1lbnQkMS5oZWFkXTsKICAgICAgfSBlbHNlIGlmIChxdWVyeSA9PT0gJ2JvZHknKSB7CiAgICAgICAgcmV0dXJuIFtkb2N1bWVudCQxLmJvZHldOwogICAgICB9IGVsc2UgaWYgKHF1ZXJ5ID09PSAnY2FudmFzJykgewogICAgICAgIHJldHVybiBfdG9Db25zdW1hYmxlQXJyYXkoX2NhbnZhc01hcCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBbXTsKICAgIH0sCiAgICBhZGRFdmVudExpc3RlbmVyOiBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7CiAgICAgIGlmICghZXZlbnRzW3R5cGVdKSB7CiAgICAgICAgZXZlbnRzW3R5cGVdID0gW107CiAgICAgIH0KCiAgICAgIGV2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKTsKICAgIH0sCiAgICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7CiAgICAgIHZhciBsaXN0ZW5lcnMgPSBldmVudHNbdHlwZV07CgogICAgICBpZiAobGlzdGVuZXJzICYmIGxpc3RlbmVycy5sZW5ndGggPiAwKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IGxpc3RlbmVycy5sZW5ndGg7IGktLTsgaSA+IDApIHsKICAgICAgICAgIGlmIChsaXN0ZW5lcnNbaV0gPT09IGxpc3RlbmVyKSB7CiAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaSwgMSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGRpc3BhdGNoRXZlbnQ6IGZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQoZXZlbnQpIHsKICAgICAgdmFyIHR5cGUgPSBldmVudC50eXBlOwogICAgICB2YXIgbGlzdGVuZXJzID0gZXZlbnRzW3R5cGVdOwoKICAgICAgaWYgKGxpc3RlbmVycykgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBsaXN0ZW5lcnNbaV0oZXZlbnQpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGV2ZW50LnRhcmdldCAmJiB0eXBlb2YgZXZlbnQudGFyZ2V0WydvbicgKyB0eXBlXSA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIGV2ZW50LnRhcmdldFsnb24nICsgdHlwZV0oZXZlbnQpOwogICAgICB9CiAgICB9CiAgfTsKICBkb2N1bWVudCQxLmRvY3VtZW50RWxlbWVudCA9IG5ldyBEb2N1bWVudEVsZW1lbnQoKTsKICBkb2N1bWVudCQxLmhlYWQgPSBuZXcgSFRNTEVsZW1lbnQoJ2hlYWQnKTsKICBkb2N1bWVudCQxLmJvZHkgPSBuZXcgQm9keSgpOwoKICBmdW5jdGlvbiBvblZpc2liaWxpdHlDaGFuZ2UodmlzaWJsZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgZG9jdW1lbnQkMS52aXNpYmlsaXR5U3RhdGUgPSB2aXNpYmxlID8gJ3Zpc2libGUnIDogJ2hpZGRlbic7CiAgICAgIHZhciBoaWRkZW4gPSAhdmlzaWJsZTsKCiAgICAgIGlmIChkb2N1bWVudCQxLmhpZGRlbiA9PT0gaGlkZGVuKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBkb2N1bWVudCQxLmhpZGRlbiA9IGhpZGRlbjsKICAgICAgdmFyIGV2ZW50ID0gbmV3IEV2ZW50KCd2aXNpYmlsaXR5Y2hhbmdlJyk7CiAgICAgIGV2ZW50LnRhcmdldCA9IGRvY3VtZW50JDE7CiAgICAgIGV2ZW50LnRpbWVTdGFtcCA9IERhdGUubm93KCk7CiAgICAgIGRvY3VtZW50JDEuZGlzcGF0Y2hFdmVudChldmVudCk7CiAgICB9OwogIH0KCiAgaWYgKHd4Lm9uSGlkZSkgewogICAgd3gub25IaWRlKG9uVmlzaWJpbGl0eUNoYW5nZShmYWxzZSkpOwogIH0KCiAgaWYgKHd4Lm9uU2hvdykgewogICAgd3gub25TaG93KG9uVmlzaWJpbGl0eUNoYW5nZSh0cnVlKSk7CiAgfQoKICB2YXIgc3lzdGVtSW5mbyA9IHd4LmdldFN5c3RlbUluZm9TeW5jKCk7CiAgdmFyIHN5c3RlbSA9IHN5c3RlbUluZm8uc3lzdGVtOwogIHN5c3RlbUluZm8ucGxhdGZvcm07CiAgc3lzdGVtSW5mby5sYW5ndWFnZTsKICBzeXN0ZW0udG9Mb3dlckNhc2UoKS5pbmRleE9mKCdhbmRyb2lkJykgIT09IC0xOwoKICBpZiAod3gub25OZXR3b3JrU3RhdHVzQ2hhbmdlKSB7CiAgICB3eC5vbk5ldHdvcmtTdGF0dXNDaGFuZ2UoZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIGV2ZW50LmlzQ29ubmVjdGVkOwogICAgfSk7CiAgfQoKICB2YXIgX3JlcXVlc3RIZWFkZXIgPSBuZXcgV2Vha01hcCgpOwoKICB2YXIgX3Jlc3BvbnNlSGVhZGVyID0gbmV3IFdlYWtNYXAoKTsKCiAgdmFyIF9yZXF1ZXN0VGFzayA9IG5ldyBXZWFrTWFwKCk7CgogIGZ1bmN0aW9uIF90cmlnZ2VyRXZlbnQodHlwZSkgewogICAgdmFyIGV2ZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICAgIGV2ZW50LnRhcmdldCA9IGV2ZW50LnRhcmdldCB8fCB0aGlzOwoKICAgIGlmICh0eXBlb2YgdGhpc1sib24iLmNvbmNhdCh0eXBlKV0gPT09ICdmdW5jdGlvbicpIHsKICAgICAgdGhpc1sib24iLmNvbmNhdCh0eXBlKV0uY2FsbCh0aGlzLCBldmVudCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBfY2hhbmdlUmVhZHlTdGF0ZShyZWFkeVN0YXRlKSB7CiAgICB2YXIgZXZlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogICAgdGhpcy5yZWFkeVN0YXRlID0gcmVhZHlTdGF0ZTsKICAgIGV2ZW50LnJlYWR5U3RhdGUgPSByZWFkeVN0YXRlOwoKICAgIF90cmlnZ2VyRXZlbnQuY2FsbCh0aGlzLCAncmVhZHlzdGF0ZWNoYW5nZScsIGV2ZW50KTsKICB9CgogIGZ1bmN0aW9uIF9pc1JlbGF0aXZlUGF0aCh1cmwpIHsKICAgIHJldHVybiAhL14oaHR0cHxodHRwc3xmdHB8d3hmaWxlKTpcL1wvLiovaS50ZXN0KHVybCk7CiAgfQoKICB2YXIgWE1MSHR0cFJlcXVlc3QgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9FdmVudFRhcmdldCkgewogICAgX2luaGVyaXRzKFhNTEh0dHBSZXF1ZXN0LCBfRXZlbnRUYXJnZXQpOwoKICAgIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoWE1MSHR0cFJlcXVlc3QpOwoKICAgIGZ1bmN0aW9uIFhNTEh0dHBSZXF1ZXN0KCkgewogICAgICB2YXIgX3RoaXM7CgogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgWE1MSHR0cFJlcXVlc3QpOwoKICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKTsKICAgICAgLyoNCiAgICAgICAqIFRPRE8g6L+Z5LiA5om55LqL5Lu25bqU6K+l5piv5ZyoIFhNTEh0dHBSZXF1ZXN0RXZlbnRUYXJnZXQucHJvdG90eXBlIOS4iumdoueahA0KICAgICAgICovCgogICAgICBfdGhpcy5vbmFib3J0ID0gbnVsbDsKICAgICAgX3RoaXMub25lcnJvciA9IG51bGw7CiAgICAgIF90aGlzLm9ubG9hZCA9IG51bGw7CiAgICAgIF90aGlzLm9ubG9hZHN0YXJ0ID0gbnVsbDsKICAgICAgX3RoaXMub25wcm9ncmVzcyA9IG51bGw7CiAgICAgIF90aGlzLm9udGltZW91dCA9IG51bGw7CiAgICAgIF90aGlzLm9ubG9hZGVuZCA9IG51bGw7CiAgICAgIF90aGlzLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7CiAgICAgIF90aGlzLnJlYWR5U3RhdGUgPSAwOwogICAgICBfdGhpcy5yZXNwb25zZSA9IG51bGw7CiAgICAgIF90aGlzLnJlc3BvbnNlVGV4dCA9IG51bGw7CiAgICAgIF90aGlzLnJlc3BvbnNlVHlwZSA9ICd0ZXh0JzsKICAgICAgX3RoaXMuZGF0YVR5cGUgPSAnc3RyaW5nJzsKICAgICAgX3RoaXMucmVzcG9uc2VYTUwgPSBudWxsOwogICAgICBfdGhpcy5zdGF0dXMgPSAwOwogICAgICBfdGhpcy5zdGF0dXNUZXh0ID0gJyc7CiAgICAgIF90aGlzLnVwbG9hZCA9IHt9OwogICAgICBfdGhpcy53aXRoQ3JlZGVudGlhbHMgPSBmYWxzZTsKCiAgICAgIF9yZXF1ZXN0SGVhZGVyLnNldChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgewogICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJwogICAgICB9KTsKCiAgICAgIF9yZXNwb25zZUhlYWRlci5zZXQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIHt9KTsKCiAgICAgIHJldHVybiBfdGhpczsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoWE1MSHR0cFJlcXVlc3QsIFt7CiAgICAgIGtleTogImFib3J0IiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFib3J0KCkgewogICAgICAgIHZhciBteVJlcXVlc3RUYXNrID0gX3JlcXVlc3RUYXNrLmdldCh0aGlzKTsKCiAgICAgICAgaWYgKG15UmVxdWVzdFRhc2spIHsKICAgICAgICAgIG15UmVxdWVzdFRhc2suYWJvcnQoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFsbFJlc3BvbnNlSGVhZGVycygpIHsKICAgICAgICB2YXIgcmVzcG9uc2VIZWFkZXIgPSBfcmVzcG9uc2VIZWFkZXIuZ2V0KHRoaXMpOwoKICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMocmVzcG9uc2VIZWFkZXIpLm1hcChmdW5jdGlvbiAoaGVhZGVyKSB7CiAgICAgICAgICByZXR1cm4gIiIuY29uY2F0KGhlYWRlciwgIjogIikuY29uY2F0KHJlc3BvbnNlSGVhZGVyW2hlYWRlcl0pOwogICAgICAgIH0pLmpvaW4oJ1xuJyk7CiAgICAgIH0KICAgIH0sIHsKICAgICAga2V5OiAiZ2V0UmVzcG9uc2VIZWFkZXIiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmVzcG9uc2VIZWFkZXIoaGVhZGVyKSB7CiAgICAgICAgcmV0dXJuIF9yZXNwb25zZUhlYWRlci5nZXQodGhpcylbaGVhZGVyXTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJvcGVuIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW4obWV0aG9kLCB1cmwKICAgICAgLyogYXN5bmMsIHVzZXIsIHBhc3N3b3JkIOi/meWHoOS4quWPguaVsOWcqOWwj+eoi+W6j+WGheS4jeaUr+aMgSovCiAgICAgICkgewogICAgICAgIHRoaXMuX21ldGhvZCA9IG1ldGhvZDsKICAgICAgICB0aGlzLl91cmwgPSB1cmw7CgogICAgICAgIF9jaGFuZ2VSZWFkeVN0YXRlLmNhbGwodGhpcywgWE1MSHR0cFJlcXVlc3QuT1BFTkVEKTsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJvdmVycmlkZU1pbWVUeXBlIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIG92ZXJyaWRlTWltZVR5cGUoKSB7fQogICAgfSwgewogICAgICBrZXk6ICJzZW5kIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbmQoKSB7CiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJzsKCiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSAhPT0gWE1MSHR0cFJlcXVlc3QuT1BFTkVEKSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byBleGVjdXRlICdzZW5kJyBvbiAnWE1MSHR0cFJlcXVlc3QnOiBUaGUgb2JqZWN0J3Mgc3RhdGUgbXVzdCBiZSBPUEVORUQuIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciB1cmwgPSB0aGlzLl91cmw7CgogICAgICAgICAgdmFyIGhlYWRlciA9IF9yZXF1ZXN0SGVhZGVyLmdldCh0aGlzKTsKCiAgICAgICAgICB2YXIgcmVzcG9uc2VUeXBlID0gdGhpcy5yZXNwb25zZVR5cGU7CiAgICAgICAgICB2YXIgZGF0YVR5cGUgPSB0aGlzLmRhdGFUeXBlOwoKICAgICAgICAgIHZhciByZWxhdGl2ZSA9IF9pc1JlbGF0aXZlUGF0aCh1cmwpOwoKICAgICAgICAgIHZhciBlbmNvZGluZzsKCiAgICAgICAgICBpZiAocmVzcG9uc2VUeXBlID09PSAnYXJyYXlidWZmZXInKSA7IGVsc2UgewogICAgICAgICAgICBlbmNvZGluZyA9ICd1dGY4JzsKICAgICAgICAgIH0KCiAgICAgICAgICBkZWxldGUgdGhpcy5yZXNwb25zZTsKICAgICAgICAgIHRoaXMucmVzcG9uc2UgPSBudWxsOwoKICAgICAgICAgIHZhciBvblN1Y2Nlc3MgPSBmdW5jdGlvbiBvblN1Y2Nlc3MoX3JlZikgewogICAgICAgICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YSwKICAgICAgICAgICAgICAgIHN0YXR1c0NvZGUgPSBfcmVmLnN0YXR1c0NvZGUsCiAgICAgICAgICAgICAgICBoZWFkZXIgPSBfcmVmLmhlYWRlcjsKICAgICAgICAgICAgc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGUgPT09IHVuZGVmaW5lZCA/IDIwMCA6IHN0YXR1c0NvZGU7CgogICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgIT09ICdzdHJpbmcnICYmICEoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSkgewogICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7CiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgZGF0YSA9IGRhdGE7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBfdGhpczIuc3RhdHVzID0gc3RhdHVzQ29kZTsKCiAgICAgICAgICAgIGlmIChoZWFkZXIpIHsKICAgICAgICAgICAgICBfcmVzcG9uc2VIZWFkZXIuc2V0KF90aGlzMiwgaGVhZGVyKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX3RyaWdnZXJFdmVudC5jYWxsKF90aGlzMiwgJ2xvYWRzdGFydCcpOwoKICAgICAgICAgICAgX2NoYW5nZVJlYWR5U3RhdGUuY2FsbChfdGhpczIsIFhNTEh0dHBSZXF1ZXN0LkhFQURFUlNfUkVDRUlWRUQpOwoKICAgICAgICAgICAgX2NoYW5nZVJlYWR5U3RhdGUuY2FsbChfdGhpczIsIFhNTEh0dHBSZXF1ZXN0LkxPQURJTkcpOwoKICAgICAgICAgICAgX3RoaXMyLnJlc3BvbnNlID0gZGF0YTsKCiAgICAgICAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHsKICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX3RoaXMyLCAncmVzcG9uc2VUZXh0JywgewogICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgICAgICAgICB0aHJvdyAiSW52YWxpZFN0YXRlRXJyb3IgOiByZXNwb25zZVR5cGUgaXMgIiArIHRoaXMucmVzcG9uc2VUeXBlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzMi5yZXNwb25zZVRleHQgPSBkYXRhOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfY2hhbmdlUmVhZHlTdGF0ZS5jYWxsKF90aGlzMiwgWE1MSHR0cFJlcXVlc3QuRE9ORSk7CgogICAgICAgICAgICBfdHJpZ2dlckV2ZW50LmNhbGwoX3RoaXMyLCAnbG9hZCcpOwoKICAgICAgICAgICAgX3RyaWdnZXJFdmVudC5jYWxsKF90aGlzMiwgJ2xvYWRlbmQnKTsKICAgICAgICAgIH07CgogICAgICAgICAgdmFyIG9uRmFpbCA9IGZ1bmN0aW9uIG9uRmFpbChfcmVmMikgewogICAgICAgICAgICB2YXIgZXJyTXNnID0gX3JlZjIuZXJyTXNnOwoKICAgICAgICAgICAgLy8gVE9ETyDop4TojIPplJnor68KICAgICAgICAgICAgaWYgKGVyck1zZy5pbmRleE9mKCdhYm9ydCcpICE9PSAtMSkgewogICAgICAgICAgICAgIF90cmlnZ2VyRXZlbnQuY2FsbChfdGhpczIsICdhYm9ydCcpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90cmlnZ2VyRXZlbnQuY2FsbChfdGhpczIsICdlcnJvcicsIHsKICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVyck1zZwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfdHJpZ2dlckV2ZW50LmNhbGwoX3RoaXMyLCAnbG9hZGVuZCcpOwoKICAgICAgICAgICAgaWYgKHJlbGF0aXZlKSB7CiAgICAgICAgICAgICAgLy8g55So5oi35Y2z5L2/5rKh55uR5ZCsZXJyb3Lkuovku7YsIOS5n+e7meWHuuebuOW6lOeahOitpuWRigogICAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnJNc2cpOwogICAgICAgICAgICB9CiAgICAgICAgICB9OwoKICAgICAgICAgIGlmIChyZWxhdGl2ZSkgewogICAgICAgICAgICB2YXIgZnMgPSB3eC5nZXRGaWxlU3lzdGVtTWFuYWdlcigpOwogICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHsKICAgICAgICAgICAgICAnZmlsZVBhdGgnOiB1cmwsCiAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBvblN1Y2Nlc3MsCiAgICAgICAgICAgICAgJ2ZhaWwnOiBvbkZhaWwKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGlmIChlbmNvZGluZykgewogICAgICAgICAgICAgIG9wdGlvbnNbJ2VuY29kaW5nJ10gPSBlbmNvZGluZzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnMucmVhZEZpbGUob3B0aW9ucyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICB3eC5yZXF1ZXN0KHsKICAgICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgIG1ldGhvZDogdGhpcy5fbWV0aG9kLAogICAgICAgICAgICBoZWFkZXI6IGhlYWRlciwKICAgICAgICAgICAgZGF0YVR5cGU6IGRhdGFUeXBlLAogICAgICAgICAgICByZXNwb25zZVR5cGU6IHJlc3BvbnNlVHlwZSwKICAgICAgICAgICAgc3VjY2Vzczogb25TdWNjZXNzLAogICAgICAgICAgICBmYWlsOiBvbkZhaWwKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJzZXRSZXF1ZXN0SGVhZGVyIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFJlcXVlc3RIZWFkZXIoaGVhZGVyLCB2YWx1ZSkgewogICAgICAgIHZhciBteUhlYWRlciA9IF9yZXF1ZXN0SGVhZGVyLmdldCh0aGlzKTsKCiAgICAgICAgbXlIZWFkZXJbaGVhZGVyXSA9IHZhbHVlOwoKICAgICAgICBfcmVxdWVzdEhlYWRlci5zZXQodGhpcywgbXlIZWFkZXIpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogImFkZEV2ZW50TGlzdGVuZXIiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewogICAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB0aGlzWydvbicgKyB0eXBlXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBldmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgICAgICAgICBldmVudC50YXJnZXQgPSBldmVudC50YXJnZXQgfHwgX3RoaXMzOwogICAgICAgICAgbGlzdGVuZXIuY2FsbChfdGhpczMsIGV2ZW50KTsKICAgICAgICB9OwogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogInJlbW92ZUV2ZW50TGlzdGVuZXIiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewogICAgICAgIGlmICh0aGlzWydvbicgKyB0eXBlXSA9PT0gbGlzdGVuZXIpIHsKICAgICAgICAgIHRoaXNbJ29uJyArIHR5cGVdID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gWE1MSHR0cFJlcXVlc3Q7CiAgfShFdmVudFRhcmdldCk7IC8vIFRPRE8g5rKh5rOV5qih5oufIEhFQURFUlNfUkVDRUlWRUQg5ZKMIExPQURJTkcg5Lik5Liq54q25oCBCiAgWE1MSHR0cFJlcXVlc3QuVU5TRU5EID0gMDsKICBYTUxIdHRwUmVxdWVzdC5PUEVORUQgPSAxOwogIFhNTEh0dHBSZXF1ZXN0LkhFQURFUlNfUkVDRUlWRUQgPSAyOwogIFhNTEh0dHBSZXF1ZXN0LkxPQURJTkcgPSAzOwogIFhNTEh0dHBSZXF1ZXN0LkRPTkUgPSA0OwoKICB2YXIgX3d4JGdldFN5c3RlbUluZm9TeW5jJDIgPSB3eC5nZXRTeXN0ZW1JbmZvU3luYygpLAogICAgICBwbGF0Zm9ybSQyID0gX3d4JGdldFN5c3RlbUluZm9TeW5jJDIucGxhdGZvcm07IC8vIGV4cG9ydCB7IGRlZmF1bHQgYXMgSFRNTEltYWdlRWxlbWVudCB9IGZyb20gJy4vSFRNTEltYWdlRWxlbWVudCcKCiAgaWYgKHBsYXRmb3JtJDIgIT09ICdkZXZ0b29scycpIHsKICAgIHZhciB3eFBlcmYkMSA9IHd4LmdldFBlcmZvcm1hbmNlID8gd3guZ2V0UGVyZm9ybWFuY2UoKSA6IERhdGU7CiAgICB2YXIgY29uc29sZVRpbWVycyA9IHt9OwoKICAgIGNvbnNvbGUudGltZSA9IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgIGNvbnNvbGVUaW1lcnNbbmFtZV0gPSB3eFBlcmYkMS5ub3coKTsKICAgIH07CgogICAgY29uc29sZS50aW1lRW5kID0gZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgdmFyIHRpbWVTdGFydCA9IGNvbnNvbGVUaW1lcnNbbmFtZV07CgogICAgICBpZiAoIXRpbWVTdGFydCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIHRpbWVFbGFwc2VkID0gd3hQZXJmJDEubm93KCkgLSB0aW1lU3RhcnQ7CiAgICAgIGNvbnNvbGUubG9nKG5hbWUgKyAiOiAiICsgdGltZUVsYXBzZWQgLyAxMDAwICsgIm1zIik7CiAgICAgIGRlbGV0ZSBjb25zb2xlVGltZXJzW25hbWVdOwogICAgfTsKICB9CgogIGlmICh3eC5vbldpbmRvd1Jlc2l6ZSkgewogICAgd3gub25XaW5kb3dSZXNpemUoZnVuY3Rpb24gKHJlcykgewogICAgICB2YXIgZXZlbnQgPSBuZXcgRXZlbnQoJ3Jlc2l6ZScpOwogICAgICBldmVudC50YXJnZXQgPSBkb2N1bWVudCQxOwogICAgICBldmVudC50aW1lU3RhbXAgPSBEYXRlLm5vdygpOwogICAgICBldmVudC5yZXMgPSByZXM7CiAgICAgIGV2ZW50LndpbmRvd1dpZHRoID0gcmVzLndpbmRvd1dpZHRoOwogICAgICBldmVudC53aW5kb3dIZWlnaHQgPSByZXMud2luZG93SGVpZ2h0OwogICAgICBkb2N1bWVudCQxLmRpc3BhdGNoRXZlbnQoZXZlbnQpOwogICAgfSk7CiAgfQoKICB3eC5hcnJheUJ1ZmZlclRvQmFzZTY0IHx8IG5vb3A7CiAgd3guYmFzZTY0VG9BcnJheUJ1ZmZlciB8fCBub29wOyAvLyBjb25zdCBmZXRjaCA9IHt9LCBjaHJvbWUgPSB7fSwgY29uc29sZSA9IHt9CgogIHZhciBsb2FkaW5nJDEgPSB7fTsKCiAgZnVuY3Rpb24gRmlsZUxvYWRlcigpIHt9CgogIEZpbGVMb2FkZXIucHJvdG90eXBlID0gT2JqZWN0LmFzc2lnbihGaWxlTG9hZGVyLnByb3RvdHlwZSwgewogICAgY29uc3RydWN0b3I6IEZpbGVMb2FkZXIsCiAgICBsb2FkOiBmdW5jdGlvbiBsb2FkKHVybCwgb25Mb2FkLCBvblByb2dyZXNzLCBvbkVycm9yKSB7CiAgICAgIGlmIChsb2FkaW5nJDFbdXJsXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgbG9hZGluZyQxW3VybF0ucHVzaCh7CiAgICAgICAgICBvbkxvYWQ6IG9uTG9hZCwKICAgICAgICAgIG9uUHJvZ3Jlc3M6IG9uUHJvZ3Jlc3MsCiAgICAgICAgICBvbkVycm9yOiBvbkVycm9yCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBsb2FkaW5nJDFbdXJsXSA9IFtdOwogICAgICBsb2FkaW5nJDFbdXJsXS5wdXNoKHsKICAgICAgICBvbkxvYWQ6IG9uTG9hZCwKICAgICAgICBvblByb2dyZXNzOiBvblByb2dyZXNzLAogICAgICAgIG9uRXJyb3I6IG9uRXJyb3IKICAgICAgfSk7CiAgICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgIHJlcXVlc3Qub3BlbignR0VUJywgdXJsLCB0cnVlKTsKICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgdmFyIHJlc3BvbnNlID0gdGhpcy5yZXNwb25zZTsKICAgICAgICB2YXIgY2FsbGJhY2tzID0gbG9hZGluZyQxW3VybF07CiAgICAgICAgZGVsZXRlIGxvYWRpbmckMVt1cmxdOwoKICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDIwMCB8fCB0aGlzLnN0YXR1cyA9PT0gMCkgewogICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHsKICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gY2FsbGJhY2tzW2ldOwogICAgICAgICAgICBpZiAoY2FsbGJhY2sub25Mb2FkKSBjYWxsYmFjay5vbkxvYWQocmVzcG9uc2UpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBjYWxsYmFja3MubGVuZ3RoOyBpIDwgaWw7IGkrKykgewogICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBjYWxsYmFja3NbaV07CiAgICAgICAgICAgIGlmIChjYWxsYmFjay5vbkVycm9yKSBjYWxsYmFjay5vbkVycm9yKGV2ZW50KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJlcXVlc3QuZW5kID0gdHJ1ZTsKICAgICAgfSwgZmFsc2UpOwogICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgdmFyIGNhbGxiYWNrcyA9IGxvYWRpbmckMVt1cmxdOwoKICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBjYWxsYmFja3MubGVuZ3RoOyBpIDwgaWw7IGkrKykgewogICAgICAgICAgdmFyIGNhbGxiYWNrID0gY2FsbGJhY2tzW2ldOwogICAgICAgICAgaWYgKGNhbGxiYWNrLm9uUHJvZ3Jlc3MpIGNhbGxiYWNrLm9uUHJvZ3Jlc3MoZXZlbnQpOwogICAgICAgIH0KICAgICAgfSwgZmFsc2UpOwogICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgdmFyIGNhbGxiYWNrcyA9IGxvYWRpbmckMVt1cmxdOwogICAgICAgIGRlbGV0ZSBsb2FkaW5nJDFbdXJsXTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHsKICAgICAgICAgIHZhciBjYWxsYmFjayA9IGNhbGxiYWNrc1tpXTsKICAgICAgICAgIGlmIChjYWxsYmFjay5vbkVycm9yKSBjYWxsYmFjay5vbkVycm9yKGV2ZW50KTsKICAgICAgICB9CgogICAgICAgIHJlcXVlc3QuZW5kID0gdHJ1ZTsKICAgICAgfSwgZmFsc2UpOwogICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgdmFyIGNhbGxiYWNrcyA9IGxvYWRpbmckMVt1cmxdOwogICAgICAgIGRlbGV0ZSBsb2FkaW5nJDFbdXJsXTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHsKICAgICAgICAgIHZhciBjYWxsYmFjayA9IGNhbGxiYWNrc1tpXTsKICAgICAgICAgIGlmIChjYWxsYmFjay5vbkVycm9yKSBjYWxsYmFjay5vbkVycm9yKGV2ZW50KTsKICAgICAgICB9CgogICAgICAgIHJlcXVlc3QuZW5kID0gdHJ1ZTsKICAgICAgfSwgZmFsc2UpOwogICAgICBpZiAodGhpcy5yZXNwb25zZVR5cGUgIT09IHVuZGVmaW5lZCkgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSB0aGlzLnJlc3BvbnNlVHlwZTsKICAgICAgcmVxdWVzdC5zZW5kKG51bGwpOwogICAgICByZXR1cm4gcmVxdWVzdDsKICAgIH0sCiAgICBzZXRSZXNwb25zZVR5cGU6IGZ1bmN0aW9uIHNldFJlc3BvbnNlVHlwZSh2YWx1ZSkgewogICAgICB0aGlzLnJlc3BvbnNlVHlwZSA9IHZhbHVlOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9KTsKCiAgZnVuY3Rpb24gTW9kZWxMb2FkZXIoKSB7fQoKICBNb2RlbExvYWRlci5wcm90b3R5cGUgPSBPYmplY3QuYXNzaWduKE1vZGVsTG9hZGVyLnByb3RvdHlwZSwgewogICAgY29uc3RydWN0b3I6IE1vZGVsTG9hZGVyLAogICAgbG9hZDogZnVuY3Rpb24gbG9hZCh1cmwsIG9uTG9hZCwgb25Qcm9ncmVzcywgb25FcnJvcikgewogICAgICB2YXIgbG9hZGVyID0gbmV3IEZpbGVMb2FkZXIoKTsKICAgICAgbG9hZGVyLnNldFJlc3BvbnNlVHlwZSgnanNvbicpOwogICAgICB2YXIgc2NvcGUgPSB0aGlzOwogICAgICB2YXIgcmVxID0gbG9hZGVyLmxvYWQodXJsLCBmdW5jdGlvbiAoanNvbikgewogICAgICAgIHJlcS5lbmQgPSB0cnVlOwogICAgICAgIHZhciBkYXRhID0gc2NvcGUucGFyc2UoanNvbik7CiAgICAgICAgb25Mb2FkKGRhdGEpOwogICAgICAgIGRhdGEucCA9IG51bGw7IC8vIGRhdGEubiA9IG51bGw7CgogICAgICAgIGRhdGEudSA9IG51bGw7CiAgICAgICAgZGF0YS5pID0gbnVsbDsKICAgICAgICBkYXRhID0gbnVsbDsKICAgICAgICBqc29uID0gbnVsbDsKICAgICAgfSwgb25Qcm9ncmVzcywgb25FcnJvcik7CiAgICAgIHJldHVybiByZXE7CiAgICB9LAogICAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGpzb24pIHsKICAgICAgdmFyIGdlbyA9IHRoaXMucGFyc2VHZW9tZXRyeShqc29uKTsKICAgICAgZ2VvLmEgPSBqc29uLmE7CiAgICAgIGdlby5iID0ganNvbi5iOwogICAgICBnZW8uYyA9IGpzb24uYzsKICAgICAgcmV0dXJuIGdlbzsKICAgIH0sCiAgICBwYXJzZUdlb21ldHJ5OiBmdW5jdGlvbiBwYXJzZUdlb21ldHJ5KGdlb0RhdGEpIHsKICAgICAgdmFyIGdlbyA9IHt9OwogICAgICBnZW8ucCA9IG5ldyBGbG9hdDMyQXJyYXkoZ2VvRGF0YS5kKTsgLy8gZ2VvLm4gPSBuZXcgRmxvYXQzMkFycmF5KGdlb0RhdGEuZSk7CgogICAgICBnZW8udSA9IG5ldyBGbG9hdDMyQXJyYXkoZ2VvRGF0YS5mKTsKCiAgICAgIGlmICh0aGlzLmFycmF5TWF4KGdlb0RhdGEuZykgPiA2NTUzNSkgewogICAgICAgIGdlby5pID0gbmV3IFVpbnQzMkFycmF5KGdlb0RhdGEuZyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZ2VvLmkgPSBuZXcgVWludDE2QXJyYXkoZ2VvRGF0YS5nKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdlbzsKICAgIH0sCiAgICBhcnJheU1heDogZnVuY3Rpb24gYXJyYXlNYXgoYXJyYXkpIHsKICAgICAgaWYgKGFycmF5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIC1JbmZpbml0eTsKICAgICAgdmFyIG1heCA9IGFycmF5WzBdOwoKICAgICAgZm9yICh2YXIgaSA9IDEsIGwgPSBhcnJheS5sZW5ndGg7IGkgPCBsOyArK2kpIHsKICAgICAgICBpZiAoYXJyYXlbaV0gPiBtYXgpIG1heCA9IGFycmF5W2ldOwogICAgICB9CgogICAgICByZXR1cm4gbWF4OwogICAgfQogIH0pOwoKICB2YXIgcHJlbG9hZGluZyA9IFtdOwogIHZhciBsb2FkaW5nID0gW107CgogIHNlbGYub25tZXNzYWdlID0gZnVuY3Rpb24gKGV2dCkgewogICAgc3dpdGNoIChldnQuZGF0YS50eXBlKSB7CiAgICAgIGNhc2UgImxvYWQiOgogICAgICAgIHZhciBjb3VudCA9IHByZWxvYWRpbmcubGVuZ3RoOwoKICAgICAgICBpZiAoY291bnQgPiAwKSB7CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICAgICAgdmFyIHIgPSBwcmVsb2FkaW5nLnBvcCgpOwoKICAgICAgICAgICAgaWYgKHIuZW5kKSA7IGVsc2UgewogICAgICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2UoewogICAgICAgICAgICAgICAgYTogci5pbmRleAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHIuYWJvcnQoKTsKICAgICAgICAgICAgICByLmluZGV4ID0gbnVsbDsKICAgICAgICAgICAgICByID0gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdmFyIGxldmVsID0gZXZ0LmRhdGEubGV2ZWw7CiAgICAgICAgdmFyIGluZGV4ID0gZXZ0LmRhdGEuaW5kZXg7CiAgICAgICAgdmFyIGxyID0gbmV3IE1vZGVsTG9hZGVyKCkubG9hZChldnQuZGF0YS5tdXJsLCBmdW5jdGlvbiAoZ2VvRGF0YSkgewogICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7CiAgICAgICAgICAgIGE6IGdlb0RhdGEuYSwKICAgICAgICAgICAgYjogbGV2ZWwsCiAgICAgICAgICAgIGM6IGdlb0RhdGEuYywKICAgICAgICAgICAgZDogaW5kZXgsCiAgICAgICAgICAgIHA6IGdlb0RhdGEucCwKCiAgICAgICAgICAgIC8qbjpnZW9EYXRhLm4sKi8KICAgICAgICAgICAgdTogZ2VvRGF0YS51LAogICAgICAgICAgICBpOiBnZW9EYXRhLmkKICAgICAgICAgIH0sIFtnZW9EYXRhLnAuYnVmZmVyLAogICAgICAgICAgLypnZW9EYXRhLm4uYnVmZmVyLCovCiAgICAgICAgICBnZW9EYXRhLnUuYnVmZmVyLCBnZW9EYXRhLmkuYnVmZmVyXSk7CiAgICAgICAgICBsb2FkaW5nW2luZGV4XSA9IHVuZGVmaW5lZDsKICAgICAgICB9LCBmdW5jdGlvbiAobSkge30sIGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICBsb2FkaW5nW2luZGV4XSA9IHVuZGVmaW5lZDsKICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2UoewogICAgICAgICAgICB4OiBpbmRleAogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgbHIuZW5kID0gZmFsc2U7CiAgICAgICAgbHIuaW5kZXggPSBpbmRleDsKICAgICAgICBsb2FkaW5nW2luZGV4XSA9IGxyOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAiY2FuY2VsIjoKICAgICAgICB2YXIgY2luZGV4ID0gZXZ0LmRhdGEuZGF0YTsKCiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBjID0gY2luZGV4Lmxlbmd0aDsgX2kgPCBjOyBfaSsrKSB7CiAgICAgICAgICB2YXIgc2QgPSBjaW5kZXhbX2ldOwoKICAgICAgICAgIGlmIChsb2FkaW5nW3NkXSAmJiAhbG9hZGluZ1tzZF0uZW5kKSB7CiAgICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2UoewogICAgICAgICAgICAgIHg6IGxvYWRpbmdbc2RdLmluZGV4CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBsb2FkaW5nW3NkXS5hYm9ydCgpOwogICAgICAgICAgICBsb2FkaW5nW3NkXSA9IHVuZGVmaW5lZDsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGJyZWFrOwogICAgfQogIH07Cgp9KCkpOwoK",null,!1),vp="load",Cp="init",yp="detect",Ip="cancel";function wp(e){var t=this;this.scene=e,this.loadNum=3,this.loadMaxPT=2,this.currentNum=0,this.pLoadMaxPT=3,this.detectNum=1,this.loadWorkers=[],this.detectWorkers=[],this.todol=[],this.todod=[];for(var n=this,i=function(e){var i=new mp;i.isLoader=!0,i.num=0,i.onmessage=function(e){n.currentNum--,i.num--,n.loadEnd&&e.data&&(void 0!==e.data.d?n.loadEnd(e.data):void 0!==e.data.x&&(n.scene.loading[e.data.x]=void 0))},i.sendMessage=function(e){n.currentNum++,i.num++,i.postMessage(e)},t.loadWorkers.push(i)},r=0;r<this.loadNum;r++)i();for(var A=function(e){var i=new fp;i.isDetect=!0,i.running=!1,i.onmessage=function(e){i.running=!1,n.detectEnd&&n.detectEnd(e.data)},i.sendMessage=function(e){e.type==yp&&(i.running=!0),i.postMessage(e)},t.detectWorkers.push(i)},a=0;a<this.detectNum;a++)A();this.setTask=function(e){switch(e.type){case Cp:case yp:this.todod=[e];break;case vp:this.todol=e.data;break;case Ip:for(var t=0;t<this.loadNum;t++)this.loadWorkers[t].postMessage(e)}},this.setLoadEnd=function(e){this.loadEnd=e},this.setDetectEnd=function(e){this.detectEnd=e},this.update=function(){if(this.todol.length>0)for(var e=0;e<this.loadNum;e++)if(this.loadWorkers[e].num<this.loadMaxPT){var t=this.todol.pop();if(!t)break;this.scene.loading[t.index]={},this.loadWorkers[e].sendMessage(t),t.murl=null,t=null}if(this.todod.length>0)for(var n=0;n<this.detectNum;n++)if(!this.detectWorkers[n].running){var i=this.todod.pop();if(!i)break;this.detectWorkers[n].sendMessage(i),i.pos=null,i.state=null,i=null}}}var bp={};function Bp(e){this.pathUtil=e}function xp(e,t,n,i){this.scene=e,this.manager=t,this.pathUtil=n,this.root=i}function Mp(){this.GlobalParams={cbase:"http://172.16.10.37:8002/Data/ACFData/",tbase:"http://172.16.10.37:8002/Data/ACFData/",mbase:"http://172.16.10.37:8002/Data/ACFData/"}}bp.mflag=!1,bp.lflag=!1,bp.pflag=!1,bp.renderBefore=[],bp.renderAfter=[],bp.renderExtra=[],bp.renderBeforeCount=0,bp.renderAfterCount=0,bp.renderExtraCount=0,bp.resize=function(e){bp.renderer.domElement.getBoundingClientRect(),bp.lflag=!0},bp.init=function(e,t,n){bp.renderer=e,bp.scene=t,bp.camera=n,e.domElement.addEventListener("wheel",(function(e){e.preventDefault(),bp.lflag=!0}),!1),e.domElement.addEventListener("mousedown",(function(e){e.preventDefault(),bp.mflag=!0}),!1),e.domElement.addEventListener("touchstart",(function(e){e.preventDefault(),bp.mflag=!0}),!1),e.domElement.addEventListener("mouseup",(function(e){e.preventDefault(),bp.mflag=!1}),!1),e.domElement.addEventListener("touchend",(function(e){e.preventDefault(),bp.mflag=!1}),!1),ye("resize",bp.resize),bp.resize()},bp.addBefore=function(e){bp.renderBefore.push(e),bp.renderBeforeCount=bp.renderBefore.length},bp.addAfter=function(e){bp.renderAfter.push(e),bp.renderAfterCount=bp.renderAfter.length},bp.addExtra=function(e){bp.renderExtra.push(e),bp.renderExtraCount=bp.renderExtra.length},bp.render=function(){for(var e=0;e<bp.renderExtraCount;e++)bp.renderExtra[e]()},Bp.prototype=Object.assign(Bp.prototype,{constructor:Bp,load:function(e){var t=this.parse(e);return(new rc).load(this.parseTextureUrl(e),(function(e){t&&t.material?(t.material.color.setRGB(1,1,1),t.material.map=e,t.material.transparent=!1,t.material.opacity=1,t.material.needsUpdate=!0,bp.lflag=!0):e&&(e.dispose(),e=null)})),t},parse:function(e){var t=this.parseGeometry(e),n=new Zi;n.color.setHex(738436),n.transparent=!0,n.opacity=.2,n.side=2;var i=new Fr(t,n);return i.mid=e.a,i.level=e.b,i.index=e.d,i.ticket=0,e.c.length>0&&i.applyMatrix4((new Tn).fromArray(e.c)),i},parseTextureUrl:function(e){return this.pathUtil.generatePicturePath(e.b,e.a)},parseGeometry:function(e){var t=new ur;return t.name=e.a,t.setAttribute("position",new tr(e.p,3)),t.setAttribute("uv",new tr(e.u,2)),t.setIndex(new tr(e.i,1)),t.clearGroups(),t.addGroup(0,e.i.length,0),t}}),xp.prototype=Object.assign(xp.prototype,{constructor:xp,load:function(e){for(var t=0;t<this.scene.loading.length;t++)this.scene.loading[t]&&(this.scene.loading[t].keep=!1);for(var n=0;n<this.scene.loaded.length;n++)this.scene.loaded[n]&&(this.scene.loaded[n].keep=!1);for(var i=0,r=e.length;i<r;i++)this.scene.loaded[e[i].v]?this.scene.loaded[e[i].v].keep=!0:this.scene.loading[e[i].v]?this.scene.loading[e[i].v].keep=!0:e[i].load=!0;var A={};A.type=Ip,A.data=[];for(var a=0;a<this.scene.loading.length;a++)this.scene.loading[a]&&(this.scene.loading[a].keep||A.data.push(a));A.data.length>0&&this.manager.setTask(A);var o={};o.type=vp,o.data=[];var s=this.pathUtil;this.scene.toload=[];for(var l=0;l<e.length;l++)if(e[l].load){var c={};c.type=vp,c.level=e[l].l,c.index=e[l].v,c.murl=s.generateModelPath(c.level,e[l].i),o.data.push(c),this.scene.toload[e[l].v]=1}this.manager.setTask(o);for(var u=0;u<this.scene.loaded.length;u++)if(this.scene.loaded[u]&&!this.scene.loaded[u].keep){for(var h=!1,d=this.scene.levels[u];d.pid;){if(this.scene.toload[d.pid]){h=!0;break}d=this.scene.levels[d.pid]}if(h)continue;if((d=this.scene.levels[u]).cid){for(var g=[],p=0;p<d.cid.length;p++)g.push(d.cid[p]);for(;g.length>0;){for(var f=[],m=0,v=g.length;m<v;m++){if(this.scene.toload[g[m]]){h=!0;break}if(this.scene.levels[g[m]].cid)for(var C=0,y=this.scene.levels[g[m]].cid.length;C<y;C++)f.push(this.scene.levels[g[m]].cid[C])}if(h){f=[],g=[];break}g=[];for(var I=0,w=f.length;I<w;I++)g.push(f[I])}}h||(this.root.remove(this.scene.loaded[u]),this.scene.loaded[u].material.map&&(this.scene.loaded[u].material.map.dispose(),this.scene.loaded[u].material.map=null),this.scene.loaded[u].material.dispose(),this.scene.loaded[u].geometry.dispose(),this.scene.loaded[u].geometry.attributes.position.array=null,this.scene.loaded[u].geometry.attributes.uv.array=null,this.scene.loaded[u].geometry.index.array=null,this.scene.loaded[u].geometry=null,this.scene.loaded[u].material=null,this.scene.loaded[u]=void 0)}}}),Mp.prototype={config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.isLocal=t,(e.mb||e.cb||e.tb)&&(e.mb?this.GlobalParams.mbase=e.mb:e.cb?this.GlobalParams.mbase=e.cb:e.tb&&(this.GlobalParams.mbase=e.tb),e.cb?this.GlobalParams.cbase=e.cb:e.mb?this.GlobalParams.cbase=e.mb:e.tb&&(this.GlobalParams.cbase=e.tb),e.tb?this.GlobalParams.tbase=e.tb:e.mb?this.GlobalParams.tbase=e.mb:e.cb&&(this.GlobalParams.tbase=e.cb)),this},generateModelPath:function(e,t){return this.GlobalParams.mbase+e+"/"+t+(this.isLocal?".json":".json.gz")},generatePicturePath:function(e,t){return this.GlobalParams.tbase+e+"/maps/"+t+".jpg"},generateConfigPath:function(e){return this.GlobalParams.cbase+e}},new ku;var Ep=new Tn,Tp=new qr,Sp=function(){function e(t){Me(this,e),this.baseUrl=t}return Te(e,[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.viewer=e,this.scene=e.scene,this.camera=e.camera,this.renderer=e.renderer,this.sceneGroup=n.root,this.render=e.render,this.initCamera=n.initCamera,this.center={x:0,y:0,z:0},this.pathUtil=(new Mp).config(this.baseUrl,n.isLocal||!1),this.sources={loaded:[],loading:[],nlp:[],levels:[]},this.currCount=0,this.currLoaded=0;var i=new wp(this.sources);this.workerManager=i,n&&(bp.pflag=void 0!==n.preloading&&n.preloading,i.loadNum=void 0!==n.concurrency?n.concurrency:i.loadNum,i.loadMaxPT=void 0!==n.capacity?n.capacity:i.loadMaxPT),i.setLoadEnd((function(e){if(t.currLoaded++,t.currLoaded>=t.currCount&&t.loadEnd&&t.loadEnd(),t.initLoad&&(t.initLoad(),t.initLoad=null),t.sources.loaded[e.d]);else{var n=new Bp(t.pathUtil).load(e),i=t.sources,r=t.center.y;n.position.y=-r,n.keep=!0,t.sceneGroup.add(n),i.loading[n.index]=void 0,i.loaded[n.index]=n;for(var A=!1,a=i.levels[n.index];a.pid;){if(i.loaded[a.pid]&&!i.loaded[a.pid].keep){for(var o=[],s=0;s<i.levels[a.pid].cid.length;s++)i.levels[a.pid].cid[s]!=n.index&&o.push(i.levels[a.pid].cid[s]);for(;o.length>0;){for(var l=[],c=0,u=o.length;c<u;c++){if(!i.loaded[o[c]]&&i.toload[o[c]]){A=!0;break}if(i.levels[o[c]].cid)for(var h=0,d=i.levels[o[c]].cid.length;h<d;h++)i.levels[o[c]].cid[h]!=n.index&&(l.push(i.levels[o[c]].cid[h]),void 0===i.levels[o[c]].cid[h]&&(console.log(i.levels[o[c]]),console.log(h,c,o[c])))}if(A){l=[],o=[];break}o=[];for(var g=0,p=l.length;g<p;g++)o.push(l[g])}A||(t.sceneGroup.remove(i.loaded[a.pid]),i.loaded[a.pid].material.map&&(i.loaded[a.pid].material.map.dispose(),i.loaded[a.pid].material.map=null),i.loaded[a.pid].material.dispose(),i.loaded[a.pid].geometry.dispose(),i.loaded[a.pid].geometry.attributes.position.array=null,i.loaded[a.pid].geometry.attributes.uv.array=null,i.loaded[a.pid].geometry.index.array=null,i.loaded[a.pid].geometry=null,i.loaded[a.pid].material=null,i.loaded[a.pid]=void 0)}a=i.levels[a.pid]}if((a=i.levels[n.index]).cid){for(var f=[],m=0;m<a.cid.length;m++)f.push(a.cid[m]);for(;f.length>0;){for(var v=[],C=0,y=f.length;C<y;C++)if(i.loaded[f[C]]&&!i.loaded[f[C]].keep)t.sceneGroup.remove(i.loaded[f[C]]),i.loaded[f[C]].material.map&&(i.loaded[f[C]].material.map.dispose(),i.loaded[f[C]].material.map=null),i.loaded[f[C]].material.dispose(),i.loaded[f[C]].geometry.dispose(),i.loaded[f[C]].geometry.attributes.position.array=null,i.loaded[f[C]].geometry.attributes.uv.array=null,i.loaded[f[C]].geometry.index.array=null,i.loaded[f[C]].geometry=null,i.loaded[f[C]].material=null,i.loaded[f[C]]=void 0;else if(i.levels[f[C]].cid)for(var I=0,w=i.levels[f[C]].cid.length;I<w;I++)v.push(i.levels[f[C]].cid[I]);f=[];for(var b=0,B=v.length;b<B;b++)f.push(v[b])}}}})),i.setDetectEnd((function(e){t.currLoaded=0,t.currCount=e.length,new xp(t.sources,i,t.pathUtil,t.sceneGroup).load(e)})),bp.init(this.renderer,this.scene,this.camera),bp.addExtra((function(){t.workerManager.update()})),bp.pflag&&bp.addExtra((function(){i.preloading=!bp.mflag&&!bp.lflag&&0==i.currentNum}))}},{key:"load",value:function(e,t){var n=this;this.initLoad=t,this.levelLoader=new up,this.levelLoader.root=this.sceneGroup,this.levelLoader.load(this.pathUtil.generateConfigPath(e),(function(e){var t=e.levels,i=e.center;n.center=i,n.sources.levels=t,n.sources.center={x:0,y:0,z:0};var r={};r.type=Cp,r.data=n.sources.levels,r.center=n.sources.center,n.workerManager.setTask(r);var A=new pp(n.camera).focusLevels(n.sources.levels);n.initCamera&&(n.viewer.controls.target.copy(A),n.viewer.controls.update(),n.viewer.camera.position.x=A.x,n.viewer.camera.position.z=A.z),bp.lflag=!0,bp.render(!1),n.viewer.render(),gp.initLevelDetect(n.viewer.map?n.viewer.map.canvas:n.renderer.domElement,(function(){n.detect()})),n.workerManager.update(),n.viewer.controls.update(),setTimeout((function(){n.detect()}),100)}))}},{key:"updateLevels",value:function(){var e=this.levelLoader.parse().levels,t=this.sceneGroup.getWorldScale().x;e.map((function(e){e.radius=e.radius*t})),this.sources.levels=e;var n={};n.type=Cp,n.data=this.sources.levels,n.center=this.sources.center,this.workerManager.setTask(n)}},{key:"detect",value:function(){var e={};e.type=yp,e.pos=this.camera.position.toArray(),Ep.multiplyMatrices(this.camera.projectionMatrix,this.camera.matrixWorldInverse),e.state=Tp.setFromMatrix(Ep).toArray(),this.workerManager.setTask(e)}},{key:"renderBefore",value:function(){for(var e=0;e<bp.renderBeforeCount;e++)bp.renderBefore[e]()}},{key:"renderAfter",value:function(){for(var e=0;e<bp.renderAfterCount;e++)bp.renderAfter[e]();bp.lflag&&(bp.lflag=!1);for(var t=0;t<bp.renderExtraCount;t++)bp.renderExtra[t]()}}]),e}(),Fp=function(){function e(t){if(Me(this,e),void 0===t&&console.error("参数缺少viewer"),this.viewer=t,void 0!==t.largeSceneLoader)return t.largeSceneLoader;this.initialize()}return Te(e,[{key:"initialize",value:function(){var e=this;this.largeSceneGroup=this.viewer.modelGroup,this.loaders=[],this.viewer.addEventListener("update",(function(){e.loaders.map((function(e){e&&e.renderBefore()})),e.loaders.map((function(e){e&&e.renderAfter()}))}))}},{key:"load",value:function(e,t,n){var i=new _n;i.path=e,i.isLargeScene=!0,void 0===this.viewer.isMapViewer&&this.largeSceneGroup.add(i),e=e.endsWith("/")?e:e+"/";var r=new Sp({cb:e});return r.init(this.viewer,{initCamera:!0,root:i,isLocal:n}),this.loaders.push(r),i.loader=r,r.load(n?"level.json":"level.json.gz",(function(){t&&t(i)})),i}}]),e}(),Up=function(e,t,n){void 0===t&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),t=q),_n.call(this),this.visible=!1;var i=new Rp(n);this.add(i);var r=new Lp;this.add(r);var A=this;V("camera",e),V("object",void 0),V("enabled",!0),V("axis",null),V("mode","translate"),V("translationSnap",null),V("rotationSnap",null),V("space","world"),V("size",1),V("dragging",!1),V("showX",!0),V("showY",!0),V("showZ",!0);var a={type:"change"},o={type:"mouseDown"},s={type:"mouseUp",mode:A.mode},l={type:"objectChange"},c=new ku,u=new rn,h=new rn,d=new en,g={X:new rn(1,0,0),Y:new rn(0,1,0),Z:new rn(0,0,1)},p=new rn,f=new rn,m=new rn,v=new rn,C=new rn,y=new rn,I=0,w=new rn,b=new en,B=new rn,x=new rn,M=new en,E=new en,T=new rn,S=new rn,F=new en,U=new rn,R=new rn,L=new en,H=new en,G=new rn,P=new rn,Q=new rn,D=new en,N=new rn;function V(e,t){var n=t;Object.defineProperty(A,e,{get:function(){return void 0!==n?n:t},set:function(t){n!==t&&(n=t,r[e]=t,i[e]=t,A.dispatchEvent({type:e+"-changed",value:t}),A.dispatchEvent(a))}}),A[e]=t,r[e]=t,i[e]=t}function O(e){if(q.pointerLockElement)return{x:0,y:0,button:e.button};var n=e.changedTouches?e.changedTouches[0]:e,i=t.getBoundingClientRect();return{x:(n.clientX-i.left)/i.width*2-1,y:-(n.clientY-i.top)/i.height*2+1,button:e.button}}function k(e){A.enabled&&A.pointerHover(O(e))}function W(e){A.enabled&&(q.addEventListener("mousemove",Z,!1),A.pointerHover(O(e)),A.pointerDown(O(e)))}function Z(e){A.enabled&&A.pointerMove(O(e))}function X(e){A.enabled&&(q.removeEventListener("mousemove",Z,!1),A.pointerUp(O(e)))}V("worldPosition",R),V("worldPositionStart",S),V("worldQuaternion",L),V("worldQuaternionStart",F),V("cameraPosition",w),V("cameraQuaternion",b),V("pointStart",p),V("pointEnd",f),V("rotationAxis",v),V("rotationAngle",I),V("eye",P),t.addEventListener("mousedown",W,!1),t.addEventListener("touchstart",W,!1),t.addEventListener("mousemove",k,!1),t.addEventListener("touchmove",k,!1),t.addEventListener("touchmove",Z,!1),q.addEventListener("mouseup",X,!1),t.addEventListener("touchend",X,!1),t.addEventListener("touchcancel",X,!1),t.addEventListener("touchleave",X,!1),this.dispose=function(){t.removeEventListener("mousedown",W),t.removeEventListener("touchstart",W),t.removeEventListener("mousemove",k),q.removeEventListener("mousemove",Z),t.removeEventListener("touchmove",k),t.removeEventListener("touchmove",Z),q.removeEventListener("mouseup",X),t.removeEventListener("touchend",X),t.removeEventListener("touchcancel",X),t.removeEventListener("touchleave",X),this.traverse((function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()}))},this.attach=function(e){return this.object=e,this.visible=!0,this},this.detach=function(){return this.object=void 0,this.visible=!1,this.axis=null,this},this.updateMatrixWorld=function(){void 0!==this.object&&(this.object.updateMatrixWorld(),this.object.parent.matrixWorld.decompose(x,M,T),this.object.matrixWorld.decompose(R,L,G),E.copy(M).inverse(),H.copy(L).inverse()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(w,b,B),P.copy(w).sub(R).normalize(),_n.prototype.updateMatrixWorld.call(this)},this.pointerHover=function(e){if(void 0!==this.object&&!0!==this.dragging&&(void 0===e.button||0===e.button)){c.setFromCamera(e,this.camera);var t=c.intersectObjects(i.picker[this.mode].children,!0)[0]||!1;this.axis=t?t.object.name:null}},this.pointerDown=function(e){if(!(void 0===this.object||!0===this.dragging||void 0!==e.button&&0!==e.button||0!==e.button&&void 0!==e.button||null===this.axis)){c.setFromCamera(e,this.camera);var t=c.intersectObjects([r],!0)[0]||!1;if(t){var n=this.space;if("scale"===this.mode?n="local":"E"!==this.axis&&"XYZE"!==this.axis&&"XYZ"!==this.axis||(n="world"),"local"===n&&"rotate"===this.mode){var i=this.rotationSnap;"X"===this.axis&&i&&(this.object.rotation.x=Math.round(this.object.rotation.x/i)*i),"Y"===this.axis&&i&&(this.object.rotation.y=Math.round(this.object.rotation.y/i)*i),"Z"===this.axis&&i&&(this.object.rotation.z=Math.round(this.object.rotation.z/i)*i)}this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),Q.copy(this.object.position),D.copy(this.object.quaternion),N.copy(this.object.scale),this.object.matrixWorld.decompose(S,F,U),p.copy(t.point).sub(S)}this.dragging=!0,o.mode=this.mode,this.dispatchEvent(o)}},this.pointerMove=function(e){var t=this.axis,n=this.mode,i=this.object,A=this.space;if("scale"===n?A="local":"E"!==t&&"XYZE"!==t&&"XYZ"!==t||(A="world"),void 0!==i&&null!==t&&!1!==this.dragging&&(void 0===e.button||0===e.button)){c.setFromCamera(e,this.camera);var o=c.intersectObjects([r],!0)[0]||!1;if(!1!==o){if(f.copy(o.point).sub(S),"translate"===n)m.copy(f).sub(p),"local"===A&&"XYZ"!==t&&m.applyQuaternion(H),-1===t.indexOf("X")&&(m.x=0),-1===t.indexOf("Y")&&(m.y=0),-1===t.indexOf("Z")&&(m.z=0),"local"===A&&"XYZ"!==t?m.applyQuaternion(D).divide(T):m.applyQuaternion(E).divide(T),i.position.copy(m).add(Q),this.translationSnap&&("local"===A&&(i.position.applyQuaternion(d.copy(D).inverse()),-1!==t.search("X")&&(i.position.x=Math.round(i.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(i.position.y=Math.round(i.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(i.position.z=Math.round(i.position.z/this.translationSnap)*this.translationSnap),i.position.applyQuaternion(D)),"world"===A&&(i.parent&&i.position.add(u.setFromMatrixPosition(i.parent.matrixWorld)),-1!==t.search("X")&&(i.position.x=Math.round(i.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(i.position.y=Math.round(i.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(i.position.z=Math.round(i.position.z/this.translationSnap)*this.translationSnap),i.parent&&i.position.sub(u.setFromMatrixPosition(i.parent.matrixWorld))));else if("scale"===n){if(-1!==t.search("XYZ")){var s=f.length()/p.length();f.dot(p)<0&&(s*=-1),h.set(s,s,s)}else u.copy(p),h.copy(f),u.applyQuaternion(H),h.applyQuaternion(H),h.divide(u),-1===t.search("X")&&(h.x=1),-1===t.search("Y")&&(h.y=1),-1===t.search("Z")&&(h.z=1);i.scale.copy(N).multiply(h)}else if("rotate"===n){m.copy(f).sub(p);var w=20/R.distanceTo(u.setFromMatrixPosition(this.camera.matrixWorld));"E"===t?(v.copy(P),I=f.angleTo(p),C.copy(p).normalize(),y.copy(f).normalize(),I*=y.cross(C).dot(P)<0?1:-1):"XYZE"===t?(v.copy(m).cross(P).normalize(),I=m.dot(u.copy(v).cross(this.eye))*w):"X"!==t&&"Y"!==t&&"Z"!==t||(v.copy(g[t]),u.copy(g[t]),"local"===A&&u.applyQuaternion(L),I=m.dot(u.cross(P).normalize())*w),this.rotationSnap&&(I=Math.round(I/this.rotationSnap)*this.rotationSnap),this.rotationAngle=I,"local"===A&&"E"!==t&&"XYZE"!==t?(i.quaternion.copy(D),i.quaternion.multiply(d.setFromAxisAngle(v,I)).normalize()):(v.applyQuaternion(E),i.quaternion.copy(d.setFromAxisAngle(v,I)),i.quaternion.multiply(D).normalize())}this.dispatchEvent(a),this.dispatchEvent(l)}}},this.pointerUp=function(e){void 0!==e.button&&0!==e.button||(this.dragging&&null!==this.axis&&(s.mode=this.mode,this.dispatchEvent(s)),this.dragging=!1,void 0===e.button&&(this.axis=null))},this.getMode=function(){return A.mode},this.setMode=function(e){A.mode=e},this.setTranslationSnap=function(e){A.translationSnap=e},this.setRotationSnap=function(e){A.rotationSnap=e},this.setSize=function(e){A.size=e},this.setSpace=function(e){A.space=e},this.update=function(){}};Up.prototype=Object.assign(Object.create(_n.prototype),{constructor:Up,isTransformControls:!0});var Rp=function(e){_n.call(this),this.type="TransformControlsGizmo";var t=new Zi({depthTest:!1,depthWrite:!1,transparent:!0,side:2,fog:!1}),n=new Vo({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1}),i=t.clone();i.opacity=.15;var r=t.clone();r.opacity=.33;var A=t.clone();A.color.set(16711680);var a=t.clone();a.color.set(65280);var o=t.clone();o.color.set(255);var s=t.clone();s.opacity=.25;var l=s.clone();l.color.set(16776960);var c=s.clone();c.color.set(65535);var u=s.clone();u.color.set(16711935),t.clone().color.set(16776960);var h=n.clone();h.color.set(16711680);var d=n.clone();d.color.set(65280);var g=n.clone();g.color.set(255);var p=n.clone();p.color.set(65535);var f=n.clone();f.color.set(16711935);var m=n.clone();m.color.set(16776960);var v=n.clone();v.color.set(7895160);var C=m.clone();C.opacity=.25;var y=new gl(0,.05,.2,12,1,!1),I=new Nr(.125,.125,.125),w=new ur;w.setAttribute("position",new $i([0,0,0,1,0,0],3));var b=function(e,t){for(var n=new ur,i=[],r=0;r<=64*t;++r)i.push(0,Math.cos(r/32*Math.PI)*e,Math.sin(r/32*Math.PI)*e);return n.setAttribute("position",new $i(i,3)),n},B={X:[[new Fr(y,A),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new Fr(y,A),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new _o(w,h)]],Y:[[new Fr(y,a),[0,1,0],null,null,"fwd"],[new Fr(y,a),[0,1,0],[Math.PI,0,0],null,"bwd"],[new _o(w,d),null,[0,0,Math.PI/2]]],Z:[[new Fr(y,o),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new Fr(y,o),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new _o(w,g),null,[0,-Math.PI/2,0]]],XYZ:[[new Fr(new ps(.1,0),s.clone()),[0,0,0],[0,0,0]]],XY:[[new Fr(new AA(.295,.295),l.clone()),[.15,.15,0]],[new _o(w,m),[.18,.3,0],null,[.125,1,1]],[new _o(w,m),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new Fr(new AA(.295,.295),c.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new _o(w,p),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new _o(w,p),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new Fr(new AA(.295,.295),u.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new _o(w,f),[.18,0,.3],null,[.125,1,1]],[new _o(w,f),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]};e&&(delete B.XYZ,delete B.XY,delete B.YZ,delete B.XZ);var x={X:[[new Fr(new gl(.2,0,1,4,1,!1),i),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new Fr(new gl(.2,0,1,4,1,!1),i),[0,.6,0]]],Z:[[new Fr(new gl(.2,0,1,4,1,!1),i),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new Fr(new ps(.2,0),i)]],XY:[[new Fr(new AA(.4,.4),i),[.2,.2,0]]],YZ:[[new Fr(new AA(.4,.4),i),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new Fr(new AA(.4,.4),i),[.2,0,.2],[-Math.PI/2,0,0]]]};e&&(delete x.XYZ,delete x.XY,delete x.YZ,delete x.XZ);var M={START:[[new Fr(new ps(.01,2),r),null,null,null,"helper"]],END:[[new Fr(new ps(.01,2),r),null,null,null,"helper"]],DELTA:[[new _o(function(){var e=new ur;return e.setAttribute("position",new $i([0,0,0,1,1,1],3)),e}(),r),null,null,null,"helper"]],X:[[new _o(w,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new _o(w,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new _o(w,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},E={X:[[new _o(b(1,.5),h)],[new Fr(new ps(.04,0),A),[0,0,.99],null,[1,3,1]]],Y:[[new _o(b(1,.5),d),null,[0,0,-Math.PI/2]],[new Fr(new ps(.04,0),a),[0,0,.99],null,[3,1,1]]],Z:[[new _o(b(1,.5),g),null,[0,Math.PI/2,0]],[new Fr(new ps(.04,0),o),[.99,0,0],null,[1,3,1]]],E:[[new _o(b(1.25,1),C),null,[0,Math.PI/2,0]],[new Fr(new gl(.03,0,.15,4,1,!1),C),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new Fr(new gl(.03,0,.15,4,1,!1),C),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new Fr(new gl(.03,0,.15,4,1,!1),C),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new Fr(new gl(.03,0,.15,4,1,!1),C),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new _o(b(1,1),v),null,[0,Math.PI/2,0]]]},T={AXIS:[[new _o(w,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},S={X:[[new Fr(new xs(1,.1,4,24),i),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new Fr(new xs(1,.1,4,24),i),[0,0,0],[Math.PI/2,0,0]]],Z:[[new Fr(new xs(1,.1,4,24),i),[0,0,0],[0,0,-Math.PI/2]]],E:[[new Fr(new xs(1.25,.1,2,24),i)]],XYZE:[[new Fr(new rl(.7,10,8),i)]]},F={X:[[new Fr(I,A),[.8,0,0],[0,0,-Math.PI/2]],[new _o(w,h),null,null,[.8,1,1]]],Y:[[new Fr(I,a),[0,.8,0]],[new _o(w,d),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new Fr(I,o),[0,0,.8],[Math.PI/2,0,0]],[new _o(w,g),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new Fr(I,l),[.85,.85,0],null,[2,2,.2]],[new _o(w,m),[.855,.98,0],null,[.125,1,1]],[new _o(w,m),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new Fr(I,c),[0,.85,.85],null,[.2,2,2]],[new _o(w,p),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new _o(w,p),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new Fr(I,u),[.85,0,.85],null,[2,.2,2]],[new _o(w,f),[.855,0,.98],null,[.125,1,1]],[new _o(w,f),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new Fr(new Nr(.125,.125,.125),s.clone()),[1.1,0,0]]],XYZY:[[new Fr(new Nr(.125,.125,.125),s.clone()),[0,1.1,0]]],XYZZ:[[new Fr(new Nr(.125,.125,.125),s.clone()),[0,0,1.1]]]},U={X:[[new Fr(new gl(.2,0,.8,4,1,!1),i),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new Fr(new gl(.2,0,.8,4,1,!1),i),[0,.5,0]]],Z:[[new Fr(new gl(.2,0,.8,4,1,!1),i),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new Fr(I,i),[.85,.85,0],null,[3,3,.2]]],YZ:[[new Fr(I,i),[0,.85,.85],null,[.2,3,3]]],XZ:[[new Fr(I,i),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new Fr(new Nr(.2,.2,.2),i),[1.1,0,0]]],XYZY:[[new Fr(new Nr(.2,.2,.2),i),[0,1.1,0]]],XYZZ:[[new Fr(new Nr(.2,.2,.2),i),[0,0,1.1]]]},R={X:[[new _o(w,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new _o(w,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new _o(w,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},L=function(e){var t=new _n;for(var n in e)for(var i=e[n].length;i--;){var r=e[n][i][0].clone(),A=e[n][i][1],a=e[n][i][2],o=e[n][i][3],s=e[n][i][4];r.name=n,r.tag=s,A&&r.position.set(A[0],A[1],A[2]),a&&r.rotation.set(a[0],a[1],a[2]),o&&r.scale.set(o[0],o[1],o[2]),r.updateMatrix();var l=r.geometry.clone();l.applyMatrix(r.matrix),r.geometry=l,r.renderOrder=1/0,r.position.set(0,0,0),r.rotation.set(0,0,0),r.scale.set(1,1,1),t.add(r)}return t},H=new rn(0,0,0),G=new Un,P=new rn(0,1,0),Q=new rn(0,0,0),D=new Tn,N=new en,V=new en,O=new en,k=new rn(1,0,0),W=new rn(0,1,0),Z=new rn(0,0,1);this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=L(B)),this.add(this.gizmo.rotate=L(E)),this.add(this.gizmo.scale=L(F)),this.add(this.picker.translate=L(x)),this.add(this.picker.rotate=L(S)),this.add(this.picker.scale=L(U)),this.add(this.helper.translate=L(M)),this.add(this.helper.rotate=L(T)),this.add(this.helper.scale=L(R)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1,this.updateMatrixWorld=function(){var e=this.space;"scale"===this.mode&&(e="local");var t="local"===e?this.worldQuaternion:O;this.gizmo.translate.visible="translate"===this.mode,this.gizmo.rotate.visible="rotate"===this.mode,this.gizmo.scale.visible="scale"===this.mode,this.helper.translate.visible="translate"===this.mode,this.helper.rotate.visible="rotate"===this.mode,this.helper.scale.visible="scale"===this.mode;var n=[];n=(n=(n=n.concat(this.picker[this.mode].children)).concat(this.gizmo[this.mode].children)).concat(this.helper[this.mode].children);for(var i=0;i<n.length;i++){var r=n[i];r.visible=!0,r.rotation.set(0,0,0),r.position.copy(this.worldPosition);var A=this.worldPosition.distanceTo(this.cameraPosition);if(r.scale.set(1,1,1).multiplyScalar(A*this.size/7),"helper"!==r.tag){if(r.quaternion.copy(t),"translate"===this.mode||"scale"===this.mode){var a=.99;"X"!==r.name&&"XYZX"!==r.name||Math.abs(P.copy(k).applyQuaternion(t).dot(this.eye))>a&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),"Y"!==r.name&&"XYZY"!==r.name||Math.abs(P.copy(W).applyQuaternion(t).dot(this.eye))>a&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),"Z"!==r.name&&"XYZZ"!==r.name||Math.abs(P.copy(Z).applyQuaternion(t).dot(this.eye))>a&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),"XY"===r.name&&Math.abs(P.copy(Z).applyQuaternion(t).dot(this.eye))<.2&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),"YZ"===r.name&&Math.abs(P.copy(k).applyQuaternion(t).dot(this.eye))<.2&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),"XZ"===r.name&&Math.abs(P.copy(W).applyQuaternion(t).dot(this.eye))<.2&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),-1!==r.name.search("X")&&(P.copy(k).applyQuaternion(t).dot(this.eye)<0?"fwd"===r.tag?r.visible=!1:r.scale.x*=-1:"bwd"===r.tag&&(r.visible=!1)),-1!==r.name.search("Y")&&(P.copy(W).applyQuaternion(t).dot(this.eye)<0?"fwd"===r.tag?r.visible=!1:r.scale.y*=-1:"bwd"===r.tag&&(r.visible=!1)),-1!==r.name.search("Z")&&(P.copy(Z).applyQuaternion(t).dot(this.eye)<0?"fwd"===r.tag?r.visible=!1:r.scale.z*=-1:"bwd"===r.tag&&(r.visible=!1))}else"rotate"===this.mode&&(V.copy(t),P.copy(this.eye).applyQuaternion(N.copy(t).inverse()),-1!==r.name.search("E")&&r.quaternion.setFromRotationMatrix(D.lookAt(this.eye,Q,W)),"X"===r.name&&(N.setFromAxisAngle(k,Math.atan2(-P.y,P.z)),N.multiplyQuaternions(V,N),r.quaternion.copy(N)),"Y"===r.name&&(N.setFromAxisAngle(W,Math.atan2(P.x,P.z)),N.multiplyQuaternions(V,N),r.quaternion.copy(N)),"Z"===r.name&&(N.setFromAxisAngle(Z,Math.atan2(P.y,P.x)),N.multiplyQuaternions(V,N),r.quaternion.copy(N)));r.visible=r.visible&&(-1===r.name.indexOf("X")||this.showX),r.visible=r.visible&&(-1===r.name.indexOf("Y")||this.showY),r.visible=r.visible&&(-1===r.name.indexOf("Z")||this.showZ),r.visible=r.visible&&(-1===r.name.indexOf("E")||this.showX&&this.showY&&this.showZ),r.material._opacity=r.material._opacity||r.material.opacity,r.material._color=r.material._color||r.material.color.clone(),r.material.color.copy(r.material._color),r.material.opacity=r.material._opacity,this.enabled?this.axis&&(r.name===this.axis||this.axis.split("").some((function(e){return r.name===e}))?(r.material.opacity=1,r.material.color.lerp(new Qi(1,1,1),.5)):(r.material.opacity*=.25,r.material.color.lerp(new Qi(1,1,1),.5))):(r.material.opacity*=.5,r.material.color.lerp(new Qi(1,1,1),.5))}else r.visible=!1,"AXIS"===r.name?(r.position.copy(this.worldPositionStart),r.visible=!!this.axis,"X"===this.axis&&(N.setFromEuler(G.set(0,0,0)),r.quaternion.copy(t).multiply(N),Math.abs(P.copy(k).applyQuaternion(t).dot(this.eye))>.9&&(r.visible=!1)),"Y"===this.axis&&(N.setFromEuler(G.set(0,0,Math.PI/2)),r.quaternion.copy(t).multiply(N),Math.abs(P.copy(W).applyQuaternion(t).dot(this.eye))>.9&&(r.visible=!1)),"Z"===this.axis&&(N.setFromEuler(G.set(0,Math.PI/2,0)),r.quaternion.copy(t).multiply(N),Math.abs(P.copy(Z).applyQuaternion(t).dot(this.eye))>.9&&(r.visible=!1)),"XYZE"===this.axis&&(N.setFromEuler(G.set(0,Math.PI/2,0)),P.copy(this.rotationAxis),r.quaternion.setFromRotationMatrix(D.lookAt(Q,P,W)),r.quaternion.multiply(N),r.visible=this.dragging),"E"===this.axis&&(r.visible=!1)):"START"===r.name?(r.position.copy(this.worldPositionStart),r.visible=this.dragging):"END"===r.name?(r.position.copy(this.worldPosition),r.visible=this.dragging):"DELTA"===r.name?(r.position.copy(this.worldPositionStart),r.quaternion.copy(this.worldQuaternionStart),H.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),H.applyQuaternion(this.worldQuaternionStart.clone().inverse()),r.scale.copy(H),r.visible=this.dragging):(r.quaternion.copy(t),this.dragging?r.position.copy(this.worldPositionStart):r.position.copy(this.worldPosition),this.axis&&(r.visible=-1!==this.axis.search(r.name)))}_n.prototype.updateMatrixWorld.call(this)}};Rp.prototype=Object.assign(Object.create(_n.prototype),{constructor:Rp,isTransformControlsGizmo:!0});var Lp=function(){Fr.call(this,new AA(1e5,1e5,2,2),new Zi({visible:!1,wireframe:!0,side:2,transparent:!0,opacity:.1})),this.type="TransformControlsPlane";var e=new rn(1,0,0),t=new rn(0,1,0),n=new rn(0,0,1),i=new rn,r=new rn,A=new rn,a=new Tn,o=new en;this.updateMatrixWorld=function(){var s=this.space;switch(this.position.copy(this.worldPosition),"scale"===this.mode&&(s="local"),e.set(1,0,0).applyQuaternion("local"===s?this.worldQuaternion:o),t.set(0,1,0).applyQuaternion("local"===s?this.worldQuaternion:o),n.set(0,0,1).applyQuaternion("local"===s?this.worldQuaternion:o),A.copy(t),this.mode){case"translate":case"scale":switch(this.axis){case"X":A.copy(this.eye).cross(e),r.copy(e).cross(A);break;case"Y":A.copy(this.eye).cross(t),r.copy(t).cross(A);break;case"Z":A.copy(this.eye).cross(n),r.copy(n).cross(A);break;case"XY":r.copy(n);break;case"YZ":r.copy(e);break;case"XZ":A.copy(n),r.copy(t);break;case"XYZ":case"E":r.set(0,0,0)}break;case"rotate":default:r.set(0,0,0)}0===r.length()?this.quaternion.copy(this.cameraQuaternion):(a.lookAt(i.set(0,0,0),r,A),this.quaternion.setFromRotationMatrix(a)),_n.prototype.updateMatrixWorld.call(this)}};Lp.prototype=Object.assign(Object.create(Fr.prototype),{constructor:Lp,isTransformControlsPlane:!0});var Hp=function(e){Fe(n,e);var t=Ge(n);function n(e){var i;return Me(this,n),e.transform?He(i,e.transform):((i=t.call(this))._view=e,i._controls=new Up(e.camera,e.container,!1),i._view.root.add(i._controls),i._controls.addEventListener("dragging-changed",(function(e){i._view.controls.enabled=!e.value})),i._controls.addEventListener("objectChange",(function(e){i.dispatchEvent({type:ln.CHANGE,data:i.target})})),i.target=null,e.transform=Le(i),i)}return Te(n,[{key:"setTarget",value:function(e){this.target=e,e?this._controls.attach(this.target):this._controls.detach(),pn.render()}},{key:"remove",value:function(){this._controls.detach(),this.target=null,pn.render()}},{key:"getTarget",value:function(){return this.target}},{key:"getMode",value:function(e){return this._controls.mode}},{key:"setMode",value:function(e){this._controls.setMode(e),pn.render()}},{key:"size",get:function(){return this._controls.size},set:function(e){this._controls.setSize(e),pn.render()}},{key:"enabled",get:function(){return this._controls.enabled},set:function(e){this._controls.enabled=e,pn.render()}},{key:"showX",get:function(){return this._controls.showX},set:function(e){this._controls.showX=e,pn.render()}},{key:"showY",get:function(){return this._controls.showY},set:function(e){this._controls.showY=e,pn.render()}},{key:"showZ",get:function(){return this._controls.showZ},set:function(e){this._controls.showZ=e,pn.render()}},{key:"dispose",value:function(){this._controls.dispose(),pn.render()}}]),n}(Yt),Gp=function e(){Me(this,e)};Gp.TRANSLATE="translate",Gp.ROTATE="rotate",Gp.SCALE="scale";var Pp=function e(){Me(this,e)};Pp.CENTER="center",Pp.LEFT="left",Pp.RIGHT="right",Pp.TOP="top",Pp.BOTTOM="bottom",Pp.TOP_LEFT="top-left",Pp.TOP_RIGHT="top-right",Pp.BOTTOM_LEFT="bottom-left",Pp.BOTTOM_RIGHT="bottom-right";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;
/*!
	 * html2canvas 1.3.2 <https://html2canvas.hertzen.com>
	 * Copyright (c) 2021 Niklas von Hertzen <https://hertzen.com>
	 * Released under MIT License
	 */
!function(e){var t={exports:{}};e(t,t.exports)}((function(e,t){e.exports=function(){
/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation.

	    Permission to use, copy, modify, and/or distribute this software for any
	    purpose with or without fee is hereby granted.

	    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	    PERFORMANCE OF THIS SOFTWARE.
	    ***************************************************************************** */
var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var n=function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function i(e,t,n,i){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,A){function a(e){try{s(i.next(e))}catch(e){A(e)}}function o(e){try{s(i.throw(e))}catch(e){A(e)}}function s(e){e.done?n(e.value):r(e.value).then(a,o)}s((i=i.apply(e,t||[])).next())}))}function r(e,t){var n,i,r,A,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return A={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(A[Symbol.iterator]=function(){return this}),A;function o(e){return function(t){return s([e,t])}}function s(A){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&A[0]?i.return:A[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,A[1])).done)return r;switch(i=0,r&&(A=[2&A[0],r.value]),A[0]){case 0:case 1:r=A;break;case 4:return a.label++,{value:A[1],done:!1};case 5:a.label++,i=A[1],A=[0];continue;case 7:A=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==A[0]&&2!==A[0])){a=0;continue}if(3===A[0]&&(!r||A[1]>r[0]&&A[1]<r[3])){a.label=A[1];break}if(6===A[0]&&a.label<r[1]){a.label=r[1],r=A;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(A);break}r[2]&&a.ops.pop(),a.trys.pop();continue}A=t.call(e,a)}catch(e){A=[6,e],i=0}finally{n=r=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}function A(e,t,n){if(n||2===arguments.length)for(var i,r=0,A=t.length;r<A;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||t)}for(var a=function(){function e(e,t,n,i){this.left=e,this.top=t,this.width=n,this.height=i}return e.prototype.add=function(t,n,i,r){return new e(this.left+t,this.top+n,this.width+i,this.height+r)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var i=n[0];return i?new e(i.x+t.windowBounds.left,i.y+t.windowBounds.top,i.width,i.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),o=function(e,t){return a.fromClientRect(e,t.getBoundingClientRect())},s=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var i=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),r=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new a(0,0,i,r)},l=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var A=e.charCodeAt(n++);56320==(64512&A)?t.push(((1023&r)<<10)+(1023&A)+65536):(t.push(r),n--)}else t.push(r)}return t},c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var i=[],r=-1,A="";++r<n;){var a=e[r];a<=65535?i.push(a):(a-=65536,i.push(55296+(a>>10),a%1024+56320)),(r+1===n||i.length>16384)&&(A+=String.fromCharCode.apply(String,i),i.length=0)}return A},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="undefined"==typeof Uint8Array?[]:new Uint8Array(256),d=0;d<u.length;d++)h[u.charCodeAt(d)]=d;var g=function(e){var t,n,i,r,A,a=.75*e.length,o=e.length,s=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(a):new Array(a),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<o;t+=4)n=h[e.charCodeAt(t)],i=h[e.charCodeAt(t+1)],r=h[e.charCodeAt(t+2)],A=h[e.charCodeAt(t+3)],c[s++]=n<<2|i>>4,c[s++]=(15&i)<<4|r>>2,c[s++]=(3&r)<<6|63&A;return l},p=function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n.push(e[i+1]<<8|e[i]);return n},f=function(e){for(var t=e.length,n=[],i=0;i<t;i+=4)n.push(e[i+3]<<24|e[i+2]<<16|e[i+1]<<8|e[i]);return n},m=5,v=11,C=2,y=v-m,I=65536>>m,w=1<<m,b=w-1,B=1024>>m,x=I+B+32,M=65536>>v,E=(1<<y)-1,T=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},S=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},F=function(e){var t=g(e),n=Array.isArray(t)?f(t):new Uint32Array(t),i=Array.isArray(t)?p(t):new Uint16Array(t),r=24,A=T(i,r/2,n[4]/2),a=2===n[5]?T(i,(r+n[4])/2):S(n,Math.ceil((r+n[4])/4));return new U(n[0],n[1],n[2],n[3],A,a)},U=function(){function e(e,t,n,i,r,A){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=r,this.data=A}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>m])<<C)+(e&b),this.data[t];if(e<=65535)return t=((t=this.index[I+(e-55296>>m)])<<C)+(e&b),this.data[t];if(e<this.highStart)return t=x-M+(e>>v),t=this.index[t],t+=e>>m&E,t=((t=this.index[t])<<C)+(e&b),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),R=50,L=1,H=2,G=3,P=4,Q=5,D=7,N=8,V=9,O=10,k=11,W=12,Z=13,X=14,_=15,z=16,K=17,Y=18,j=19,J=20,q=21,$=22,ee=23,te=24,ne=25,ie=26,re=27,Ae=28,ae=29,oe=30,se=31,le=32,ce=33,ue=34,he=35,de=36,ge=37,pe=38,fe=39,me=40,ve=41,Ce=42,ye=43,Ie=[9001,65288],we="!",be="×",Be="÷",xe=F("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Me=[oe,de],Ee=[L,H,G,Q],Te=[O,N],Se=[re,ie],Fe=Ee.concat(Te),Ue=[pe,fe,me,ue,he],Re=[_,Z],Le=function(e,t){void 0===t&&(t="strict");var n=[],i=[],r=[];return e.forEach((function(e,A){var a=xe.get(e);if(a>R?(r.push(!0),a-=R):r.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return i.push(A),n.push(z);if(a===P||a===k){if(0===A)return i.push(A),n.push(oe);var o=n[A-1];return-1===Fe.indexOf(o)?(i.push(i[A-1]),n.push(o)):(i.push(A),n.push(oe))}return i.push(A),a===se?n.push("strict"===t?q:ge):a===Ce||a===ae?n.push(oe):a===ye?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(ge):n.push(oe):void n.push(a)})),[i,n,r]},He=function(e,t,n,i){var r=i[n];if(Array.isArray(e)?-1!==e.indexOf(r):e===r)for(var A=n;A<=i.length;){if((s=i[++A])===t)return!0;if(s!==O)break}if(r===O)for(A=n;A>0;){var a=i[--A];if(Array.isArray(e)?-1!==e.indexOf(a):e===a)for(var o=n;o<=i.length;){var s;if((s=i[++o])===t)return!0;if(s!==O)break}if(a!==O)break}return!1},Ge=function(e,t){for(var n=e;n>=0;){var i=t[n];if(i!==O)return i;n--}return 0},Pe=function(e,t,n,i,r){if(0===n[i])return be;var A=i-1;if(Array.isArray(r)&&!0===r[A])return be;var a=A-1,o=A+1,s=t[A],l=a>=0?t[a]:0,c=t[o];if(s===H&&c===G)return be;if(-1!==Ee.indexOf(s))return we;if(-1!==Ee.indexOf(c))return be;if(-1!==Te.indexOf(c))return be;if(Ge(A,t)===N)return Be;if(xe.get(e[A])===k)return be;if((s===le||s===ce)&&xe.get(e[o])===k)return be;if(s===D||c===D)return be;if(s===V)return be;if(-1===[O,Z,_].indexOf(s)&&c===V)return be;if(-1!==[K,Y,j,te,Ae].indexOf(c))return be;if(Ge(A,t)===$)return be;if(He(ee,$,A,t))return be;if(He([K,Y],q,A,t))return be;if(He(W,W,A,t))return be;if(s===O)return Be;if(s===ee||c===ee)return be;if(c===z||s===z)return Be;if(-1!==[Z,_,q].indexOf(c)||s===X)return be;if(l===de&&-1!==Re.indexOf(s))return be;if(s===Ae&&c===de)return be;if(c===J)return be;if(-1!==Me.indexOf(c)&&s===ne||-1!==Me.indexOf(s)&&c===ne)return be;if(s===re&&-1!==[ge,le,ce].indexOf(c)||-1!==[ge,le,ce].indexOf(s)&&c===ie)return be;if(-1!==Me.indexOf(s)&&-1!==Se.indexOf(c)||-1!==Se.indexOf(s)&&-1!==Me.indexOf(c))return be;if(-1!==[re,ie].indexOf(s)&&(c===ne||-1!==[$,_].indexOf(c)&&t[o+1]===ne)||-1!==[$,_].indexOf(s)&&c===ne||s===ne&&-1!==[ne,Ae,te].indexOf(c))return be;if(-1!==[ne,Ae,te,K,Y].indexOf(c))for(var u=A;u>=0;){if((h=t[u])===ne)return be;if(-1===[Ae,te].indexOf(h))break;u--}if(-1!==[re,ie].indexOf(c))for(u=-1!==[K,Y].indexOf(s)?a:A;u>=0;){var h;if((h=t[u])===ne)return be;if(-1===[Ae,te].indexOf(h))break;u--}if(pe===s&&-1!==[pe,fe,ue,he].indexOf(c)||-1!==[fe,ue].indexOf(s)&&-1!==[fe,me].indexOf(c)||-1!==[me,he].indexOf(s)&&c===me)return be;if(-1!==Ue.indexOf(s)&&-1!==[J,ie].indexOf(c)||-1!==Ue.indexOf(c)&&s===re)return be;if(-1!==Me.indexOf(s)&&-1!==Me.indexOf(c))return be;if(s===te&&-1!==Me.indexOf(c))return be;if(-1!==Me.concat(ne).indexOf(s)&&c===$&&-1===Ie.indexOf(e[o])||-1!==Me.concat(ne).indexOf(c)&&s===Y)return be;if(s===ve&&c===ve){for(var d=n[A],g=1;d>0&&t[--d]===ve;)g++;if(g%2!=0)return be}return s===le&&c===ce?be:Be},Qe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Le(e,t.lineBreak),i=n[0],r=n[1],A=n[2];return"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(r=r.map((function(e){return-1!==[ne,oe,Ce].indexOf(e)?ge:e}))),[i,r,"keep-all"===t.wordBreak?A.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):void 0]},De=function(){function e(e,t,n,i){this.codePoints=e,this.required=t===we,this.start=n,this.end=i}return e.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),Ne=function(e,t){var n=l(e),i=Qe(n,t),r=i[0],A=i[1],a=i[2],o=n.length,s=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var e=be;c<o&&(e=Pe(n,A,r,++c,a))===be;);if(e!==be||c===o){var t=new De(n,e,s,c);return s=c,{value:t,done:!1}}return{done:!0,value:null}}}},Ve=1,Oe=2,ke=4,We=8,Ze=10,Xe=47,_e=92,ze=9,Ke=32,Ye=34,je=61,Je=35,qe=36,$e=37,et=39,tt=40,nt=41,it=95,rt=45,At=33,at=60,ot=62,st=64,lt=91,ct=93,ut=61,ht=123,dt=63,gt=125,pt=124,ft=126,mt=128,vt=65533,Ct=42,yt=43,It=44,wt=58,bt=59,Bt=46,xt=0,Mt=8,Et=11,Tt=14,St=31,Ft=127,Ut=-1,Rt=48,Lt=97,Ht=101,Gt=102,Pt=117,Qt=122,Dt=65,Nt=69,Vt=70,Ot=85,kt=90,Wt=function(e){return e>=Rt&&e<=57},Zt=function(e){return e>=55296&&e<=57343},Xt=function(e){return Wt(e)||e>=Dt&&e<=Vt||e>=Lt&&e<=Gt},_t=function(e){return e>=Lt&&e<=Qt},zt=function(e){return e>=Dt&&e<=kt},Kt=function(e){return _t(e)||zt(e)},Yt=function(e){return e>=mt},jt=function(e){return e===Ze||e===ze||e===Ke},Jt=function(e){return Kt(e)||Yt(e)||e===it},qt=function(e){return Jt(e)||Wt(e)||e===rt},$t=function(e){return e>=xt&&e<=Mt||e===Et||e>=Tt&&e<=St||e===Ft},en=function(e,t){return e===_e&&t!==Ze},tn=function(e,t,n){return e===rt?Jt(t)||en(t,n):!!Jt(e)||!(e!==_e||!en(e,t))},nn=function(e,t,n){return e===yt||e===rt?!!Wt(t)||t===Bt&&Wt(n):Wt(e===Bt?t:e)},rn=function(e){var t=0,n=1;e[t]!==yt&&e[t]!==rt||(e[t]===rt&&(n=-1),t++);for(var i=[];Wt(e[t]);)i.push(e[t++]);var r=i.length?parseInt(c.apply(void 0,i),10):0;e[t]===Bt&&t++;for(var A=[];Wt(e[t]);)A.push(e[t++]);var a=A.length,o=a?parseInt(c.apply(void 0,A),10):0;e[t]!==Nt&&e[t]!==Ht||t++;var s=1;e[t]!==yt&&e[t]!==rt||(e[t]===rt&&(s=-1),t++);for(var l=[];Wt(e[t]);)l.push(e[t++]);var u=l.length?parseInt(c.apply(void 0,l),10):0;return n*(r+o*Math.pow(10,-a))*Math.pow(10,s*u)},An={type:2},an={type:3},on={type:4},sn={type:13},ln={type:8},cn={type:21},un={type:9},hn={type:10},dn={type:11},gn={type:12},pn={type:14},fn={type:23},mn={type:1},vn={type:25},Cn={type:24},yn={type:26},In={type:27},wn={type:28},bn={type:29},Bn={type:31},xn={type:32},Mn=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(l(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==xn;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ye:return this.consumeStringToken(Ye);case Je:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(qt(t)||en(n,i)){var r=tn(t,n,i)?Oe:Ve;return{type:5,value:this.consumeName(),flags:r}}break;case qe:if(this.peekCodePoint(0)===je)return this.consumeCodePoint(),sn;break;case et:return this.consumeStringToken(et);case tt:return An;case nt:return an;case Ct:if(this.peekCodePoint(0)===je)return this.consumeCodePoint(),pn;break;case yt:if(nn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case It:return on;case rt:var A=e,a=this.peekCodePoint(0),o=this.peekCodePoint(1);if(nn(A,a,o))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(tn(A,a,o))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(a===rt&&o===ot)return this.consumeCodePoint(),this.consumeCodePoint(),Cn;break;case Bt:if(nn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Xe:if(this.peekCodePoint(0)===Ct)for(this.consumeCodePoint();;){var s=this.consumeCodePoint();if(s===Ct&&(s=this.consumeCodePoint())===Xe)return this.consumeToken();if(s===Ut)return this.consumeToken()}break;case wt:return yn;case bt:return In;case at:if(this.peekCodePoint(0)===At&&this.peekCodePoint(1)===rt&&this.peekCodePoint(2)===rt)return this.consumeCodePoint(),this.consumeCodePoint(),vn;break;case st:var l=this.peekCodePoint(0),u=this.peekCodePoint(1),h=this.peekCodePoint(2);if(tn(l,u,h))return{type:7,value:this.consumeName()};break;case lt:return wn;case _e:if(en(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ct:return bn;case ut:if(this.peekCodePoint(0)===je)return this.consumeCodePoint(),ln;break;case ht:return dn;case gt:return gn;case Pt:case Ot:var d=this.peekCodePoint(0),g=this.peekCodePoint(1);return d!==yt||!Xt(g)&&g!==dt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case pt:if(this.peekCodePoint(0)===je)return this.consumeCodePoint(),un;if(this.peekCodePoint(0)===pt)return this.consumeCodePoint(),cn;break;case ft:if(this.peekCodePoint(0)===je)return this.consumeCodePoint(),hn;break;case Ut:return xn}return jt(e)?(this.consumeWhiteSpace(),Bn):Wt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Jt(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:c(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Xt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===dt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(c.apply(void 0,e.map((function(e){return e===dt?Rt:e}))),16),end:parseInt(c.apply(void 0,e.map((function(e){return e===dt?Vt:e}))),16)};var i=parseInt(c.apply(void 0,e),16);if(this.peekCodePoint(0)===rt&&Xt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var r=[];Xt(t)&&r.length<6;)r.push(t),t=this.consumeCodePoint();return{type:30,start:i,end:parseInt(c.apply(void 0,r),16)}}return{type:30,start:i,end:i}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===tt?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===tt?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ut)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===et||t===Ye){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ut||this.peekCodePoint(0)===nt)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),fn)}for(;;){var i=this.consumeCodePoint();if(i===Ut||i===nt)return{type:22,value:c.apply(void 0,e)};if(jt(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ut||this.peekCodePoint(0)===nt?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,e)}):(this.consumeBadUrlRemnants(),fn);if(i===Ye||i===et||i===tt||$t(i))return this.consumeBadUrlRemnants(),fn;if(i===_e){if(!en(i,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),fn;e.push(this.consumeEscapedCodePoint())}else e.push(i)}},e.prototype.consumeWhiteSpace=function(){for(;jt(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===nt||e===Ut)return;en(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=6e4,n="";e>0;){var i=Math.min(t,e);n+=c.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var i=this._value[n];if(i===Ut||void 0===i||i===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(i===Ze)return this._value.splice(0,n),mn;if(i===_e){var r=this._value[n+1];r!==Ut&&void 0!==r&&(r===Ze?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):en(i,r)&&(t+=this.consumeStringSlice(n),t+=c(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=ke,n=this.peekCodePoint(0);for(n!==yt&&n!==rt||e.push(this.consumeCodePoint());Wt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===Bt&&Wt(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=We;Wt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((n===Nt||n===Ht)&&((i===yt||i===rt)&&Wt(r)||Wt(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=We;Wt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[rn(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],i=this.peekCodePoint(0),r=this.peekCodePoint(1),A=this.peekCodePoint(2);return tn(i,r,A)?{type:15,number:t,flags:n,unit:this.consumeName()}:i===$e?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Xt(e)){for(var t=c(e);Xt(this.peekCodePoint(0))&&t.length<6;)t+=c(this.consumeCodePoint());jt(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||Zt(n)||n>1114111?vt:n}return e===Ut?vt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(qt(t))e+=c(t);else{if(!en(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=c(this.consumeEscapedCodePoint())}}},e}(),En=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new Mn;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||Pn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return void 0===e?xn:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Tn=function(e){return 15===e.type},Sn=function(e){return 17===e.type},Fn=function(e){return 20===e.type},Un=function(e){return 0===e.type},Rn=function(e,t){return Fn(e)&&e.value===t},Ln=function(e){return 31!==e.type},Hn=function(e){return 31!==e.type&&4!==e.type},Gn=function(e){var t=[],n=[];return e.forEach((function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)})),n.length&&t.push(n),t},Pn=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Qn=function(e){return 17===e.type||15===e.type},Dn=function(e){return 16===e.type||Qn(e)},Nn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Vn={type:17,number:0,flags:ke},On={type:16,number:50,flags:ke},kn={type:16,number:100,flags:ke},Wn=function(e,t,n){var i=e[0],r=e[1];return[Zn(i,t),Zn(void 0!==r?r:i,n)]},Zn=function(e,t){if(16===e.type)return e.number/100*t;if(Tn(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},Xn="deg",_n="grad",zn="rad",Kn="turn",Yn={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case Xn:return Math.PI*t.number/180;case _n:return Math.PI/200*t.number;case zn:return t.number;case Kn:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},jn=function(e){return 15===e.type&&(e.unit===Xn||e.unit===_n||e.unit===zn||e.unit===Kn)},Jn=function(e){switch(e.filter(Fn).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Vn,Vn];case"to top":case"bottom":return qn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Vn,kn];case"to right":case"left":return qn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[kn,kn];case"to bottom":case"top":return qn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[kn,Vn];case"to left":case"right":return qn(270)}return 0},qn=function(e){return Math.PI*e/180},$n={name:"color",parse:function(e,t){if(18===t.type){var n=si[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var i=t.value.substring(0,1),r=t.value.substring(1,2),A=t.value.substring(2,3);return ni(parseInt(i+i,16),parseInt(r+r,16),parseInt(A+A,16),1)}if(4===t.value.length){i=t.value.substring(0,1),r=t.value.substring(1,2),A=t.value.substring(2,3);var a=t.value.substring(3,4);return ni(parseInt(i+i,16),parseInt(r+r,16),parseInt(A+A,16),parseInt(a+a,16)/255)}if(6===t.value.length)return i=t.value.substring(0,2),r=t.value.substring(2,4),A=t.value.substring(4,6),ni(parseInt(i,16),parseInt(r,16),parseInt(A,16),1);if(8===t.value.length)return i=t.value.substring(0,2),r=t.value.substring(2,4),A=t.value.substring(4,6),a=t.value.substring(6,8),ni(parseInt(i,16),parseInt(r,16),parseInt(A,16),parseInt(a,16)/255)}if(20===t.type){var o=ci[t.value.toUpperCase()];if(void 0!==o)return o}return ci.TRANSPARENT}},ei=function(e){return 0==(255&e)},ti=function(e){var t=255&e,n=255&e>>8,i=255&e>>16,r=255&e>>24;return t<255?"rgba("+r+","+i+","+n+","+t/255+")":"rgb("+r+","+i+","+n+")"},ni=function(e,t,n,i){return(e<<24|t<<16|n<<8|Math.round(255*i)<<0)>>>0},ii=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},ri=function(e,t){var n=t.filter(Hn);if(3===n.length){var i=n.map(ii),r=i[0],A=i[1],a=i[2];return ni(r,A,a,1)}if(4===n.length){var o=n.map(ii),s=(r=o[0],A=o[1],a=o[2],o[3]);return ni(r,A,a,s)}return 0};function Ai(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var ai,oi=function(e,t){var n=t.filter(Hn),i=n[0],r=n[1],A=n[2],a=n[3],o=(17===i.type?qn(i.number):Yn.parse(e,i))/(2*Math.PI),s=Dn(r)?r.number/100:0,l=Dn(A)?A.number/100:0,c=void 0!==a&&Dn(a)?Zn(a,1):1;if(0===s)return ni(255*l,255*l,255*l,1);var u=l<=.5?l*(s+1):l+s-l*s,h=2*l-u,d=Ai(h,u,o+1/3),g=Ai(h,u,o),p=Ai(h,u,o-1/3);return ni(255*d,255*g,255*p,c)},si={hsl:oi,hsla:oi,rgb:ri,rgba:ri},li=function(e,t){return $n.parse(e,En.create(t).parseComponentValue())},ci={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199};!function(e){e[e.BORDER_BOX=0]="BORDER_BOX",e[e.PADDING_BOX=1]="PADDING_BOX",e[e.CONTENT_BOX=2]="CONTENT_BOX"}(ai||(ai={}));var ui,hi={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Fn(e))switch(e.value){case"padding-box":return ai.PADDING_BOX;case"content-box":return ai.CONTENT_BOX}return ai.BORDER_BOX}))}},di={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gi=function(e,t){var n=$n.parse(e,t[0]),i=t[1];return i&&Dn(i)?{color:n,stop:i}:{color:n,stop:null}},pi=function(e,t){var n=e[0],i=e[e.length-1];null===n.stop&&(n.stop=Vn),null===i.stop&&(i.stop=kn);for(var r=[],A=0,a=0;a<e.length;a++){var o=e[a].stop;if(null!==o){var s=Zn(o,t);s>A?r.push(s):r.push(A),A=s}else r.push(null)}var l=null;for(a=0;a<r.length;a++){var c=r[a];if(null===c)null===l&&(l=a);else if(null!==l){for(var u=a-l,h=(c-r[l-1])/(u+1),d=1;d<=u;d++)r[l+d-1]=h*d;l=null}}return e.map((function(e,n){return{color:e.color,stop:Math.max(Math.min(1,r[n]/t),0)}}))},fi=function(e,t,n){var i=t/2,r=n/2,A=Zn(e[0],t)-i,a=r-Zn(e[1],n);return(Math.atan2(a,A)+2*Math.PI)%(2*Math.PI)},mi=function(e,t,n){var i="number"==typeof e?e:fi(e,t,n),r=Math.abs(t*Math.sin(i))+Math.abs(n*Math.cos(i)),A=t/2,a=n/2,o=r/2,s=Math.sin(i-Math.PI/2)*o,l=Math.cos(i-Math.PI/2)*o;return[r,A-l,A+l,a-s,a+s]},vi=function(e,t){return Math.sqrt(e*e+t*t)},Ci=function(e,t,n,i,r){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var A=t[0],a=t[1],o=vi(n-A,i-a);return(r?o<e.optimumDistance:o>e.optimumDistance)?{optimumCorner:t,optimumDistance:o}:e}),{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},yi=function(e,t,n,i,r){var A=0,a=0;switch(e.size){case Gi.CLOSEST_SIDE:e.shape===Hi.CIRCLE?A=a=Math.min(Math.abs(t),Math.abs(t-i),Math.abs(n),Math.abs(n-r)):e.shape===Hi.ELLIPSE&&(A=Math.min(Math.abs(t),Math.abs(t-i)),a=Math.min(Math.abs(n),Math.abs(n-r)));break;case Gi.CLOSEST_CORNER:if(e.shape===Hi.CIRCLE)A=a=Math.min(vi(t,n),vi(t,n-r),vi(t-i,n),vi(t-i,n-r));else if(e.shape===Hi.ELLIPSE){var o=Math.min(Math.abs(n),Math.abs(n-r))/Math.min(Math.abs(t),Math.abs(t-i)),s=Ci(i,r,t,n,!0),l=s[0],c=s[1];a=o*(A=vi(l-t,(c-n)/o))}break;case Gi.FARTHEST_SIDE:e.shape===Hi.CIRCLE?A=a=Math.max(Math.abs(t),Math.abs(t-i),Math.abs(n),Math.abs(n-r)):e.shape===Hi.ELLIPSE&&(A=Math.max(Math.abs(t),Math.abs(t-i)),a=Math.max(Math.abs(n),Math.abs(n-r)));break;case Gi.FARTHEST_CORNER:if(e.shape===Hi.CIRCLE)A=a=Math.max(vi(t,n),vi(t,n-r),vi(t-i,n),vi(t-i,n-r));else if(e.shape===Hi.ELLIPSE){o=Math.max(Math.abs(n),Math.abs(n-r))/Math.max(Math.abs(t),Math.abs(t-i));var u=Ci(i,r,t,n,!1);l=u[0],c=u[1],a=o*(A=vi(l-t,(c-n)/o))}}return Array.isArray(e.size)&&(A=Zn(e.size[0],i),a=2===e.size.length?Zn(e.size[1],r):A),[A,a]},Ii=function(e,t){var n=qn(180),i=[];return Gn(t).forEach((function(t,r){if(0===r){var A=t[0];if(20===A.type&&"to"===A.value)return void(n=Jn(t));if(jn(A))return void(n=Yn.parse(e,A))}var a=gi(e,t);i.push(a)})),{angle:n,stops:i,type:ui.LINEAR_GRADIENT}},wi=function(e,t){var n=qn(180),i=[];return Gn(t).forEach((function(t,r){if(0===r){var A=t[0];if(20===A.type&&-1!==["top","left","right","bottom"].indexOf(A.value))return void(n=Jn(t));if(jn(A))return void(n=(Yn.parse(e,A)+qn(270))%qn(360))}var a=gi(e,t);i.push(a)})),{angle:n,stops:i,type:ui.LINEAR_GRADIENT}},bi=function(e,t){var n=qn(180),i=[],r=ui.LINEAR_GRADIENT,A=Hi.CIRCLE,a=Gi.FARTHEST_CORNER,o=[];return Gn(t).forEach((function(t,n){var A=t[0];if(0===n){if(Fn(A)&&"linear"===A.value)return void(r=ui.LINEAR_GRADIENT);if(Fn(A)&&"radial"===A.value)return void(r=ui.RADIAL_GRADIENT)}if(18===A.type)if("from"===A.name){var a=$n.parse(e,A.values[0]);i.push({stop:Vn,color:a})}else if("to"===A.name)a=$n.parse(e,A.values[0]),i.push({stop:kn,color:a});else if("color-stop"===A.name){var o=A.values.filter(Hn);if(2===o.length){a=$n.parse(e,o[1]);var s=o[0];Sn(s)&&i.push({stop:{type:16,number:100*s.number,flags:s.flags},color:a})}}})),r===ui.LINEAR_GRADIENT?{angle:(n+qn(180))%qn(360),stops:i,type:r}:{size:a,shape:A,stops:i,position:o,type:r}},Bi="closest-side",xi="farthest-side",Mi="closest-corner",Ei="farthest-corner",Ti="circle",Si="ellipse",Fi="cover",Ui="contain",Ri=function(e,t){var n=Hi.CIRCLE,i=Gi.FARTHEST_CORNER,r=[],A=[];return Gn(t).forEach((function(t,a){var o=!0;if(0===a){var s=!1;o=t.reduce((function(e,t){if(s)if(Fn(t))switch(t.value){case"center":return A.push(On),e;case"top":case"left":return A.push(Vn),e;case"right":case"bottom":return A.push(kn),e}else(Dn(t)||Qn(t))&&A.push(t);else if(Fn(t))switch(t.value){case Ti:return n=Hi.CIRCLE,!1;case Si:return n=Hi.ELLIPSE,!1;case"at":return s=!0,!1;case Bi:return i=Gi.CLOSEST_SIDE,!1;case Fi:case xi:return i=Gi.FARTHEST_SIDE,!1;case Ui:case Mi:return i=Gi.CLOSEST_CORNER,!1;case Ei:return i=Gi.FARTHEST_CORNER,!1}else if(Qn(t)||Dn(t))return Array.isArray(i)||(i=[]),i.push(t),!1;return e}),o)}if(o){var l=gi(e,t);r.push(l)}})),{size:i,shape:n,stops:r,position:A,type:ui.RADIAL_GRADIENT}},Li=function(e,t){var n=Hi.CIRCLE,i=Gi.FARTHEST_CORNER,r=[],A=[];return Gn(t).forEach((function(t,a){var o=!0;if(0===a?o=t.reduce((function(e,t){if(Fn(t))switch(t.value){case"center":return A.push(On),!1;case"top":case"left":return A.push(Vn),!1;case"right":case"bottom":return A.push(kn),!1}else if(Dn(t)||Qn(t))return A.push(t),!1;return e}),o):1===a&&(o=t.reduce((function(e,t){if(Fn(t))switch(t.value){case Ti:return n=Hi.CIRCLE,!1;case Si:return n=Hi.ELLIPSE,!1;case Ui:case Bi:return i=Gi.CLOSEST_SIDE,!1;case xi:return i=Gi.FARTHEST_SIDE,!1;case Mi:return i=Gi.CLOSEST_CORNER,!1;case Fi:case Ei:return i=Gi.FARTHEST_CORNER,!1}else if(Qn(t)||Dn(t))return Array.isArray(i)||(i=[]),i.push(t),!1;return e}),o)),o){var s=gi(e,t);r.push(s)}})),{size:i,shape:n,stops:r,position:A,type:ui.RADIAL_GRADIENT}};!function(e){e[e.URL=0]="URL",e[e.LINEAR_GRADIENT=1]="LINEAR_GRADIENT",e[e.RADIAL_GRADIENT=2]="RADIAL_GRADIENT"}(ui||(ui={}));var Hi,Gi,Pi=function(e){return e.type===ui.LINEAR_GRADIENT},Qi=function(e){return e.type===ui.RADIAL_GRADIENT};(function(e){e[e.CIRCLE=0]="CIRCLE",e[e.ELLIPSE=1]="ELLIPSE"})(Hi||(Hi={})),function(e){e[e.CLOSEST_SIDE=0]="CLOSEST_SIDE",e[e.FARTHEST_SIDE=1]="FARTHEST_SIDE",e[e.CLOSEST_CORNER=2]="CLOSEST_CORNER",e[e.FARTHEST_CORNER=3]="FARTHEST_CORNER"}(Gi||(Gi={}));var Di={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:ui.URL};return e.cache.addImage(t.value),n}if(18===t.type){var i=Oi[t.name];if(void 0===i)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return i(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Ni(e){return!(20===e.type&&"none"===e.value||18===e.type&&!Oi[e.name])}var Vi,Oi={"linear-gradient":Ii,"-moz-linear-gradient":wi,"-ms-linear-gradient":wi,"-o-linear-gradient":wi,"-webkit-linear-gradient":wi,"radial-gradient":Ri,"-moz-radial-gradient":Li,"-ms-radial-gradient":Li,"-o-radial-gradient":Li,"-webkit-radial-gradient":Li,"-webkit-gradient":bi},ki={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter((function(e){return Hn(e)&&Ni(e)})).map((function(t){return Di.parse(e,t)}))}},Wi={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Fn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Zi={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Gn(t).map((function(e){return e.filter(Dn)})).map(Nn)}};!function(e){e[e.REPEAT=0]="REPEAT",e[e.NO_REPEAT=1]="NO_REPEAT",e[e.REPEAT_X=2]="REPEAT_X",e[e.REPEAT_Y=3]="REPEAT_Y"}(Vi||(Vi={}));var Xi,_i={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Gn(t).map((function(e){return e.filter(Fn).map((function(e){return e.value})).join(" ")})).map(zi)}},zi=function(e){switch(e){case"no-repeat":return Vi.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return Vi.REPEAT_X;case"repeat-y":case"no-repeat repeat":return Vi.REPEAT_Y;case"repeat":default:return Vi.REPEAT}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Xi||(Xi={}));var Ki,Yi={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Gn(t).map((function(e){return e.filter(ji)}))}},ji=function(e){return Fn(e)||Dn(e)},Ji=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},qi=Ji("top"),$i=Ji("right"),er=Ji("bottom"),tr=Ji("left"),nr=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Nn(t.filter(Dn))}}},ir=nr("top-left"),rr=nr("top-right"),Ar=nr("bottom-right"),ar=nr("bottom-left");!function(e){e[e.NONE=0]="NONE",e[e.SOLID=1]="SOLID",e[e.DASHED=2]="DASHED",e[e.DOTTED=3]="DOTTED",e[e.DOUBLE=4]="DOUBLE"}(Ki||(Ki={}));var or,sr=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return Ki.NONE;case"dashed":return Ki.DASHED;case"dotted":return Ki.DOTTED;case"double":return Ki.DOUBLE}return Ki.SOLID}}},lr=sr("top"),cr=sr("right"),ur=sr("bottom"),hr=sr("left"),dr=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Tn(t)?t.number:0}}},gr=dr("top"),pr=dr("right"),fr=dr("bottom"),mr=dr("left"),vr={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Cr={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},yr={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Fn).reduce((function(e,t){return e|Ir(t.value)}),0)}},Ir=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0};!function(e){e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.INLINE_START=3]="INLINE_START",e[e.INLINE_END=4]="INLINE_END"}(or||(or={}));var wr,br={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return or.LEFT;case"right":return or.RIGHT;case"inline-start":return or.INLINE_START;case"inline-end":return or.INLINE_END}return or.NONE}},Br={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(wr||(wr={}));var xr,Mr={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return wr.STRICT;case"normal":default:return wr.NORMAL}}},Er={name:"line-height",initialValue:"normal",prefix:!1,type:4},Tr=function(e,t){return Fn(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Dn(e)?Zn(e,t):t},Sr={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Di.parse(e,t)}};!function(e){e[e.INSIDE=0]="INSIDE",e[e.OUTSIDE=1]="OUTSIDE"}(xr||(xr={}));var Fr,Ur={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return xr.INSIDE;case"outside":default:return xr.OUTSIDE}}};!function(e){e[e.NONE=-1]="NONE",e[e.DISC=0]="DISC",e[e.CIRCLE=1]="CIRCLE",e[e.SQUARE=2]="SQUARE",e[e.DECIMAL=3]="DECIMAL",e[e.CJK_DECIMAL=4]="CJK_DECIMAL",e[e.DECIMAL_LEADING_ZERO=5]="DECIMAL_LEADING_ZERO",e[e.LOWER_ROMAN=6]="LOWER_ROMAN",e[e.UPPER_ROMAN=7]="UPPER_ROMAN",e[e.LOWER_GREEK=8]="LOWER_GREEK",e[e.LOWER_ALPHA=9]="LOWER_ALPHA",e[e.UPPER_ALPHA=10]="UPPER_ALPHA",e[e.ARABIC_INDIC=11]="ARABIC_INDIC",e[e.ARMENIAN=12]="ARMENIAN",e[e.BENGALI=13]="BENGALI",e[e.CAMBODIAN=14]="CAMBODIAN",e[e.CJK_EARTHLY_BRANCH=15]="CJK_EARTHLY_BRANCH",e[e.CJK_HEAVENLY_STEM=16]="CJK_HEAVENLY_STEM",e[e.CJK_IDEOGRAPHIC=17]="CJK_IDEOGRAPHIC",e[e.DEVANAGARI=18]="DEVANAGARI",e[e.ETHIOPIC_NUMERIC=19]="ETHIOPIC_NUMERIC",e[e.GEORGIAN=20]="GEORGIAN",e[e.GUJARATI=21]="GUJARATI",e[e.GURMUKHI=22]="GURMUKHI",e[e.HEBREW=22]="HEBREW",e[e.HIRAGANA=23]="HIRAGANA",e[e.HIRAGANA_IROHA=24]="HIRAGANA_IROHA",e[e.JAPANESE_FORMAL=25]="JAPANESE_FORMAL",e[e.JAPANESE_INFORMAL=26]="JAPANESE_INFORMAL",e[e.KANNADA=27]="KANNADA",e[e.KATAKANA=28]="KATAKANA",e[e.KATAKANA_IROHA=29]="KATAKANA_IROHA",e[e.KHMER=30]="KHMER",e[e.KOREAN_HANGUL_FORMAL=31]="KOREAN_HANGUL_FORMAL",e[e.KOREAN_HANJA_FORMAL=32]="KOREAN_HANJA_FORMAL",e[e.KOREAN_HANJA_INFORMAL=33]="KOREAN_HANJA_INFORMAL",e[e.LAO=34]="LAO",e[e.LOWER_ARMENIAN=35]="LOWER_ARMENIAN",e[e.MALAYALAM=36]="MALAYALAM",e[e.MONGOLIAN=37]="MONGOLIAN",e[e.MYANMAR=38]="MYANMAR",e[e.ORIYA=39]="ORIYA",e[e.PERSIAN=40]="PERSIAN",e[e.SIMP_CHINESE_FORMAL=41]="SIMP_CHINESE_FORMAL",e[e.SIMP_CHINESE_INFORMAL=42]="SIMP_CHINESE_INFORMAL",e[e.TAMIL=43]="TAMIL",e[e.TELUGU=44]="TELUGU",e[e.THAI=45]="THAI",e[e.TIBETAN=46]="TIBETAN",e[e.TRAD_CHINESE_FORMAL=47]="TRAD_CHINESE_FORMAL",e[e.TRAD_CHINESE_INFORMAL=48]="TRAD_CHINESE_INFORMAL",e[e.UPPER_ARMENIAN=49]="UPPER_ARMENIAN",e[e.DISCLOSURE_OPEN=50]="DISCLOSURE_OPEN",e[e.DISCLOSURE_CLOSED=51]="DISCLOSURE_CLOSED"}(Fr||(Fr={}));var Rr,Lr={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return Fr.DISC;case"circle":return Fr.CIRCLE;case"square":return Fr.SQUARE;case"decimal":return Fr.DECIMAL;case"cjk-decimal":return Fr.CJK_DECIMAL;case"decimal-leading-zero":return Fr.DECIMAL_LEADING_ZERO;case"lower-roman":return Fr.LOWER_ROMAN;case"upper-roman":return Fr.UPPER_ROMAN;case"lower-greek":return Fr.LOWER_GREEK;case"lower-alpha":return Fr.LOWER_ALPHA;case"upper-alpha":return Fr.UPPER_ALPHA;case"arabic-indic":return Fr.ARABIC_INDIC;case"armenian":return Fr.ARMENIAN;case"bengali":return Fr.BENGALI;case"cambodian":return Fr.CAMBODIAN;case"cjk-earthly-branch":return Fr.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return Fr.CJK_HEAVENLY_STEM;case"cjk-ideographic":return Fr.CJK_IDEOGRAPHIC;case"devanagari":return Fr.DEVANAGARI;case"ethiopic-numeric":return Fr.ETHIOPIC_NUMERIC;case"georgian":return Fr.GEORGIAN;case"gujarati":return Fr.GUJARATI;case"gurmukhi":return Fr.GURMUKHI;case"hebrew":return Fr.HEBREW;case"hiragana":return Fr.HIRAGANA;case"hiragana-iroha":return Fr.HIRAGANA_IROHA;case"japanese-formal":return Fr.JAPANESE_FORMAL;case"japanese-informal":return Fr.JAPANESE_INFORMAL;case"kannada":return Fr.KANNADA;case"katakana":return Fr.KATAKANA;case"katakana-iroha":return Fr.KATAKANA_IROHA;case"khmer":return Fr.KHMER;case"korean-hangul-formal":return Fr.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return Fr.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return Fr.KOREAN_HANJA_INFORMAL;case"lao":return Fr.LAO;case"lower-armenian":return Fr.LOWER_ARMENIAN;case"malayalam":return Fr.MALAYALAM;case"mongolian":return Fr.MONGOLIAN;case"myanmar":return Fr.MYANMAR;case"oriya":return Fr.ORIYA;case"persian":return Fr.PERSIAN;case"simp-chinese-formal":return Fr.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return Fr.SIMP_CHINESE_INFORMAL;case"tamil":return Fr.TAMIL;case"telugu":return Fr.TELUGU;case"thai":return Fr.THAI;case"tibetan":return Fr.TIBETAN;case"trad-chinese-formal":return Fr.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return Fr.TRAD_CHINESE_INFORMAL;case"upper-armenian":return Fr.UPPER_ARMENIAN;case"disclosure-open":return Fr.DISCLOSURE_OPEN;case"disclosure-closed":return Fr.DISCLOSURE_CLOSED;case"none":default:return Fr.NONE}}},Hr=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Gr=Hr("top"),Pr=Hr("right"),Qr=Hr("bottom"),Dr=Hr("left");!function(e){e[e.VISIBLE=0]="VISIBLE",e[e.HIDDEN=1]="HIDDEN",e[e.SCROLL=2]="SCROLL",e[e.CLIP=3]="CLIP",e[e.AUTO=4]="AUTO"}(Rr||(Rr={}));var Nr,Vr={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Fn).map((function(e){switch(e.value){case"hidden":return Rr.HIDDEN;case"scroll":return Rr.SCROLL;case"clip":return Rr.CLIP;case"auto":return Rr.AUTO;case"visible":default:return Rr.VISIBLE}}))}},Or={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},kr=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Wr=kr("top"),Zr=kr("right"),Xr=kr("bottom"),_r=kr("left");!function(e){e[e.LEFT=0]="LEFT",e[e.CENTER=1]="CENTER",e[e.RIGHT=2]="RIGHT"}(Nr||(Nr={}));var zr,Kr={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return Nr.RIGHT;case"center":case"justify":return Nr.CENTER;case"left":default:return Nr.LEFT}}};!function(e){e[e.STATIC=0]="STATIC",e[e.RELATIVE=1]="RELATIVE",e[e.ABSOLUTE=2]="ABSOLUTE",e[e.FIXED=3]="FIXED",e[e.STICKY=4]="STICKY"}(zr||(zr={}));var Yr,jr={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return zr.RELATIVE;case"absolute":return zr.ABSOLUTE;case"fixed":return zr.FIXED;case"sticky":return zr.STICKY}return zr.STATIC}},Jr={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Rn(t[0],"none")?[]:Gn(t).map((function(t){for(var n={color:ci.TRANSPARENT,offsetX:Vn,offsetY:Vn,blur:Vn},i=0,r=0;r<t.length;r++){var A=t[r];Qn(A)?(0===i?n.offsetX=A:1===i?n.offsetY=A:n.blur=A,i++):n.color=$n.parse(e,A)}return n}))}};!function(e){e[e.NONE=0]="NONE",e[e.LOWERCASE=1]="LOWERCASE",e[e.UPPERCASE=2]="UPPERCASE",e[e.CAPITALIZE=3]="CAPITALIZE"}(Yr||(Yr={}));var qr,$r={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return Yr.UPPERCASE;case"lowercase":return Yr.LOWERCASE;case"capitalize":return Yr.CAPITALIZE}return Yr.NONE}},eA={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=tA[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},tA={matrix:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 6===t.length?t:null},matrix3d:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number})),n=t[0],i=t[1];t[2],t[3];var r=t[4],A=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var a=t[12],o=t[13];return t[14],t[15],16===t.length?[n,i,r,A,a,o]:null}},nA={type:16,number:50,flags:ke},iA=[nA,nA],rA={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Dn);return 2!==n.length?iA:[n[0],n[1]]}};!function(e){e[e.VISIBLE=0]="VISIBLE",e[e.HIDDEN=1]="HIDDEN",e[e.COLLAPSE=2]="COLLAPSE"}(qr||(qr={}));var AA,aA={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return qr.HIDDEN;case"collapse":return qr.COLLAPSE;case"visible":default:return qr.VISIBLE}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(AA||(AA={}));var oA,sA={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return AA.BREAK_ALL;case"keep-all":return AA.KEEP_ALL;case"normal":default:return AA.NORMAL}}},lA={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Sn(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},cA={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},uA={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Sn(t)?t.number:1}},hA={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dA={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Fn).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},gA={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],i=[];return t.forEach((function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:i.push(n.join(" ")),n.length=0}})),n.length&&i.push(n.join(" ")),i.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},pA={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},fA={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Sn(t))return t.number;if(Fn(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},mA={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Fn).map((function(e){return e.value}))}};!function(e){e.NORMAL="normal",e.ITALIC="italic",e.OBLIQUE="oblique"}(oA||(oA={}));var vA,CA={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return oA.OBLIQUE;case"italic":return oA.ITALIC;case"normal":default:return oA.NORMAL}}},yA=function(e,t){return 0!=(e&t)},IA={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},wA={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var i=[],r=t.filter(Ln),A=0;A<r.length;A++){var a=r[A],o=r[A+1];if(20===a.type){var s=o&&Sn(o)?o.number:1;i.push({counter:a.value,increment:s})}}return i}},bA={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],i=t.filter(Ln),r=0;r<i.length;r++){var A=i[r],a=i[r+1];if(Fn(A)&&"none"!==A.value){var o=a&&Sn(a)?a.number:0;n.push({counter:A.value,reset:o})}}return n}},BA={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Tn).map((function(t){return cA.parse(e,t)}))}},xA={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var i=[],r=t.filter(Un);if(r.length%2!=0)return null;for(var A=0;A<r.length;A+=2){var a=r[A].value,o=r[A+1].value;i.push({open:a,close:o})}return i}},MA=function(e,t,n){if(!e)return"";var i=e[Math.min(t,e.length-1)];return i?n?i.open:i.close:""},EA={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Rn(t[0],"none")?[]:Gn(t).map((function(t){for(var n={color:255,offsetX:Vn,offsetY:Vn,blur:Vn,spread:Vn,inset:!1},i=0,r=0;r<t.length;r++){var A=t[r];Rn(A,"inset")?n.inset=!0:Qn(A)?(0===i?n.offsetX=A:1===i?n.offsetY=A:2===i?n.blur=A:n.spread=A,i++):n.color=$n.parse(e,A)}return n}))}};!function(e){e[e.FILL=0]="FILL",e[e.STROKE=1]="STROKE",e[e.MARKERS=2]="MARKERS"}(vA||(vA={}));for(var TA={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[vA.FILL,vA.STROKE,vA.MARKERS],i=[];return t.filter(Fn).forEach((function(e){switch(e.value){case"stroke":i.push(vA.STROKE);break;case"fill":i.push(vA.FILL);break;case"markers":i.push(vA.MARKERS)}})),n.forEach((function(e){-1===i.indexOf(e)&&i.push(e)})),i}},SA={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},FA={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Tn(t)?t.number:0}},UA=function(){function e(e,t){var n,i;this.animationDuration=HA(e,BA,t.animationDuration),this.backgroundClip=HA(e,hi,t.backgroundClip),this.backgroundColor=HA(e,di,t.backgroundColor),this.backgroundImage=HA(e,ki,t.backgroundImage),this.backgroundOrigin=HA(e,Wi,t.backgroundOrigin),this.backgroundPosition=HA(e,Zi,t.backgroundPosition),this.backgroundRepeat=HA(e,_i,t.backgroundRepeat),this.backgroundSize=HA(e,Yi,t.backgroundSize),this.borderTopColor=HA(e,qi,t.borderTopColor),this.borderRightColor=HA(e,$i,t.borderRightColor),this.borderBottomColor=HA(e,er,t.borderBottomColor),this.borderLeftColor=HA(e,tr,t.borderLeftColor),this.borderTopLeftRadius=HA(e,ir,t.borderTopLeftRadius),this.borderTopRightRadius=HA(e,rr,t.borderTopRightRadius),this.borderBottomRightRadius=HA(e,Ar,t.borderBottomRightRadius),this.borderBottomLeftRadius=HA(e,ar,t.borderBottomLeftRadius),this.borderTopStyle=HA(e,lr,t.borderTopStyle),this.borderRightStyle=HA(e,cr,t.borderRightStyle),this.borderBottomStyle=HA(e,ur,t.borderBottomStyle),this.borderLeftStyle=HA(e,hr,t.borderLeftStyle),this.borderTopWidth=HA(e,gr,t.borderTopWidth),this.borderRightWidth=HA(e,pr,t.borderRightWidth),this.borderBottomWidth=HA(e,fr,t.borderBottomWidth),this.borderLeftWidth=HA(e,mr,t.borderLeftWidth),this.boxShadow=HA(e,EA,t.boxShadow),this.color=HA(e,vr,t.color),this.direction=HA(e,Cr,t.direction),this.display=HA(e,yr,t.display),this.float=HA(e,br,t.cssFloat),this.fontFamily=HA(e,gA,t.fontFamily),this.fontSize=HA(e,pA,t.fontSize),this.fontStyle=HA(e,CA,t.fontStyle),this.fontVariant=HA(e,mA,t.fontVariant),this.fontWeight=HA(e,fA,t.fontWeight),this.letterSpacing=HA(e,Br,t.letterSpacing),this.lineBreak=HA(e,Mr,t.lineBreak),this.lineHeight=HA(e,Er,t.lineHeight),this.listStyleImage=HA(e,Sr,t.listStyleImage),this.listStylePosition=HA(e,Ur,t.listStylePosition),this.listStyleType=HA(e,Lr,t.listStyleType),this.marginTop=HA(e,Gr,t.marginTop),this.marginRight=HA(e,Pr,t.marginRight),this.marginBottom=HA(e,Qr,t.marginBottom),this.marginLeft=HA(e,Dr,t.marginLeft),this.opacity=HA(e,uA,t.opacity);var r=HA(e,Vr,t.overflow);this.overflowX=r[0],this.overflowY=r[r.length>1?1:0],this.overflowWrap=HA(e,Or,t.overflowWrap),this.paddingTop=HA(e,Wr,t.paddingTop),this.paddingRight=HA(e,Zr,t.paddingRight),this.paddingBottom=HA(e,Xr,t.paddingBottom),this.paddingLeft=HA(e,_r,t.paddingLeft),this.paintOrder=HA(e,TA,t.paintOrder),this.position=HA(e,jr,t.position),this.textAlign=HA(e,Kr,t.textAlign),this.textDecorationColor=HA(e,hA,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=HA(e,dA,null!==(i=t.textDecorationLine)&&void 0!==i?i:t.textDecoration),this.textShadow=HA(e,Jr,t.textShadow),this.textTransform=HA(e,$r,t.textTransform),this.transform=HA(e,eA,t.transform),this.transformOrigin=HA(e,rA,t.transformOrigin),this.visibility=HA(e,aA,t.visibility),this.webkitTextStrokeColor=HA(e,SA,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=HA(e,FA,t.webkitTextStrokeWidth),this.wordBreak=HA(e,sA,t.wordBreak),this.zIndex=HA(e,lA,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===qr.VISIBLE},e.prototype.isTransparent=function(){return ei(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return this.position!==zr.STATIC},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==or.NONE},e.prototype.isInlineLevel=function(){return yA(this.display,4)||yA(this.display,33554432)||yA(this.display,268435456)||yA(this.display,536870912)||yA(this.display,67108864)||yA(this.display,134217728)},e}(),RA=function(){function e(e,t){this.content=HA(e,IA,t.content),this.quotes=HA(e,xA,t.quotes)}return e}(),LA=function(){function e(e,t){this.counterIncrement=HA(e,wA,t.counterIncrement),this.counterReset=HA(e,bA,t.counterReset)}return e}(),HA=function(e,t,n){var i=new Mn,r=null!=n?n.toString():t.initialValue;i.write(r);var A=new En(i.read());switch(t.type){case 2:var a=A.parseComponentValue();return t.parse(e,Fn(a)?a.value:t.initialValue);case 0:return t.parse(e,A.parseComponentValue());case 1:return t.parse(e,A.parseComponentValues());case 4:return A.parseComponentValue();case 3:switch(t.format){case"angle":return Yn.parse(e,A.parseComponentValue());case"color":return $n.parse(e,A.parseComponentValue());case"image":return Di.parse(e,A.parseComponentValue());case"length":var o=A.parseComponentValue();return Qn(o)?o:Vn;case"length-percentage":var s=A.parseComponentValue();return Dn(s)?s:Vn;case"time":return cA.parse(e,A.parseComponentValue())}}},GA="data-html2canvas-debug",PA=function(e){switch(e.getAttribute(GA)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},QA=function(e,t){var n=PA(e);return 1===n||t===n},DA=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,QA(t,3),this.styles=new UA(e,window.getComputedStyle(t,null)),xo(t)&&(this.styles.animationDuration.some((function(e){return e>0}))&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=o(this.context,t),QA(t,4)&&(this.flags|=16)}return e}(),NA="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",VA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",OA="undefined"==typeof Uint8Array?[]:new Uint8Array(256),kA=0;kA<VA.length;kA++)OA[VA.charCodeAt(kA)]=kA;for(var WA=function(e){var t,n,i,r,A,a=.75*e.length,o=e.length,s=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(a):new Array(a),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<o;t+=4)n=OA[e.charCodeAt(t)],i=OA[e.charCodeAt(t+1)],r=OA[e.charCodeAt(t+2)],A=OA[e.charCodeAt(t+3)],c[s++]=n<<2|i>>4,c[s++]=(15&i)<<4|r>>2,c[s++]=(3&r)<<6|63&A;return l},ZA=function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n.push(e[i+1]<<8|e[i]);return n},XA=function(e){for(var t=e.length,n=[],i=0;i<t;i+=4)n.push(e[i+3]<<24|e[i+2]<<16|e[i+1]<<8|e[i]);return n},_A=5,zA=11,KA=2,YA=65536>>_A,jA=(1<<_A)-1,JA=YA+(1024>>_A)+32,qA=65536>>zA,$A=(1<<zA-_A)-1,ea=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},ta=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},na=function(e,t){var n=WA(e),i=Array.isArray(n)?XA(n):new Uint32Array(n),r=Array.isArray(n)?ZA(n):new Uint16Array(n),A=24,a=ea(r,A/2,i[4]/2),o=2===i[5]?ea(r,(A+i[4])/2):ta(i,Math.ceil((A+i[4])/4));return new ia(i[0],i[1],i[2],i[3],a,o)},ia=function(){function e(e,t,n,i,r,A){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=r,this.data=A}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>_A])<<KA)+(e&jA),this.data[t];if(e<=65535)return t=((t=this.index[YA+(e-55296>>_A)])<<KA)+(e&jA),this.data[t];if(e<this.highStart)return t=JA-qA+(e>>zA),t=this.index[t],t+=e>>_A&$A,t=((t=this.index[t])<<KA)+(e&jA),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),ra="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Aa="undefined"==typeof Uint8Array?[]:new Uint8Array(256),aa=0;aa<ra.length;aa++)Aa[ra.charCodeAt(aa)]=aa;var oa,sa=1,la=2,ca=3,ua=4,ha=5,da=7,ga=8,pa=9,fa=10,ma=11,va=12,Ca=13,ya=14,Ia=15,wa=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var A=e.charCodeAt(n++);56320==(64512&A)?t.push(((1023&r)<<10)+(1023&A)+65536):(t.push(r),n--)}else t.push(r)}return t},ba=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var i=[],r=-1,A="";++r<n;){var a=e[r];a<=65535?i.push(a):(a-=65536,i.push(55296+(a>>10),a%1024+56320)),(r+1===n||i.length>16384)&&(A+=String.fromCharCode.apply(String,i),i.length=0)}return A},Ba=na(NA),xa="×",Ma="÷",Ea=function(e){return Ba.get(e)},Ta=function(e,t,n){var i=n-2,r=t[i],A=t[n-1],a=t[n];if(A===la&&a===ca)return xa;if(A===la||A===ca||A===ua)return Ma;if(a===la||a===ca||a===ua)return Ma;if(A===ga&&-1!==[ga,pa,ma,va].indexOf(a))return xa;if(!(A!==ma&&A!==pa||a!==pa&&a!==fa))return xa;if((A===va||A===fa)&&a===fa)return xa;if(a===Ca||a===ha)return xa;if(a===da)return xa;if(A===sa)return xa;if(A===Ca&&a===ya){for(;r===ha;)r=t[--i];if(r===ya)return xa}if(A===Ia&&a===Ia){for(var o=0;r===Ia;)o++,r=t[--i];if(o%2==0)return xa}return Ma},Sa=function(e){var t=wa(e),n=t.length,i=0,r=0,A=t.map(Ea);return{next:function(){if(i>=n)return{done:!0,value:null};for(var e=xa;i<n&&(e=Ta(t,A,++i))===xa;);if(e!==xa||i===n){var a=ba.apply(null,t.slice(r,i));return r=i,{value:a,done:!1}}return{done:!0,value:null}}}},Fa=function(e){for(var t,n=Sa(e),i=[];!(t=n.next()).done;)t.value&&i.push(t.value.slice());return i},Ua=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var i=e.createElement("boundtest");i.style.height=t+"px",i.style.display="block",e.body.appendChild(i),n.selectNode(i);var r=n.getBoundingClientRect(),A=Math.round(r.height);if(e.body.removeChild(i),A===t)return!0}}return!1},Ra=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var i=t.firstChild,r=l(i.data).map((function(e){return c(e)})),A=0,a={},o=r.every((function(e,t){n.setStart(i,A),n.setEnd(i,A+e.length);var r=n.getBoundingClientRect();A+=e.length;var o=r.x>a.x||r.y>a.y;return a=r,0===t||o}));return e.body.removeChild(t),o},La=function(){return void 0!==(new Image).crossOrigin},Ha=function(){return"string"==typeof(new XMLHttpRequest).responseType},Ga=function(e){var t=new Image,n=e.createElement("canvas"),i=n.getContext("2d");if(!i)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(t,0,0),n.toDataURL()}catch(e){return!1}return!0},Pa=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},Qa=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var i=t.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,n,n);var r=new Image,A=t.toDataURL();r.src=A;var a=Da(n,n,0,0,r);return i.fillStyle="red",i.fillRect(0,0,n,n),Na(a).then((function(t){i.drawImage(t,0,0);var r=i.getImageData(0,0,n,n).data;i.fillStyle="red",i.fillRect(0,0,n,n);var a=e.createElement("div");return a.style.backgroundImage="url("+A+")",a.style.height=n+"px",Pa(r)?Na(Da(n,n,0,0,a)):Promise.reject(!1)})).then((function(e){return i.drawImage(e,0,0),Pa(i.getImageData(0,0,n,n).data)})).catch((function(){return!1}))},Da=function(e,t,n,i,r){var A="http://www.w3.org/2000/svg",a=document.createElementNS(A,"svg"),o=document.createElementNS(A,"foreignObject");return a.setAttributeNS(null,"width",e.toString()),a.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",i.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(r),a},Na=function(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){return t(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Va={get SUPPORT_RANGE_BOUNDS(){var e=Ua(document);return Object.defineProperty(Va,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Va.SUPPORT_RANGE_BOUNDS&&Ra(document);return Object.defineProperty(Va,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=Ga(document);return Object.defineProperty(Va,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?Qa(document):Promise.resolve(!1);return Object.defineProperty(Va,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=La();return Object.defineProperty(Va,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=Ha();return Object.defineProperty(Va,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Va,"SUPPORT_CORS_XHR",{value:e}),e}},Oa=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),ka=function(e,t,n,i){var r=_a(t,n),A=[],o=0;return r.forEach((function(t){if(n.textDecorationLine.length||t.trim().length>0)if(Va.SUPPORT_RANGE_BOUNDS)Va.SUPPORT_WORD_BREAKING?A.push(new Oa(t,Xa(e,i,o,t.length))):A.push(new Oa(t,a.fromDOMRectList(e,Za(i,o,t.length).getClientRects())));else{var r=i.splitText(t.length);A.push(new Oa(t,Wa(e,i))),i=r}else Va.SUPPORT_RANGE_BOUNDS||(i=i.splitText(t.length));o+=t.length})),A},Wa=function(e,t){var n=t.ownerDocument;if(n){var i=n.createElement("html2canvaswrapper");i.appendChild(t.cloneNode(!0));var r=t.parentNode;if(r){r.replaceChild(i,t);var A=o(e,i);return i.firstChild&&r.replaceChild(i.firstChild,i),A}}return a.EMPTY},Za=function(e,t,n){var i=e.ownerDocument;if(!i)throw new Error("Node has no owner document");var r=i.createRange();return r.setStart(e,t),r.setEnd(e,t+n),r},Xa=function(e,t,n,i){return a.fromClientRect(e,Za(t,n,i).getBoundingClientRect())},_a=function(e,t){return 0!==t.letterSpacing?Fa(e):Ka(e,t)},za=[32,160,4961,65792,65793,4153,4241],Ka=function(e,t){for(var n,i=Ne(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),r=[],A=function(){if(n.value){var e=n.value.slice(),t=l(e),i="";t.forEach((function(e){-1===za.indexOf(e)?i+=c(e):(i.length&&r.push(i),r.push(c(e)),i="")})),i.length&&r.push(i)}};!(n=i.next()).done;)A();return r},Ya=function(){function e(e,t,n){this.text=ja(t.data,n.textTransform),this.textBounds=ka(e,this.text,n,t)}return e}(),ja=function(e,t){switch(t){case Yr.LOWERCASE:return e.toLowerCase();case Yr.CAPITALIZE:return e.replace(Ja,qa);case Yr.UPPERCASE:return e.toUpperCase();default:return e}},Ja=/(^|\s|:|-|\(|\))([a-z])/g,qa=function(e,t,n){return e.length>0?t+n.toUpperCase():e},$a=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return t(n,e),n}(DA),eo=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return t(n,e),n}(DA),to=function(e){function n(t,n){var i=e.call(this,t,n)||this,r=new XMLSerializer,A=o(t,n);return n.setAttribute("width",A.width+"px"),n.setAttribute("height",A.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return t(n,e),n}(DA),no=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.value=n.value,i}return t(n,e),n}(DA),io=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.start=n.start,i.reversed="boolean"==typeof n.reversed&&!0===n.reversed,i}return t(n,e),n}(DA),ro=[{type:15,flags:0,unit:"px",number:3}],Ao=[{type:16,flags:0,number:50}],ao=function(e){return e.width>e.height?new a(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new a(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},oo=function(e){var t=e.type===co?new Array(e.value.length+1).join("•"):e.value;return 0===t.length?e.placeholder||"":t},so="checkbox",lo="radio",co="password",uo=707406591,ho=function(e){function n(t,n){var i=e.call(this,t,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=oo(n),i.type!==so&&i.type!==lo||(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=Ki.SOLID,i.styles.backgroundClip=[ai.BORDER_BOX],i.styles.backgroundOrigin=[0],i.bounds=ao(i.bounds)),i.type){case so:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=ro;break;case lo:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Ao}return i}return t(n,e),n}(DA),go=function(e){function n(t,n){var i=e.call(this,t,n)||this,r=n.options[n.selectedIndex||0];return i.value=r&&r.text||"",i}return t(n,e),n}(DA),po=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.value=n.value,i}return t(n,e),n}(DA),fo=function(e){function n(t,n){var i=e.call(this,t,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=yo(t,n.contentWindow.document.documentElement);var r=n.contentWindow.document.documentElement?li(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):ci.TRANSPARENT,A=n.contentWindow.document.body?li(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):ci.TRANSPARENT;i.backgroundColor=ei(r)?ei(A)?i.styles.backgroundColor:A:r}}catch(e){}return i}return t(n,e),n}(DA),mo=["OL","UL","MENU"],vo=function(e,t,n,i){for(var r=t.firstChild,A=void 0;r;r=A)if(A=r.nextSibling,bo(r)&&r.data.trim().length>0)n.textNodes.push(new Ya(e,r,n.styles));else if(Bo(r))if(Vo(r)&&r.assignedNodes)r.assignedNodes().forEach((function(t){return vo(e,t,n,i)}));else{var a=Co(e,r);a.styles.isVisible()&&(Io(r,a,i)?a.flags|=4:wo(a.styles)&&(a.flags|=2),-1!==mo.indexOf(r.tagName)&&(a.flags|=8),n.elements.push(a),r.slot,r.shadowRoot?vo(e,r.shadowRoot,a,i):Do(r)||Uo(r)||No(r)||vo(e,r,a,i))}},Co=function(e,t){return Ho(t)?new $a(e,t):Lo(t)?new eo(e,t):Uo(t)?new to(e,t):Eo(t)?new no(e,t):To(t)?new io(e,t):So(t)?new ho(e,t):No(t)?new go(e,t):Do(t)?new po(e,t):Go(t)?new fo(e,t):new DA(e,t)},yo=function(e,t){var n=Co(e,t);return n.flags|=4,vo(e,t,n,n),n},Io=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Ro(e)&&n.styles.isTransparent()},wo=function(e){return e.isPositioned()||e.isFloating()},bo=function(e){return e.nodeType===Node.TEXT_NODE},Bo=function(e){return e.nodeType===Node.ELEMENT_NODE},xo=function(e){return Bo(e)&&void 0!==e.style&&!Mo(e)},Mo=function(e){return"object"==typeof e.className},Eo=function(e){return"LI"===e.tagName},To=function(e){return"OL"===e.tagName},So=function(e){return"INPUT"===e.tagName},Fo=function(e){return"HTML"===e.tagName},Uo=function(e){return"svg"===e.tagName},Ro=function(e){return"BODY"===e.tagName},Lo=function(e){return"CANVAS"===e.tagName},Ho=function(e){return"IMG"===e.tagName},Go=function(e){return"IFRAME"===e.tagName},Po=function(e){return"STYLE"===e.tagName},Qo=function(e){return"SCRIPT"===e.tagName},Do=function(e){return"TEXTAREA"===e.tagName},No=function(e){return"SELECT"===e.tagName},Vo=function(e){return"SLOT"===e.tagName},Oo=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,i=e.counterReset,r=!0;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(r=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)}));var A=[];return r&&i.forEach((function(e){var n=t.counters[e.counter];A.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)})),A},e}(),ko={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Wo={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Zo={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Xo={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},_o=function(e,t,n,i,r,A){return e<t||e>n?As(e,r,A.length>0):i.integers.reduce((function(t,n,r){for(;e>=n;)e-=n,t+=i.values[r];return t}),"")+A},zo=function(e,t,n,i){var r="";do{n||e--,r=i(e)+r,e/=t}while(e*t>=t);return r},Ko=function(e,t,n,i,r){var A=n-t+1;return(e<0?"-":"")+(zo(Math.abs(e),A,i,(function(e){return c(Math.floor(e%A)+t)}))+r)},Yo=function(e,t,n){void 0===n&&(n=". ");var i=t.length;return zo(Math.abs(e),i,!1,(function(e){return t[Math.floor(e%i)]}))+n},jo=1,Jo=2,qo=4,$o=8,es=function(e,t,n,i,r,A){if(e<-9999||e>9999)return As(e,Fr.CJK_DECIMAL,r.length>0);var a=Math.abs(e),o=r;if(0===a)return t[0]+o;for(var s=0;a>0&&s<=4;s++){var l=a%10;0===l&&yA(A,jo)&&""!==o?o=t[l]+o:l>1||1===l&&0===s||1===l&&1===s&&yA(A,Jo)||1===l&&1===s&&yA(A,qo)&&e>100||1===l&&s>1&&yA(A,$o)?o=t[l]+(s>0?n[s-1]:"")+o:1===l&&s>0&&(o=n[s-1]+o),a=Math.floor(a/10)}return(e<0?i:"")+o},ts="十百千萬",ns="拾佰仟萬",is="マイナス",rs="마이너스",As=function(e,t,n){var i=n?". ":"",r=n?"、":"",A=n?", ":"",a=n?" ":"";switch(t){case Fr.DISC:return"•"+a;case Fr.CIRCLE:return"◦"+a;case Fr.SQUARE:return"◾"+a;case Fr.DECIMAL_LEADING_ZERO:var o=Ko(e,48,57,!0,i);return o.length<4?"0"+o:o;case Fr.CJK_DECIMAL:return Yo(e,"〇一二三四五六七八九",r);case Fr.LOWER_ROMAN:return _o(e,1,3999,ko,Fr.DECIMAL,i).toLowerCase();case Fr.UPPER_ROMAN:return _o(e,1,3999,ko,Fr.DECIMAL,i);case Fr.LOWER_GREEK:return Ko(e,945,969,!1,i);case Fr.LOWER_ALPHA:return Ko(e,97,122,!1,i);case Fr.UPPER_ALPHA:return Ko(e,65,90,!1,i);case Fr.ARABIC_INDIC:return Ko(e,1632,1641,!0,i);case Fr.ARMENIAN:case Fr.UPPER_ARMENIAN:return _o(e,1,9999,Wo,Fr.DECIMAL,i);case Fr.LOWER_ARMENIAN:return _o(e,1,9999,Wo,Fr.DECIMAL,i).toLowerCase();case Fr.BENGALI:return Ko(e,2534,2543,!0,i);case Fr.CAMBODIAN:case Fr.KHMER:return Ko(e,6112,6121,!0,i);case Fr.CJK_EARTHLY_BRANCH:return Yo(e,"子丑寅卯辰巳午未申酉戌亥",r);case Fr.CJK_HEAVENLY_STEM:return Yo(e,"甲乙丙丁戊己庚辛壬癸",r);case Fr.CJK_IDEOGRAPHIC:case Fr.TRAD_CHINESE_INFORMAL:return es(e,"零一二三四五六七八九",ts,"負",r,Jo|qo|$o);case Fr.TRAD_CHINESE_FORMAL:return es(e,"零壹貳參肆伍陸柒捌玖",ns,"負",r,jo|Jo|qo|$o);case Fr.SIMP_CHINESE_INFORMAL:return es(e,"零一二三四五六七八九",ts,"负",r,Jo|qo|$o);case Fr.SIMP_CHINESE_FORMAL:return es(e,"零壹贰叁肆伍陆柒捌玖",ns,"负",r,jo|Jo|qo|$o);case Fr.JAPANESE_INFORMAL:return es(e,"〇一二三四五六七八九","十百千万",is,r,0);case Fr.JAPANESE_FORMAL:return es(e,"零壱弐参四伍六七八九","拾百千万",is,r,jo|Jo|qo);case Fr.KOREAN_HANGUL_FORMAL:return es(e,"영일이삼사오육칠팔구","십백천만",rs,A,jo|Jo|qo);case Fr.KOREAN_HANJA_INFORMAL:return es(e,"零一二三四五六七八九","十百千萬",rs,A,0);case Fr.KOREAN_HANJA_FORMAL:return es(e,"零壹貳參四五六七八九","拾百千",rs,A,jo|Jo|qo);case Fr.DEVANAGARI:return Ko(e,2406,2415,!0,i);case Fr.GEORGIAN:return _o(e,1,19999,Xo,Fr.DECIMAL,i);case Fr.GUJARATI:return Ko(e,2790,2799,!0,i);case Fr.GURMUKHI:return Ko(e,2662,2671,!0,i);case Fr.HEBREW:return _o(e,1,10999,Zo,Fr.DECIMAL,i);case Fr.HIRAGANA:return Yo(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case Fr.HIRAGANA_IROHA:return Yo(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case Fr.KANNADA:return Ko(e,3302,3311,!0,i);case Fr.KATAKANA:return Yo(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",r);case Fr.KATAKANA_IROHA:return Yo(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",r);case Fr.LAO:return Ko(e,3792,3801,!0,i);case Fr.MONGOLIAN:return Ko(e,6160,6169,!0,i);case Fr.MYANMAR:return Ko(e,4160,4169,!0,i);case Fr.ORIYA:return Ko(e,2918,2927,!0,i);case Fr.PERSIAN:return Ko(e,1776,1785,!0,i);case Fr.TAMIL:return Ko(e,3046,3055,!0,i);case Fr.TELUGU:return Ko(e,3174,3183,!0,i);case Fr.THAI:return Ko(e,3664,3673,!0,i);case Fr.TIBETAN:return Ko(e,3872,3881,!0,i);case Fr.DECIMAL:default:return Ko(e,48,57,!0,i)}},as="data-html2canvas-ignore",os=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new Oo,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement)}return e.prototype.toIFrame=function(e,t){var n=this,A=ls(e,t);if(!A.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,s=A.contentWindow,l=s.document,c=hs(A).then((function(){return i(n,void 0,void 0,(function(){var e,n;return r(this,(function(i){switch(i.label){case 0:return this.scrolledElements.forEach(ms),s&&(s.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||s.scrollY===t.top&&s.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(s.scrollX-t.left,s.scrollY-t.top,0,0))),e=this.options.onclone,void 0===(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:i.sent(),i.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,us(l)]:[3,4];case 3:i.sent(),i.label=4;case 4:return"function"==typeof e?[2,Promise.resolve().then((function(){return e(l,n)})).then((function(){return A}))]:[2,A]}}))}))}));return l.open(),l.write(ps(document.doctype)+"<html></html>"),fs(this.referenceElement.ownerDocument,a,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},e.prototype.createElementClone=function(e){if(QA(e,2),Lo(e))return this.createCanvasClone(e);if(Po(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Ho(t)&&(Ho(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"==typeof t.cssText?e+t.cssText:e}),""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(e){if(this.context.logger.error("Unable to access cssRules property",e),"SecurityError"!==e.name)throw e}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(t){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var r=e.getContext("2d"),A=i.getContext("2d");if(A)if(!this.options.allowTaint&&r)A.putImageData(r.getImageData(0,0,e.width,e.height),0,0);else{var a=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(a){var o=a.getContextAttributes();!1===(null==o?void 0:o.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}A.drawImage(e,0,0)}return i}catch(t){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},e.prototype.cloneNode=function(e){if(bo(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var t=e.ownerDocument.defaultView;if(t&&Bo(e)&&(xo(e)||Mo(e))){var n=this.createElementClone(e);n.style.transitionProperty="none";var i=t.getComputedStyle(e),r=t.getComputedStyle(e,":before"),A=t.getComputedStyle(e,":after");this.referenceElement===e&&xo(n)&&(this.clonedReferenceElement=n),Ro(n)&&bs(n);for(var a=this.counters.parse(new LA(this.context,i)),o=this.resolvePseudoContent(e,n,r,oa.BEFORE),s=e.firstChild;s;s=s.nextSibling)Bo(s)&&(Qo(s)||s.hasAttribute(as)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(s))||this.options.copyStyles&&Bo(s)&&Po(s)||n.appendChild(this.cloneNode(s));o&&n.insertBefore(o,n.firstChild);var l=this.resolvePseudoContent(e,n,A,oa.AFTER);return l&&n.appendChild(l),this.counters.pop(a),i&&(this.options.copyStyles||Mo(e))&&!Go(e)&&gs(i,n),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([n,e.scrollLeft,e.scrollTop]),(Do(e)||No(e))&&(Do(n)||No(n))&&(n.value=e.value),n}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,i){var r=this;if(n){var A=n.content,a=t.ownerDocument;if(a&&A&&"none"!==A&&"-moz-alt-content"!==A&&"none"!==n.display){this.counters.parse(new LA(this.context,n));var o=new RA(this.context,n),s=a.createElement("html2canvaspseudoelement");gs(n,s),o.content.forEach((function(t){if(0===t.type)s.appendChild(a.createTextNode(t.value));else if(22===t.type){var n=a.createElement("img");n.src=t.value,n.style.opacity="1",s.appendChild(n)}else if(18===t.type){if("attr"===t.name){var i=t.values.filter(Fn);i.length&&s.appendChild(a.createTextNode(e.getAttribute(i[0].value)||""))}else if("counter"===t.name){var A=t.values.filter(Hn),l=A[0],c=A[1];if(l&&Fn(l)){var u=r.counters.getCounterValue(l.value),h=c&&Fn(c)?Lr.parse(r.context,c.value):Fr.DECIMAL;s.appendChild(a.createTextNode(As(u,h,!1)))}}else if("counters"===t.name){var d=t.values.filter(Hn),g=(l=d[0],d[1]);if(c=d[2],l&&Fn(l)){var p=r.counters.getCounterValues(l.value),f=c&&Fn(c)?Lr.parse(r.context,c.value):Fr.DECIMAL,m=g&&0===g.type?g.value:"",v=p.map((function(e){return As(e,f,!1)})).join(m);s.appendChild(a.createTextNode(v))}}}else if(20===t.type)switch(t.value){case"open-quote":s.appendChild(a.createTextNode(MA(o.quotes,r.quoteDepth++,!0)));break;case"close-quote":s.appendChild(a.createTextNode(MA(o.quotes,--r.quoteDepth,!1)));break;default:s.appendChild(a.createTextNode(t.value))}})),s.className=ys+" "+Is;var l=i===oa.BEFORE?" "+ys:" "+Is;return Mo(t)?t.className.baseValue+=l:t.className+=l,s}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(oa||(oa={}));var ss,ls=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(as,"true"),e.body.appendChild(n),n},cs=function(e){return new Promise((function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()}))},us=function(e){return Promise.all([].slice.call(e.images,0).map(cs))},hs=function(e){return new Promise((function(t,n){var i=e.contentWindow;if(!i)return n("No window assigned for iframe");var r=i.document;i.onload=e.onload=function(){i.onload=e.onload=null;var n=setInterval((function(){r.body.childNodes.length>0&&"complete"===r.readyState&&(clearInterval(n),t(e))}),50)}}))},ds=["all","d","content"],gs=function(e,t){for(var n=e.length-1;n>=0;n--){var i=e.item(n);-1===ds.indexOf(i)&&t.style.setProperty(i,e.getPropertyValue(i))}return t},ps=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},fs=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},ms=function(e){var t=e[0],n=e[1],i=e[2];t.scrollLeft=n,t.scrollTop=i},vs=":before",Cs=":after",ys="___html2canvas___pseudoelement_before",Is="___html2canvas___pseudoelement_after",ws='{\n    content: "" !important;\n    display: none !important;\n}',bs=function(e){Bs(e,"."+ys+vs+ws+"\n         ."+Is+Cs+ws)},Bs=function(e,t){var n=e.ownerDocument;if(n){var i=n.createElement("style");i.textContent=t,e.appendChild(i)}},xs=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),Ms=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:Ls(e)||Fs(e)?((this._cache[e]=this.loadImage(e)).catch((function(){})),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return i(this,void 0,void 0,(function(){var t,n,i,A,a=this;return r(this,(function(r){switch(r.label){case 0:return t=xs.isSameOrigin(e),n=!Us(e)&&!0===this._options.useCORS&&Va.SUPPORT_CORS_IMAGES&&!t,i=!Us(e)&&!t&&!Ls(e)&&"string"==typeof this._options.proxy&&Va.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||Us(e)||Ls(e)||i||n?(A=e,i?[4,this.proxy(A)]:[3,2]):[2];case 1:A=r.sent(),r.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var i=new Image;i.onload=function(){return e(i)},i.onerror=t,(Rs(A)||n)&&(i.crossOrigin="anonymous"),i.src=A,!0===i.complete&&setTimeout((function(){return e(i)}),500),a._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+a._options.imageTimeout+"ms) loading image")}),a._options.imageTimeout)}))];case 3:return[2,r.sent()]}}))}))},e.prototype.has=function(e){return void 0!==this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise((function(r,A){var a=Va.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(200===o.status)if("text"===a)r(o.response);else{var e=new FileReader;e.addEventListener("load",(function(){return r(e.result)}),!1),e.addEventListener("error",(function(e){return A(e)}),!1),e.readAsDataURL(o.response)}else A("Failed to proxy resource "+i+" with status code "+o.status)},o.onerror=A;var s=n.indexOf("?")>-1?"&":"?";if(o.open("GET",""+n+s+"url="+encodeURIComponent(e)+"&responseType="+a),"text"!==a&&o instanceof XMLHttpRequest&&(o.responseType=a),t._options.imageTimeout){var l=t._options.imageTimeout;o.timeout=l,o.ontimeout=function(){return A("Timed out ("+l+"ms) proxying "+i)}}o.send()}))},e}(),Es=/^data:image\/svg\+xml/i,Ts=/^data:image\/.*;base64,/i,Ss=/^data:image\/.*/i,Fs=function(e){return Va.SUPPORT_SVG_DRAWING||!Hs(e)},Us=function(e){return Ss.test(e)},Rs=function(e){return Ts.test(e)},Ls=function(e){return"blob"===e.substr(0,4)},Hs=function(e){return"svg"===e.substr(-3).toLowerCase()||Es.test(e)};!function(e){e[e.VECTOR=0]="VECTOR",e[e.BEZIER_CURVE=1]="BEZIER_CURVE"}(ss||(ss={}));var Gs,Ps=function(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))},Qs=function(e,t,n,i,r){return e.map((function(e,A){switch(A){case 0:return e.add(t,n);case 1:return e.add(t+i,n);case 2:return e.add(t+i,n+r);case 3:return e.add(t,n+r)}return e}))},Ds=function(){function e(e,t){this.type=ss.VECTOR,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Ns=function(e,t,n){return new Ds(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Vs=function(){function e(e,t,n,i){this.type=ss.BEZIER_CURVE,this.start=e,this.startControl=t,this.endControl=n,this.end=i}return e.prototype.subdivide=function(t,n){var i=Ns(this.start,this.startControl,t),r=Ns(this.startControl,this.endControl,t),A=Ns(this.endControl,this.end,t),a=Ns(i,r,t),o=Ns(r,A,t),s=Ns(a,o,t);return n?new e(this.start,i,a,s):new e(s,o,A,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Os=function(e){return e.type===ss.BEZIER_CURVE},ks=function(){function e(e){var t=e.styles,n=e.bounds,i=Wn(t.borderTopLeftRadius,n.width,n.height),r=i[0],A=i[1],a=Wn(t.borderTopRightRadius,n.width,n.height),o=a[0],s=a[1],l=Wn(t.borderBottomRightRadius,n.width,n.height),c=l[0],u=l[1],h=Wn(t.borderBottomLeftRadius,n.width,n.height),d=h[0],g=h[1],p=[];p.push((r+o)/n.width),p.push((d+c)/n.width),p.push((A+g)/n.height),p.push((s+u)/n.height);var f=Math.max.apply(Math,p);f>1&&(r/=f,A/=f,o/=f,s/=f,c/=f,u/=f,d/=f,g/=f);var m=n.width-o,v=n.height-u,C=n.width-c,y=n.height-g,I=t.borderTopWidth,w=t.borderRightWidth,b=t.borderBottomWidth,B=t.borderLeftWidth,x=Zn(t.paddingTop,e.bounds.width),M=Zn(t.paddingRight,e.bounds.width),E=Zn(t.paddingBottom,e.bounds.width),T=Zn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=r>0||A>0?Ws(n.left+B/3,n.top+I/3,r-B/3,A-I/3,Gs.TOP_LEFT):new Ds(n.left+B/3,n.top+I/3),this.topRightBorderDoubleOuterBox=r>0||A>0?Ws(n.left+m,n.top+I/3,o-w/3,s-I/3,Gs.TOP_RIGHT):new Ds(n.left+n.width-w/3,n.top+I/3),this.bottomRightBorderDoubleOuterBox=c>0||u>0?Ws(n.left+C,n.top+v,c-w/3,u-b/3,Gs.BOTTOM_RIGHT):new Ds(n.left+n.width-w/3,n.top+n.height-b/3),this.bottomLeftBorderDoubleOuterBox=d>0||g>0?Ws(n.left+B/3,n.top+y,d-B/3,g-b/3,Gs.BOTTOM_LEFT):new Ds(n.left+B/3,n.top+n.height-b/3),this.topLeftBorderDoubleInnerBox=r>0||A>0?Ws(n.left+2*B/3,n.top+2*I/3,r-2*B/3,A-2*I/3,Gs.TOP_LEFT):new Ds(n.left+2*B/3,n.top+2*I/3),this.topRightBorderDoubleInnerBox=r>0||A>0?Ws(n.left+m,n.top+2*I/3,o-2*w/3,s-2*I/3,Gs.TOP_RIGHT):new Ds(n.left+n.width-2*w/3,n.top+2*I/3),this.bottomRightBorderDoubleInnerBox=c>0||u>0?Ws(n.left+C,n.top+v,c-2*w/3,u-2*b/3,Gs.BOTTOM_RIGHT):new Ds(n.left+n.width-2*w/3,n.top+n.height-2*b/3),this.bottomLeftBorderDoubleInnerBox=d>0||g>0?Ws(n.left+2*B/3,n.top+y,d-2*B/3,g-2*b/3,Gs.BOTTOM_LEFT):new Ds(n.left+2*B/3,n.top+n.height-2*b/3),this.topLeftBorderStroke=r>0||A>0?Ws(n.left+B/2,n.top+I/2,r-B/2,A-I/2,Gs.TOP_LEFT):new Ds(n.left+B/2,n.top+I/2),this.topRightBorderStroke=r>0||A>0?Ws(n.left+m,n.top+I/2,o-w/2,s-I/2,Gs.TOP_RIGHT):new Ds(n.left+n.width-w/2,n.top+I/2),this.bottomRightBorderStroke=c>0||u>0?Ws(n.left+C,n.top+v,c-w/2,u-b/2,Gs.BOTTOM_RIGHT):new Ds(n.left+n.width-w/2,n.top+n.height-b/2),this.bottomLeftBorderStroke=d>0||g>0?Ws(n.left+B/2,n.top+y,d-B/2,g-b/2,Gs.BOTTOM_LEFT):new Ds(n.left+B/2,n.top+n.height-b/2),this.topLeftBorderBox=r>0||A>0?Ws(n.left,n.top,r,A,Gs.TOP_LEFT):new Ds(n.left,n.top),this.topRightBorderBox=o>0||s>0?Ws(n.left+m,n.top,o,s,Gs.TOP_RIGHT):new Ds(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||u>0?Ws(n.left+C,n.top+v,c,u,Gs.BOTTOM_RIGHT):new Ds(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=d>0||g>0?Ws(n.left,n.top+y,d,g,Gs.BOTTOM_LEFT):new Ds(n.left,n.top+n.height),this.topLeftPaddingBox=r>0||A>0?Ws(n.left+B,n.top+I,Math.max(0,r-B),Math.max(0,A-I),Gs.TOP_LEFT):new Ds(n.left+B,n.top+I),this.topRightPaddingBox=o>0||s>0?Ws(n.left+Math.min(m,n.width-w),n.top+I,m>n.width+w?0:Math.max(0,o-w),Math.max(0,s-I),Gs.TOP_RIGHT):new Ds(n.left+n.width-w,n.top+I),this.bottomRightPaddingBox=c>0||u>0?Ws(n.left+Math.min(C,n.width-B),n.top+Math.min(v,n.height-b),Math.max(0,c-w),Math.max(0,u-b),Gs.BOTTOM_RIGHT):new Ds(n.left+n.width-w,n.top+n.height-b),this.bottomLeftPaddingBox=d>0||g>0?Ws(n.left+B,n.top+Math.min(y,n.height-b),Math.max(0,d-B),Math.max(0,g-b),Gs.BOTTOM_LEFT):new Ds(n.left+B,n.top+n.height-b),this.topLeftContentBox=r>0||A>0?Ws(n.left+B+T,n.top+I+x,Math.max(0,r-(B+T)),Math.max(0,A-(I+x)),Gs.TOP_LEFT):new Ds(n.left+B+T,n.top+I+x),this.topRightContentBox=o>0||s>0?Ws(n.left+Math.min(m,n.width+B+T),n.top+I+x,m>n.width+B+T?0:o-B+T,s-(I+x),Gs.TOP_RIGHT):new Ds(n.left+n.width-(w+M),n.top+I+x),this.bottomRightContentBox=c>0||u>0?Ws(n.left+Math.min(C,n.width-(B+T)),n.top+Math.min(v,n.height+I+x),Math.max(0,c-(w+M)),u-(b+E),Gs.BOTTOM_RIGHT):new Ds(n.left+n.width-(w+M),n.top+n.height-(b+E)),this.bottomLeftContentBox=d>0||g>0?Ws(n.left+B+T,n.top+y,Math.max(0,d-(B+T)),g-(b+E),Gs.BOTTOM_LEFT):new Ds(n.left+B+T,n.top+n.height-(b+E))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Gs||(Gs={}));var Ws=function(e,t,n,i,r){var A=(Math.sqrt(2)-1)/3*4,a=n*A,o=i*A,s=e+n,l=t+i;switch(r){case Gs.TOP_LEFT:return new Vs(new Ds(e,l),new Ds(e,l-o),new Ds(s-a,t),new Ds(s,t));case Gs.TOP_RIGHT:return new Vs(new Ds(e,t),new Ds(e+a,t),new Ds(s,l-o),new Ds(s,l));case Gs.BOTTOM_RIGHT:return new Vs(new Ds(s,t),new Ds(s,t+o),new Ds(e+a,l),new Ds(e,l));case Gs.BOTTOM_LEFT:default:return new Vs(new Ds(s,l),new Ds(s-a,l),new Ds(e,t+o),new Ds(e,t))}},Zs=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Xs=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},_s=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},zs=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),Ks=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),Ys=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),js=function(e){return 0===e.type},Js=function(e){return 1===e.type},qs=function(e){return 2===e.type},$s=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),el=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new ks(this.container),this.container.styles.opacity<1&&this.effects.push(new Ys(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,r=this.container.styles.transform;this.effects.push(new zs(n,i,r))}if(this.container.styles.overflowX!==Rr.VISIBLE){var A=Zs(this.curves),a=_s(this.curves);Ps(A,a)?this.effects.push(new Ks(A,6)):(this.effects.push(new Ks(A,2)),this.effects.push(new Ks(a,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[zr.ABSOLUTE,zr.FIXED].indexOf(this.container.styles.position),n=this.parent,i=this.effects.slice(0);n;){var r=n.effects.filter((function(e){return!Js(e)}));if(t||n.container.styles.position!==zr.STATIC||!n.parent){if(i.unshift.apply(i,r),t=-1===[zr.ABSOLUTE,zr.FIXED].indexOf(n.container.styles.position),n.container.styles.overflowX!==Rr.VISIBLE){var A=Zs(n.curves),a=_s(n.curves);Ps(A,a)||i.unshift(new Ks(a,6))}}else i.unshift.apply(i,r);n=n.parent}return i.filter((function(t){return yA(t.target,e)}))},e}(),tl=function(e,t,n,i){e.container.elements.forEach((function(r){var A=yA(r.flags,4),a=yA(r.flags,2),o=new el(r,e);yA(r.styles.display,2048)&&i.push(o);var s=yA(r.flags,8)?[]:i;if(A||a){var l=A||r.styles.isPositioned()?n:t,c=new $s(o);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var u=r.styles.zIndex.order;if(u<0){var h=0;l.negativeZIndex.some((function(e,t){return u>e.element.container.styles.zIndex.order?(h=t,!1):h>0})),l.negativeZIndex.splice(h,0,c)}else if(u>0){var d=0;l.positiveZIndex.some((function(e,t){return u>=e.element.container.styles.zIndex.order?(d=t+1,!1):d>0})),l.positiveZIndex.splice(d,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else r.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);tl(o,c,A?c:n,s)}else r.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),tl(o,t,n,s);yA(r.flags,8)&&nl(r,s)}))},nl=function(e,t){for(var n=e instanceof io?e.start:1,i=e instanceof io&&e.reversed,r=0;r<t.length;r++){var A=t[r];A.container instanceof no&&"number"==typeof A.container.value&&0!==A.container.value&&(n=A.container.value),A.listValue=As(n,A.container.styles.listStyleType,!0),n+=i?-1:1}},il=function(e){var t=new el(e,null),n=new $s(t),i=[];return tl(t,n,n,i),nl(t.container,i),n},rl=function(e,t){switch(t){case 0:return ll(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return ll(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return ll(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return ll(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Al=function(e,t){switch(t){case 0:return ll(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return ll(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return ll(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return ll(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},al=function(e,t){switch(t){case 0:return ll(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return ll(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return ll(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return ll(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},ol=function(e,t){switch(t){case 0:return sl(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return sl(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return sl(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return sl(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},sl=function(e,t){var n=[];return Os(e)?n.push(e.subdivide(.5,!1)):n.push(e),Os(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},ll=function(e,t,n,i){var r=[];return Os(e)?r.push(e.subdivide(.5,!1)):r.push(e),Os(n)?r.push(n.subdivide(.5,!0)):r.push(n),Os(i)?r.push(i.subdivide(.5,!0).reverse()):r.push(i),Os(t)?r.push(t.subdivide(.5,!1).reverse()):r.push(t),r},cl=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},ul=function(e){var t=e.styles,n=e.bounds,i=Zn(t.paddingLeft,n.width),r=Zn(t.paddingRight,n.width),A=Zn(t.paddingTop,n.width),a=Zn(t.paddingBottom,n.width);return n.add(i+t.borderLeftWidth,A+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+i+r),-(t.borderTopWidth+t.borderBottomWidth+A+a))},hl=function(e,t){return 0===e?t.bounds:2===e?ul(t):cl(t)},dl=function(e,t){return e===ai.BORDER_BOX?t.bounds:e===ai.CONTENT_BOX?ul(t):cl(t)},gl=function(e,t,n){var i=hl(vl(e.styles.backgroundOrigin,t),e),r=dl(vl(e.styles.backgroundClip,t),e),A=ml(vl(e.styles.backgroundSize,t),n,i),a=A[0],o=A[1],s=Wn(vl(e.styles.backgroundPosition,t),i.width-a,i.height-o);return[Cl(vl(e.styles.backgroundRepeat,t),s,A,i,r),Math.round(i.left+s[0]),Math.round(i.top+s[1]),a,o]},pl=function(e){return Fn(e)&&e.value===Xi.AUTO},fl=function(e){return"number"==typeof e},ml=function(e,t,n){var i=t[0],r=t[1],A=t[2],a=e[0],o=e[1];if(!a)return[0,0];if(Dn(a)&&o&&Dn(o))return[Zn(a,n.width),Zn(o,n.height)];var s=fl(A);if(Fn(a)&&(a.value===Xi.CONTAIN||a.value===Xi.COVER))return fl(A)?n.width/n.height<A!=(a.value===Xi.COVER)?[n.width,n.width/A]:[n.height*A,n.height]:[n.width,n.height];var l=fl(i),c=fl(r),u=l||c;if(pl(a)&&(!o||pl(o)))return l&&c?[i,r]:s||u?u&&s?[l?i:r*A,c?r:i/A]:[l?i:n.width,c?r:n.height]:[n.width,n.height];if(s){var h=0,d=0;return Dn(a)?h=Zn(a,n.width):Dn(o)&&(d=Zn(o,n.height)),pl(a)?h=d*A:o&&!pl(o)||(d=h/A),[h,d]}var g=null,p=null;if(Dn(a)?g=Zn(a,n.width):o&&Dn(o)&&(p=Zn(o,n.height)),null===g||o&&!pl(o)||(p=l&&c?g/i*r:n.height),null!==p&&pl(a)&&(g=l&&c?p/r*i:n.width),null!==g&&null!==p)return[g,p];throw new Error("Unable to calculate background-size for element")},vl=function(e,t){var n=e[t];return void 0===n?e[0]:n},Cl=function(e,t,n,i,r){var A=t[0],a=t[1],o=n[0],s=n[1];switch(e){case Vi.REPEAT_X:return[new Ds(Math.round(i.left),Math.round(i.top+a)),new Ds(Math.round(i.left+i.width),Math.round(i.top+a)),new Ds(Math.round(i.left+i.width),Math.round(s+i.top+a)),new Ds(Math.round(i.left),Math.round(s+i.top+a))];case Vi.REPEAT_Y:return[new Ds(Math.round(i.left+A),Math.round(i.top)),new Ds(Math.round(i.left+A+o),Math.round(i.top)),new Ds(Math.round(i.left+A+o),Math.round(i.height+i.top)),new Ds(Math.round(i.left+A),Math.round(i.height+i.top))];case Vi.NO_REPEAT:return[new Ds(Math.round(i.left+A),Math.round(i.top+a)),new Ds(Math.round(i.left+A+o),Math.round(i.top+a)),new Ds(Math.round(i.left+A+o),Math.round(i.top+a+s)),new Ds(Math.round(i.left+A),Math.round(i.top+a+s))];default:return[new Ds(Math.round(r.left),Math.round(r.top)),new Ds(Math.round(r.left+r.width),Math.round(r.top)),new Ds(Math.round(r.left+r.width),Math.round(r.height+r.top)),new Ds(Math.round(r.left),Math.round(r.height+r.top))]}},yl="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Il="Hidden Text",wl=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),i=this._document.createElement("img"),r=this._document.createElement("span"),A=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",A.appendChild(n),i.src=yl,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode(Il)),n.appendChild(r),n.appendChild(i);var a=i.offsetTop-r.offsetTop+2;n.removeChild(r),n.appendChild(this._document.createTextNode(Il)),n.style.lineHeight="normal",i.style.verticalAlign="super";var o=i.offsetTop-n.offsetTop+2;return A.removeChild(n),{baseline:a,middle:o}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),bl=function(){function e(e,t){this.context=e,this.options=t}return e}(),Bl=1e4,xl=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new wl(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach((function(e){return t.applyEffect(e)}))},n.prototype.applyEffect=function(e){this.ctx.save(),qs(e)&&(this.ctx.globalAlpha=e.opacity),js(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Js(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return i(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},n.prototype.renderNode=function(e){return i(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return yA(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var i=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):Fa(e.text).reduce((function(t,r){return i.ctx.fillText(r,t,e.bounds.top+n),t+i.ctx.measureText(r).width}),e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=e.fontFamily.join(", "),i=Tn(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,i,n].join(" "),n,i]},n.prototype.renderTextNode=function(e,t){return i(this,void 0,void 0,(function(){var n,i,A,a,o,s,l,c,u=this;return r(this,(function(r){return n=this.createFontStyle(t),i=n[0],A=n[1],a=n[2],this.ctx.font=i,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(A,a),s=o.baseline,l=o.middle,c=t.paintOrder,e.textBounds.forEach((function(e){c.forEach((function(n){switch(n){case vA.FILL:u.ctx.fillStyle=ti(t.color),u.renderTextWithLetterSpacing(e,t.letterSpacing,s);var i=t.textShadow;i.length&&e.text.trim().length&&(i.slice(0).reverse().forEach((function(n){u.ctx.shadowColor=ti(n.color),u.ctx.shadowOffsetX=n.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=n.offsetY.number*u.options.scale,u.ctx.shadowBlur=n.blur.number,u.renderTextWithLetterSpacing(e,t.letterSpacing,s)})),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),t.textDecorationLine.length&&(u.ctx.fillStyle=ti(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+s),e.bounds.width,1);break;case 2:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:u.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+l),e.bounds.width,1)}})));break;case vA.STROKE:t.webkitTextStrokeWidth&&e.text.trim().length&&(u.ctx.strokeStyle=ti(t.webkitTextStrokeColor),u.ctx.lineWidth=t.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+s)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}}))})),[2]}))}))},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var i=ul(e),r=_s(t);this.path(r),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return i(this,void 0,void 0,(function(){var t,i,A,o,s,l,c,u,h,d,g,p,f,m,v,C,y,I;return r(this,(function(r){switch(r.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,i=e.curves,A=t.styles,o=0,s=t.textNodes,r.label=1;case 1:return o<s.length?(l=s[o],[4,this.renderTextNode(l,A)]):[3,4];case 2:r.sent(),r.label=3;case 3:return o++,[3,1];case 4:if(!(t instanceof $a))return[3,8];r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return v=r.sent(),this.renderReplacedElement(t,i,v),[3,8];case 7:return r.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof eo&&this.renderReplacedElement(t,i,t.canvas),!(t instanceof to))return[3,12];r.label=9;case 9:return r.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return v=r.sent(),this.renderReplacedElement(t,i,v),[3,12];case 11:return r.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof fo&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:c=r.sent(),t.width&&t.height&&this.ctx.drawImage(c,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),r.label=14;case 14:if(t instanceof ho&&(u=Math.min(t.bounds.width,t.bounds.height),t.type===so?t.checked&&(this.ctx.save(),this.path([new Ds(t.bounds.left+.39363*u,t.bounds.top+.79*u),new Ds(t.bounds.left+.16*u,t.bounds.top+.5549*u),new Ds(t.bounds.left+.27347*u,t.bounds.top+.44071*u),new Ds(t.bounds.left+.39694*u,t.bounds.top+.5649*u),new Ds(t.bounds.left+.72983*u,t.bounds.top+.23*u),new Ds(t.bounds.left+.84*u,t.bounds.top+.34085*u),new Ds(t.bounds.left+.39363*u,t.bounds.top+.79*u)]),this.ctx.fillStyle=ti(uo),this.ctx.fill(),this.ctx.restore()):t.type===lo&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+u/2,t.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=ti(uo),this.ctx.fill(),this.ctx.restore())),Ml(t)&&t.value.length){switch(h=this.createFontStyle(A),y=h[0],d=h[1],g=this.fontMetrics.getMetrics(y,d).baseline,this.ctx.font=y,this.ctx.fillStyle=ti(A.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Tl(t.styles.textAlign),I=ul(t),p=0,t.styles.textAlign){case Nr.CENTER:p+=I.width/2;break;case Nr.RIGHT:p+=I.width}f=I.add(p,0,0,-I.height/2+1),this.ctx.save(),this.path([new Ds(I.left,I.top),new Ds(I.left+I.width,I.top),new Ds(I.left+I.width,I.top+I.height),new Ds(I.left,I.top+I.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Oa(t.value,f),A.letterSpacing,g),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!yA(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if((m=t.styles.listStyleImage).type!==ui.URL)return[3,18];v=void 0,C=m.url,r.label=15;case 15:return r.trys.push([15,17,,18]),[4,this.context.cache.match(C)];case 16:return v=r.sent(),this.ctx.drawImage(v,t.bounds.left-(v.width+10),t.bounds.top),[3,18];case 17:return r.sent(),this.context.logger.error("Error loading list-style-image "+C),[3,18];case 18:return[3,20];case 19:e.listValue&&t.styles.listStyleType!==Fr.NONE&&(y=this.createFontStyle(A)[0],this.ctx.font=y,this.ctx.fillStyle=ti(A.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",I=new a(t.bounds.left,t.bounds.top+Zn(t.styles.paddingTop,t.bounds.width),t.bounds.width,Tr(A.lineHeight,A.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Oa(e.listValue,I),A.letterSpacing,Tr(A.lineHeight,A.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),r.label=20;case 20:return[2]}}))}))},n.prototype.renderStackContent=function(e){return i(this,void 0,void 0,(function(){var t,n,i,A,a,o,s,l,c,u,h,d,g,p,f;return r(this,(function(r){switch(r.label){case 0:return yA(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:r.sent(),t=0,n=e.negativeZIndex,r.label=2;case 2:return t<n.length?(f=n[t],[4,this.renderStack(f)]):[3,5];case 3:r.sent(),r.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:r.sent(),i=0,A=e.nonInlineLevel,r.label=7;case 7:return i<A.length?(f=A[i],[4,this.renderNode(f)]):[3,10];case 8:r.sent(),r.label=9;case 9:return i++,[3,7];case 10:a=0,o=e.nonPositionedFloats,r.label=11;case 11:return a<o.length?(f=o[a],[4,this.renderStack(f)]):[3,14];case 12:r.sent(),r.label=13;case 13:return a++,[3,11];case 14:s=0,l=e.nonPositionedInlineLevel,r.label=15;case 15:return s<l.length?(f=l[s],[4,this.renderStack(f)]):[3,18];case 16:r.sent(),r.label=17;case 17:return s++,[3,15];case 18:c=0,u=e.inlineLevel,r.label=19;case 19:return c<u.length?(f=u[c],[4,this.renderNode(f)]):[3,22];case 20:r.sent(),r.label=21;case 21:return c++,[3,19];case 22:h=0,d=e.zeroOrAutoZIndexOrTransformedOrOpacity,r.label=23;case 23:return h<d.length?(f=d[h],[4,this.renderStack(f)]):[3,26];case 24:r.sent(),r.label=25;case 25:return h++,[3,23];case 26:g=0,p=e.positiveZIndex,r.label=27;case 27:return g<p.length?(f=p[g],[4,this.renderStack(f)]):[3,30];case 28:r.sent(),r.label=29;case 29:return g++,[3,27];case 30:return[2]}}))}))},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var i=Os(e)?e.start:e;0===n?t.ctx.moveTo(i.x,i.y):t.ctx.lineTo(i.x,i.y),Os(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},n.prototype.renderRepeat=function(e,t,n,i){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,i),this.ctx.fill(),this.ctx.translate(-n,-i)},n.prototype.resizeImage=function(e,t,n){var i;if(e.width===t&&e.height===n)return e;var r=(null!==(i=this.canvas.ownerDocument)&&void 0!==i?i:document).createElement("canvas");return r.width=Math.max(1,t),r.height=Math.max(1,n),r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),r},n.prototype.renderBackgroundImage=function(e){return i(this,void 0,void 0,(function(){var t,n,i,A,a,o;return r(this,(function(s){switch(s.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var A,a,o,s,l,c,u,h,d,g,p,f,m,v,C,y,I,w,b,B,x,M,E,T,S,F,U,R,L,H,G;return r(this,(function(r){switch(r.label){case 0:if(n.type!==ui.URL)return[3,5];A=void 0,a=n.url,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.context.cache.match(a)];case 2:return A=r.sent(),[3,4];case 3:return r.sent(),i.context.logger.error("Error loading background-image "+a),[3,4];case 4:return A&&(o=gl(e,t,[A.width,A.height,A.width/A.height]),y=o[0],M=o[1],E=o[2],b=o[3],B=o[4],v=i.ctx.createPattern(i.resizeImage(A,b,B),"repeat"),i.renderRepeat(y,v,M,E)),[3,6];case 5:Pi(n)?(s=gl(e,t,[null,null,null]),y=s[0],M=s[1],E=s[2],b=s[3],B=s[4],l=mi(n.angle,b,B),c=l[0],u=l[1],h=l[2],d=l[3],g=l[4],(p=document.createElement("canvas")).width=b,p.height=B,f=p.getContext("2d"),m=f.createLinearGradient(u,d,h,g),pi(n.stops,c).forEach((function(e){return m.addColorStop(e.stop,ti(e.color))})),f.fillStyle=m,f.fillRect(0,0,b,B),b>0&&B>0&&(v=i.ctx.createPattern(p,"repeat"),i.renderRepeat(y,v,M,E))):Qi(n)&&(C=gl(e,t,[null,null,null]),y=C[0],I=C[1],w=C[2],b=C[3],B=C[4],x=0===n.position.length?[On]:n.position,M=Zn(x[0],b),E=Zn(x[x.length-1],B),T=yi(n,M,E,b,B),S=T[0],F=T[1],S>0&&F>0&&(U=i.ctx.createRadialGradient(I+M,w+E,0,I+M,w+E,S),pi(n.stops,2*S).forEach((function(e){return U.addColorStop(e.stop,ti(e.color))})),i.path(y),i.ctx.fillStyle=U,S!==F?(R=e.bounds.left+.5*e.bounds.width,L=e.bounds.top+.5*e.bounds.height,G=1/(H=F/S),i.ctx.save(),i.ctx.translate(R,L),i.ctx.transform(1,0,0,H,0,0),i.ctx.translate(-R,-L),i.ctx.fillRect(I,G*(w-L)+L,b,B*G),i.ctx.restore()):i.ctx.fill())),r.label=6;case 6:return t--,[2]}}))},i=this,A=0,a=e.styles.backgroundImage.slice(0).reverse(),s.label=1;case 1:return A<a.length?(o=a[A],[5,n(o)]):[3,4];case 2:s.sent(),s.label=3;case 3:return A++,[3,1];case 4:return[2]}}))}))},n.prototype.renderSolidBorder=function(e,t,n){return i(this,void 0,void 0,(function(){return r(this,(function(i){return this.path(rl(n,t)),this.ctx.fillStyle=ti(e),this.ctx.fill(),[2]}))}))},n.prototype.renderDoubleBorder=function(e,t,n,A){return i(this,void 0,void 0,(function(){var i,a;return r(this,(function(r){switch(r.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,A)]:[3,2];case 1:return r.sent(),[2];case 2:return i=Al(A,n),this.path(i),this.ctx.fillStyle=ti(e),this.ctx.fill(),a=al(A,n),this.path(a),this.ctx.fill(),[2]}}))}))},n.prototype.renderNodeBackgroundAndBorders=function(e){return i(this,void 0,void 0,(function(){var t,n,i,A,a,o,s,l,c=this;return r(this,(function(r){switch(r.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!ei(t.backgroundColor)||t.backgroundImage.length,i=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],A=El(vl(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),ei(t.backgroundColor)||(this.ctx.fillStyle=ti(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:r.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){c.ctx.save();var n=Zs(e.curves),i=t.inset?0:Bl,r=Qs(n,-i+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(c.path(n),c.ctx.clip(),c.mask(r)):(c.mask(n),c.ctx.clip(),c.path(r)),c.ctx.shadowOffsetX=t.offsetX.number+i,c.ctx.shadowOffsetY=t.offsetY.number,c.ctx.shadowColor=ti(t.color),c.ctx.shadowBlur=t.blur.number,c.ctx.fillStyle=t.inset?ti(t.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()})),r.label=2;case 2:a=0,o=0,s=i,r.label=3;case 3:return o<s.length?(l=s[o]).style!==Ki.NONE&&!ei(l.color)&&l.width>0?l.style!==Ki.DASHED?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,a,e.curves,Ki.DASHED)]:[3,11]:[3,13];case 4:return r.sent(),[3,11];case 5:return l.style!==Ki.DOTTED?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,a,e.curves,Ki.DOTTED)];case 6:return r.sent(),[3,11];case 7:return l.style!==Ki.DOUBLE?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,a,e.curves)];case 8:return r.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,a,e.curves)];case 10:r.sent(),r.label=11;case 11:a++,r.label=12;case 12:return o++,[3,3];case 13:return[2]}}))}))},n.prototype.renderDashedDottedBorder=function(e,t,n,A,a){return i(this,void 0,void 0,(function(){var i,o,s,l,c,u,h,d,g,p,f,m,v,C,y,I;return r(this,(function(r){return this.ctx.save(),i=ol(A,n),o=rl(A,n),a===Ki.DASHED&&(this.path(o),this.ctx.clip()),Os(o[0])?(s=o[0].start.x,l=o[0].start.y):(s=o[0].x,l=o[0].y),Os(o[1])?(c=o[1].end.x,u=o[1].end.y):(c=o[1].x,u=o[1].y),h=0===n||2===n?Math.abs(s-c):Math.abs(l-u),this.ctx.beginPath(),a===Ki.DOTTED?this.formatPath(i):this.formatPath(o.slice(0,2)),d=t<3?3*t:2*t,g=t<3?2*t:t,a===Ki.DOTTED&&(d=t,g=t),p=!0,h<=2*d?p=!1:h<=2*d+g?(d*=f=h/(2*d+g),g*=f):(m=Math.floor((h+g)/(d+g)),v=(h-m*d)/(m-1),g=(C=(h-(m+1)*d)/m)<=0||Math.abs(g-v)<Math.abs(g-C)?v:C),p&&(a===Ki.DOTTED?this.ctx.setLineDash([0,d+g]):this.ctx.setLineDash([d,g])),a===Ki.DOTTED?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=ti(e),this.ctx.stroke(),this.ctx.setLineDash([]),a===Ki.DASHED&&(Os(o[0])&&(y=o[3],I=o[0],this.ctx.beginPath(),this.formatPath([new Ds(y.end.x,y.end.y),new Ds(I.start.x,I.start.y)]),this.ctx.stroke()),Os(o[1])&&(y=o[1],I=o[2],this.ctx.beginPath(),this.formatPath([new Ds(y.end.x,y.end.y),new Ds(I.start.x,I.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},n.prototype.render=function(e){return i(this,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ti(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=il(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},n}(bl),Ml=function(e){return e instanceof po||e instanceof go||e instanceof ho&&e.type!==lo&&e.type!==so},El=function(e,t){switch(e){case ai.BORDER_BOX:return Zs(t);case ai.CONTENT_BOX:return Xs(t);case ai.PADDING_BOX:default:return _s(t)}},Tl=function(e){switch(e){case Nr.CENTER:return"center";case Nr.RIGHT:return"right";case Nr.LEFT:default:return"left"}},Sl=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return t(n,e),n.prototype.render=function(e){return i(this,void 0,void 0,(function(){var t,n;return r(this,(function(i){switch(i.label){case 0:return t=Da(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,Fl(t)];case 1:return n=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ti(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},n}(bl),Fl=function(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){t(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Ul=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,A([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,A([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,A([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,A([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),Rl=function(){function e(t,n){var i;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new Ul({id:this.instanceName,enabled:t.logging}),this.cache=null!==(i=t.cache)&&void 0!==i?i:new Ms(this,t)}return e.instanceCount=1,e}(),Ll=function(e,t){return void 0===t&&(t={}),Hl(e,t)};"undefined"!=typeof window&&xs.setContext(window);var Hl=function(e,t){return i(void 0,void 0,void 0,(function(){var i,A,l,c,u,h,d,g,p,f,m,v,C,y,I,w,b,B,x,M,E,T,S,F,U,R,L,H,G,P,Q,D,N,V,O,k,W,Z;return r(this,(function(r){switch(r.label){case 0:if(!e||"object"!=typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(i=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(A=i.defaultView))throw new Error("Document is not attached to a Window");return l={allowTaint:null!==(T=t.allowTaint)&&void 0!==T&&T,imageTimeout:null!==(S=t.imageTimeout)&&void 0!==S?S:15e3,proxy:t.proxy,useCORS:null!==(F=t.useCORS)&&void 0!==F&&F},c=n({logging:null===(U=t.logging)||void 0===U||U,cache:t.cache},l),u={windowWidth:null!==(R=t.windowWidth)&&void 0!==R?R:A.innerWidth,windowHeight:null!==(L=t.windowHeight)&&void 0!==L?L:A.innerHeight,scrollX:null!==(H=t.scrollX)&&void 0!==H?H:A.pageXOffset,scrollY:null!==(G=t.scrollY)&&void 0!==G?G:A.pageYOffset},h=new a(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),d=new Rl(c,h),g=null!==(P=t.foreignObjectRendering)&&void 0!==P&&P,p={allowTaint:null!==(Q=t.allowTaint)&&void 0!==Q&&Q,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:g,copyStyles:g},d.logger.debug("Starting document clone with size "+h.width+"x"+h.height+" scrolled to "+-h.left+","+-h.top),f=new os(d,e,p),(m=f.clonedReferenceElement)?[4,f.toIFrame(i,h)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=r.sent(),C=Ro(m)||Fo(m)?s(m.ownerDocument):o(d,m),y=C.width,I=C.height,w=C.left,b=C.top,B=Gl(d,m,t.backgroundColor),x={canvas:t.canvas,backgroundColor:B,scale:null!==(N=null!==(D=t.scale)&&void 0!==D?D:A.devicePixelRatio)&&void 0!==N?N:1,x:(null!==(V=t.x)&&void 0!==V?V:0)+w,y:(null!==(O=t.y)&&void 0!==O?O:0)+b,width:null!==(k=t.width)&&void 0!==k?k:Math.ceil(y),height:null!==(W=t.height)&&void 0!==W?W:Math.ceil(I)},g?(d.logger.debug("Document cloned, using foreign object rendering"),[4,new Sl(d,x).render(m)]):[3,3];case 2:return M=r.sent(),[3,5];case 3:return d.logger.debug("Document cloned, element located at "+w+","+b+" with size "+y+"x"+I+" using computed rendering"),d.logger.debug("Starting DOM parsing"),E=yo(d,m),B===E.styles.backgroundColor&&(E.styles.backgroundColor=ci.TRANSPARENT),d.logger.debug("Starting renderer for element at "+x.x+","+x.y+" with size "+x.width+"x"+x.height),[4,new xl(d,x).render(E)];case 4:M=r.sent(),r.label=5;case 5:return(null===(Z=t.removeContainer)||void 0===Z||Z)&&(os.destroy(v)||d.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),d.logger.debug("Finished rendering"),[2,M]}}))}))},Gl=function(e,t,n){var i=t.ownerDocument,r=i.documentElement?li(e,getComputedStyle(i.documentElement).backgroundColor):ci.TRANSPARENT,A=i.body?li(e,getComputedStyle(i.body).backgroundColor):ci.TRANSPARENT,a="string"==typeof n?li(e,n):null===n?ci.TRANSPARENT:4294967295;return t===i.documentElement?ei(r)?ei(A)?a:A:r:a};return Ll}()}));var Qp=function(e){Fe(n,e);var t=Ge(n);function n(e){var i;return Me(this,n),(i=t.call(this)).isSpriteLabel=!0,i.sprite=new Bo(new co({transparent:!0,opacity:1})),i.sprite.renderOrder=5e3,i.sprite.center.set(.5,0),i.add(i.sprite),e.position&&(Array.isArray(e.position)?i.position.fromArray(e.position):i.position.copy(e.position)),i.userData=e.userData||e,i.init(e),i}return Te(n,[{key:"init",value:function(e){var t=this,n=function(e){for(var t=e.width,n=e.height,i=0,r=0;r<n/2;r++)for(var A=0;A<4*t;A++)i=e.data[r*t*4+A+""],e.data[r*t*4+A+""]=e.data[(n-r-1)*t*4+A+""],e.data[(n-r-1)*t*4+A+""]=i;return e},i=wx.createOffscreenCanvas({type:"2d",width:300,height:280}),r=i.getContext("2d");if(r.clearRect(0,0,300,280),e.title&&(r.font="60px sans-serif",r.fillStyle="#000000",r.fillText(e.title,(300-60*e.title.length)/2,60)),e.icon){var A=i.createImage();A.onload=function(){r.drawImage(A,50,80,200,200);var e=r.getImageData(0,0,i.width,i.height),a=new Yr(n(e).data,i.width,i.height,gt);t.sprite.material.map=a,t.sprite.material.needsUpdate=!0;t.sprite.scale.set(i.width/100,i.height/100,1)},A.src=e.icon}else{var a=new Yr(n(imgData).data,i.width,i.height,gt);this.sprite.material.map=a,this.sprite.material.needsUpdate=!0;this.sprite.scale.set(i.width/100,i.height/100,1)}}}]),n}(_n),Dp=function(){function e(t){Me(this,e),this.viewer=t,this.spriteRoot=new _n,this.spriteRoot.name="spriteRoot",this.viewer.root.add(this.spriteRoot)}return Te(e,[{key:"addLabel",value:function(e){if(e.position){var t=new Qp(e);return this.spriteRoot.add(t),t}console.warn("addLabel: 热点必须传入position属性!")}},{key:"hideAll",value:function(){this.spriteRoot.children.map((function(e){return e.visible=!1}))}},{key:"showAll",value:function(){this.spriteRoot.children.map((function(e){return e.visible=!0}))}},{key:"clear",value:function(){this.spriteRoot.traverse((function(e){e.isSprite&&(e.material.map.dispose(),e.material.dispose())})),this.spriteRoot.children=[]}}]),e}(),Np=function(){function e(){Me(this,e)}return Te(e,[{key:"init",value:function(){this.isActive=!1}},{key:"initParticleItem",value:function(e){}},{key:"update",value:function(e,t){}},{key:"reset",value:function(){}}]),e}(),Vp="\nattribute vec4 vertexColor;\nvarying vec4 vColor;\nvarying vec2 vUv;\nvoid main()\n{\n     vUv = uv;\n     vColor = vertexColor;\n     vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n     gl_Position = projectionMatrix * mvPosition;\n}\n",Op="\n\nuniform sampler2D mainTex;\nvarying vec4 vColor;\nvarying vec2 vUv;\nvoid main()\n{\n    vec4 texColor = texture2D(mainTex,vUv.xy);\n    vec4 col = texColor * vColor;\n    gl_FragColor = col;\n}\n\n",kp="\nattribute vec4 vertexColor;\nuniform vec4 _TintColor;\nvarying vec4 vColor;\nvarying vec2 vUv;\nvoid main()\n{\n     vUv = uv;\n     vColor = vec4(vertexColor.xyz * _TintColor.xyz,vertexColor.w * _TintColor.w);\n     vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n     gl_Position = projectionMatrix * mvPosition;\n}\n\n",Wp="\n\nuniform sampler2D mainTex;\nvarying vec4 vColor;\nvarying vec2 vUv;\nvoid main()\n{\n    vec4 texColor = texture2D(mainTex,vUv.xy);\n    vec4 col = texColor * vColor * 2.0;\n    col.a = clamp(col.a,0.0,1.0);\n    gl_FragColor = col;\n}\n\n",Zp="\n    uniform sampler2D mainTex;\n    varying vec4 _TintColor;\n    varying vec4 vColor;\n    varying vec2 vUv;\n    void main()\n    {\n        vec4 texColor = texture2D(mainTex,vUv.xy);\n        vec3 col = texColor.xyz * vColor.xyz * _TintColor.xyz * 2.0;\n        float a = (1 - texColor.w) * (_TintColor.w * vColor.w * 2.0);\n        gl_FragColor = vec4(col.xyz,a);\n    }\n\n",Xp="\nuniform sampler2D mainTex;\nvarying vec4 vColor;\nvarying vec2 vUv;\nvoid main()\n{\n    vec4 texColor = texture2D(mainTex,vUv.xy);\n    vec4 col = texColor * vColor;\n    col = lerp(vec4(1,1,1,1),col,col.w);\n    gl_FragColor = col;\n}\n    \n",_p="\n    uniform sampler2D mainTex;\n    varying vec4 vColor;\n    varying vec2 vUv;\n    void main()\n    {\n        vec4 col;\n        vec4 texColor = texture2D(mainTex,vUv.xy);\n        col.xyz = texColor.xyz * vColor.xyz * 2;\n        col.w = vColor.w * texColor.w;\n        col = lerp(vec4(0.5,0.5,0.5,0.5),col,col.a);\n        gl_FragColor = col;\n    }\n",zp="\n\n    uniform sampler2D mainTex;\n    varying vec4 vColor;\n    varying vec2 vUv;\n    void main()\n    {\n        vec4 texColor = texture2D(mainTex,vUv.xy);\n        gl_FragColor = vColor * texColor * vColor.a;\n    }\n",Kp=function(){function e(){Me(this,e)}return Te(e,null,[{key:"randomValue",value:function(e,t){var n=Math.random();return _h.lerp(e,t,n)}},{key:"randomVector3",value:function(e,t){return new rn(this.randomValue(e.x,t.x),this.randomValue(e.y,t.y),this.randomValue(e.z,t.z))}},{key:"randomVector4",value:function(e,t){var n=Math.random();return e.lerp(t,n)}},{key:"getShader",value:function(e){return"normal_vertex"===e?Vp:"normal_fragment"===e?Op:"normal_legacy_vertex"===e?kp:"normal_legacy_fragment"===e?Wp:"multily_legacy_fragment"===e?Zp:"multipy_fragment"===e?Xp:"multiplyDouble_fragment"===e?_p:"premultiplyBlend_fragment"===e?zp:""}},{key:"getShaderBlend",value:function(e){return"SrcAlpha"===e?Ze:"OneMinusSrcAlpha"===e?Xe:"One"===e?We:"DstColor"===e?208:"Zero"===e?200:"SrcColor"===e?202:We}}]),e}(),Yp=function(){function e(t){Me(this,e),null!=t?this.setJsonData(t):(this.times=[],this.values=[],this.currentIndex=0)}return Te(e,[{key:"setJsonData",value:function(e){this.times=e.times,this.values=e.values,this.currentIndex=0}},{key:"getValue",value:function(e){var t=this.times.length;if(this.currentIndex<t-1&&this.times[this.currentIndex]<=e&&this.times[this.currentIndex+1]>=e)return _h.lerp(this.values[this.currentIndex],this.values[this.currentIndex+1],(e-this.times[this.currentIndex])/(this.times[this.currentIndex+1]-this.times[this.currentIndex]));for(var n=0;n<t;n++){if(!(n<t-1))return this.currentIndex=n,this.values[n];if(this.times[n]<=e&&this.times[n+1]>=e)return this.currentIndex=n,_h.lerp(this.values[n],this.values[n+1],(e-this.times[n])/(this.times[n+1]-this.times[n]))}return 0}}]),e}(),jp=function(){function e(t){Me(this,e),null!=t?this.setJsonData(t):(this.m_Mode=e.TYPE.Constant,this.m_ConstantMin=0,this.m_ConstantMax=0,this.m_CurveMin=null,this.m_CurveMax=null)}return Te(e,[{key:"setJsonData",value:function(t){this.m_Mode=t.mode,this.m_Mode===e.TYPE.Constant?this.setConstantValue(t.max):this.m_Mode===e.TYPE.TwoConstants?this.setConstantMinMax(t.min,t.max):this.m_Mode===e.TYPE.Curve?this.setCurves(new Yp(t.maxCurve)):this.m_Mode===e.TYPE.TwoCurves&&this.setCurvesMinMax(new Yp(t.minCurve),new Yp(t.maxCurve))}},{key:"setConstantValue",value:function(t){this.m_Mode=e.TYPE.Constant,this.m_ConstantMin=0,this.m_ConstantMax=t,this.m_CurveMin=null,this.m_CurveMax=null}},{key:"setConstantMinMax",value:function(t,n){this.m_Mode=e.TYPE.TwoConstants,this.m_ConstantMin=t,this.m_ConstantMax=n,this.m_CurveMin=null,this.m_CurveMax=null}},{key:"setCurves",value:function(t){this.m_Mode=e.TYPE.Curve,this.m_CurveMax=t,this.m_CurveMin=null}},{key:"setCurvesMinMax",value:function(t,n){this.m_Mode=e.TYPE.TwoCurves,this.m_CurveMin=t,this.m_CurveMax=n}},{key:"getRandomValue",value:function(t){if(this.m_Mode==e.TYPE.Constant)return this.m_ConstantMax;if(this.m_Mode==e.TYPE.TwoConstants)return Kp.randomValue(this.m_ConstantMin,this.m_ConstantMax);if(this.m_Mode==e.TYPE.Curve)return this.m_CurveMax.getValue(t);if(this.m_Mode==e.TYPE.TwoCurves){var n=Math.random(),i=this.m_CurveMin.getValue(t),r=this.m_CurveMax.getValue(t);return n>.5?r:i}return 0}}]),e}();jp.TYPE=Object.freeze({Constant:0,Curve:1,TwoCurves:2,TwoConstants:3});var Jp=function(e){Fe(n,e);var t=Ge(n);function n(e){var i;return Me(this,n),(i=t.call(this)).isActive=!0,null!=e?i.setJsonData(e):(i.rateOverTime=new jp,i.rateOverTime.setConstantValue(5)),i.density=1,i.rateOverTimeResult=i.rateOverTime.getRandomValue(),i.secondParticle=i.rateOverTimeResult*i.density,i.singleTime=1/i.secondParticle,i.playBackTime=0,i.cacheTime=0,i.createParticleCount=0,i}return Te(n,[{key:"setJsonData",value:function(e){this.rateOverTime=new jp(e.rateOverTime)}},{key:"setDensity",value:function(e){this.density=e,this.secondParticle=this.rateOverTimeResult*this.density,0==this.secondParticle?this.singleTime=99999999:this.singleTime=1/this.secondParticle}},{key:"update",value:function(e,t){this.playBackTime+=e,this.cacheTime+=e,this.cacheTime>=this.singleTime&&(this.createParticleCount=Math.floor(this.cacheTime/this.singleTime),this.cacheTime=this.cacheTime%this.singleTime)}},{key:"reset",value:function(){Pe(Ue(n.prototype),"reset",this).call(this),this.createParticleCount=0}}]),n}(Np),qp=function(e){Fe(n,e);var t=Ge(n);function n(e){var i;return Me(this,n),(i=t.call(this)).isActive=!0,null!=e?i.setJsonData(e):(i.shape=n.TYPE.Box,i.angle=25,i.radius=1,i.radiusThickness=1,i.donutRadius=.2,i.position=new rn(0,0,0),i.rotation=new Un(0,0,0),i.scale=new rn(1,1,1)),i.startPosition=new rn(0,0,0),i.moveDirection=new rn(0,0,0),i}return Te(n,[{key:"setJsonData",value:function(e){this.shape=e.shapeMode,this.shape===n.TYPE.Cone&&(this.angle=e.cone.angle,this.radius=e.cone.radius,this.radiusThickness=e.cone.radiusThickness),this.position=new rn(e.position.x,e.position.y,e.position.z),this.rotation=new Un(e.rotation.x,e.rotation.y,e.rotation.z),this.scale=new rn(e.scale.x,e.scale.y,e.scale.z)}},{key:"update",value:function(e,t){if(Pe(Ue(n.prototype),"update",this).call(this,e,t),this.shape==n.TYPE.Cone){var i=_h.lerp(0,this.angle,1-this.radiusThickness),r=qt.degToRad(Kp.randomValue(i,this.angle)),A=qt.degToRad(Kp.randomValue(0,360)),a=Math.sin(r);this.moveDirection=new rn(a*Math.cos(A),Math.cos(r),a*Math.sin(A));var o=qt.degToRad(Kp.randomValue(0,360)),s=Kp.randomValue(0,this.radius);this.startPosition=new rn(Math.cos(o)*s,0,Math.sin(o)*s),this.startPosition=this.startPosition.multiply(this.scale).add(this.position),this.moveDirection.applyEuler(this.rotation).multiply(this.scale)}else if(this.shape==n.TYPE.Box){var l=this.scale.clone().multiplyScalar(.5);this.startPosition=Kp.randomVector3(new rn(-l.x,-l.y,-l.z),new rn(l.x,l.y,l.z)),this.moveDirection.y=1,this.moveDirection.applyEuler(this.rotation)}}},{key:"reset",value:function(){Pe(Ue(n.prototype),"reset",this).call(this),this.startPosition.setScalar(0),this.moveDirection.setScalar(0)}}]),n}(Np);qp.TYPE=Object.freeze({Sphere:0,Hemisphere:2,Cone:4,Box:5,Circle:10});var $p=function(){function e(t){Me(this,e),null!=t?this.setJsonData(t):(this.colorLocation=[],this.colors=[],this.alphaLocation=[],this.alphas=[])}return Te(e,[{key:"setJsonData",value:function(e){this.colorLocation=e.colorLocation,this.colors=[];for(var t=0;t<e.colors.length;t++)this.colors[t]=new vn(e.colors[t].r,e.colors[t].g,e.colors[t].b,e.colors[t].a);this.alphaLocation=e.alphaLocation,this.alphas=e.alphas}},{key:"getValue",value:function(e){var t=this.lerp(e,this.colorLocation,this.colors),n=this.lerp(e,this.alphaLocation,this.alphas);return new vn(t.x,t.y,t.z,n)}},{key:"lerp",value:function(e,t,n){for(var i=0;i<t.length;i++){if(t[i]>=e&&0===i)return"number"==typeof n[i]?n[i]:n[i].clone();if(i<t.length-1&&t[i]<=e&&t[i+1]>e){var r=(e-t[i])/(t[i+1]-t[i]);return"number"==typeof n[i]?n[i]+(n[i+1]-n[i])*r:n[i].clone().lerp(n[i+1],r)}}return xe("number"==n[n.length-1])?n[n.length-1]:n[n.length-1].clone()}}]),e}(),ef=function(){function e(t){Me(this,e),null!=t?this.setJsonData(t):(this.m_mode=e.TYPE.Color,this.minColor=null,this.maxColor=new vn(1,1,1,1),this.minGradient=null,this.maxGradient=null)}return Te(e,[{key:"setJsonData",value:function(t){if(this.m_mode=t.m_mode,this.m_mode===e.TYPE.Color)this.setColor(new vn(t.maxColor.r,t.maxColor.g,t.maxColor.b,t.maxColor.a));else if(this.m_mode===e.TYPE.TwoColors){var n=new vn(t.minColor.r,t.minColor.g,t.minColor.b,t.minColor.a),i=new vn(t.maxColor.r,t.maxColor.g,t.maxColor.b,t.maxColor.a);this.setColorMinMax(n,i)}else this.m_mode===e.TYPE.Gradient?this.setGradient(new $p(t.maxGradient)):this.m_mode===e.TYPE.TwoGradients&&this.setMinMaxGradient(new $p(t.minGradient),new $p(t.maxGradient))}},{key:"setColorMinMax",value:function(t,n){this.m_mode=e.TYPE.TwoColors,this.minColor=t,this.maxColor=n}},{key:"setGradient",value:function(t){this.m_mode=e.TYPE.Gradient,this.maxGradient=t}},{key:"setMinMaxGradient",value:function(t,n){this.m_mode=e.TYPE.TwoGradients,this.minGradient=t,this.maxGradient=n}},{key:"setColor",value:function(t){this.m_mode=e.TYPE.Color,this.minColor=null,this.maxColor=t}},{key:"getRandomValue",value:function(){if(this.m_mode==e.TYPE.Color)return this.maxColor;if(this.m_mode==e.TYPE.Gradient)return this.maxGradient.getValue(Math.random());if(this.m_mode==e.TYPE.TwoGradients){var t=Math.random(),n=this.minGradient.getValue(t),i=this.maxGradient.getValue(t);return Kp.randomVector4(n,i)}return this.m_mode==e.TYPE.TwoColors?Kp.randomVector4(this.minColor,this.maxColor):this.m_mode==e.TYPE.RandomColor?this.maxGradient.getValue(Math.random()):this.maxColor}},{key:"getLerpValue",value:function(t){if(this.m_mode==e.TYPE.Gradient)return this.maxGradient.getValue(t);if(this.m_mode==e.TYPE.TwoGradients){var n=Math.random(),i=this.minGradient.getValue(n),r=this.maxGradient.getValue(n);return n>.5?r:i}return this.maxColor}}]),e}();ef.TYPE=Object.freeze({Color:0,Gradient:1,TwoColors:2,TwoGradients:3,RandomColor:4});var tf=function(e){Fe(n,e);var t=Ge(n);function n(e){var i;return Me(this,n),(i=t.call(this)).isActive=!0,i.duration=e.duration,i.isLoop=e.isLoop,i.startDelay=new jp(e.startDelay),i.startLifeTime=new jp(e.startLifeTime),i.startSpeed=new jp(e.startSpeed),i.startSize=new jp(e.startSize),i.startRotation=new jp(e.startRotation),i.startColor=new ef(e.startColor),i.gravityModifier=new jp(e.gravity),i.maxParticles=1e4,i}return Te(n,[{key:"initParticleItem",value:function(e){e.startDelay=this.startDelay.getRandomValue(),e.lifeTime=this.startLifeTime.getRandomValue();var t=this.startSpeed.getRandomValue();e.startSpeed=new rn(t,t,t),e.startSize=this.startSize.getRandomValue(),e.startRotation=this.startRotation.getRandomValue(),e.startColor=this.startColor.getRandomValue(),e.gravityModifier=this.gravityModifier.getRandomValue(),e.refresh()}},{key:"update",value:function(e,t){Pe(Ue(n.prototype),"update",this).call(this,e,t),t.setScaleXYZ(t.startSize,t.startSize,t.startSize),t.color=t.startColor.clone(),t.speed=t.moveDirection.clone().add(t.startSpeed),t.speed.add(new rn(0,4.905*-t.gravityModifier*2*t.currentTime,0))}}]),n}(Np),nf=function(){function e(t){Me(this,e),this.particleCount=t,this.bufferGeometry=null,this.material=null,this.mesh=null}return Te(e,[{key:"init",value:function(){this.bufferGeometry=new ur}},{key:"setColor",value:function(e,t){}},{key:"setPosition",value:function(e,t,n,i){}},{key:"setScale",value:function(e,t,n){}},{key:"setRotation",value:function(e,t,n,i){}},{key:"setAlpha",value:function(){}}]),e}();nf.RenderMode=Object.freeze({Billboard:0,StretchedBillboard:1,HorizontalBillboard:2,VerticalBillboard:3});var rf=function(){function e(t){Me(this,e),this.particleSystem=t,this.index=0,this.render=null,this.startDelay=0,this.lifeTime=0,this.startSpeed=1,this.startSize=1,this.startColor=new vn(1,1,1,1),this.gravityModifier=0,this.startRotation=0,this.startPosition=new rn(0,0,0),this.moveDirection=new rn(0,0,0),this.active=!0,this.currentTime=0,this.pos0=new rn(0,0,0),this.pos1=new rn(0,0,0),this.pos2=new rn(0,0,0),this.pos3=new rn(0,0,0),this.speed=new rn(1,1,1),this.rotationSpeed=new rn(0,0,0),this.position=this.startPosition.clone(),this.rotation=new rn(0,0,0),this.scale=new rn(1,1,1),this.camera=null,this.localMatrix=new Tn,this.moveMatrix=new Tn,this.scaleMatrix=(new Tn).makeScale(1,1,1),this.rotationEuler=new Un(0,0,0),this.billboardRotationEuler=new Un(0,0,0),this.startRotationEuler=new Un(0,0,qt.degToRad(this.startRotation)),this.directionEuler=new Un(0,0,0),this.color=this.startColor.clone(),this.isDirty=!0,this.isColorDirty=!0,this.texStartFrame=0}return Te(e,[{key:"setCamera",value:function(e){this.camera=e}},{key:"initRender",value:function(e,t){this.render=e,this.camera=t,this.pos0=new rn(-this.render.width,-this.render.height,0),this.pos1=new rn(this.render.width,-this.render.height,0),this.pos2=new rn(this.render.width,this.render.height,0),this.pos3=new rn(-this.render.width,this.render.height,0)}},{key:"refresh",value:function(){this.color=this.startColor.clone(),this.startRotationEuler=new Un(0,0,qt.degToRad(this.startRotation))}},{key:"setStartPosition",value:function(e){this.startPosition=e,this.setRotation(new rn(0,0,0)),this.setPosition(this.startPosition.clone())}},{key:"setActive",value:function(e){this.active!=e&&(this.active=e,this.active?this.render.setColor(this.index,this.color):this.render.setColor(this.index,new vn(this.color.x,this.color.y,this.color.z,0)))}},{key:"reset",value:function(){this.currentTime=0,this.scale.set(1,1,1),this.rotation.set(0,0,0),this.rotationEuler.set(0,0,0),this.isDirty=!1,this.isColorDirty=!1,this.position.set(0,0,0),this.texStartFrame=0}},{key:"update",value:function(e){if(this.currentTime+=e,this.currentTime>=this.lifeTime)return this.setActive(!1),void this.reset();this.rotation.addScaledVector(this.rotationSpeed,e),this.setRotationAngleXYZ(this.rotation.x,this.rotation.y,this.rotation.z),this.position.add(this.speed.multiplyScalar(e)),this.setPosition(this.position),this.billboard(),!0===this.isDirty&&this.refreshMatrix(),!0===this.isColorDirty&&this.render.setColor(this.index,this.color)}},{key:"billboard",value:function(){if(null!=this.camera){var e=new rn(0,0,0);this.camera.getWorldDirection(e),e.add(this.camera.position),e=this.particleSystem.worldToLocal(e);var t=this.particleSystem.worldToLocal(this.camera.position.clone());this.render.renderMode==nf.RenderMode.StretchedBillboard&&e.setY(t.y);var n=new Tn;n.lookAt(t,e,new rn(0,1,0));var i=new en;i.setFromRotationMatrix(n),this.billboardRotationEuler.set(0,0,0),this.billboardRotationEuler.setFromQuaternion(i)}}},{key:"refreshMatrix",value:function(){this.localMatrix=this.scaleMatrix.clone(),this.localMatrix.premultiply(this.moveMatrix);var e=this.pos0.clone().applyEuler(this.startRotationEuler).applyEuler(this.rotationEuler).applyEuler(this.billboardRotationEuler).applyMatrix4(this.localMatrix),t=this.pos1.clone().applyEuler(this.startRotationEuler).applyEuler(this.rotationEuler).applyEuler(this.billboardRotationEuler).applyMatrix4(this.localMatrix),n=this.pos2.clone().applyEuler(this.startRotationEuler).applyEuler(this.rotationEuler).applyEuler(this.billboardRotationEuler).applyMatrix4(this.localMatrix),i=this.pos3.clone().applyEuler(this.startRotationEuler).applyEuler(this.rotationEuler).applyEuler(this.billboardRotationEuler).applyMatrix4(this.localMatrix);this.render.setPosition(4*this.index,e),this.render.setPosition(4*this.index+1,t),this.render.setPosition(4*this.index+2,n),this.render.setPosition(4*this.index+3,i),this.render.refreshPosition()}},{key:"setPosition",value:function(e){this.position.x==e&&this.position.y==e.y&&this.position.z==e.z||(this.position=e,this.moveMatrix.makeTranslation(this.position.x,this.position.y,this.position.z),this.isDirty=!0)}},{key:"setScale",value:function(e){this.setScaleXYZ(e.x,e.y,e.z)}},{key:"setScaleXYZ",value:function(e,t,n){this.scale.x==e&&this.scale.y==t&&this.scale.z==n||(this.scale.set(e,t,n),this.scaleMatrix.makeScale(this.scale.x,this.scale.y,this.scale.z),this.isDirty=!0)}},{key:"setRotationAngleXYZ",value:function(e,t,n){this.setRotationXYZ(qt.degToRad(e),qt.degToRad(t),qt.degToRad(n))}},{key:"setRotation",value:function(e){this.setRotationXYZ(e.x,e.y,e.z)}},{key:"setRotationXYZ",value:function(e,t,n){this.rotationEuler.x==e&&this.rotationEuler.y==t&&this.rotationEuler.z==n||(this.rotation.set(qt.radToDeg(e),qt.radToDeg(t),qt.radToDeg(n)),this.rotationEuler.set(e,t,n),this.isDirty=!0)}},{key:"setColor",value:function(e){this.color.x===e.x&&this.color.y===e.y&&this.color.z===e.z&&this.color.w===e.w||(this.color=e,this.isColorDirty=!0)}},{key:"multiplyColor",value:function(e){this.color.multiply(e),this.isColorDirty=!0}},{key:"setUVs",value:function(e,t){this.render.setUV(this.index,e,t)}}]),e}(),Af=function(e){Fe(n,e);var t=Ge(n);function n(e,i){var r;return Me(this,n),(r=t.call(this,e)).width=.5,r.height=.5,r.mainTexture=null,r.renderMode=n.RenderMode.Billboard,null!=i?(""==i.texName?r.texPath="glow.png":r.texPath=i.texName,r.vertexShaderName=Kp.getShader(i.vertexShaderName),r.fragmentShaderName=Kp.getShader(i.fragmentShaderName),r.blendSrc=Kp.getShaderBlend(i.blendSrc),r.blendDst=Kp.getShaderBlend(i.blendDst),r.renderMode=i.renderMode,r.renderMode==nf.RenderMode.StretchedBillboard?r.lengthScale=i.lengthScale:r.lengthScale=1,null!=i.matColor&&(r.matColor=new vn(i.matColor.r,i.matColor.g,i.matColor.b,i.matColor.a))):(r.texPath="glow.png",r.lengthScale=1,r.vertexShaderName=Kp.getShader("normal_vertex"),r.fragmentShaderName=Kp.getShader("normal_fragment"),r.blendSrc=Kp.getShaderBlend("SrcAlpha"),r.blendDst=Kp.getShaderBlend("OneMinusSrcAlpha")),r.height*=r.lengthScale,r.init(),r}return Te(n,[{key:"init",value:function(){Pe(Ue(n.prototype),"init",this).call(this),this.mainTexture=(new rc).load(this.texPath);for(var e=[],t=[],i=[],r=[],A=0;A<this.particleCount;A++){e.push(-this.width,-this.height,0),e.push(this.width,-this.height,0),e.push(this.width,this.height,0),e.push(-this.width,this.height,0);var a=4*A;i.push(a,a+1,a+2),i.push(a,a+2,a+3),r.push(0,0),r.push(1,0),r.push(1,1),r.push(0,1),t.push(1,1,1,1),t.push(1,1,1,1),t.push(1,1,1,1),t.push(1,1,1,1)}this.bufferGeometry.setIndex(i),this.bufferGeometry.setAttribute("position",new $i(e,3)),this.bufferGeometry.setAttribute("vertexColor",new $i(t,4)),this.bufferGeometry.setAttribute("uv",new $i(r,2));var o={};o.mainTex={value:this.mainTexture},null!=this.matColor&&(o._TintColor={value:this.matColor}),this.material=new Wr({uniforms:o,vertexShader:this.vertexShaderName,fragmentShader:this.fragmentShaderName,transparent:!0,blending:5,blendSrc:this.blendSrc,blendDst:this.blendDst,vertexColors:!0,depthWrite:!1}),this.mesh=new Fr(this.bufferGeometry,this.material),this.mesh.renderOrder=2e3,this.mesh.frustumCulled=!1}},{key:"setColor",value:function(e,t){this.bufferGeometry.attributes.vertexColor.setXYZW(4*e,t.x,t.y,t.z,t.w),this.bufferGeometry.attributes.vertexColor.setXYZW(4*e+1,t.x,t.y,t.z,t.w),this.bufferGeometry.attributes.vertexColor.setXYZW(4*e+2,t.x,t.y,t.z,t.w),this.bufferGeometry.attributes.vertexColor.setXYZW(4*e+3,t.x,t.y,t.z,t.w),this.bufferGeometry.attributes.vertexColor.needsUpdate=!0}},{key:"setPosition",value:function(e,t){this.bufferGeometry.attributes.position.setXYZ(e,t.x,t.y,t.z)}},{key:"refreshPosition",value:function(){this.bufferGeometry.attributes.position.needsUpdate=!0}},{key:"setUV",value:function(e,t,n){this.bufferGeometry.attributes.uv.setXY(4*e,t.x,t.y),this.bufferGeometry.attributes.uv.setXY(4*e+1,n.x,t.y),this.bufferGeometry.attributes.uv.setXY(4*e+2,n.x,n.y),this.bufferGeometry.attributes.uv.setXY(4*e+3,t.x,n.y),this.bufferGeometry.attributes.uv.needsUpdate=!0}}]),n}(nf),af=function(e){Fe(n,e);var t=Ge(n);function n(e){var i;if(Me(this,n),i=t.call(this),null!=e)i.color=new ef(e.color);else{i.color=new ef;var r=new $p;r.colorLocation=[0,1],r.colors=[new rn(1,1,1),new rn(1,0,0)],r.alphaLocation=[0,1],r.alphas=[1,1],i.color.setGradient(r)}return i}return Te(n,[{key:"update",value:function(e,t){Pe(Ue(n.prototype),"update",this).call(this,e,t);var i=t.currentTime/t.lifeTime;i=_h.clamp(i,0,1);var r=this.color.getLerpValue(i);t.multiplyColor(r)}}]),n}(Np),of=function(e){Fe(n,e);var t=Ge(n);function n(e){var i;return Me(this,n),i=t.call(this),null!=e?(i.linearSpeedX=new jp(e.linearX),i.linearSpeedY=new jp(e.linearY),i.linearSpeedZ=new jp(e.linearZ)):(i.linearSpeedX=new jp,i.linearSpeedY=new jp,i.linearSpeedZ=new jp,i.linearSpeedX.setConstantValue(10)),i.speedVec=new rn(0,0,0),i.linearSpeedX.m_Mode===jp.TYPE.TwoCurves||i.linearSpeedX.m_Mode===jp.TYPE.Curve?i.isCurve=!0:i.isCurve=!1,i}return Te(n,[{key:"initParticleItem",value:function(e){Pe(Ue(n.prototype),"initParticleItem",this).call(this,e),!1===this.isCurve&&(this.speedVec.set(0,0,0),this.speedVec.set(this.linearSpeedX.getRandomValue(),this.linearSpeedY.getRandomValue(),this.linearSpeedZ.getRandomValue()),e.startSpeed.add(this.speedVec))}},{key:"update",value:function(e,t){Pe(Ue(n.prototype),"update",this).call(this,e,t),!0===this.isCurve&&(this.speedVec.set(this.linearSpeedX.getRandomValue(e),this.linearSpeedY.getRandomValue(e),this.linearSpeedZ.getRandomValue(e)),t.speed.add(this.speedVec))}},{key:"reset",value:function(){Pe(Ue(n.prototype),"reset",this).call(this),this.speedVec.set(0,0,0)}}]),n}(Np),sf=function(e){Fe(n,e);var t=Ge(n);function n(){var e;return Me(this,n),(e=t.call(this)).x=new jp,e.x.setConstantValue(5),e.y=new jp,e.z=new jp,e}return Te(n,[{key:"update",value:function(e,t){Pe(Ue(n.prototype),"update",this).call(this,e,t);var i=t.currentTime/t.lifeTime,r=this.x.getRandomValue(i)*t.currentTime,A=this.y.getRandomValue(i)*t.currentTime,a=this.z.getRandomValue(i)*t.currentTime;t.speed.set(t.speed.x+r,t.speed.y+A,t.speed.z+a)}}]),n}(Np),lf=function(e){Fe(n,e);var t=Ge(n);function n(e){var i;return Me(this,n),i=t.call(this),null!=e?(null!=e.rx?i.rCurveX=new jp(e.rx):i.rCurveX=new jp,null!=e.ry?i.rCurveY=new jp(e.ry):i.rCurveY=new jp,null!=e.rz?i.rCurveZ=new jp(e.rz):i.rCurveZ=new jp):(i.rCurveX=new jp,i.rCurveY=new jp,i.rCurveZ=new jp),i.rCurveZ.m_Mode===jp.TYPE.Constant||i.rCurveZ.m_Mode===jp.TYPE.TwoConstants?i.isCurve=!1:i.isCurve=!0,i}return Te(n,[{key:"initParticleItem",value:function(e){var t=this.rCurveX.getRandomValue(),n=this.rCurveY.getRandomValue(),i=this.rCurveZ.getRandomValue();e.rotationSpeed.set(t,n,i)}},{key:"update",value:function(e,t){if(Pe(Ue(n.prototype),"update",this).call(this,e,t),this.isCurve){var i=t.currentTime/t.lifeTime,r=this.rCurveX.getRandomValue(i),A=this.rCurveY.getRandomValue(i),a=this.rCurveZ.getRandomValue(i);t.rotationSpeed.set(r,A,a)}}}]),n}(Np),cf=function(e){Fe(n,e);var t=Ge(n);function n(e){var i;if(Me(this,n),i=t.call(this),null!=e)i.tileX=e.tileX,i.tileY=e.tileY,i.animation=e.animationMode,i.rowMode=e.rowMode,i.row=e.row,i.timeMode=e.timeMode,i.frameOverTime=new jp(e.frameOverTime),i.startFrame=new jp(e.startFrame),i.cycles=e.cycles,null!=e.speedRange&&(i.speedRange=new $t(e.speedRange.x,e.speedRange.y));else{i.tileX=8,i.tileY=8,i.animation=n.Animation.WholeSheet,i.rowMode=n.RowMode.Random,i.row=0,i.timeMode=n.TimeMode.LifeTime,i.frameOverTime=new jp;var r=new Yp;r.times=[0,1],r.values=[0,1],i.frameOverTime.setCurves(r),i.speedRange=new $t(0,1),i.startFrame=new jp,i.startFrame.setConstantValue(0),i.cycles=1}return i}return Te(n,[{key:"initParticleItem",value:function(e){Pe(Ue(n.prototype),"initParticleItem",this).call(this,e),e.texStartFrame=this.startFrame.getRandomValue()}},{key:"update",value:function(e,t){Pe(Ue(n.prototype),"update",this).call(this,e,t);var i,r,A=t.currentTime/t.lifeTime,a=0,o=0;if(this.animation===n.Animation.WholeSheet)a=0,o=this.tileX*this.tileY;else if(this.animation===n.Animation.SingleRow){var s=0;this.rowMode===n.RowMode.Custom?s=this.row:this.rowMode==n.RowMode.Random&&(s=Math.random()*this.tileX),a=s*this.tileY,o=s*this.tileY+this.tileX}var l=0,c=o-a;if(this.timeMode==n.TimeMode.LifeTime){var u=this.frameOverTime.getRandomValue(A)*this.cycles;l=parseInt(u*c)}else if(this.timeMode==n.TimeMode.Speed){var h=(t.speed.length()-this.speedRange.x)/(this.speedRange.y-this.speedRange.x);h=_h.clamp(h*this.cycles,0,1),l=parseInt(c*h)}r=(l+=t.texStartFrame)-(i=parseInt(l/this.tileY))*this.tileY,t.setUVs(new $t(r/this.tileY,(this.tileX-i-1)/this.tileX),new $t((r+1)/this.tileY,(this.tileX-i)/this.tileX))}}]),n}(Np);cf.Animation=Object.freeze({WholeSheet:0,SingleRow:1}),cf.RowMode=Object.freeze({Custom:0,Random:1}),cf.TimeMode=Object.freeze({LifeTime:0,Speed:1});var uf=function(e){Fe(n,e);var t=Ge(n);function n(){var e;return Me(this,n),(e=t.call(this)).dampen=0,e.speedLimitX=new jp,e.speedLimitY=new jp,e.speedLimitZ=new jp,e}return Te(n,[{key:"update",value:function(e,t){Pe(Ue(n.prototype),"update",this).call(this,e,t);var i=t.currentTime/t.lifeTime;i=_h.clamp(i);var r=this.speedLimitX.getRandomValue(i),A=this.speedLimitY.getRandomValue(i),a=this.speedLimitZ.getRandomValue(i);r=Math.min(r,t.speed.x),A=Math.min(A,t.speed.y),a=Math.min(a,t.speed.z);var o=_h.lerp(t.speed.x,r,this.dampen),s=_h.lerp(t.speed.y,A,this.dampen),l=_h.lerp(t.speed.z,a,this.dampen);t.speed.set(o,s,l)}}]),n}(Np),hf=function(e){Fe(n,e);var t=Ge(n);function n(e){var i;return Me(this,n),i=t.call(this),null!=e?!0===e.separateAxes?(i.sizeCurveX=new jp(e.sizeX),i.sizeCurveY=new jp(e.sizeY),i.sizeCurveZ=new jp(e.sizeZ)):(i.sizeCurveX=new jp(e.sizeX),i.sizeCurveY=new jp(e.sizeX),i.sizeCurveZ=new jp(e.sizeX)):(i.sizeCurveX=new jp,i.sizeCurveY=new jp,i.sizeCurveZ=new jp),i}return Te(n,[{key:"update",value:function(e,t){Pe(Ue(n.prototype),"update",this).call(this,e,t);var i=t.currentTime/t.lifeTime,r=this.sizeCurveX.getRandomValue(i),A=this.sizeCurveY.getRandomValue(i),a=this.sizeCurveZ.getRandomValue(i);t.setScaleXYZ(t.scale.x*r,t.scale.y*A,t.scale.z*a)}}]),n}(Np),df=function(e){Fe(n,e);var t=Ge(n);function n(e){var i;return Me(this,n),(i=t.call(this)).render=null,i.camera=null,i.initParticleData(e),i}return Te(n,[{key:"initParticleData",value:function(e){this.mainModule=new tf(e.main),this.emissionModule=new Jp(e.emission),this.shapeModule=new qp(e.shape),this.statusModules=[this.mainModule],null!=e.velocityLifeTime&&(this.velocityLifetimeModule=new of(e.velocityLifeTime),this.velocityLifetimeModule.isActive=!0,this.statusModules.push(this.velocityLifetimeModule)),null!=e.limitVelocityLifeTime&&(this.limitVelocityLifeTimeModule=new uf(e.limitVelocityLifeTime),this.limitVelocityLifeTimeModule.isActive=!0,this.statusModules.push(this.limitVelocityLifeTimeModule)),null!=e.forceLifeTime&&(this.forceLifeTimeModule=new sf(e.forceLifeTime),this.forceLifeTimeModule.isActive=!0,this.statusModules.push(this.forceLifeTimeModule)),null!=e.colorLifeTime&&(this.colorLifeTimeModule=new af(e.colorLifeTime),this.colorLifeTimeModule.isActive=!0,this.statusModules.push(this.colorLifeTimeModule)),null!=e.sizeLifeTime&&(this.sizeLifeTimeModule=new hf(e.sizeLifeTime),this.sizeLifeTimeModule.isActive=!0,this.statusModules.push(this.sizeLifeTimeModule)),null!=e.rotationLifeTime&&(this.rotationLifeTimeModule=new lf(e.rotationLifeTime),this.rotationLifeTimeModule.isActive=!0,this.statusModules.push(this.rotationLifeTimeModule)),null!=e.texSheetAnimation&&(this.texSheetAnimationModule=new cf(e.texSheetAnimation),this.texSheetAnimationModule.isActive=!0,this.statusModules.push(this.texSheetAnimationModule)),this.clock=new uu,this.totalParticleCount=this.mainModule.duration*this.emissionModule.secondParticle,this.totalParticleCount>this.mainModule.maxParticles&&(this.totalParticleCount=this.mainModule.maxParticles),this.render=new Af(this.totalParticleCount,e.render),this.add(this.render.mesh),this.itemPool=[],this.activeItemArray=[],this.removeItemArray=[],this.totalTime=0}},{key:"init",value:function(e){this.camera=e;for(var t=0;t<this.totalParticleCount;t++){var n=new rf(this);n.index=t,n.initRender(this.render,this.camera),n.setActive(!1),this.itemPool.push(n)}}},{key:"onBeforeRender",value:function(e,t,n){this.activeItemArray.map((function(e){e.setCamera(n)}))}},{key:"getItemByPool",value:function(){return this.itemPool.length>0?this.itemPool.pop():null}},{key:"pushItemToPool",value:function(e){this.itemPool.push(e)}},{key:"setDensity",value:function(e){this.emissionModule.setDensity(e);var t=this.mainModule.duration*this.emissionModule.secondParticle;if(t>this.mainModule.maxParticles&&(t=this.mainModule.maxParticles),t>this.totalParticleCount){for(var n=this.totalParticleCount;n<t;n++){var i=new rf(this);i.index=n,i.initRender(this.render,this.camera),i.setActive(!1),this.itemPool.push(i)}this.totalParticleCount=t}}},{key:"update",value:function(){var e=this.clock.getDelta();this.emissionModule.update(e,null);var t=this.emissionModule.createParticleCount;if(t>0)for(var n=0;n<t;n++){var i=this.getItemByPool();if(null==i)break;this.shapeModule.update(e,null),i.setStartPosition(this.shapeModule.startPosition.clone()),i.moveDirection=this.shapeModule.moveDirection.clone(),i.setActive(!0);for(var r=0;r<this.statusModules.length;r++)this.statusModules[r].isActive&&(this.statusModules[r].initParticleItem(i),this.statusModules[r].reset());this.activeItemArray.push(i),this.shapeModule.reset()}this.emissionModule.reset();for(var A=0;A<this.activeItemArray.length;A++){for(var a=this.activeItemArray[A],o=0;o<this.statusModules.length;o++)this.statusModules[o].isActive&&(this.statusModules[o].update(e,a),this.statusModules[o].reset());a.update(e),a.active||(this.removeItemArray.push(A),this.pushItemToPool(a))}for(var s=0;s<this.removeItemArray.length;s++)this.activeItemArray.splice(this.removeItemArray[s]-s,1);this.removeItemArray.splice(0,this.removeItemArray.length)}}]),n}(_n),gf=function(){function e(){Me(this,e)}return Te(e,null,[{key:"pushItem",value:function(e){this.pItems.push(e)}},{key:"removeItem",value:function(t){for(var n=0;n<this.pItems.length;n++)e.pItems[n]==t&&e.pItems.unshift(t)}},{key:"update",value:function(){for(var e=0;e<this.pItems.length;e++)this.pItems[e].update()}}]),e}();gf.pItems=[];var pf={nodes:[{id:0,parentId:-1,name:"Fire_Smoke",localPosition:[0,0,0],rotation:[0,0,0],scale:[1,1,1]},{id:1,parentId:0,name:"Fire_Smoke",localPosition:[0,0,0],rotation:[270,0,0],scale:[1,1,1],main:{duration:5,isLoop:!0,startDelay:{mode:0,min:0,max:0},startLifeTime:{mode:3,min:2,max:3},startSpeed:{mode:3,min:0,max:0},startSize:{mode:3,min:5,max:35},startRotation:{mode:3,min:0,max:360},startColor:{m_mode:0,minColor:null,maxColor:{r:1,g:1,b:1,a:.219607845}},gravity:{mode:0,min:0,max:0}},emission:{rateOverTime:{mode:0,min:0,max:100}},shape:{shapeMode:0,position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1}},velocityLifeTime:{linearX:{mode:3,min:0,max:0},linearY:{mode:3,min:0,max:0},linearZ:{mode:3,min:15,max:10}},colorLifeTime:{color:{m_mode:1,minColor:null,maxColor:null,maxGradient:{colorLocation:[0,.314702064,.417639434,.497062624,1],colors:[{r:1,g:.8980392,b:.831372559,a:1},{r:1,g:.7607843,b:.5372549,a:1},{r:.9137255,g:.623529434,b:.4392157,a:1},{r:.7176471,g:.5176471,b:.4627451,a:1},{r:.192156866,g:.192156866,b:.192156866,a:1}],alphaLocation:[0,.0441138335,.323537052,.7058824,.855878532,1],alphas:[.305882365,1,.8862745,.9529412,.843137264,0]}}},sizeLifeTime:{separateAxes:!1,sizeX:{mode:1,min:0,max:0,maxCurve:{times:[0,.05,.1,.15,.2,.25,.3,.350000024,.400000036,.418660671,.468660682,.518660665,.5686607,.6186607,.6686607,.7186607,.7686607,.818660736,.868660748,.91866076,.9686608,1],values:[.2159091,.285781056,.359360576,.434577644,.5093622,.5816443,.6493538,.7104207,.762774944,.779661953,.8188196,.8507291,.8764641,.8970983,.91370517,.9273583,.939131439,.9500981,.961331844,.9739063,.988895059,1]}}},texSheetAnimation:{tileX:8,tileY:8,animationMode:0,rowMode:1,row:0,timeMode:0,frameOverTime:{mode:1,min:0,max:0,maxCurve:{times:[0,1],values:[0,1]}},startFrame:{mode:0,min:0,max:0},cycles:1},render:{renderMode:0,lengthScale:-.8,texName:"data:image/png;base64,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",matColor:{r:1,g:1,b:1,a:1},vertexShaderName:"normal_legacy_vertex",fragmentShaderName:"normal_legacy_fragment",blendSrc:"SrcAlpha",blendDst:"OneMinusSrcAlpha"}}]},ff={nodes:[{id:0,parentId:-1,name:"Rain",localPosition:[0,81.6,0],rotation:[0,0,0],scale:[1,1,1],main:{duration:5,isLoop:!0,startDelay:{mode:0,min:0,max:0},startLifeTime:{mode:0,min:0,max:5},startSpeed:{mode:0,min:0,max:0},startSize:{mode:3,min:.5,max:1},startRotation:{mode:0,min:0,max:0},startColor:{m_mode:2,minColor:{r:1,g:1,b:1,a:.65882355},maxColor:{r:.8584906,g:.8584906,b:.8584906,a:.68235296}},gravity:{mode:3,min:3,max:6}},emission:{rateOverTime:{mode:0,min:0,max:200}},shape:{shapeMode:5,position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:50,y:10,z:50}},velocityLifeTime:{linearX:{mode:0,min:0,max:1},linearY:{mode:0,min:0,max:-60},linearZ:{mode:0,min:0,max:0}},colorLifeTime:{color:{m_mode:1,minColor:null,maxColor:null,maxGradient:{colorLocation:[0,1],colors:[{r:1,g:1,b:1,a:1},{r:1,g:1,b:1,a:1}],alphaLocation:[0,.314702064,1],alphas:[0,.929411769,.5019608]}}},sizeLifeTime:{separateAxes:!1,sizeX:{mode:1,min:0,max:0,maxCurve:{times:[0,1],values:[0,1]}}},render:{renderMode:1,lengthScale:8,texName:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABCUExURUxpcefv99Xk9fL2+vL1+vf5/Pf6/fr8/e3z+ff6/Pj6/fb5/HKf1Nrl8fj5++/0+t7n8/b4+/f6/MXc9f////7+/zJK5OYAAAAUdFJOUwBZHIKS4sH+c+jZ1Acy9WlLo6sPMZpK9wAAAKhJREFUOMuVk9sSgyAMRFGBoCC9Jf//q61t0YnAdrqvObOuS2KM1mM1WMH+AJYZz0eWEQJWBH+DmAlG5JcGbMDs+vMLv3XtAvkDRJgAWVABOmVZ3hVa80QHIO0SD4AnlGATdTsoquu8q7nc6kXQDguO0ArBJ/3vMGugfnOvAV8Bk6jfrKtctUPjfhyOYMyAm95i7inENxcm5QLk1Lm7bxeuf30hEkW9b0/Z7BfgolafUQAAAABJRU5ErkJggg==",vertexShaderName:"normal_vertex",fragmentShaderName:"normal_fragment",blendSrc:"SrcAlpha",blendDst:"One"}}]},mf={nodes:[{id:0,parentId:-1,name:"snow",localPosition:[.8075409,40,16.9335175],rotation:[0,0,0],scale:[1,1,1],main:{duration:10,isLoop:!0,startDelay:{mode:0,min:0,max:0},startLifeTime:{mode:0,min:0,max:10},startSpeed:{mode:0,min:0,max:0},startSize:{mode:3,min:.5,max:1},startRotation:{mode:3,min:0,max:360},startColor:{m_mode:0,minColor:null,maxColor:{r:.870588243,g:.9382724,b:.992156863,a:.4392157}},gravity:{mode:3,min:.3,max:.5}},emission:{rateOverTime:{mode:0,min:0,max:100}},shape:{shapeMode:5,position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:50,y:50,z:50}},velocityLifeTime:{linearX:{mode:3,min:10,max:-10},linearY:{mode:3,min:0,max:0},linearZ:{mode:3,min:10,max:-10}},colorLifeTime:{color:{m_mode:1,minColor:null,maxColor:null,maxGradient:{colorLocation:[.0882429257,1],colors:[{r:1,g:1,b:1,a:1},{r:1,g:1,b:1,a:1}],alphaLocation:[0,.126466781,.8294194,1],alphas:[0,1,1,0]}}},rotationLifeTime:{rz:{mode:0,min:0,max:45}},render:{renderMode:0,lengthScale:2,texName:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAByUExURUxpcf///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////4wLXbUAAAAmdFJOUwCHSMjp2+4EsgKQ5KEkfsIQcyyZqWu70Bv71hVaNPcJ8kBS4GI6NWpSxQAAB2hJREFUWMPlV+mO2zwS/HjJNEWJonhpKNLW+f6vuCVnsTPOJECC3X8rBElsmM3q6urq1j///H8999vtdv8vTt9vwzQ8/zoCbr1d/w7j1FE6T/NfhcDhAUcQ4Tafx7FVfLrd/zzCs+umlXbzNAzjWkN/rLV7/hvRH90/jCWUdUKAqa7WHtaqUrv59sf3r2vp7XaO84z8o+9JKOO6rfNva3H7hIf/TbT0pFeK9LR2U5HK2lrH86y/4fGTsNftYy3Bxiy9Osq6bfR6tjHEqI7u9mvAY0e3i7DbK/ujD8XGJF2gtJ44XGuwhaTW0XH6BYTriN3qPAPf/TnStRBClNbOEReNC+u6Uums89Ke3XD/VkoQdm69pec43J7P+UT2lvjUShmdNkIeY9edUoORvi/dE897hPswnihz6FW/VkrX4EzyikgRsyCH9a5001Rt70kgTiOb8V3T92GeVm1UH+hYg/JaRxa1Cr0j0hDnHQnd3I2ryh4AynoQ271rGrBX56xdO4B3rBVGAqtVbE9RRcECnYdhqCpCTaAXF03dm6bvQ1dxA63FtGJvm6bdmdbEMc6lczKW8fkcOloq3Y5DcuH79V3TCEDXsVgaDN+Xj6ZZ+C6EJCovzPU9AYd1pITQgjQB0JFvmr53K3V+oySKx8djafYsdpG833PUFkqoFEIORSUESEb3pf6kafA4H8oewbWPj4+FZ4AQe0oRP5dooz646IJVkjjjlEa9a33X9HMYuvOkQTacP7jICMOFaHibpdbeRxHBBfPE9rZsBZqWfZnecnjO01jPQ+8tbhc7Ajw46ORMGoanaY0x3vbabWs4qmXJnsOXFG6359ydtFgn00XjsiBCm0QjDNsXROJZiCS10+jpSGq1GqX5RPAca7cFum6Eycibx4Nz0Sz7LvIF4vHRAE0LDAtPLhyebLVbty8B0PtofUvr5hICJMHbPTPGQeTjsbQfSAdoeMq81UfZwnZWuNRnBui+Q0l9sdN7r43M4E+w3DzazJdlB6Imxwactsl4cmxoyOeXjrxPOO+lxx9HiJfai8eSc+YXAtGgHBxc4rtlaZUR5ljhCLevrdStge3GRHBkcL0xAL4LELc8Fo4AC/S94zznDE3uKe7/aov3eaoECSYPC0kCobzhvOWXIgFd8OY6CjR8373aKDrp3Q3uz2ntWY6SwLC4iEY7lhiSv6SwtK1oIcwWVCRmVFinrv5sy8NplZYGUoMGDWxY82UHhAUBEOSDNyIyARAwia2O3cs2vyKYa9FRX0nwR6uJ6hXoXprXYfwFTaA1kUmTtSvlKOPw5keXHdGY486ZZu0er1T8lcHHdR73wh3yLgximN5aomydpq8iftmR9spAQmgaCTNyUoKNZvlYhICmHy1DcbxyWmmWJPSGKr6XEe1+oE+XJRsoQXtpWr7nHeVbLhBCOy92hiqLpYXZhQpHfAtA6RkIiaBJbbBmwyTaqN0fTfPxaJJBF+u0M6YJvpWaHCs9pzcloDO07C2RvrdxhwSZiS2UsKCsMJWUPVE+Jo24mcW+0O3yxDce5+BUv1npCdDDA2JshWgFY1JKx0TE0EC35CzB8aElLPFNTC87orZXWSrYuIhaOgP6d8OXRqQMc1fwO7Sqgh/Ya1S9B7g/h7mDZ5OLKJl3H6MzOxTMoMKE1k4QOuYE6Xs0HPKQ2/SuRnh8B5/1zF+1lLI1OqMZdskY1AVH2tP1tep1YtcFhE63b+N57orMDD8ivduzuRyJoaIvO1kEAwipozCuB9/l/L7o3OY1EA2z7SO8KEezc3MpCopEX6Orlx2fBfOYmWTruuEbhIkGBcvXKEPbZCZgKQz9AS0KUHl57KsmWDpIWDu09M8TfqohJsYc8ZlDRQ2kHbOJjO/81VdLC4tLDDuHI3Z9V/O1yWJ6BsRnpAQvctqxXPjeOYgnAQB42BEoxYihS5TrLwxfA8y1q9aikMrCVnJOLLKGm9RCh0mIzD8eIkZMBswo3hpXsDZ1X6SATdZaDM/NgiIGC4cDJCgyYZRLiDJiWCSN0uYY085xHqPx01nvQ6U1YOTY4GU4izb73iJAjliqlPYorvOMkd4nHu1BZB881r1PMd6wyRKLxcpbovutbgohmETqoAwOJ7UiONJvq4VbFKwoViZN/yPGG1bZjUnsEVstWF9oCRjSWea29agrLE5rdfSkYGMFyKDhjIfqP731jv2lQOoW832ldJo7enjOUK5IMAiNIiTAzbGBYVfDwm7VcaJzvogRW2adcLazmTkLzzy3DcK3ISIMlmxbziv0CSu8jeN00rN2cIAvs3WusGsbqjXZ1uF5zUrseH3ROdmCNffcQFrASvNCO3Wv0fSmxFtdqSFIUWHq3/95YlMnLGALcNh/t7CWi7SXCeHN6/mTK//AMEwEm9PcbVh2L11PRVvs3iuyx0o0li+kAcX39x54EhZYaOPH3Lyae63jOOOt5xek/eptAZ40TrdPaWDcAMvtFfkbab95Ley+TH2kOnTXGndF/gVpv4nx9psfn39D2t+9tP6KtP/V8y8l0LzlAIvWOwAAAABJRU5ErkJggg==",vertexShaderName:"normal_vertex",fragmentShaderName:"normal_fragment",blendSrc:"SrcAlpha",blendDst:"One"}}]},vf={nodes:[{id:0,parentId:-1,name:"WaterSpray",localPosition:[0,0,0],rotation:[0,0,0],scale:[1,1,1],main:{duration:5,isLoop:!0,startDelay:{mode:0,min:0,max:0},startLifeTime:{mode:0,min:0,max:1.7},startSpeed:{mode:0,min:0,max:0},startSize:{mode:0,min:0,max:4},startRotation:{mode:3,min:0,max:360},startColor:{m_mode:0,minColor:null,maxColor:{r:1,g:1,b:1,a:1}},gravity:{mode:0,min:0,max:1}},emission:{rateOverTime:{mode:0,min:0,max:20}},shape:{shapeMode:5,position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:.5,y:.5,z:.5}},velocityLifeTime:{linearX:{mode:0,min:0,max:12},linearY:{mode:0,min:0,max:1},linearZ:{mode:0,min:0,max:1}},colorLifeTime:{color:{m_mode:1,minColor:null,maxColor:null,maxGradient:{colorLocation:[0,1],colors:[{r:1,g:1,b:1,a:1},{r:1,g:1,b:1,a:1}],alphaLocation:[0,.23823911,.4735332,1],alphas:[0,1,1,0]}}},sizeLifeTime:{separateAxes:!1,sizeX:{mode:1,min:0,max:0,maxCurve:{times:[0,.05,.1,.15,.2,.25,.3,.350000024,.400000036,.450000048,.50000006,.5500001,.6000001,.6500001,.7000001,.7500001,.800000131,.850000143,.900000155,.950000167,1],values:[0,.0751110539,.149811536,.223729327,.2964923,.367728353,.437065363,.504131258,.568553865,.629961133,.687980831,.7422409,.7923693,.8379938,.8787424,.914242864,.944123149,.9680111,.9855346,.9963217,1]}}},render:{renderMode:0,lengthScale:2,texName:"data:image/png;base64,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",vertexShaderName:"normal_vertex",fragmentShaderName:"normal_fragment",blendSrc:"SrcAlpha",blendDst:"One"}},{id:1,parentId:0,name:"shui02",localPosition:[0,0,0],rotation:[0,0,0],scale:[1,1,1],main:{duration:5,isLoop:!0,startDelay:{mode:0,min:0,max:0},startLifeTime:{mode:0,min:0,max:.5},startSpeed:{mode:0,min:0,max:0},startSize:{mode:0,min:0,max:1},startRotation:{mode:3,min:0,max:360},startColor:{m_mode:0,minColor:null,maxColor:{r:1,g:1,b:1,a:1}},gravity:{mode:0,min:0,max:1}},emission:{rateOverTime:{mode:0,min:0,max:50}},shape:{shapeMode:5,position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:.5,y:.5,z:.5}},velocityLifeTime:{linearX:{mode:0,min:0,max:12},linearY:{mode:0,min:0,max:1},linearZ:{mode:0,min:0,max:1}},colorLifeTime:{color:{m_mode:1,minColor:null,maxColor:null,maxGradient:{colorLocation:[0,1],colors:[{r:1,g:1,b:1,a:1},{r:1,g:1,b:1,a:1}],alphaLocation:[0,.5029374,1],alphas:[1,1,0]}}},sizeLifeTime:{separateAxes:!1,sizeX:{mode:1,min:0,max:0,maxCurve:{times:[0,.05,.1,.15,.2,.25,.3,.350000024,.400000036,.450000048,.50000006,.5500001,.6000001,.6500001,.7000001,.7500001,.800000131,.850000143,.900000155,.950000167,1],values:[.253846169,.327116847,.39655,.462154329,.5239385,.5819111,.636080742,.686456263,.7330462,.7758591,.814903855,.850189,.8817231,.909514964,.9335731,.9539063,.9705231,.9834323,.992642343,.998162031,1]}}},render:{renderMode:0,lengthScale:2,texName:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABCUExURUxpcf///////////////////////////////////////////////////////////////////////////////////zezJKIAAAAVdFJOUwDvNFrATyQCBAjJGhBCc7TogWWZ2sfShx8AAAgESURBVHja7VuHlqM6DAUbI4le4v//1SfZhtCSIcHs7DlvfbZMyVhXV11kkuTdgRySit6+JKn5ZYWB5J5T8e0/3M34wMBdAM5dDHAbgHPQbgXw51X7ew/Rr0rniKh+EwB7GdBv2wB+zyF/PRQI/r/k/zUI/obz+574624A/28CvgEBu88vsogG8exLQ0O3wU9XYgDAnAfQHDNwyQeJskwAwAkQ2CQYPwzKYIITiqgmKeN7bn1eKQbqYJYRxZd1+YkD7j6MQECJ50JO4Ss8V8ckpRLlpVU7patnplD1drqK5YXGWktHWkE5iRHZuryriJExll6kyDx4ivukTO44ThOjD5ktJz09+9l9Rdw86Mi3YIo+9AyUMwc5xTVCpt+FX9+LSJsks7MkxLbJY9bDN0GVJz2J/DwXABMCDAzET827KzFx8q1QkBtzX1cwCVZHbsb6W7uDGNUVccp0uMLx7FnIVkklBGCBCK6S5hCbAXxqh8uGw/2xwQU4KDCXsVbH7ycNatx1OCZpW5tYThHWmUEAiPY3AEBhAA2Zp5dPBrBCvmOACpcXACLvkFgyti7jOA0NgNo1foVLlKXvIHLxk4gIlMjFBh2AJstg06MRs18saxaJ31Y3MVBmQi86B5jk21V2cnUKIzDgewCxKrYtBgBNk7ENmGGXhBLO0zQMoS1wJGCez8utizse8WY+ZY/cHOLY5V1ilrkhrxzlo2taCna9RgJQKVB9aOavAIAS3GQA0PN1I7PQdU+nWL10HEcPgJ0z/IgjJYFL5QDCfAqizXRRwX/7RSrCOR+E4OP/1BSCUMGleuRuA8j6KQd2HsCeAg+ELVDCjCNGT8wxjb0YADNaZWD1/LB/IqDWeSGTMddFiJD/RL4HwHDq1Y3DOi8bRrCh8Ju+hFYLOuUBYEGn+v75VVr7ILrMgBdv0EX8W48axAZtUSwS1Nc1mb13+ijLiJwNxAgZreQtvJFFCv0FFYUvRIF8vBKBLhfwfE6d1pi5vjt7v0ohnQiALMtMrEoExKfrdLeXvWCjZU1bH6Kse5FJtWIOYvSkYByARQ48pAq9BaZkBGC8hfBaXyZJRZzKdkNHs4h3K5o0dERP77+SlAQ+GM4p1HFmb/fzGezCMk0xY4flaqkLHe74igTM/V6GVCj33UFV2zUcaUJplnHAsBsWfDC5+ngPlJMrHuCTXLHUWG9BpcQMOBN4ADXWCFoDfgNBh4GQ9UEOQ+591zm2nKbihXyJFm5KC5e+a6mhOrjB92Nhg4YBoA+z9ydNO+4YCjSFL2D1WOgLNSg4UeMYQOzMMquBX0uUG84kWtHIapMpqDFGGmAG2K358m5hAsBgVLWEkOrUN68iH3tukiYlrq2owhUprko0B4laFXt2v9QvSkK9oH5MfA37pP3ZmMHtHnQpfW/arAGUuJ6CszSlZJ4Noo3DSuQ/HqJfg88agOWAqlnZOEvjP1tAl4QcAezhzbQDUjkNbkxqmhel6bLgnPyih1xHzD7V89z5INJhShk1rQePdCoGbyIeyxMO4RIwPquodPlYFMbWDsDDA6hHrTeP9SkVFKnaA8BpwvgqBuVCY4rC2gUAzq8P/oTKdRXgv2UT+yGXTBjSjwYAFEyA9KAlBaK+O6pRcdcyxsjzEkS3frELP7N2AKhr8ZGMsUm3NCeCiBspMG4fkA4BwNRfyJbaevHwmL5DFA8ALZf/yJo5+cMq4uw4LgBIP5pSGj0RSBXANJiAVpnPht4vMEDOBI8I6QDyzRXcDRGJFG2XFBQ4fVcAuPVUSsUm+SNGqIgkomcXCM65WJJOR3xQNmTLMOgOAPCk8S0UHQie/3FrektiHEtSC8wGgDQSq6HzW9Gs/SDLSH972Mkt7C27+nRa4T1reeVNABeepSyId+sXfzE14TGtl81pCCBtk/WuHHLrvIfhdic6Yzq0zGR50ZmvyJcjyLId8QJo+TUcveOYL4cTby4fe2mqH7SeNd1354HDVc1NAKrJOQe3xQMQgwzD2aDQs9uTtHr0eDx28820/CBXhWE7s4xMgQSpTDQAA+TVss7+cPJF3OVcZjOTmcIt5heO/Cyx9Kpl5wyG5LaoGj8qye0y8PM091IYAuHWVYiHV30EIOcq5Zer2uLnzm/Xy99pR/hsRMivBRK/kqn3r83cJS1qaz8Pf/6hzdzn18ILEwSlyAM42F3kAUJ4jlJCWVJeXVoX0LjrPTM5eLgJojlJ24pzUYkEpK5VhpEOotUDOPA/cEmaxopPWV5QHN/13SZx+6gDBnL/OIvGgQ/Meevz6khvc0fmAODhMk7WWyNR9UKfjxd2wgA2SbOt91pX1WGZu/tdWJIXGr+Q0khJtN30Zu/VvP4eh59i59bhecJ2gRXlyTU1Wx7LhPRzL9pw/7xayd1Dtl/Ro1q4Xvh6nyj1qU54dku9BHAYm9hif4O68C4VzAy4GaHlr/cq+fPHNcUDYlu/VwO/ssERH/L0buGNorQp6jCZwOFwAReiwFc8cHK9R2ye+4xeSEBAHzJwVvUKRDq8ji4nvb3vTa8wy4XDImQcAW19/7tu970ca914glWP5xZ+dwXmy+IK0hDAXRkCf071n+/n8cffJtiZIo/6PqkNX3DMQF2voqC8z/G2FaHcsg4/zXsQ3/E2Y5m8W+IP5v9N2s/pZwBR30mH6mgBG+FiI08X8MTv0+A9xJosO83BLZWfstO984use9m25195zeLVb/+2TPXv17b+nX/n3/l3Vuc/HEpSE+zhftsAAAAASUVORK5CYII=",vertexShaderName:"normal_vertex",fragmentShaderName:"normal_fragment",blendSrc:"SrcAlpha",blendDst:"One"}}]},Cf={nodes:[{id:0,parentId:-1,name:"SmallFire",localPosition:[0,0,0],rotation:[0,0,0],scale:[1,1,1]},{id:1,parentId:0,name:"SmallFire",localPosition:[0,0,0],rotation:[270,0,0],scale:[1,1,1],main:{duration:5,isLoop:!0,startDelay:{mode:0,min:0,max:0},startLifeTime:{mode:3,min:1,max:2},startSpeed:{mode:3,min:-1,max:1},startSize:{mode:3,min:0,max:15},startRotation:{mode:3,min:180,max:360},startColor:{m_mode:0,minColor:null,maxColor:{r:1,g:.847058833,b:.7294118,a:.360784322}},gravity:{mode:0,min:0,max:0}},emission:{rateOverTime:{mode:0,min:0,max:75}},shape:{shapeMode:0,position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1}},velocityLifeTime:{linearX:{mode:3,min:0,max:0},linearY:{mode:3,min:0,max:0},linearZ:{mode:3,min:15,max:10}},colorLifeTime:{color:{m_mode:1,minColor:null,maxColor:null,maxGradient:{colorLocation:[.114702068,.264698267,1],colors:[{r:1,g:1,b:1,a:1},{r:.6,g:.549019635,b:.466666669,a:1},{r:.796078444,g:.305882365,b:0,a:1}],alphaLocation:[0,.294117659,.4205844,.7058824,.8441138,1],alphas:[1,.8862745,1,.9529412,.843137264,0]}}},sizeLifeTime:{separateAxes:!1,sizeX:{mode:1,min:0,max:0,maxCurve:{times:[0,.05,.1,.15,.2,.200551927,.250551939,.300551951,.342321426,.392321438,.44232145,.492321461,.5420238,.560089767,.6100898,.6600898,.7100898,.7600898,.8100898,.860089839,.9084245,.9584245,1],values:[0,.0652164742,.329441279,.595537543,.6663684,.665323436,.5503927,.425050557,.3403294,.27294594,.22446236,.183398828,.138578773,.034826193,.0321929157,.03092101,.0305348318,.0305587333,.0305170622,.0299341753,.0284090918,.0117929261,0]}}},rotationLifeTime:{rz:{mode:3,min:-180,max:180}},texSheetAnimation:{tileX:8,tileY:8,animationMode:0,rowMode:1,row:0,timeMode:0,frameOverTime:{mode:1,min:0,max:0,maxCurve:{times:[0,1],values:[0,1]}},startFrame:{mode:0,min:0,max:0},cycles:1},render:{renderMode:0,lengthScale:-.13,texName:"data:image/png;base64,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",matColor:{r:1,g:1,b:1,a:1},vertexShaderName:"normal_vertex",fragmentShaderName:"normal_legacy_fragment",blendSrc:"SrcAlpha",blendDst:"One"}},{id:11,parentId:1,name:"glow",localPosition:[0,0,0],rotation:[0,0,0],scale:[1,1,1],main:{duration:5,isLoop:!0,startDelay:{mode:0,min:0,max:0},startLifeTime:{mode:3,min:1,max:2},startSpeed:{mode:3,min:-1,max:1},startSize:{mode:3,min:10,max:30},startRotation:{mode:3,min:180,max:360},startColor:{m_mode:0,minColor:null,maxColor:{r:.06666667,g:.02745098,b:0,a:.192156866}},gravity:{mode:0,min:0,max:0}},emission:{rateOverTime:{mode:0,min:0,max:150}},shape:{shapeMode:0,position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1}},velocityLifeTime:{linearX:{mode:3,min:0,max:0},linearY:{mode:3,min:0,max:0},linearZ:{mode:3,min:15,max:10}},colorLifeTime:{color:{m_mode:1,minColor:null,maxColor:null,maxGradient:{colorLocation:[.114702068,.264698267,1],colors:[{r:1,g:1,b:1,a:1},{r:.368627459,g:.3372549,b:.286274523,a:1},{r:.368627459,g:.141176477,b:0,a:1}],alphaLocation:[0,.294117659,.4205844,.7058824,.8441138,1],alphas:[1,.8862745,1,.9529412,.843137264,0]}}},sizeLifeTime:{separateAxes:!1,sizeX:{mode:1,min:0,max:0,maxCurve:{times:[0,.05,.1,.15,.2,.200551927,.250551939,.300551951,.350551963,.400551975,.450552,.500552,.5371929,.560089767,.6100898,.6600898,.7100898,.7600898,.8100898,.860089839,.9084245,.9584245,1],values:[0,.0652164742,.329441279,.595537543,.6663684,.665323436,.572160959,.486265123,.4074504,.335531384,.270322651,.211638719,.172669679,.034826193,.0321929157,.03092101,.0305348318,.0305587333,.0305170622,.0299341753,.0284090918,.0117929261,0]}}},rotationLifeTime:{rz:{mode:3,min:-180,max:180}},render:{renderMode:0,lengthScale:-.13,texName:"data:image/png;base64,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",matColor:{r:1,g:1,b:1,a:1},vertexShaderName:"normal_vertex",fragmentShaderName:"normal_legacy_fragment",blendSrc:"SrcAlpha",blendDst:"One"}}]},yf={RAIN:Symbol("rain"),FLAME:Symbol("fire_smoke"),SNOW:Symbol("snow"),WATER_SPRAY:Symbol("water_spray"),CANDLE:Symbol("candle")};Object.freeze(yf);var If=function(e){Fe(n,e);var t=Ge(n);function n(e){var i;if(Me(this,n),(i=t.call(this)).rootNode=null,i.nodeArray=new Map,i.particleArray=[],i.camera=null,i.density=1,i.data=null,gf.pushItem(Le(i)),e)switch(e){case yf.FLAME:i.onLoad(pf);break;case yf.CANDLE:i.onLoad(Cf);break;case yf.RAIN:i.onLoad(ff);break;case yf.SNOW:i.onLoad(mf);break;case yf.WATER_SPRAY:i.onLoad(vf)}return i}return Te(n,[{key:"load",value:function(e){this.loadbyUrl(e)}},{key:"loadbyUrl",value:function(e){var t=this;(new ql).load(e,(function(){t.onLoad(JSON.parse(t.data))}),null,null)}},{key:"onLoad",value:function(e){this.data=e,this.refreshLoad()}},{key:"refreshLoad",value:function(){if(null!=this.camera&&null!=this.data){for(var e=this.data,t=0;t<e.nodes.length;t++){var n=e.nodes[t],i=null;null==n.main?i=new _n:((i=new df(n)).init(this.camera),this.particleArray.push(i)),this.nodeArray.set(n.id,i),0==t&&(this.rootNode=i,this.add(this.rootNode));var r=new Tn;r.makeTranslation(n.localPosition[0],n.localPosition[1],n.localPosition[2]);var A=new Tn;A.makeScale(n.scale[0],n.scale[1],n.scale[2]),r.multiply(A);var a=new Tn;a.makeRotationFromEuler(new Un(qt.degToRad(n.rotation[0]),qt.degToRad(n.rotation[1]),qt.degToRad(n.rotation[2]))),r.multiply(a),i.applyMatrix4(r),i.name=n.name,n.parentId>=0&&this.nodeArray.get(n.parentId).add(i)}this.data=null}}},{key:"setDensity",value:function(e){this.density=e;for(var t=0;t<this.particleArray.length;t++)this.particleArray[t].setDensity(e)}},{key:"onBeforeRender",value:function(e,t,n){this.camera=n,this.refreshLoad()}},{key:"update",value:function(){for(var e=0;e<this.particleArray.length;e++)this.particleArray[e].update()}},{key:"destory",value:function(){gf.removeItem(this),this.removeFromParent()}}]),n}(_n),wf=function(e){Fe(n,e);var t=Ge(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Me(this,n),(e=t.call(this)).options=i,e.isEffect=!0,e.init(),e}return Te(n,[{key:"init",value:function(){}},{key:"update",value:function(){}}]),n}(_n),bf=function(e,t){Fr.call(this,e);var n=this,i=void 0!==(t=t||{}).textureWidth?t.textureWidth:512,r=void 0!==t.textureHeight?t.textureHeight:512,A=void 0!==t.clipBias?t.clipBias:0,a=void 0!==t.alpha?t.alpha:1,o=void 0!==t.time?t.time:0,s=void 0!==t.waterNormals?t.waterNormals:null,l=void 0!==t.sunDirection?t.sunDirection:new rn(.70707,.70707,0),c=new Qi(void 0!==t.sunColor?t.sunColor:16777215),u=new Qi(void 0!==t.waterColor?t.waterColor:8355711),h=void 0!==t.size?t.size:1,d=void 0!==t.eye?t.eye:new rn(0,0,0),g=void 0!==t.distortionScale?t.distortionScale:20,p=void 0!==t.side?t.side:0,f=void 0!==t.fog&&t.fog,m=new wi,v=new rn,C=new rn,y=new rn,I=new Tn,w=new rn(0,0,-1),b=new vn,B=new rn,x=new rn,M=new vn,E=new Tn,T=new Xr,S=new Cn(i,r,{minFilter:rt,magFilter:rt,format:dt,stencilBuffer:!1});qt.isPowerOfTwo(i)&&qt.isPowerOfTwo(r)||(S.texture.generateMipmaps=!1);var F={uniforms:kr.merge([eA.fog,eA.lights,{normalSampler:{value:null},mirrorSampler:{value:null},alpha:{value:1},time:{value:0},size:{value:1},distortionScale:{value:20},textureMatrix:{value:new Tn},sunColor:{value:new Qi(8355711)},sunDirection:{value:new rn(.70707,.70707,0)},eye:{value:new rn},waterColor:{value:new Qi(5592405)}}]),vertexShader:["uniform mat4 textureMatrix;","uniform float time;","varying vec4 mirrorCoord;","varying vec4 worldPosition;",$r.fog_pars_vertex,$r.shadowmap_pars_vertex,"void main() {","\tmirrorCoord = modelMatrix * vec4( position, 1.0 );","\tworldPosition = mirrorCoord.xyzw;","\tmirrorCoord = textureMatrix * mirrorCoord;","\tvec4 mvPosition =  modelViewMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * mvPosition;",$r.fog_vertex,$r.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform sampler2D mirrorSampler;","uniform float alpha;","uniform float time;","uniform float size;","uniform float distortionScale;","uniform sampler2D normalSampler;","uniform vec3 sunColor;","uniform vec3 sunDirection;","uniform vec3 eye;","uniform vec3 waterColor;","varying vec4 mirrorCoord;","varying vec4 worldPosition;","vec4 getNoise( vec2 uv ) {","\tvec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);","\tvec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );","\tvec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );","\tvec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );","\tvec4 noise = texture2D( normalSampler, uv0 ) +","\t\ttexture2D( normalSampler, uv1 ) +","\t\ttexture2D( normalSampler, uv2 ) +","\t\ttexture2D( normalSampler, uv3 );","\treturn noise * 0.5 - 1.0;","}","void sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor ) {","\tvec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );","\tfloat direction = max( 0.0, dot( eyeDirection, reflection ) );","\tspecularColor += pow( direction, shiny ) * sunColor * spec;","\tdiffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;","}",$r.common,$r.packing,$r.bsdfs,$r.fog_pars_fragment,$r.lights_pars_begin,$r.shadowmap_pars_fragment,$r.shadowmask_pars_fragment,"void main() {","\tvec4 noise = getNoise( worldPosition.xz * size );","\tvec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );","\tvec3 diffuseLight = vec3(0.0);","\tvec3 specularLight = vec3(0.0);","\tvec3 worldToEye = eye-worldPosition.xyz;","\tvec3 eyeDirection = normalize( worldToEye );","\tsunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );","\tfloat distance = length(worldToEye);","\tvec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;","\tvec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.w + distortion ) );","\tfloat theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );","\tfloat rf0 = 0.3;","\tfloat reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );","\tvec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;","\tvec3 albedo = mix( ( sunColor * diffuseLight * 0.3 + scatter ) * getShadowMask(), ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance);","\tvec3 outgoingLight = albedo;","\tgl_FragColor = vec4( outgoingLight, alpha );",$r.tonemapping_fragment,$r.fog_fragment,"}"].join("\n")},U=new Wr({fragmentShader:F.fragmentShader,vertexShader:F.vertexShader,uniforms:kr.clone(F.uniforms),transparent:!0,lights:!0,side:p,fog:f});U.uniforms.mirrorSampler.value=S.texture,U.uniforms.textureMatrix.value=E,U.uniforms.alpha.value=a,U.uniforms.time.value=o,U.uniforms.normalSampler.value=s,U.uniforms.sunColor.value=c,U.uniforms.waterColor.value=u,U.uniforms.size.value=h,U.uniforms.sunDirection.value=l,U.uniforms.distortionScale.value=g,U.uniforms.eye.value=d,n.material=U,n.onBeforeRender=function(e,t,i){C.setFromMatrixPosition(n.matrixWorld),y.setFromMatrixPosition(i.matrixWorld),I.extractRotation(n.matrixWorld),v.set(0,0,1),v.applyMatrix4(I),B.subVectors(C,y),B.reflect(v).negate(),B.add(C),I.extractRotation(i.matrixWorld),w.set(0,0,-1),w.applyMatrix4(I),w.add(y),x.subVectors(C,w),x.reflect(v).negate(),x.add(C),T.position.copy(B),T.up.set(0,1,0),T.up.applyMatrix4(I),T.up.reflect(v),T.lookAt(x),T.far=i.far,T.updateMatrixWorld(),T.projectionMatrix.copy(i.projectionMatrix),E.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),E.multiply(T.projectionMatrix),E.multiply(T.matrixWorldInverse),m.setFromNormalAndCoplanarPoint(v,C),m.applyMatrix4(T.matrixWorldInverse),b.set(m.normal.x,m.normal.y,m.normal.z,m.constant);var r=T.projectionMatrix;M.x=(Math.sign(b.x)+r.elements[8])/r.elements[0],M.y=(Math.sign(b.y)+r.elements[9])/r.elements[5],M.z=-1,M.w=(1+r.elements[10])/r.elements[14],b.multiplyScalar(2/b.dot(M)),r.elements[2]=b.x,r.elements[6]=b.y,r.elements[10]=b.z+1-A,r.elements[14]=b.w,d.setFromMatrixPosition(i.matrixWorld);var a=e.getRenderTarget(),o=e.vr.enabled,s=e.shadowMap.autoUpdate;n.visible=!1,e.vr.enabled=!1,e.shadowMap.autoUpdate=!1,e.setRenderTarget(S),e.clear(),e.render(t,T),n.visible=!0,e.vr.enabled=o,e.shadowMap.autoUpdate=s,e.setRenderTarget(a)}};(bf.prototype=Object.create(Fr.prototype)).constructor=bf;var Bf="data:image/jpeg;base64,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A/gAAAAAAHAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAOEJJTQQAAAAAAAACAAA4QklNBAIAAAAAAAIAADhCSU0EMAAAAAAAAQEAOEJJTQQtAAAAAAAGAAEAAAANOEJJTQQIAAAAAAAQAAAAAQAAAkAAAAJAAAAAADhCSU0EHgAAAAAABAAAAAA4QklNBBoAAAAAA00AAAAGAAAAAAAAAAAAAAQAAAAEAAAAAAwAdwBhAHQAZQByAG4AbwByAG0AYQBsAHMAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAABudWxsAAAAAgAAAAZib3VuZHNPYmpjAAAAAQAAAAAAAFJjdDEAAAAEAAAAAFRvcCBsb25nAAAAAAAAAABMZWZ0bG9uZwAAAAAAAAAAQnRvbWxvbmcAAAQAAAAAAFJnaHRsb25nAAAEAAAAAAZzbGljZXNWbExzAAAAAU9iamMAAAABAAAAAAAFc2xpY2UAAAASAAAAB3NsaWNlSURsb25nAAAAAAAAAAdncm91cElEbG9uZwAAAAAAAAAGb3JpZ2luZW51bQAAAAxFU2xpY2VPcmlnaW4AAAANYXV0b0dlbmVyYXRlZAAAAABUeXBlZW51bQAAAApFU2xpY2VUeXBlAAAAAEltZyAAAAAGYm91bmRzT2JqYwAAAAEAAAAAAABSY3QxAAAABAAAAABUb3AgbG9uZwAAAAAAAAAATGVmdGxvbmcAAAAAAAAAAEJ0b21sb25nAAAEAAAAAABSZ2h0bG9uZwAABAAAAAADdXJsVEVYVAAAAAEAAAAAAABudWxsVEVYVAAAAAEAAAAAAABNc2dlVEVYVAAAAAEAAAAAAAZhbHRUYWdURVhUAAAAAQAAAAAADmNlbGxUZXh0SXNIVE1MYm9vbAEAAAAIY2VsbFRleHRURVhUAAAAAQAAAAAACWhvcnpBbGlnbmVudW0AAAAPRVNsaWNlSG9yekFsaWduAAAAB2RlZmF1bHQAAAAJ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bS45OTggMjAxMC8wMS8xNTowMjowMDowMCBjdXRvZmY7IG0gYnJhbmNoXSkgIFdpbmRvd3MiIHhtcDpDcmVhdGVEYXRlPSIyMDEzLTEyLTAzVDIwOjQyOjEzKzAxOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxMy0xMi0wNVQwMDo1NDowOSswMTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxMy0xMi0wNVQwMDo1NDowOSswMTowMCIgZGM6Zm9ybWF0PSJpbWFnZS9qcGVnIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzYyMUNCMjQzQzVERTMxMUJDRjE5RDcwMEE5NDMwQUIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzUyMUNCMjQzQzVERTMxMUJDRjE5RDcwMEE5NDMwQUIiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpDNTIxQ0IyNDNDNURFMzExQkNGMTlENzAwQTk0MzBBQiI+DQoJCQk8eG1wTU06SGlzdG9yeT4NCgkJCQk8cmRmOlNlcT4NCgkJCQkJPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6QzUyMUNCMjQzQzVERTMxMUJDRjE5RDcwMEE5NDMwQUIiIHN0RXZ0OndoZW49IjIwMTMtMTItMDNUMjA6NDI6MTMrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDUzUgKDEyLjB4MjAxMDAxMTUgWzIwMTAwMTE1Lm0uOTk4IDIwMTAvMDEvMTU6MDI6MDA6MDAgY3V0b2ZmOyBtIGJyYW5jaF0pICBXaW5kb3dzIi8+DQoJCQkJCTxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gaW1hZ2UvcG5nIHRvIGltYWdlL2pwZWciLz4NCgkJCQkJPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOkM2MjFDQjI0M0M1REUzMTFCQ0YxOUQ3MDBBOTQzMEFCIiBzdEV2dDp3aGVuPSIyMDEzLTEyLTA1VDAwOjU0OjA5KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ1M1ICgxMi4weDIwMTAwMTE1IFsyMDEwMDExNS5tLjk5OCAyMDEwLzAxLzE1OjAyOjAwOjAwIGN1dG9mZjsgbSBicmFuY2hdKSAgV2luZG93cyIgc3RFdnQ6Y2hhbmdlZD0iLyIvPg0KCQkJCTwvcmRmOlNlcT4NCgkJCTwveG1wTU06SGlzdG9yeT4NCgkJPC9yZGY6RGVzY3JpcHRpb24+DQoJPC9yZGY6UkRGPg0KPC94OnhtcG1ldGE+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD94cGFja2V0IGVuZD0ndyc/Pv/iDFhJQ0NfUFJPRklMRQABAQAADEhMaW5vAhAAAG1udHJSR0IgWFlaIAfOAAIACQAGADEAAGFjc3BNU0ZUAAAAAElFQyBzUkdCAAAAAAAAAAAAAAABAAD21gABAAAAANMtSFAgIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEWNwcnQAAAFQAAAAM2Rlc2MAAAGEAAAAbHd0cHQAAAHwAAAAFGJrcHQAAAIEAAAAFHJYWVoAAAIYAAAAFGdYWVoAAAIsAAAAFGJYWVoAAAJAAAAAFGRtbmQAAAJUAAAAcGRtZGQAAALEAAAAiHZ1ZWQAAANMAAAAhnZpZXcAAAPUAAAAJGx1bWkAAAP4AAAAFG1lYXMAAAQMAAAAJHRlY2gAAAQwAAAADHJUUkMAAAQ8AAAIDGdUUkMAAAQ8AAAIDGJUUkMAAAQ8AAAIDHRleHQAAAAAQ29weXJpZ2h0IChjKSAxOTk4IEhld2xldHQtUGFja2FyZCBDb21wYW55AABkZXNjAAAAAAAAABJzUkdCIElFQzYxOTY2LTIuMQAAAAAAAAAAAAAAEnNSR0IgSUVDNjE5NjYtMi4xAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABYWVogAAAAAAAA81EAAQAAAAEWzFhZWiAAAAAAAAAAAAAAAAAAAAAAWFlaIAAAAAAAAG+iAAA49QAAA5BYWVogAAAAAAAAYpkAALeFAAAY2lhZWiAAAAAAAAAkoAAAD4QAALbPZGVzYwAAAAAAAAAWSUVDIGh0dHA6Ly93d3cuaWVjLmNoAAAAAAAAAAAAAAAWSUVDIGh0dHA6Ly93d3cuaWVjLmNoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGRlc2MAAAAAAAAALklFQyA2MTk2Ni0yLjEgRGVmYXVsdCBSR0IgY29sb3VyIHNwYWNlIC0gc1JHQgAAAAAAAAAAAAAALklFQyA2MTk2Ni0yLjEgRGVmYXVsdCBSR0IgY29sb3VyIHNwYWNlIC0gc1JHQgAAAAAAAAAAAAAAAAAAAAAAAAAAAABkZXNjAAAAAAAAACxSZWZlcmVuY2UgVmlld2luZyBDb25kaXRpb24gaW4gSUVDNjE5NjYtMi4xAAAAAAAAAAAAAAAsUmVmZXJlbmNlIFZpZXdpbmcgQ29uZGl0aW9uIGluIElFQzYxOTY2LTIuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAdmlldwAAAAAAE6T+ABRfLgAQzxQAA+3MAAQTCwADXJ4AAAABWFlaIAAAAAAATAlWAFAAAABXH+dtZWFzAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAACjwAAAAJzaWcgAAAAAENSVCBjdXJ2AAAAAAAABAAAAAAFAAoADwAUABkAHgAjACgALQAyADcAOwBAAEUASgBPAFQAWQBeAGMAaABtAHIAdwB8AIEAhgCLAJAAlQCaAJ8ApACpAK4AsgC3ALwAwQDGAMsA0ADVANsA4ADlAOsA8AD2APsBAQEHAQ0BEwEZAR8BJQErATIBOAE+AUUBTAFSAVkBYAFnAW4BdQF8AYMBiwGSAZoBoQGpAbEBuQHBAckB0QHZAeEB6QHyAfoCAwIMAhQCHQImAi8COAJBAksCVAJdAmcCcQJ6AoQCjgKYAqICrAK2AsECywLVAuAC6wL1AwADCwMWAyEDLQM4A0MDTwNaA2YDcgN+A4oDlgOiA64DugPHA9MD4APsA/kEBgQTBCAELQQ7BEgEVQRjBHEEfgSMBJoEqAS2BMQE0wThBPAE/gUNBRwFKwU6BUkFWAVnBXcFhgWWBaYFtQXFBdUF5QX2BgYGFgYnBjcGSAZZBmoGewaMBp0GrwbABtEG4wb1BwcHGQcrBz0HTwdhB3QHhgeZB6wHvwfSB+UH+AgLCB8IMghGCFoIbgiCCJYIqgi+CNII5wj7CRAJJQk6CU8JZAl5CY8JpAm6Cc8J5Qn7ChEKJwo9ClQKagqBCpgKrgrFCtwK8wsLCyILOQtRC2kLgAuYC7ALyAvhC/kMEgwqDEMMXAx1DI4MpwzADNkM8w0NDSYNQA1aDXQNjg2pDcMN3g34DhMOLg5JDmQOfw6bDrYO0g7uDwkPJQ9BD14Peg+WD7MPzw/sEAkQJhBDEGEQfhCbELkQ1xD1ERMRMRFPEW0RjBGqEckR6BIHEiYSRRJkEoQSoxLDEuMTAxMjE0MTYxODE6QTxRPlFAYUJxRJFGoUixStFM4U8BUSFTQVVhV4FZsVvRXgFgMWJhZJFmwWjxayFtYW+hcdF0EXZReJF64X0hf3GBsYQBhlGIoYrxjVGPoZIBlFGWsZkRm3Gd0aBBoqGlEadxqeGsUa7BsUGzsbYxuKG7Ib2hwCHCocUhx7HKMczBz1HR4dRx1wHZkdwx3sHhYeQB5qHpQevh7pHxMfPh9pH5Qfvx/qIBUgQSBsIJggxCDwIRwhSCF1IaEhziH7IiciVSKCIq8i3SMKIzgjZiOUI8Ij8CQfJE0kfCSrJNolCSU4JWgllyXHJfcmJyZXJocmtyboJxgnSSd6J6sn3CgNKD8ocSiiKNQpBik4KWspnSnQKgIqNSpoKpsqzysCKzYraSudK9EsBSw5LG4soizXLQwtQS12Last4S4WLkwugi63Lu4vJC9aL5Evxy/+MDUwbDCkMNsxEjFKMYIxujHyMioyYzKbMtQzDTNGM38zuDPxNCs0ZTSeNNg1EzVNNYc1wjX9Njc2cjauNuk3JDdgN5w31zgUOFA4jDjIOQU5Qjl/Obw5+To2OnQ6sjrvOy07azuqO+g8JzxlPKQ84z0iPWE9oT3gPiA+YD6gPuA/IT9hP6I/4kAjQGRApkDnQSlBakGsQe5CMEJyQrVC90M6Q31DwEQDREdEikTORRJFVUWaRd5GIkZnRqtG8Ec1R3tHwEgFSEtIkUjXSR1JY0mpSfBKN0p9SsRLDEtTS5pL4kwqTHJMuk0CTUpNk03cTiVObk63TwBPSU+TT91QJ1BxULtRBlFQUZtR5lIxUnxSx1MTU19TqlP2VEJUj1TbVShVdVXCVg9WXFapVvdXRFeSV+BYL1h9WMtZGllpWbhaB1pWWqZa9VtFW5Vb5Vw1XIZc1l0nXXhdyV4aXmxevV8PX2Ffs2AFYFdgqmD8YU9homH1YklinGLwY0Njl2PrZEBklGTpZT1lkmXnZj1mkmboZz1nk2fpaD9olmjsaUNpmmnxakhqn2r3a09rp2v/bFdsr20IbWBtuW4SbmtuxG8eb3hv0XArcIZw4HE6cZVx8HJLcqZzAXNdc7h0FHRwdMx1KHWFdeF2Pnabdvh3VnezeBF4bnjMeSp5iXnnekZ6pXsEe2N7wnwhfIF84X1BfaF+AX5ifsJ/I3+Ef+WAR4CogQqBa4HNgjCCkoL0g1eDuoQdhICE44VHhauGDoZyhteHO4efiASIaYjOiTOJmYn+imSKyoswi5aL/IxjjMqNMY2Yjf+OZo7OjzaPnpAGkG6Q1pE/kaiSEZJ6kuOTTZO2lCCUipT0lV+VyZY0lp+XCpd1l+CYTJi4mSSZkJn8mmia1ZtCm6+cHJyJnPedZJ3SnkCerp8dn4uf+qBpoNihR6G2oiailqMGo3aj5qRWpMelOKWpphqmi6b9p26n4KhSqMSpN6mpqhyqj6sCq3Wr6axcrNCtRK24ri2uoa8Wr4uwALB1sOqxYLHWskuywrM4s660JbSctRO1irYBtnm28Ldot+C4WbjRuUq5wro7urW7LrunvCG8m70VvY++Cr6Evv+/er/1wHDA7MFnwePCX8Lbw1jD1MRRxM7FS8XIxkbGw8dBx7/IPci8yTrJuco4yrfLNsu2zDXMtc01zbXONs62zzfPuNA50LrRPNG+0j/SwdNE08bUSdTL1U7V0dZV1tjXXNfg2GTY6Nls2fHadtr724DcBdyK3RDdlt4c3qLfKd+v4DbgveFE4cziU+Lb42Pj6+Rz5PzlhOYN5pbnH+ep6DLovOlG6dDqW+rl63Dr++yG7RHtnO4o7rTvQO/M8Fjw5fFy8f/yjPMZ86f0NPTC9VD13vZt9vv3ivgZ+Kj5OPnH+lf65/t3/Af8mP0p/br+S/7c/23////bAEMAAgEBAgEBAgICAgICAgIDBQMDAwMDBgQEAwUHBgcHBwYHBwgJCwkICAoIBwcKDQoKCwwMDAwHCQ4PDQwOCwwMDP/bAEMBAgICAwMDBgMDBgwIBwgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDP/AABEIAQABAAMBIgACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/xAC1EAACAQMDAgQDBQUEBAAAAX0BAgMABBEFEiExQQYTUWEHInEUMoGRoQgjQrHBFVLR8CQzYnKCCQoWFxgZGiUmJygpKjQ1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4eLj5OXm5+jp6vHy8/T19vf4+fr/xAAfAQADAQEBAQEBAQEBAAAAAAAAAQIDBAUGBwgJCgv/xAC1EQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/AOh16G9FtbTTQ3MbW42Foz5gKjORsH48c9uaj8FeDtPvJria3is5Jo7gOcyFJOc9VxhRj2B+owK9F+I3w+uNHvIvs/2q4Z9rDYhJmGfvIM49e/qK4K01X/hB9XuGf+F87dv7y3ycEnPBX3GMcjpxX97YbGLE4a9B7rp6ni4PEVo5kqlFar3YpabrVvql3fTXZo6G60nWdBhlhvf7PitV4Qli0ajoCVHGDnnGDXH6hqGq6ZqauLe3htZMq5jVfJ55DDLAqPzrUt/Hdrpfi+3bVPNudNvJQBJGQYUDY5IycEZ69vxra1rSVuLqRdO8meAEkKWKBx1BD8jcOoz15qqMpUZJVYrVXvbT89/UMRBwnVr1kpVOa17Wik9dLvr5mKvhC38W2kqXF1bzRsFLbZsqrAcEcH2GOOtS3fw102Pw+7XOnhF3AeeqlvM28gnnGQPT3qW21STwdeLe31s1xaPGVmEefNQjoxz2HPP4njmrVj4s0nRmLGz1WbTLxceWlu+2JwSOQD79evA7jImpWrp/u7tdLfivX1Pncdm2JxfuU21T96/LtZdVtftfpY4PUfhJb+INRVtJtNJW6hn8yGRLkwysc/dwccHoVPrjjAr0zR/hLDrGiteSWMMU1tGElVAyhOobcvIHB79x74p3xBbSL7wULyO6uraNImYb9oYFTjGTx3ByDuGT2qTwJeQ3MfnNqTtceQV8452udpDBsE5Y9wAOuQa5MXmGIq0FUi3Hl7p39Pn+B1ZbmGNxWPpZfTbhRaUrattW0u77vW/3bs4vxT8PNW8AReXBdQtptw2VQM2yMH+7nIPXjjHTmsr4c63feHYZreb+0NUs0kYeQqO5QFsnBA6qRwR0z0Ixn0PXbL+1fDcVu0AjZGB2oWVXxwcgknn9fWuP0zwFNp2ptJaLeW+HyP3hEQGecOoGCPcnHpivRw+KjVoSjXtf0tfz9fM+ipRUMyjia7Xw2WiW67+vbt3Zm6143aLU41hjmt41ZQj3ECDKnI+baRzn+LHHJ5rotA+JAOoeZdaXcMs48qZrcRtyP4iB3yR17Hk96n8Q+GTeyMt9EzXkabluGz+8HucYPY96yrbTp4bgrIzWe0gEeZuC+m7gcdgSCcHtWn7itSScdbd/ysdFbFYWNWThG0Iu97vV/m7/ANbm6UtdZ075W8u0kbgvFuVHz0PJHr0/rxPF4a029jRVlSSRlwV+UlGHXGBnH1p2k6Z/attIjQkrM218b2UNweO46Z/+tWxotjHZbknj0+RuQAJPnJU8cDo3b34968utX9npFu/Y+LzLOoyqqlSb1+yu3mczqHhxtGlS6ha6aHAV3QBlQe5xxjp+PNcx4k+H8cmoTyeX9q8wCUDao81ehx1ycH8f0r03+2Gjlkt1WNYn/wCWV1OW5PUbuAPxz3xxxWP8Q7X+zNGjuph5n2UFo3gkwrgZJUbmGSVGDzW2Gx9WM1F7s8vGYqtSpyW07XfVrv8Ah/V9o/A/xX13w5Yw2sUmoaxBYKUiS5PnBUA+6AOcDB4PQY5rtNN+NOl+I74LqmnWNsOM+XMVmjJ45BBGPbr+GK4vRLya5lt5rV5PssqqzI0ZacE88dRtweuefw4z7yyXQ9U82OEMFcMJniHyLnnfk4ZSOM9j61xVsrwleTlKHLLunZ3+RjhMNTdGOJqR95yvu77aJvZfK+z2Z6BrGqaF4R1OK6k1QLEzhFOQ4AxhSy52kHOMqcg9O9X7zSfD3xKlSa1jMl55ZR4ii+W56g7eCP1PIri9NvLK9tLizMdtcSebvQqQYSD7diPqeD6gVZnvtbsVhQW1vHaxkpnlGYckFX5XI/DPqK4pYCSacJtTXVtK69La/f8AcdscOsNzShJ3Wt20kpN62Vr3totb6+R1tl8LdJ1mw+0Wsdvpl9CFjYJdbclenDfy447VmeJ9dXRIx9puA+o20gV4xHuEgXHJydmceh5B6965O58X6v4UzdC7kWGTczyyBckjkFkU5OOec89aNe+Jcl5aybbNpvOXZnyQvluCVxjpjB4J9B07FLK8TKadafPDprt3V3fTy3MKPDGPx9Je2k5uWtk97+bvay0fU6Ca6utc0uRbW4tfLaUuqmdoyOT8pj3Yz229jn2rl/DmrDRNclW6ke9jhQk26FthGCCMkt6/xDr9a4vw78SbrXNa+x3WoKqKr/6NPCkTdeQCRjBz2yefTr31p8J9WvNba9XM1rJGDBeRgsqfL86EjnOMZB9CcivUrYWGFhKjXajGS0/4f/Lpex+lZDkuGyaEK2JnGM00rL0vZNq/3eS3ZFqXjC48N6aVtS0Nmr5ME0WRGD/c5P59umK1dD8e3lvpBuptPvLrTg4LiACSRMtg4K9OeRgd8Yx1xdWtodJ8OtDdbbe6tTtY7WXeAcc5z6H2PrXnkvieexuZE0+9mMIclo5m22+zOGwVHUcdiOBniuinltPEwsorffv8118z4/PMHPMsfbDxtCMV7zX2n+vrfy1Z7T42+JGn2el2V5dWc39j3ZEUk80AaWLPy5+QkhgSOduB79uJ+LPhrSZ9E+3WuoGa3AzK9rIGnUf3mCqMEEfxDsM4FYc3jaTS9G8nUHW5hnQMzuu7aDxxnLDHB4z7c8V0nh3VdJutPuLVprVrjyh/qplZR3Bb5Q2D37c9BU0cDLBKM6aej6bNfPqaZjluGy6E6dJNvlSjbW82tXrrb16voUtA8J6Xq3huOTbcXK3Ua4nEQZN3rj29B+Arp/Avg64sdXtWhZzDkHImXzoGBOcLj8ue9cx4Q1RUvDaxLcQxvM0LxeU7Rg9RgjGOORnORV2TxLeadqP+h3Uc15byHYFjKsdpAGVYYDYOM8Z2jvzWmKjXqKVJPfuGU4nGpRqp+8rJ3vpbW3b16abanTeJPhbr9lrLXFna3t6FdG+1mFZFdPUlgevTPbJzjGRzt94ckvri6tW3rqcAFzHG8KRrMOmAeefQnAPHPNdV/wALMvLC+tr6a+khWZA23zCzxk4yCeAPx6jPBFdRaW9j8WLDddeTFdwKRBf28fl7sZO1lY/MMehHqK8P69isLFTxKXKlbmS29V1Xo/RFYrFVHL2dWyjOV7rrHor9b9ErGHo/i5r7Shb3t9eQPuaNhIwVon4PT+42MfX0rhtcmvrPVZpGtY7qHDYnnUOwy3IGSBtHb6ms/wAMeKNc8Mazcx3FnLceTPuK3cS7trcd8HAJ7DA4z2Nd3d3uoeIdNPl26W7dFRNgRA2cgNzkEjO0jrXYsO8JXdkuSVuun+Z9pKmqGF9p7rqzbu720WmiXppf/huL1TQZr4Mo+zqvzSiAD7jDnjjHvjtWxpVyNL0uSaOa3gvo0EiQLJv+0L/uknkDPA4+mDVEu0SyQrNDZ6lCfkjlfYZR/uHrjn0zj8aseE/EWmxanGmsQzRRTIVlNsgVojnBYFt3ynIPPIx6jjsxMpuG10ui3fl5pn5TnGZOpV9nJtU+qW8pPRJeS3fW3zN/QPE9rrN9brMZIfti/vI5UEKnjn7o+9069SDwO2mngrQ3SS2iuri6maRcZnWNoztIGQoyR26dvwrn9W0bQ49USS0+3NhyYrliGlLgDK5T5SpG0/hxnita712TQ7WGWS6sZoZIlAliB3SDJHEgGQ459QfUZJrwqkZTknh3KK7bbf13R85h51cXiJ0aSaina210la2l3a/RWvtvtO3gO4i8P3mmXiw/ZbyExbSv3cjIKk8kHnnBx14xzxHhHwzr2nM1qGEbWshUKbmWOeUfdBClRuBHORgZ/Mdlp3j2+uNJaGLfHHvfy/taeWrY91G4HoR3571nR/EFdT1KJNSaxHOw30SOzWxPAOei4PUcd8e/Th5YuKnGcU+rt5dbfn19T9cyjA4nA0oYyrFczjy+ier0XVLve21u0VmuoW58m8bdHJ8jGOMtKhP3SwB6kDB65+lVJPEMWjXiSXMl1Ha7uXYbcA/e3MRjIweOorppDZrbM81ysmxt4kBOZAMA4fuVIBxwenJ4rk/EWrXga8jjmjWGNwxE4bbGD0Y5yTkHt39K3w8lUlytfp9xEKNbG3rtWinvay07f1p6s09bnlgZWhlWRVOYHhOd69SOeD8vOM9vztT+E7PxNYw3VuWhvIgGxGpilAPXp1H8q5VdRm02x+zyLJvSTcjwjcsY7EOxzt788D8KisPGGreH7hYrq3t7i1k3eWyzkSKcjIPGOn8uOmB0/VKvKvZS1X4nh5tKcqzjRaUEvS7/AMvM0UjuvCOoSfa5N9my7nBk3SxkHIPUHn25yK3tPaLUrZjb6fex3CuGS4CGL7YmP4csAGwce/pXOab4lt9YgmWaCxl+R44mVfNViO27khsHkY7Ejjrp6Nrmnazocam8k0+aOMJlHwoZSQMMDjkj2PT1Nc+Ip1Lc0k79WtvuW/8AXVHwtOtOk51Z7669F0ei3fzsjsH1i11K1iM+lxySLIIJQ7vDLL6HaMAn+oP0qxdaBZap4YurZtLvIrW4jcK23bIhzx9V55wV7+lZ+nTxamVjtWjW9ZC6yGba0zA5AIcjcT0+Xqe1bjXFnf2k0dvJfXmoLGd0cduCGGwtkA9AMHkDGAQD0x8riKns3aF1Z33lp2e9kv8AhiMLUq4nESw+Hi5VJK1m3u++tlZau7/Vrzu98F2/gSSN01Ca4h+4YmbY0RHTJ6bDg5x/+q1FrWnahMyT+SbUBh5MqgyLyQcFjyvTjkYP4Va8Q+KnnF0moLA0kLAiU4meMMeNwPKgN26e5NYS3mganqVm2oLcWtxNPtWWHYsLk54DMcHIBOznJ9K+npc86fPXu33Wv5W/zPrq2B+oq9eTah1Wuq0dltvon6ddrtz8OftM3m6fHDBasCyRlxGUI7jOPl5yMAgEcE06a3m8BXf7ueOaS4jEqWzyAxzg5OAjfxKfopHsKRNMksb9ovC11d/ao5PM8uaRlW5XOSCD6DPT09BmqGqeJG0C/gbxFDqUMUgMbmyTL2x5GQx5CAkHPBGOmQBTj7Wo+WT5o22t7z9V/X3mmV5biMyrezrPlpRkrxXxN9b72UVq399umrZeJ7DxHbK11Zm0s7oYkgeOOEI2MHG3PI44IGfyxzVz8MNPvY5FsbzyWW4Uq63gj2nbxkLgFT6AenGM1paLYWesTSxqby4kdyYpJQFlkZRjBZTtYFcHnJ4J5BGeil0FU06O6jFqtuigSyxgncuT/wAtOobBHr9cdFUrLDy5abcb206eX+R+m5fiaOGi5Q91xT06K9l63/XzPJ9Y8LXWn6k39ox2UlxCRGxiI3EHoc4w31IOevBGDteAviFrHgvxjFbpcSQafdy+ZbkTuoRhkbNpxuBAzj1DDB4Nb2q2Eel6lJHEzTSNuMXn5VWx1GQCffHv3xWO+nXWt6vA0sNvJIDnzYy0gUHgN0+Ug9cDp68V68q0MRRcK0U1br+iPjZYiVeuqlf4VO93p1V2l0sna79LHVavr1n4g8SyrLa2ctzuKs0ClWG7pkA85wRzx04A6c74j8DWt94g8yLT7e3M6hsSDaS/IYHsD0PQEZ61vS+GJ9G1qO4mslRTh1kEi7mU4DDecnIPP3RwR0PNTeIo5DLuufLt7q1YMzSEeWFPCu3J6jgn88A5ry8PWVJxVB6Wtvf9e5pHGU8ROrVw/wAPO2td0uyWy10+Wt9DztNNs4Ibixmhit7+0JMca/MuPoeuRn8qq+HNM8M6z4j/AHYks9RswJwtoBFK0TnB6ZBXPcjg13nivQNA1J/O1Owm+0qwJls/3gUHAzuHzAc9weD6V5fqvgW01HVI309pre9tZH+yXKO7SjpuUv8ALnI65HGB6CvdwtdV4O7lF9+n/DHOsPPFYmnU5ppOW+yaX6a9ivrmuT+FvF11b2N1qC3do4uY0uH/AHxXsWwVByMD5RwQemeO41Hx5L4t0GO4uNKmtdayEllji8tLoDo4ION5HAOMHjI558/8XafqOtxW63i7dStFaKC6eEMOOnc8jPTnIBrU8E2moa3oclndXHkTKm0iCbChgSOG47jockce5rtxGHpypwqTtePX/ht0+x1V6eDw061GTXK03dt3b/PyPQdD1mbUvBjSanb2sy283kSTqDFJKh5GQPlJ9z3GemQcSG81nw14kjl0iS8/sy8Rig8gFie3GeQR1xjnP1qLw14R1vwxqEjR3U9xY6hG26AnJ35Bzhj655FMvvDtxbxRxw3mqNdK+3ylAPyn7uByNvbI615cadJSlFNOMunTXy6WfyNMHTp+xp4xtSmloraJp729Hv0tZbNnWHxbD8X9JWGOfy7ixJ2Xk4ZmwRyqueHQ8nbn/CuTttR1nwHdRm6mhutJcbJjHBtlK9dwBOPyHJqrpLyeDNWjkksbdoY3/d7FOwDAyGUkD14zjjrXUf27M9xJDJBZy6axMke9GZYMnBxg9MHP+HbFUFhU4pJ03rrbTvZnVxRnGHwmClWoJRhH3Vezdl1827eSXRaFq88H/wDCVTwSWoa5t2fzEkjJEuMkcryMY5Pp27Vnx+A7G1uvOuLKMXFtmKaWJNrNtYA4ZSQSy7SMjnHQDJrcOs2thYQstvLZrEwjk2KSxYNyFcdVIIIBGfrVhkbxDZNcWd5cOsj7vMIbyXU54JUEFwRyTz3zXlxxWIbV24w6d/m1p8j8ZhiMZmeLil7kN0u2i1b7t9P1Vjk9bS48L3/nwXLXnhzUn5lMu1lB6jerdVOOCBz+nRXujTadpiNGli0e8TRLPEYJmGQj5U8NxkYJOcdORXN6nBe+G9YVby1j1KzvJMSwyRFtxGQSc/JvGQckfMD07jShSHxFojWkMjaY9uXGZcYiDHC4wMqdyjpgY9q7Kl/da2vq0t/Xrfo31P0LgnLVVr4mov4cFrLvLS/m27rX1SL+heH7O+e4hW+On327zUjZhFCrbSMAqe+B1HQj0qtPqH9mzRNeWNrJDvCGSRxubOAQGHDdj8319M5Mur2ejXNjdMJZ5oSCbosr7wCQcNt2svfkDv0PFZ+o6zbf2nI/nNZq2BIY0VXhbs7ZGGU9M844/HajhZym3K9n/wANpY+y4ho1amHhTk2op9rb66Jbdlfpvqeg+G9esVvlIt1tcEQzl4yQgb7rkE4wQRyDxg9qf4mgvoZGKyWafuzES+cKRkZ3KSCCMHpg57ZrF8Jtay3QX7d521MPDcOZFjBI/iXjBOCM9O5xmu9l8P6Vc6XHdQxrdBm5V8M0LdGCsAOMHI6fToB4uLlDD4hSd7PTb7u39dTPD18P9W+rwTb6K3l5/wBWXmeP+IbmXS5IJZhHbD7rCFhjHH8XccEjNUlkubVrnydQN1ZsBIriZAjbccBhnDDI4PUDHArsvFPg+xs7poZGke3lOBmTIIPUBucEccEelc3Y+CdPsdWmEd0rLIP+WvMZ+U8ZJ254HUfjX0eHxVKdNP8AQ+XzapRpVlRffXTy/q3n9xyrLc6pdtJHC0fny7ZFd2BLHoUO7nnb19eucCj+0ZrCKT7Kt55izlkWT92z+o5429QR1yPfFW/FWp2vgu5hkVribT3dfMJZmeI8lWXnhRnkjt7cVW1vxNbyPcq0Mty03zSZieR1JHylkxkx5/iUe3SvTp807Wj7vQ+fp4atians403yR0S792/V6dNU9umt4d8WJ4uaWOTUF07ULOYwttjPlJ8oZWdWBCx4J+YEcc9BUUmgeNfCniGbd4uuIbUESxHSTtWAHIH7zLMI84OVAGCOBwDwWlanY3XiWa6n0+ONDEIbgxMURlydkjR4U4U/xEHHJ6161ot5YaxpUP8AY5KX9vF5YS4uWZR0GFJwD0yAeeeffkxmG9jpa8Humk0r+Z+i8M4eGW4bkpwTruTk24xdr+b2stX1vba2li7nTxfYedqX2yHVrUFZGm3FuQc7HxhkYc4yOTk8HjjPElhJb6cI4bq4mj4ZQSY5AwIZWXPy7gwHQcnn1rf13ULrSHWSS3jWf76goycYIOVY7O2DyKw7611h5pIMWNxbyq0iO8blrcHBbHPA5B9vyq8HT5dmuXt0+Xl8zLPqMqqVSo1bom1q+ny8++xq6T431S3e3n1O6a22yGGRoizBjyvMYzyRg4AOD0HStafQdU8e2En7u1mmVDhxGEkkK/KcOOCxXBweO3bJ5j4d+Hr9rpt+mxyairkZkUbmYEZCy8jBGCN2CMYx69t9rlt7tZbhrmF1ceb5Z4cdOq9XGBnIHPfHB48ZTUKt6Vrrt/V/xPYyDEUcLl/JR5XOd3KVtu9ktem7ff0fnB1L/hCdTjZtSurdmkI3u+3OeNpb2bHXA7969V8IfEaaybzLyGO8tbpQwz+7KnOCTng5yenU59cVH4j8Fvc2jXAtY7qC6UPmcE+YRw2cjbuAPXoR1rjNI0ybwFLItu19HHuJZMb4VRjgFSOUIYfTnGKK0qGOpWa97+uq1R5dXG0ozabuleTemr2S02Xf7vXv9S0ezl1MSbZ9P8xwyTB/KSMkY5x06f17Gs240LVPB2vo1jqkZt58lftLjcCRyA44POCN3bn0q1a+PhoVhDNcSC80uYqx84YkAJwdj7SpXJGQ3rnjitibUJBiSGxVbWReZUO2SA8YL8fMD+Y46Hr5LlWpvlkrx21tZ/f1X/DHx9apVxtdU+Vcikm72s9dtf676nKy61qHhPxHu16JFs7lCskiJuWHPRyRlcEcfLkdc8Gukj0fTtZhWOz1C4jVbfy9kxP7g46hgcMvGeBz1+kWpeC18SaZMrTXwljjKvFO3mwRZP3gV4xnBGemTmvPtV1LX/Beo2/mLeTizlDom2KXGAM7DgHkHOOPz6dFOnHE6UpKM49Nk+3f+vx+qw+GnOk/ZNJSa20SW1ku3byV9dzqLrwbbw24j/0q0ntwRtik2pNzyMjGen8X59KwQkFjeyNDNcPcxsJPnnGycIR0OThgCeD1HXite88Uah4itY2ha6h2ZCo7BvMAP3c87SM/dYduKoQ6bf65JubyFmU/K8kQ+brxnODwO/J/l1YZzUW6z9T0M2w/sJRjWmkkrWv0S6+ZDriQ+NdL2vBNZzMwR1dsFW5wUYHkcD730rmbXWIfCV5dLbXDfaEZSomPlOw5DABhgr1z1OfrW5fpqlkkapuuF3LviVtz5HHy8jAGeD1ORz6Qr8OZde1C++1267Z1Ehm+bzVyPlYjGNuRjcOT0xxx3Q5IK05e52ufDPB0sdj4RxEuWkn8Ker0e99d/wCu0GmfHCzkvpLW6eOO5LnbswIzkdNhJG3HHy49hXVt8R4Y9M3NHcQQRqH+1WpwkOQQCeC23pz07+lcRrXhrTby0aPUBGywx+XMwTbHIP4WPtngt6++BVfS9Dj1uKK1tb6aP7PCY/sd1dFo5BjIAJ++D2DE5z9KqthcNKKkk1+X9fgfY08BhMfiZUopwpU0rvouyW3vPotkeof2XayllsY3kt5HJQFpDGece4U8A9P/AK2F4y0NbWSG4ZZFtNyszwYIhIByN2ACD/dI7/n1VxNa6noEc1lqkK224fuop2WUyKeUBK7TlDxwOlOtdGbxNpTqt7DsYlEDAq04OeO/7zsc/eB6+nzf1pxa5m0k9b3v+W/9XPx/iPHPF144Ze7FJO2rsl021k9rLbqzA0Wxa/8ADMkkM8l1YzfL5nkbW27QUKkHg4wDweQc+9Xwl49uvBGrrDZqNcs7qMmbTo32srZAJYlQAwG7+IdBwQOKejeGtY8K3vkiO6k0edzGyee8b7htBw2NoOMHkjJz+F06XdabJKGneG3WQESzxlhAD1y6c4OMkHjrycc+k6dNxlCo1JP+unVeVvI+k4YyqnKVJ17Scd4+e+rWt3s7W0uk0YWvazq0fjGZreWSxjuAyTfuioTAwHXYwCyL0IIx9AKoXmuyQatvmhn1C2xukcELMAw+bLYwTnnB655reu7CC41RZLkXiLGwEjyMRu3YzsYfKccEDqQB3qafSoLO6t5muIl0XJjMcybnjJ4ySSAykdhnHfrXTGpTTVo9LH7VgKWEyzCSp8qj73PJpWtfZaat72XRauxzd94hubedpLGY/Z5MyhnQSeW4+U/uwfmDDjd0+vFX7HSptTDOJrdYpCF8xWdmtn6kZGRg+hHHPSvQT8O4tSs3itZLUwyRjJI3LFnoflx7dexxXlt/e3Hwk8StOY2ezuCRL5Uu9dwOCdw+Zcj2B4GRmtMLiIVk4UfjX4/8E+K4izqWLrQhhIaN2tu36t+qt/kb2lC08MvBdzWNxcW0U/lvLFhzFn5T0IOO+CPb0K9doOsyRz3MUN4z2N0mGSc+XvweCOTtbHHoSvevNdG+I8l/rVxB9qsb6xukIeIbEMy5HVgco6g9xzjk1vtK+s6Gy2fmbrU/MtxKBHMvPK4PX36GsMdg5Ssq3W3mu69Gn20PWyHLa1CnKdd3qNO7bvy30e9tX0O58S6xY6loiyHyZpggyfMAkmx1wfXjvwefx4mPxpb6m7raqtteQNkrv/eXPcZQcEdc554Htiml/fT2Mke2CKWOQTRpIvz+hx0+U9+R/hmzMIL6OaaG3jfcSHXdHsH552/TGPQjFVhcDGnFxevbU8rEZLQeLhWqtyfr979V36epBq/izzJZIxDDIzDYVL5UqOAGQr8qgnGB+GBWeL1bf93cLDHbqubeRUzHEDwUDqeF6cEc89ccaeseC38SXTbUZm2h1kQ7toPupztJPoeo6d8Nfh7CyKLiG4hIkG5WlKqf91t2G7/4V7NL2Kjo7BhsHhY15Pmtd9NdFoktfO6+/sln61rGi6xeQJJqj6ZdwhtgkcwyZP3hFI3Eik4IU7s/lmxYeIbnwHDc3FuguowTuliIQsvJVnT7hx/eGAfbmm634ThERNrGsk8RBa3vcyxzrj+JX49sjjvWZB4ctfDt3IuoaHb2NrOjHNsrLGuDglSvKMMj7vHTg9B1KMHCz1XY6sTUwuGpzqNvkSslpdtq3Sz9T2/w58UtN1q2+x6zZJI0yt5bRbsDlsggAgYGDj0/DGDq9k3iE/8AEvWWKO3bzEeDDNC3IYbgANrD+E9x6Guf8E3EF3cfZbJnt7m1IYROfLmlwefLbAVgVyR/gcVreLfF8WlNa3dvDdTXTOY2EaKqyAjkM/3QwPUHJrwvqsaNb9zdX6Pa/p5/11MFQli2lSpt1ZdHtCK0d1srdO3e+hlaJrt3pF9lZL1riJvImdYtm9cfKwAPt+fX1PWr8WbfwtcrJqDWlxa3ihyvmBJBng5UjGR+Hbt04wa1fS639qmMi2t9kMEdlkU9Dtbbt3DII559Kt3ugL4J1COa80ua5s5yrm4kTLIrDqXGCRwDz/SurEYelUklUW66bvyT01R008Lh6OEdOtLTm15bXlbz0tFbaX62OqtPjbZ6LfGO2uLiaxlO0/unRQAMcOpC5Hp/IVe1P4h2urxv5LRzK0Ylwy7Zgrj5hnHzc9j16EZrI1jwzHZtHcWtw62d0m7ZKOPm+8FJ+Q44IHXAHOeqR+GlbyWZuNjRs0mC8JIAzy3zhhzgZwR715v1fC6VEnf+t/6/yPDzOOCqS9hSj8TVle/6LRb/APB0JrT4kLodrJHqFvDcHazN5UMZdTj7xUZzuHXB/nzs+FPF9jfWSx6ZdTRqWPlI5Y+STnKfKSCD/dPT8M1xFr8P2n19rZL66t3mj2Oh8vbHnoQw7H0OeOT0rDsfDupeDb8sdQ1BrdWJKtIuTg4I3gjHfoOOMiumWBw1WLUJWlv5fcdWV5NhITiua72fbp0tt27vV6Hol94k1rQtT8xFuWhRsfKitJgjDcrg7eM4IGD6dtPVtU/4Smzjkb5bgEJIr/u2cAcHg8N79DWNZ6hH4iC+VdYvPLEbq5VfOHGQSPuuMnqOcfStjStP+2WirdhvMjXY/nMAsnptx3zxzx9e3mShGNpyVpLt/Wx9VjK2HoylTikora3dP+n5qwlno1xcWYkE+RIoAdLja8hxx0PP1II/nWFqem30kXmRytIsTjcif6x1zkZHcDJHHp+W7pGmf2ZdzRxPujMnmosqkFfXgnoc+2an1ZrW4sJIZJPImUkLIFIMZ6gcHO3g8D3681UazhPTVeh8PmOYzdPniuabvbTZv/LQwX0yS+sZFgnS21CHlH2lwCPukp2HY49TyB0zoPGuoeHvEluL6N5I5ARFKke6Fd3UAk7lGT0GcjtVuTWUN6v2hJOnMrL5igH3z93kevGO/XoE0KPxdp8TRq0Kq3KoNqyH/ZPRie3r+NdEpRpr98tH+ByZbQhRftMR8WjbfRdF3u+3+WmHr9vN4x1FmmuLe1jCFhHJLtAIB3bH67D1wex57Z0NN0rw/Y6XHJdWa7YHKTfZiZFfqQxG4qf94d/xNJqWiHQLXzvs/mJAQ26SP74AyCwPy56856+lULHxLpunXf76OK2t5Cy7VgKxfe9cHBBYdM9ehqVecLUr2XYeKzCpXk/ZNwoxu7R01+W79djZufANnouk3jWc0iWklwZBKpMiYA/hHJ2+xP8AjWFawTaBrzeTHBqMMzFimyR1c5BILHIXGMg+hI5zV6xn1HwxqdwtjqFhcaTcOFeGZ8+Wfutx0xwOhJP8hdImXU5I47i1tr15R5IhbCoe2FYgFME9CMemKxp80U1UnzJ9/wBeunWx8jhcHKlOE6kuaV7Wb1bV3r5dXa1uhXj8R6lp2tbY7j+zLzGJYEQNbyjadrAK2Mn1AwTnrzi5pvxAvoNVWT7DNexyOEkDj5UOCchByBz/ABd8ZxxWbealfKI/7W023ZbGUxMREPNQY+YAjIUcA4zxWVrcmyeObT5JlPngrJCPMcHoQXUY3EY7ds8V0Rw9OatKK1Vrrb71qfqWRZLGlRc5RV78zfRK22mv9a6noFz4g0TXZLf7U8NqzW+wIJF/dkbhgoeCOmVA7VNqdlpN1BLavcxTLJGMDP8AqTjtjjafT681zj6fe6jpNz9pt/30cglVmiG509ST/F1xnrWFe6nq3hW+gjk0+x1G1V9pIk8uXZ1GVx94AjkY6DjvXHTwavanPVdL/PRs9qpgfrbcqU/db01VtXa+vy/4Y0kTTdIW3uLcASWxCq0AAzg8j5vXPTr9ODVLxB4ci8TanixvLxb4nc0BcJuGOqrnIY9ifTvmsaDW7s6xfWqzr9iukLCIpgoT0wWb5SCcZX8sHFbN/pjavodmwivLee1UDzzsEgxg8N/EpHqOter7OVOSlzb9fXXX5mMsLHCwdJyvPz1tZ2d/XZW3OZ1vwdPDqX/EwCzRqVDTMgWVDjhgw7jp7euK3PDOp3kFvIkF1JeJG+wLJgzpk5HAUfKcdgD9atRGTVLfDNdrcRnB+TcXxkZJzg9Prmq+l20MOtrIJGjmmGBIzHYh4HXGVYHsOMGuipUc4cs919xnHGezj7aq7pt6ev5efbbcurf288qtdFbeTkOsvLKp6EhhnGSefc+9XdO0WCC8aJWhlZlWUhCioCO+3sffknjGOlaVlbTLDMl5DBN5WQWGWIBHPHHU/Uc+tV9S0nS7lbOZWmhlhG0Mw+UqfccjB9f/ANXmOsm+VX/Nf5nhUsY8bWck3yp622stGvT+uxy2taZfaRrccljE01u3RGOfKzzxwAR7HvVZdQ1bS7xvvSKW3KiAgqc9wxIBHsR9DXY3sLQW/wC5m81gSy7jvI4PXnp78/zqmjW+qM32wKm5QHYuXSEkjGcqCD2zk8GuyniPd96KdgxGMhTg6jiuW7a7v/gEOk3a3jW8l1aq0NxGATg7VHPTsBz2H9BTNR8B2fiC6ZbedfMt2EohlchgSdrAE9QVJ6gDNP0vTv7Ela3F/ZzWrl3iSaQ7jk52hm7+me/sav6rfadfXazWqyNcR27K8kcZLPxkZyQAduM84OK5pVpRn+6v+i9T4arjq+LmqdK/M2m9NIrzvs/yVzD1T4b6fd6O0zzXlvNaz8qsjSABQMEKDyBnrx6ZAHF3TPDVppejSwvbrJFMfmVkd1Yg87ieBj+X1FaQ0e60mdbmQQ6jZ6kNshZxmJipB4H4cZJ9OKo/2T/wh+qJHdzt/Z95PtBWQlYN2MZDHGzBGceo4xmn9Yc1yud+q/Vd9D7ujipYLAc3tW+ZOPq3u/RbtvtpYzItTt/h2Vm+zyC3k+S4WMB4yD0YAHAP0GeTyRXZSeNtBufC8PlXchjRghhlXDIp6/JnjBIwTx2OMiuc1fSj4UvWt1kt7mwuGKqJh8sRxyA3QdAcZ49iarT2GjTRMt1axzs52NNaSfOhzyN6nHIx29DRUpU6/LN39V1+T7Hz2Fwca3tVLmeijp1fz2S3319TrrxNMXwyNuLu3ktSYJYphlD/AHCrY4HdcemBgiuY0Oe71i5NvZrdqdnyrIpzC38sH07evWoPCmnafoazQvcak0DPvUvGrIy+jEgc9cHnuam1JYbCeJldttq/8bfMQDkZHA3dweM8DrzSp0VTcoK77N/5f5H0GDw1GnKOIinJpatrRei9LJf1fD8Spq2n6rDNGzia2ClQgWNn28lRuznPvyPXpVlvFuoeIYWx/aEU8ZJeM4V5RjqApzuwSRnOcD1xXZX2l6f4/tpPst5dR3ghEmNg2sRjGcng9RnP9aYnha0uNJgN000Oo2oALEqrNg54b+IH86r67TcYqpH3l5f1oeo8fQw9SblFc8k7K2y0u/W1vkc/pkzahapcSHzI8pHLPLgSBgOD0+9x06+/WtDTbtbmfy4L68knt5vL8hpMzAHkYAUfLjuO35UaP4buLZ5Fha8NuzbkYRbsjJBznKkZHTGemKuXOmx6pKIzJcQXqkFZC/AI4IzjKkZPHA5qataF7Lb8vX/gHzWMzjkwvtN5y2Xr/X6LU6DRrK6maaKT7PFDGWB89vmUEfKwB/hO49PUiqt7NDZ3yrP5Ma/IfvKIX6YAB5B7c5z/ADz9B1nWotSxeW7SwxEhsn5wcYbOOueo69a6KWO18VWy202+GGNAuy5CgkHqNx/PBH5V5VTmpzvO1vI8mld0r1JJO+rWtl+smtl/wDN1DT9J1a6jS2laOJo8iKYMy884HA5B4wR3x6GnaTqFv4NmVpo1axuH/dtAvysy/wB9TwpA7Z6dM1CdVt/DzLBLHYzWtu5UCN/MkVTkjOCDjIP5Z6Vga14sk0W5ulmhLeG7x45GZmMsVq2OuSAyYOOQM9OmM1pCjOr+71cfN7+j7/f2ObC4GvmNZzV4UYu7bfS2i829vK9kztE8exwa3HFHCL7R7xdpR4n2rz254xweenPtVbXvA2l3thJOljDbwxziSRLjcBETkMRk8qQcgkDoPauU8QalpNxovmWuoW7ROjSRxrcsZGxyQrseCM5Bx69jWvoPiG6l05IryYalpV5blC5RiwOCQW+bhh3PTNZywkqSVSg3F9fO34XIzq9KawuGXIpK6vfRPuur69v0ydf8Q2eu3DXdvYww3VzEX8zy/lbGVyQv3Txy2CPfFUdG+JckMAF1p929vDJud413SDHUq5yAFPQnoDzjpWV4hi1Hw1HIbd5rrR4SJNsqbZFjPXlR8yjr83I4zgitDTNE1DXUN9p8kdnMkeWMHIBz/H1UgjAIwTk54r2vq9GNL3vh6avT9Ue/RyyjPMIwq2Vvelrst/vb27Lz26O78b22slp3HknCysk+AUx0Zt2VYEdxR4n8O3FlpF02lrAuNs4WLP7jPfCZDKc/QY9qr6Xpv9jW0K3z7oriLYY5nY+Ux+8FIySOc89h6c1VuvENr4YsIm3XOxW+zuEP7yLpj5lAODgcdenpxwqCjNKj0fqn/Vj7vDwjjIOnhY3hZ9HZtfpd/NmXaa9q3hS1hfULG6n0+bK9TJsGcMC+Rjp0Iz1/C0un29zNH9laSSFsFQF+Qjnpg4BA7kc8U7TxcH7XbWt5qctlPJkJNLuU+nzA8duMdB6YzBJHjPlo0c6kht83Dn0yP6muqn70nPZ+X6p9T2cfWjgMJGhG3Mkr27/1qvL8Ll/oP9oQxtHbzCfGwyCPaw46jjGff9BVa11S+0cGJZUkkwdm/wD1rZ7EZ/8ArnFT6Nq13fl47aZorhMHyi+1ZMeoHGffqffpVme2aKdnujD5mD+8m4RepB9ABjrkcelVzOPuTsz4Wm1K9bENe89V1du/Zf15lOW6m1mZZrgzR3iHacZ2t/vdvx/WtKXwza36bmSKS4+9tCAfkG5OP8mrVzoq39s6R+WJgpdCrKVzjpnOcduuPx6Z9uzBIZFjuIZo12McnPrwT1Uj1yOayVS/8N2t/X3HiY/HTxuJWHp6QVrpafL+v+Gp2Nu0F3LH5beYPuxEYaM9flONu04zjJ/TJtSa1CLDZGVt7q3kwfmByp55DfLgcgkEYAHaqN/bXGorJ5dzGqxTb+CG2ng8jsPU/wAqi1a2uNAP+mWqPHJ86llZ0z0Pt3BwK35Yzau9ex7OIpwwOAaqO85K1l5vr+B2+naHcano7TXkdssOSGeEhgmOjHjHYcjrg57Y4nxboF5ol/vsVjmiYAoPMxj5QDgYIIIORxjj3ra+HXiFtQhk/s1bd4kQ74iux2Hcfl2PPBqz4ouY7dVuFtLiGRshv3J2nBxnr19++RmuOjKpRxDhLbt/wDyMWqlTBwU0nL+XZL18+/ZHFSWFn4k09WuIrdZiAXJYbiD6Y4BGO9UtRn1bwDHHeWqyX1i4G0wylnVecqyngjk88enTJq+tzPompSfaLJbiGTOQFPT1xnAPJ/KrWpaKraW21rp7O8jOWJAVcjBwR1xx0/WvZVTlajLWL+7/AIBxYCi50pOdv0b2vo9lt+CNbSvivrmhaNumjinhkQ4dYFBj6jnax2sCOpHGfTiszxF8SrjWvDreesrbSJSjoDk/xAMDjAPIHUbj06CppPh9vBnmRrdXEkMib8XX3gp4IyeMc5wf/rnWjFrb2qXF1ZrcQzRBZJbUA+U3+0Mkdew/PvXJ7DDwn7SME9d1oe3nNbA0cNGnGCcnG10ra6bLol0+/c0rewm8aaJDPPD59u0ayOuciM4G1yG+8D6/5POX/wAOf7G1CQ2qzR7wHKxv8sfHGNvBU/px+PSfDnTP7K1WO20+S+W2uIyIVmJMfP3lAXjoScHjv6562fwxNrtgk0C3q3VtmKVZMJMhGMsGABYcDORkHryK8+WPeGquN7R/z7mGDzP9xGKsrbrz/rfq9e54/H4Q1e1GNuoeSp3IZPnx03LuBB564OTyePTe0XR7jWbKOGOOaRofkaPZuBAx02k7WwCOnp2Nbk2n/a7tkW71S3v4pACHx5cpHcn6fXjNU7e8h/tSN5828hcq4835ZD14PT8T1B+pHbPFzqRv1Xl/V/kPGZxOlCzsorfT+rshguZtCvbdpI7pGU+RIdmGTIPIxwPr2/n32knSPEGn4ac/as/u5GXEk3IOD9OffisubULd8x2UkclxG6yJGz8zgHoVHA6np6d617Dx55sF1H9ms7W4i/egyKqjHUbSV7YwRmvAxlWpVV4Qaa63t+mx8ZHNsRisVU9nB223tf8ArT/h9svUbabw88jNcXHlodvmw7iuDggSL12noT+tT2F3pviidJrLyYrjZu3nDKTj+62CMdAeTzzzW1darD470Nre8hxHsJjmhRFRsduzMvPTORx3rzLTdak8J6+kdk/k21om2UXcZ4BG47d3VCPUnHepw0J4iLUtKkfPR/h+FjoxWXz+sUoz2VnL+WLb0vbeVtlb5aadDeRXsutyxPO0O0HYFYCSM4yQpP8ACeoyT+PeTU9Uhls0mZrZ1ify2mUgs2eRvDDGeTnBxxmqmveIodU8t5/sLWKzA+dbsJNnPBYdMdc+n0zVZNM1GKGZLeFZLJ5SUR9zx56kAc/l9MdBjtjT0Up6W/p69/I+gweVyTbqWjduy2t1+cvy2E1M6fOEunaztY438ucwylWVf4SVA7kLg9ev4M1HQ7fxFYxxwz3Plqdogmk2+xx6hh0yPSsldPutMuPPTT4VtWBMieSFZc8EgZ9MHB/litS/NzYWqXEcc0cLH5pFgYxvjoQQeMep6g/U118ji1yS9P8AI968cDhZRpv3n9y7v1MOX4ZSaPH5VtHay6fdRuJCWUN0/g/usPfjn2rl/CniXVvhuV/0iW+tbafy3t1kYyOoyDlehO09MjkEds16RBdao10rCJLqCYY8nZ1wTnr8oPTk88d65rUdI0vT9Rurq4+2/wClOBLJI/7tQF2krs44yBj06HgV10sQ53hXXNft1/rufn+OrTq1Y1qj5pSbSS1dkl+CtuursurJLyNfDnnx28t3awx5j2TZbyQxPqMFDk8DpzU+l+INXuHmitrK1t2hTHmXBYeTnH8cf3lJxxtAPU4qDXNHt/G5E+m6lIuoqfNhZZNolDZBAO75lP1HUc4zXMSazrEyCT7DPHdWrmKWSXO6EY/vAnIPXn9Oo1p0Y1I625ut/wCvx/p/cZXk0p151bKU5uy5ui6+r1/JW3O6stWvLKHdeR27rN8skSXPmEMvPy55XGCRnPHXtWfqHg6SLULry5FmtLr96paVeeMYDKfvj0IP+HP+EPEUmp3f+kNHPNEfLMmwxsV7gnJAx0wDzxxivVrDRdQCxsxs/wB4MAlMFiBzkjjdjBzgdu3XzcQpUK3M7JW2+4/RMRjqOT4BYeMl7SW/olsvL+vI5PTdPa4so1kh8p0XazcL5vcYwTz39zmui07SofFVg0VvMy3kPzKlwgPmDtg5wO4yD68c1p29o0t+I2SNNx2uiL82c4JI4z/OqGo2t/p+oSNarcSK3QqxY5HovY/Q9PyrCWI9o7J2e67H5fi82qYyu2npHTfTvd+fftt5mOFbwtqqySrbx3Ctw4XcIv6FPXpjNdNDdR64jR3MdrcbgGRwA2Mjseflz36c1k6nY/2npztd258xVyyNGVY/QnjkHp0698Cqcekf2d5Mlp51qYWyGkOxcEfTnsRnOKc4xqq7fvdzya8vZR9nzXlLVvy7Lt6LqaF3p0J8nybVrMxnbtUfJ3xtYkAg9uRVeaf7D5kiXE5aNw+2RSD/AN8sSvbnHU88GrEupTy3bNAsn2hQXlQQKvmjPJwMBuf4sg/WrjXDSW7yXWxXkQglZVWRSR3GOc57VPNKNubX+vM6ssw1pO/yV9X3319fuG3d+rqJLixy0keGmEJ2ngj5hg+n0wPz5nVNGk16CSOBpI4l58uNiOemQef8D+dbPmRrDbmU3UipxiYFtpBPy7u4PpV+9sLe3hW8tY5IZQcMAxyORnGfoPWqp1PZNW+XY7swxEaTUVHmqyV/JLr/AF0+Z51psU3h/V7e+jaaK6GEkdU3eYM8Z9/wPFdhZaxHZ3C/2hH50Nz82AxikTPB55A4H6Uy709LpmMknms67xlsOw6HGecjOTXO3mlahoS/u1ZrXG4GUeW5H+yfb17j6GvQlyYjfR/1130PLnKToez5tN2+9ui62/M1tVmsfDd8zK17cWV05BMpDCPIx1UeuDz61SvvEcmgys1vdrdW1wwYJPzg4wdp5HvyPX2q3p+iR+IYI4RIgWc4O6bbgkZDZxjHTI471paZ8J4IrqaO+t4rmUNu81X+ZBgEHPQg+xBrF1qFLSq7vt38zojHAYOk/byblK2ndvp5R1My31NLmzU3lrI0BiMZKnLQZPHUfdOccdOeoqpovhaK5vpYLSRrdWjJImjYiLOBnevVTx/CfwrdsfhwthrL2kN1dqju2xPM+aMEcgZOSM/pVO98M6x4G8VW86iaSFTtDOGZ4CRzyD0Oeh+v0n61TbcKMrN6pf1/X6/P5nm0K1eMaT15krfn9yOR1nxTqXgi+juLWTVobzT3SaSKKcusoQ/NsXPHHIJB988V6z4c+LNr8URcHT7j7LrEafaSBIES9XocshOJACD83bsADVe48P8A/CyLbddNajKmGR4RtmPBBydwUMDwV+hwe+Fpngq38H+I44biOFL+AeTHchCJJcdiRxv27Tnv9K5cVLCYmPvK1WPbX1v3Xc2o47B4SU525pN8sUtdVu/66/cek6bbQ/EPS7ea7SzXU1HlTYnWGSY846Ngk8feyT6c1geIfAq21x5aSFZN+4QXoHnSDIzsHGB16fpmsSz8RQbl/eSQxM2JB5DLlg2DgHngHOcA4PNYvjfXk121nXT7i4XUI1KiTDMXKjKkDHUfXJ6ZxxXn4fL8QqnLTk1Htbb/AIH5HDjMrx+Jw1otpq19NLv9dNunbqdgvh7Tb83EdzHDp9zbndGVjO+IEZ+YZGIzjk9vT1ZNqp067j+1SQz6b08wFZokDAD7w+bZz16AHJ6Anx4fGKbTdVhn1a1mKp8syS2rR+aCcnbIQEPHIBPb6Y9C06603xXahdPa4t44WLbbnEKoCMjGAdwOeh556jjPfVy2rQXNWbcX9y9Op7nDvDFSgk60nzt720in1X97df0jUuNUj1dCmmm1hgjwTGW3NkbvuH7rBuce/qKmvLmG+tLe8v4o5LFM5dWBlVemCjDGOoOABXK6taWSXEzNYzQvHneqxjEh5/njrkbvU9ag8KalFPcJDdXbQWM6FWUOIpI2I645znPY9R27X9T9znhfT7/v6s9LE4GOIxscPRbhSg97Xa1WvnN/hsdLc3kGnaiyWumwT6XMRlmtyGOeCGUfnnHT14rMm8QRaKWkt0urWAPiS3hO2NipwCCMjOOh9vTmq18qywiOz1CZorf/AFfnkNIjKSMBgTuU4ztPf8q1IPFEd5bIl+FYyRmGaNQkcrsuM8qeOBnJHpVRp8sU7c3fv9zPWqUYU5y5Yu+0U27q/V73k/wNG61P7VYw3EMzXtjdKD5xA3YOfQcnOOo69+a54w6hp9vKtrMfssjbvJ5ikGeCM9B64x296IfEtv4buGtVvPPs5CZog86guv8AEFJ+bcOp6Z596dpfifT55CqXUMbMuCZ3EbPj0IP0Oe/PvVU6M4J2V16f1ZmOOoSpqKcOmt1103/r0OYvLS80vUJI4NS1KGS4YhA7bolLZ7r05wcnPbrzVnQYdX8SaX/xPrP7UnnFWnYoC54UlR78HkevtW1rupWMcEircWMzNL2uFD54IO4YX+vH0rhL34pP4T1aVNXmisVefeLmFG2oCFwzEjBU+oI98V6dL2laPuRV+/X5dTwYU8TPEe0pU1aKa5mtfPlS102vt8zSTwNq3gGfasmlrpkc8hjG0ySW54Py9MKevT1wfSJ/A+sP4gVreeG5hkQMgBJ8wfQnrz6YP6V6fbwW2qa3NDY6feTabdfOkktttVUJ4G7OQQDxjqK0IfC8NxEsM0MlpdWe4DjY0oA/gI9R3Iwa8z+2mlzTWrWun5re6e59nis+jk1H6vK3tIvXZtPa2l3drbr28vLrZrixvcX1unngY85wYlJ9wT1Prjk8dTXffDrXIdbsJ7OF7Wa8t3UGESqCw5KkEkE4wRgYPHatbU/A8fj2yK2DTQ3UBxvlB/eA9jnI78jjPB4rzi1uNR+H3jaOOa2+zXsRaNmmjYQMFIIJXlduB2OeevQVMsRTxtOUI6Tj0/rp6HwFbHVsXiozteU5KKjfa+yfa27sd3r11dWWsRzSXlvbsG27fODLwcgkHjGOu3NVb3VLq7+0R200PnoSxVVDD/gIB/8A15otNTPinVJbW8tbe6Nx90yRFowSOAM9gcEDGcY5zU0fggapcQPHazaayfI2SUCtnawQ4OeoOCO3fmuOMoU0vbWTS8v+HPcxlPC4GjONaS31elvl19PS78q6Xt5qEcaSW96rSKYcxsGELehBySDzxz9ar2tpHpk226maOHBwGc7QeSQ27jIx0revdNvvBVkl7At5Iq3IQyxr8p6YJyMe3H6YrshqumeJ7GSTULGeOTysMZomMLAZ5LAHB5HJzj2NcNXNOT3qcbwfVb/cfH4PNJZnmHs6EPdurW3e/wCGh5nqDSaQ3mbZvs8i5hnhIkjde4BH3WHp3/lX0nTbrxfZzQW/nyeWPldQGmx05HXHbjitq++HkiRr9jufM0+U+bGqzf6s8bl3AY6YIzzRpWkJpuqwsreXPgxsxPyuPY/3s/XNegsVTdPmg/e9O3dfn5n3lTHUMppxUbSqyVv8PN38/wBNkY9v4dn0GA/bDNJC0ZRgMB8A8k4xgjB7da6DwfNDYrJE6TXCOfmR03Ky/wBfrwabeXE2ia8ZLmG4urWZwXZZMEA5DdeCfyz7ds8eOdL8I+IYYWl1Cazuo+F8g+ZgjsVJHB45ABwfSuetOrXg0k5N9v66H5vmGaYupXlUV5Sb5dNvT0X3nY6lp0mgweY1hDNaycBvIUSID74OP58dqxPEaWd/ZquNrNuwssI8wHvzg5655rotD8baTp4/dTas1pdHGyWOOOaLI5BOQCBweQD2479Z/ZOh+IoBm4gmkmi3gRExTZHqvKscehH6187LMp4SSlWpy9Un+Ke3369Lno4CUU+WUG29FZPV37a6efbQ8Hkkm8NSxybYyoIIKjCNjAzjrz/9Y+/SeCPE8fiZWjSO4s7qJmMZZSFbBIKjk5BHIz/StK+8F6LfG6hs9RvILhhuEToFJYZzznDZHrXleunUPA9/a31sus7reXzPKZVHnAEllGDzkHcB68YOcD6ml7LHR5Y6T6XTX4M5vYTrV4ys+rba21S0XVrp/TOs8d+NVtZZP9D8m+sWdkdzulcqOOOBg4xke/4a1p4n0j4neGPssijTdUtYleILuYXQx90gk7T97GBtP04rk/iBqWn/ABK0mYWp1Sz1KNPmiuNP2K4z8pRhwPryMe1ZfhK/t/FXhi1fUJn07VLINBLIV8pmZODtYHHOM9cH3q1ltN0Y1GnGUX0vp8nun+HTU9fC8PqOZypQT5pq0d21d2b9bWtvbpbpuW11fLZzPBDbQyLHzM6eSGPGDjHJI6nGPx68jrPxB0/xPei3uNStzqCN5UttBcrtmK8r9705HykEfljC1bS9fsNZd1vLy6t/Nys0MQUujHkSO2QRzyAQTnNWdd8I2/iXSJNrR2epKN9vLHGFVJEYEHBBHHp1IPUgV7mHwtKDUm1bo109fI+vrcP4bKsLGg2pV3sluut23d369O/U7DSbiza+AmvrtbdhteKaQFOMFT83GOvK4zjtWXr2p6N4f8XTCLyZLd8s4Vh8gP8AFtU5PpzxzyTXG6d4l8VeH76FdYs9Nks5ZPK3yoxTJ/2SQB9M9PStjW4tE8aW8Ln7Dp6JkC2MmGD4w6o3Ug9cNkc961+q8lW8m3Fq10d0cqgsD++qNWfPJx1svzcmtl95sTTafrN+sEcl1/Zl1+7C/fEL9175HcA5wOO4q14M0nTfBM6t9uaz058pG0UubdW5+WQPwp68A8c9O+D4dFnoss0UKWrW63GyRbQ/vHXaNjuvI9Bkcd8Cobf4iWeiX95b3G5dPJBnhjifZGCSN5IUjnIOcnHHHFKpRnKDhC9u3f8A4J5eQ062YYp4igpQoQb/AOBfu3+Hfv1HibxI2kX3z/aLqwmJ8owMu2VQOQvUKw9O+Ovpzuo+I9LV/Mhs9SurVXWQSGHzDCTwN+BgZJI+91H57OueEdI1zRLe6sbi4kifbOkS3R3KRgEA4A5XBAOOn0z2nhb4XXA0lbg+TdaZdRGN2fKtIvplejg+vJ9zxXFLGYehTTlvtba//BPYrYrLsBivZSvzys4rbfr56v8ArpxEEP8AwkFut3aqwlkUxtNHJtUAf3+Rg+vBz61DL8L9Wn1OSVry4uLhmDmJYBGrj0yRk8fxZzxzjHHQaT4A1bwl4hmSxEjWNxL5qqLllVg3B6jBYjsevtUw01vMm+ytNBqFunDvAy+xwQSB0B6dj6CnLF2d6Ula2nXfv2DCZpObSpW5ua8tL6pXSb6JLtrr1OdTwVJM/lNLb2OoW7gMrgmU577sgc9fXPtRpfiCDw9rPl6rYNP5rMNxtl80t3w2G4IJ9+TWh4i1W7jmguL6xmkDEoZVQxyMD1DFc5GfUDt06HjfF1u2pSpIjXUMO8PuBb5D90MQSCcjrj9c12UabrR5auz7fo9zx8yw2KzCq3UnaN1drt0t176dPVHpUvjPwnqw861S3sb1JlJyoMbFeDu4yDj6/wAq1NQ+FFj418Lz/wBm3Wm3EkatIqOWyq85Uddy/pyemK8RvFvo45TbwROzYkO5tmDjB5/iyPXp68VZ+Gfx2TwHr0E2pWazWLSASxMAXweHxjBOQSf6GsMRlFaFPnwc3zR1Sbvfy1OXGYN06ypUJPklo+rff/hvmz1fwR8Wde8O6fb2scupavb6epSGO5PnKiKPuADnAwRg9Bjmu003406X4kvtuq6dZW6/LnZMVmjJ45BUgD26/hiuK0O9muWt5rVpPskqqxQxlpgT/d6jbg4znnH5ULyyXQ9UMscKsFcMJniHyLnnfk4ZSOM9vevBrZXhK8nKUOWXdOzv8j43CYenKhHE1Y+85X3120u9l+Oz2Z32t6joPhLVIbqTVFWJnCKSRIAMYUsudpByOVOQenetG90nw98SZI5rWLzLzyyjw+WvlOeoO3gj9TyK4vTbyyvbS4szHbXEnm70KkGEg+3Yj6ng+oFWZr7W7FYUFtbx2sZKZ5RmHJBV+VyPwz6iuGWXyTThNqa6tpXXpbX7/uO6NBYbmnCTutbtpJSb1srXvbRa318jrLH4V6Rrdh9otY7bTL6ECNxHchcsvT7306ccdqzvE+uJokX+lTiTUraULJH5e4SBccnJ25x2B5B61yVz4v1fwpm6F3IsMm5nlkC5JHILIpycc85560mvfEuS8tpNtm03nLsz5IXy3BK4x0xg8E9gOnZ0crxUpp1p88Omuq7q7vp5bnPR4Yx+PpJVpOblrZPe/m72st+vmdBNc3Wu6XItrPa7Hm3hfPMbDk/KY92M9RtwMHPtXL+HdUXRdclW6dr1IULGBM7cEEEZJb1/iH864zw78SrvXNa+xXWoKqKr/wCjTwpE3XkAkYwcjpk8+nXvrT4T6tea216uZrWSMGC8jBZU+X50YjnOMZB9CcivVrYWGFhKjXaUZLT/AIf/AC87H6VkOS4bJ4RrYmcYTTSsvS9k2r/d5dWQ6l4un8N6Zttf3Nmsm4wTxArHn+5yfz7dMVraJ4/vLfSPtU1heXWnBwXFuBI6ZYA4K9OeRx3xjFYurW0Ok+HWhuttvdWp2sdrLvAOOc59D7H1rzyXxPPZXMiafezGHeS0czbbfYThsFR1HHYjgZ4renltPEwskt9+/wA118z4/PMJUzLH2w0bQjFLma6v9fW/lqz2nxv8SNPtNLs7y6s5v7HvMRSTzQBpYs/Ln5CSGBI524Hv24j4teGdHn0X7da35nt8Zle1kDXCj+8wVRggj+L+6M4FYk3jaTS9G8nUHW5hnQMzuu7aDxxnLDHB4z7c8V0nh3VNJutPuLVprVrjyhjyplZR3Bb5Q2D37c9BU0cDLBKM6aeje2zXz6l5jluHy6E6dJNvlSjbW82tXrrb16voZ+heDdJ1fw1G/lz3C3SLicQKybvXH8wO3QV1HgTwTNY6taNCD5OQ25ZV86BgSThcflz3rmvCGqKl4bWJbiGN5mheLynaMHqMEYxxyM5yKuyeJbzTtS/0O6jmvLeQ7NsZVjtIAyrDAbBxnjO0d+a0xUa9RSpJ79x5RisbFRqp+8rJ36W1s+nr0021Om8S/CrXbLXGubOzvL7a6MbswrKrp6ksDx79s84xXN3vhhry5vLXay6pDi5jjeBI1nHTAPPPPU8HjkZrrP8AhZl5YX1tfTX0kKzIG2mQs8ZOMgngD8eozwRXUW9tY/Fqwzd+THdwqRDf26eXuPPysrH5hg9iPUV4f1/FYWKniUuVacyW3quvyfoisViqjl7OrZRnK911j0V/PolY8W1+G8aC3mmhuI2twULIfNBUdRsH4jHPbmovBPgrTbqe4mtobOSeO5DnL7JMHPVcYUY9s49RgV6N8R/h/caReR/Z/tVw0mHGxCfOGfvIM49e9cDaap/wg+r3DSfwvnG395b84JOeCvuMY5HTivcw+MWJw16D37HrYPEVo5kqlFar3YpabrVvsu76eTR0d1petaFDLDemwitF4Qly8ajsSo4wc84wa46/1HVtM1JWFvDBayZWTy1XyfUMNzAr+ua1Lfx3a6X4vt21TzbnTbyUASRkGFA2OSMnBGevb8a2ta0lbi6kXTvJngBJCligcdQQ/I3DqM9eaqjKVGSVWK1V720/Pf1DEQcJ1a9ZKVTmte1opPXS76+Zip4Rg8XWkiXF1bzRsqlts25VYDqOD7DGRnNTXfw201dAka60/au4fv1Ut5u3lSeQMgelSW2qSeDrxb2+tmuLR4yswjz5qEdGOew55/E8c1bsfFmk6K242eqzaZeLjy0t32xOCRyAffr14HcZE1K1dP8Ad3a6W/FevqfO47N8Ti/cptqn71+Xsuq79r7KxwGpfCC18RaijaVZ6Ot1bz+ZBIlwYZSd33cHHXup+nGBXp+j/CaHWNGa8ksYoprWMJIqblCdVbcvIHB6HuB64pfiA2kX3goXkV1dWsaRMw37QwKnGMnjuDkHcMntUngS8huY/ObUna48gr5xztc7SGDYJyx7gAdcg1yYvMMRVoe0g3Hl7p39Pn+B1Zbj8bisfSy+m3Ci0pW1batpd33et/u3Zxfin4eat4Ai8qC6hbTbhsqm47I1P93OQevHGOnNZPw41e88NxTW8y32qWaSEeQsbOUBbJwQOqnkHtnoRjPomu2X9q+G4rdoBGyMDtQsqvjg5BJPP6+tcfpngKbTtTaS0W8t8PkfvCIgM84dQMEe5OPTFejh8VGrQca9r+lr+fr5n0VKKhmccVXa0jbZLdd/Xt28zL1rxl5Wpx+TDJbxhlCPcW6DKnI+baQc5x82PU810mg/EgHUPMudLnZJx5U5thGeR/EQPcjr2PJ71P4h8Mm9kZb6JmvI03LcNn94Pc4wex71lW2n3ENwVkZrPaQGHmbgvpuyBx2BIJwe1X+4rUkmtbd/ysdFbFYaNWThG0E7311f5u/9bm4Y7TWNO+RvLtZG4LxblR89DyR69P68WYvDWm3qqFmWSQrgr8pZGHXGBnFLpOmf2rbSI0JKzNtfG9lDcHjuOmf/AK1bGi2Mdnujnj0+RuQAJPnJU8cdm7e/HvXmVsR7PSLd+2h8XmOdqVVUqTev2V28zmr/AMPSaJKl5C920eArumGVBnueox0/GuY8R+A1fULiba10ZAJR8qjzR0465OD+P6V6Z/a7JLJbKqLG/wDyyupy3J6jdwB+Oe+OOKyPiDaf2do8V3N+8+y5aN4HwrgZYqNzc5UYPNbYbMKsZqL3f4nl4zFVqVOS2na76td/w/q+0954Mt/AzxyJfzTQfcMTPsaIjoM9NhGc45/pai1rTtQmZJ/JNqAw8mVQZF5IOCx5XpxyMH8KteIvFTTfakv0gLQMCJDiaSMMRjcpwVAbgjp75xWEt3oGpalZtqC3FrcTT7Flh2LC5OeAzHByATs5yfSuCnzzp89e7fda/l/w501sD9RV68m1C2q11Wmi230T9Ou125+HP2mbzdPjhgtWBZIy4jKEdxnHy85GAQCOCadNbzeArv8AdzxzSXEYlS2eQGOcHJwEb+JT9FI9hSJpkljftF4Wurv7VHJ5nlzSMq3K5yQQfQZ6enoM1Q1TxI2gX8DeIodShikBjc2SZe2PIyGPIQEg54Ix0yAKcfa1HyyfNG21vefqv6+80yvLcRmVb2dZ8tKMleK+JvrfeyitW/vt01bLxPYeI7ZWurM2lndDEkDxxwhGxg4255HHBAz+WOaufhhp97HItjeeSy3ClXW8Ee07eMhcAqfQD04xmtLRbCz1iaWNTeXEjuTFJKAssjKMYLKdrArg85PBPIIz0UugqmnR3UYtVt0UCWWME7lyf+WnUNgj1+uOiqVlh5ctNuN7adPL/I/TcvxNHDRcoe64p6dFey9b/r5nk+seFrrT9Sb+0Y7KS4hIjYxEbiD0OcYb6kHPXgjB2vAXxC1jwX4xit0uJINPu5fMtyJ3UIwyNm043AgZx6hhg8Gt7VbCPS9SkjiZppG3GLz8qrY6jIBPvj374rHfTrrW9XgaWG3kkBz5sZaQKDwG6fKQeuB09eK9eVaGIouFaKat1/RHxssRKvXVSv8ACp3u9Oqu0ulk7XfpY6rV9es/EHiWVZbWzludxVmgUqw3dMgHnOCOeOnAHTnfEfga1vvEHmRafb25nUNiQbSX5DA9geh6AjPWt6XwxPo2tR3E1kqKcOsgkXcynAYbzk5B5+6OCOh5qbxFHIZd1z5dvdWrBmaQjywp4V25PUcE/ngHNeXh6ypOKoPS1t7/AK9zSOMp4idWrh/h521rul2S2Wuny1voedpptnBDcWM0MVvf2hJjjX5lx9D1yM/lVXw5pnhnWfEf7sSWeo2YE4W0AilaJzg9MgrnuRwa7zxXoGgak/nanYTfaVYEy2f7wKDgZ3D5gOe4PB9K8v1XwLaajqkb6e01ve2sj/ZLlHdpR03KX+XOR1yOMD0Fe7ha6rwd3KL79P8AhjnWHnisTTqc00nLfZNL9NexX1zXJ/C3i66t7G61Bbu0cXMaXD/vivYtgqDkYHyjgg9M8dxqPjyXxboMdxcaVNa61kJLLHF5aXQHRwQcbyOAcYPGRzz5/wCLtP1HW4rdbxdupWitFBdPCGHHTueRnpzkA1qeCbTUNb0OSzurjyJlTaRBNhQwJHDcdx0OSOPc124jD05U4VJ2vHr/AMNun2OqvTweGnWoya5Wm7tu7f5+R6Doeszal4NaTU7e1mW3m8iSdQYpJUPIyB8pPue4z0yDiRXmseGvESTaTLeHTbuNygEALE9uM8gjrjHOfrUXhrwjrfhjUJGjup7ix1CNt0BOTvyDnDH1zyKZf+Hbi3hWOC81Q3Ub48tQp+U/dwORt7ZHWvLjSpKcoppxl06a+XSz+RphKdL2EMW2pTtoraJp729Hv0tZbNnqWkeLWvdM+z3t9dwPvaNg7BGhf6dNjYxx39K4bXJr601WaRrWO6hw22edQ7DLcgZIG0dvqaoeGfFOueGdbuo7izmuPJn3FbyJdwVsjnJBwCe3A4zzg13V3e6h4h00+XbpbsOFRNuxA2cgNzkEjO0968lYf6pWbSXJK3XT/M+ilTjQwvtPddWbd3e2m2iXpZX7HF6poM18GUfZ1X5pRAB9xhzxxj3x2rY0q5Gl6XJNHNbwX0aCRIFk3/aF/wB0k8gZ4HH0waol2iWSFZobPUoT8kcr7DKP9w9cc+mcfjVjwn4i02LU401iGaKKZCsptkCtEc4LAtu+U5B55GPUcdmJlNw2ul0W78vNM/Kc4zJ1Kvs5Nqn1S3lJ6JLyW762+Zv6B4ntdZvrdZjJD9sX95HKghU8c/dH3unXqQeB2008FaG6SW0V1cXUzSLjM6xtGdpAyFGSO3Tt+Fc/q2jaHHqiSWn25sOTFcsQ0pcAZXKfKVI2n8OM8VrXeuyaHawyyXVjNDJEoEsQO6QZI4kAyHHPqD6jJNeFUjKck8O5RXbbb+u6PnMPOri8ROjSTUU7W2ukrW0u7X6K19t9p28B3EXh+80y8WH7LeQmLaV+7kZBUnkg884OOvGOeI8I+Gde05mtQwja1kKhTcyxzyj7oIUqNwI5yMDP5jstO8e31xpLQxb4497+X9rTy1bHuo3A9CO/Pes6P4grqepRJqTWI52G+iR2a2J4Bz0XB6jjvj36cPLFxU4zin1dvLrb8+vqfrmUYHE4GlDGVYrmceX0T1ei6pd722t2is11C3Pk3jbo5PkYxxlpUJ+6WAPUgYPXP0qpJ4hi0a8SS5kuo7Xdy7DbgH725iMZGDx1FdNIbNbZnmuVk2NvEgJzIBgHD9ypAOOD05PFcn4i1a8DXkcc0awxuGInDbYwejHOScg9u/pW+HkqkuVr9PuIhRrY29dq0U97WWnb+tPVmnrc8sDK0MqyKpzA8JzvXqRzwfl5xnt+dqfwnZ+JrGG6ty0N5EA2I1MUoB69Oo/lXKrqM2m2P2eRZN6SbkeEbljHYh2OdvfngfhUVh4w1bw/cLFdW9vcWsm7y2WciRTkZB4x0/lx0wOn6pV5V7KWq/E8PNpTlWcaLSgl6Xf+XmaKR3XhHUJPtcm+zZdzgybpYyDkHqDz7c5Fb2ntFqVsxt9PvY7hXDJcBDF9sTH8OWADYOPf0rnNN8S2+sQTLNBYy/I8cTKvmqxHbdyQ2DyMdiRx109G1zTtZ0ONTeSafNHGEyj4UMpIGGBxyR7Hp6mufEU6luaSd+rW33Lf+uqPhadadJzqz3116Lo9Fu/nZHYPrFrqVrEZ9LjkkWQQSh3eGWX0O0YBP9QfpVi58P2WreGLq1bS7yG1uI3Ctt2yIc8HnqvPOCv6Vn6dPFqbLHatGt6yFxIZtrTMDkAhyNxPT5ep7VvG4tb20lW3kvrzUEj5jjtwQw2lsgHoBhuQMYBAPTHyuIqezdoXVnfeWnZ72S/4YjC1KuJxEsPh4uVSSta73ffWystW2/1a8dupl8XWAl1L7ZFq1qpWR5txbkHOx8YZGHOMjk56GuM8SWElvpwjhuriaPhlBJjkDAhlZc/LuDAdByefWt/XdQutIZZJbeNbj7ygoycYIOVY7P1Gaw7611h5pIMWNxbyq0iO8blrcHBbHPA5B9vyr9LwcFHVNcvbp8vL5n7HntGVVKpUat0V9G+ny7vvsauk+N9Ut3t59TumttshhkaIswY8rzGM8kYOADg9B0rWn0HVPHthJ+7tZplQ4cRhJJCvynDjgsVwcHjt2yeY+Hfh6/a6bfpscmoq5GZFG5mBGQsvIwRgjdgjGMevbfa5be7WW4a5hdXHm+WeHHTqvVxgZyBz3xweTGU1Crela67f1f8AE9jIMRRwuX8lHlc53cpW272S16bt9/R+cHUv+EJ1ONm1K6t2aQje77c542lvZsdcDv3r1Xwh8RprJvMvIY7y1ulDDP7sqc4JOeDnJ6dTn1xUfiPwW9zaNcC1juoLpQ+ZwT5hHDZyNu4A9ehHWuM0jTJvAUsi27X0ce4lkxvhVGOAVI5Qhh9OcYorSoY6lZr3v66rVHl1cbSjNpu6V5N6avZLTZd/u9e/1LR7OXUxJtn0/wAxwyTB/KSMkY5x06f17Gs240LVPB2vo1jqkZt58lftLjcCRyA44POCN3bn0q1a+PhoVhDNcSC80uYqx84YkAJwdj7SpXJGQ3rnjitibUJBiSGxVbWReZUO2SA8YL8fMD+Y46Hr5LlWpvlkrx21tZ/f1X/DHx9apVxtdU+Vcikm72s9dtf676nKy61qHhPxHu16JFs7lCskiJuWHPRyRlcEcfLkdc8Gukj0fTtZhWOz1C4jVbfy9kxP7g46hgcMvGeBz1+kWpeC18SaZMrTXwljjKvFO3mwRZP3gV4xnBGemTmvPtV1LX/Beo2/mLeTizlDom2KXGAM7DgHkHOOPz6dFOnHE6UpKM49Nk+3f+vx+qw+GnOk/ZNJSa20SW1ku3byV9dzqLrwbbw24j/0q0ntwRtik2pNzyMjGen8X59KwQkFjeyNDNcPcxsJPnnGycIR0OThgCeD1HXite88Uah4itY2ha6h2ZCo7BvMAP3c87SM/dYduKoQ6bf65JubyFmU/K8kQ+brxnODwO/J/l1YZzUW6z9T0M2w/sJRjWmkkrWv0S6+ZDriQ+NdL2vBNZzMwR1dsFW5wUYHkcD730rmbXWIfCV5dLbXDfaEZSomPlOw5DABhgr1z1OfrW5fpqlkkapuuF3LviVtz5HHy8jAGeD1ORz6Qr8OZde1C++1267Z1Ehm+bzVyPlYjGNuRjcOT0xxx3Q5IK05e52ufDPB0sdj4RxEuWkn8Ker0e99d/67QaZ8cLOS+ktbl447ouduzAjOR02ZI244+XHsK6mT4jwx6XuaO4ht40D/AGq1PyQ5BAyMF9vT2/SuJ1rw1pt3aNHqAjZYY/LmYJtjkH8LHpxngt6++BUGm6HHrkMdpa300Zt4TELO6ut0cgxkBWP3h6Bic96qthcNJKSTX5f1+B9jTwGEx+JlRinClTSu+i7Jbe8+i2R6k/i6H4waWIY5xHcWLHZeT5ZuRyqueHQ8nbnH8q5K21HWfAd1GbqaG60lxsmMdvtmK9dwBOPyHJqrpUkng7V45HsLdoI3/d7FPlhcDIZCQPXjOOOtdR/bsz3EkMkFnLprEyR70ZlgycHGD0wc/wCHbzVRWFi4pJ03rrbTvZnPxRnOHwmClWoJRhH3VezdlbXzbt5JdFoWrzwf/wAJVPBJahrm3Z/MSSMkS4yRyvIxjk+nbtWfH4DsbW6864soxcW2YppYk2s21gDhlJBLLtIyOcdAMmtw6za2FhCy28tmsTCOTYpLFg3IVx1UgggEZ+tWGRvENk1xZ3lw6yPu8whvJdTnglQQXBHJPPfNeXHFYhtXbjDp3+bWnyPxmGIxmZ4uKXuQ3S7aLVvu30/VWOT1tLjwvf8AnwXLXnhzUn5lMu1lB6jerdVOOCBz+nRXujTadpiNGli0e8TRLPEYJmGQj5U8NxkYJOcdORXN6nBe+G9YVby1j1KzvJMSwyRFtxGQSc/JvGQckfMD07jShSHxFojWkMjaY9uXGZcYiDHC4wMqdyjpgY9q7Kl/da2vq0t/Xrfo31P0LgnLVVr4mov4cFrLvLS/m27rX1SL+heH7O+e4hW+On327zUjZhFCrbSMAqe+B1HQj0qtPqH9mzRNeWNrJDvCGSRxubOAQGHDdj8319M5Mur2ejXNjdMJZ5oSCbosr7wCQcNt2svfkDv0PFZ+o6zbf2nI/nNZq2BIY0VXhbs7ZGGU9M844/HajhZym3K9n/w2lj7LiGjVqYeFOTain2tvrolt2V+m+p6D4b16xW+Ui3W1wRDOXjJCBvuuQTjBBHIPGD2p/iaC+hkYrJZp+7MRL5wpGRncpIIIwemDntmsXwm1rLdBft3nbUw8Nw5kWMEj+JeME4Iz07nGa72Xw/pVzpcd1DGt0GblXwzQt0YKwA4wcjp9OgHi4uUMPiFJ3s9Nvu7f11M8PXw/1b6vBNvoreXn/Vl5nj/iG5l0uSCWYR2w+6whYYxx/F3HBIzVJZLm1a58nUDdWbASK4mQI23HAYZwwyOD1AxwK7LxT4PsbO6aGRpHt5TgZkyCD1AbnBHHBHpXN2PgnT7HVphHdKyyD/lrzGflPGSdueB1H419Hh8VSnTT/Q+XzapRpVlRffXTy/q3n9xyrLc6pdtJHC0fny7ZFd2BLHoUO7nnb19eucCj+0ZrCKT7Kt55izlkWT92z+o5429QR1yPfFW/FWp2vgu5hkVribT3dfMJZmeI8lWXnhRnkjt7cVW1vxNbyPcq0Mty03zSZieR1JHylkxkx5/iUe3SvTp807Wj7vQ+fp4atians403yR0S792/V6dNU9umt4d8WL4uaWOTUF07ULOYwttjPlJ8oZWdWBCx8n5gRxz0FRtoXjXwn4il3eLbiK1VhLF/ZJ2rDkkDMmWYR5xyoAwQcDgHgdK1OxuvEs11Pp8caGIQ3BiYojLk7JGjwpwp/iIOOT1r1rRLzT9X0qH+yGK39vF5YS4uWYdhhCcBumQCc88+/JjMM6PS8Humk0r+fQ/ReGcPDLcNyU4J13Jttxi7X83tZau2vpbS54Y+KWm65ZrZ6xZq7TIfLePcQPvZBADAYAB9MD6Yw9Xsm8Qn/iXrJFHbt5iPBhmhbkMNwAG1h/Ce49DXP+Cbi3u5/sti8kFxakMsTnyppcEbvLYgBgQSR/gcVreLfF8WlNa3dvDczXTOY2EaKqSAjkM/3QwPUHJpfVY0a/7lNX6Pa/p0uJYeWLaVKm3Vl0e0IrTVbK3Tt36GVomu3ekX2VkvWuIm8iZ1i2b1x8rAA+359fU9avxZt/C1ysmoNaXFreKHK+YEkGeDlSMZH4du3TjBrV9Lrf2qYyLa32QwR2WRT0O1tu3cMgjnn0q3e6AvgnUI5rzS5rmznKubiRMsisOpcYJHAPP9K6sRh6VSSVRbrpu/JPTVHRTwuHo4R060tObXlteVvPS0VtpfrY6q0+Ntnot8Y7a4uJrGU7T+6dFAAxw6kLken8hV7U/iHa6vG/ktHMrRiXDLtmCuPmGcfNz2PXoRmsjWPDMdm0dxa3DrZ3Sbtko4+b7wUn5DjggdcAc56pH4aVvJZm42NGzSYLwkgDPLfOGHOBnBHvXm/V8LpUSd/wCt/wCv8jw8zjgqkvYUo/E1ZXv+i0W//B0JrT4kLodrJHqFvDcHazN5UMZdTj7xUZzuHXB/nzs+FPF9jfWSx6ZdTRqWPlI5Y+STnKfKSCD/AHT0/DNcRa/D9p9fa2S+urd5o9jofL2x56EMOx9Dnjk9Kw7Hw7qXg2/LHUNQa3ViSrSLk4OCN4Ix36DjjIrplgcNVi1CVpb+X3HVleTYSE4rmu9n26dLbdu71eh6JfeJNa0LU/MRbloUbHyorSYIw3K4O3jOCBg+nbT1bVP+Eps45G+W4BCSK/7tnAHB4PDe/Q1jWeoR+IgvlXWLzyxG6uVXzhxkEj7rjJ6jnH0rY0rT/tloq3YbzI12P5zALJ6bcd88c8fXt5koRjaclaS7f1sfVYyth6MpU4pKK2t3T/p+asJZ6NcXFmJBPkSKAHS42vIccdDz9SCP51hanpt9JF5kcrSLE43In+sdc5GR3AyRx6flu6Rpn9mXc0cT7ozJ5qLKpBX14J6HPtmp9Wa1uLCSGSTyJlJCyBSDGeoHBzt4PA9+vNVGs4T01XofD5jmM3T54rmm7202b/y0MF9MkvrGRYJ0ttQh5R9pcAj7pKdh2OPU8gdM6DxrqHh7xJbi+jeSOQERSpHuhXd1AJO5Rk9BnI7Vbk1lDer9oSTpzKy+YoB98/d5Hrxjv16BNCj8XafE0atCqtyqDash/wBk9GJ7ev410SlGmv3y0f4HJltCFF+0xHxaNt9F0Xe77f5aYev283jHUWaa4t7WMIWEcku0AgHdsfrsPXB7HntnQ03TPD9hpUct1ZDbbsUmFsTIrjJIYjcQf94d/wATSaloh0C1877P5iQENukj++AMgsD8uevOevpVCy8S6bptziaGG3t5Cy7RAVi+9zzg4OSOmRz0NRrOFqV7LsPFZhUryfsm4UY3do6a/Ld+ux0B0m2dmWxjeS3kkJQFpDGecH1CngenT8sHxloa2skNwyyLablZngwRCQDkbsAEH+6R3/Pq7iS11LQUmstUhW23D91FOyy+Yp5QErtOVPHHalttGbxPpTqL2HYxKIGG1pwc8d/3nY5+8D19PK+tOLXM2lfW97/8P/Vz4PiPHPF144de7FJO2rsl021b2sturMDRbFr/AMMySQzyXVjN8vmeRtbbtBQqQeDjAPB5Bz71fCXj268EausNmo1yzuoyZtOjfaytkAliVADAbv4h0HBA4p6N4a1jwre+SI7qTR53MbJ57xvuG0HDY2g4weSMnP4XTpd1pskoad4bdZARLPGWEAPXLpzg4yQeOvJxz6Tp03GUKjUk/wCunVeVvI+k4YyqnKVJ17Scd4+e+rWt3s7W0uk0YWvazq0fjGZreWSxjuAyTfuioTAwHXYwCyL0IIx9AKoXmuyQatvmhn1C2xukcELMAw+bLYwTnnB655reu7CC41RZLkXiLGwEjyMRu3YzsYfKccEDqQB3qafSoLO6t5muIl0XJjMcybnjJ4ySSAykdhnHfrXTGpTTVo9LH7VgKWEyzCSp8qj73PJpWtfZaat72XRauxzd94hubedpLGY/Z5MyhnQSeW4+U/uwfmDDjd0+vFX7HSptTDOJrdYpCF8xWdmtn6kZGRg+hHHPSvQT8O4tSs3itZLUwyRjJI3LFnoflx7dexxXlt/e3Hwk8StOY2ezuCRL5Uu9dwOCdw+Zcj2B4GRmtMLiIVk4UfjX4/8ABPiuIs6li60IYSGjdrbt+rfqrf5G9pQtPDLwXc1jcXFtFP5byxYcxZ+U9CDjvgj29CvXaDrMkc9zFDeM9jdJhknPl78Hgjk7Wxx6Er3rzXRviPJf61cQfarG+sbpCHiGxDMuR1YHKOoPcc45Nb7SvrOhstn5m61PzLcSgRzLzyuD19+hrDHYOUrKt1t5ruvRp9tD1shy2tQpynXd6jTu278t9HvbV9DufEusWOpaIsh8maYIMnzAJJsdcH1478Hn8eJj8aW+pu62qrbXkDZK7/3lz3GUHBHXOeeB7Yppf309jJHtgiljkE0aSL8/ocdPlPfkf4ZszCC+jmmht433Eh13R7B+edv0xj0IxVYXAxpxcXr21PKxGS0Hi4Vqrcn6/e/Vd+nqQav4s8yWSMQwyMw2FS+VKjgBkK/KoJxgfhgVni9W3/d3Cwx26rm3kVMxxA8FA6nhenBHPPXHGnrHgt/El021GZtodZEO7aD7qc7ST6HqOnfDX4ewsii4huISJBuVpSqn/dbdhu/+FezS9io6OwYbB4WNeT5rXfTXRaJLXzuvv7JZ+s6xour3kCSao+mXcIbYJHMMmT94RSN8sik4IU7s/lmzpuv3XgVLi4t1W6j3HdLGQhZeqs8f3Dj+8MA+3Jpmt+E4RETaxrJPEQWt73Msc64/iV+PbI471mW/hy18PXsi3+h29jazoxzbKyxrg4LKV5Vhkfd46cHkDrjGDjZ6rsdOKqYXDU51G3yJWS0u29Oln6/gem6p8NtOvNGMzzXlvNaz8qJGkAAAwQoPIGevGOmQOl3TfDVppejSwvbrJFMfmVkd1Yg87ieBj+X1FaKaPdaTKl04h1Gz1EBZNzDdExUg/KPTjjJPpxVL+yf+EQ1RY7udv7PvJ8DbISsG7GMhjjZgjOPUcYzXzf1iU1yOd+q/Vd7o4aOKlgsBze1b5k4+r6v0W9/usZkWp2/w7KzfZ5BbyfJcLGA8ZB6MADgH6DPJ5IrspPG2g3PheHyruQxowQwyrhkU9fkzxgkYJ47HGRXOavpR8KXrW6yW9zYXDFVEw+WI45AboOgOM8exNVp7DRpomW6tY52c7GmtJPnQ55G9TjkY7ehoqUqdflm7+q6/J9j57C4ONb2qlzPRR06v57Jb76+p114mmL4ZG3F3byWpMEsUwyh/uFWxwO649MDBFcxoc93rFybezW7U7PlWRTmFv5YPp29etQeFNO0/Q1mhe41JoGfepeNWRl9GJA564PPc1NqSw2E8TK7bbV/42+YgHIyOBu7g8Z4HXmlToqm5QV32b/y/yPoMHhqNOUcRFOTS1bWi9F6WS/q+H4lTVtP1WGaNnE1sFKhAsbPt5KjdnOffkevSrLeLdQ8Qwtj+0Ip4yS8ZwryjHUBTndgkjOc4HriuyvtL0/x/bSfZby6jvBCJMbBtYjGM5PB6jOf60xPC1pcaTAbppodRtQAWJVWbBzw38QP51X12m4xVSPvLy/rQ9R4+hh6k3KK55J2Vtlpd+trfI5/TJm1C1S4kPmR5SOWeXAkDAcHp97jp19+taGm3a3M/lwX15JPbzeX5DSZmAPIwAo+XHcdvyo0fw3cWzyLC14bdm3Iwi3ZGSDnOVIyOmM9MVcudNj1SURmS4gvVIKyF+ARwRnGVIyeOBzU1a0L2W35ev/APmsZnHJhfabzlsvX+v0Wp0GjWV1M00Un2eKGMsD57fMoI+VgD/Cdx6epFVb2aGzvlWfyY1+Q/eUQv0wADyD25zn+efoOs61FqWLy3aWGIkNk/ODjDZx1z1HXrXRSx2viq2W2m3wwxoF2XIUEg9RuP54I/KvKqc1Od52t5Hk0rulepJJ31a1sv1k1sv+AZuoafpOrXUaW0rRxNHkRTBmXnnA4HIPGCO+PQ07SdQt/BsytNGrWNw/7toF+VmX++p4Ugds9OmahOq2/h5lgljsZrW3cqBG/mSKpyRnBBxkH8s9KwNa8WSaLc3SzQlvDd48cjMzGWK1bHXJAZMHHIGenTGa0hRnV/d6uPm9/R9/v7HNhcDXzGs5q8KMXdtvpbRebe3leyZ2iePY4NbjijhF9o94u0o8T7V57c8Y4PPTn2qtr/AIG0u90+S4jsYbeGOcSOlxuAiJzuIyTlSDkEjsPauU8QalpNxovmWuoW7RMjSRxrct5jY5IV2PBGcg49exrX0LxDdSacsd5MNS0q8tyhcoxYHBILfNwwHU9M81nLCSppVKDcX187fhcnOv3U1hcMvZqSur3uk+66u+vb9Eu/AFnomlXjWc0i2klwZBKCZEwP7o5JX2J/xrCtYJtA15vJjg1GGZi2zZI6ucgkFjkLjGQfQkc5q9ZT6l4X1O4Sxv7C40meTDwzvnYfutx0xwOhyf5C6RMupyRx3FrbXryjyRC2FQ9sKxAKYJ6EY9MV2U+aCaqz5r9X+vVW6nl4XBypThOpLmlfa+rau3fy6u1rdCvH4j1LTta2x3H9mXmMSwIga3lG07WAVsZPqBgnPXnFzTfiBfQaqsn2Ga9jkcJIHHyocE5CDkDn+LvjOOKzbzUr5RH/AGtptuy2MpiYiIeagx8wBGQo4BxnisrW5Nk8c2nyTKfPBWSEeY4PQguoxuIx27Z4rojh6c1aUVqrXW33rU/UsiyWNKi5yir35m+iVttNf611PQLnxBomuyW/2p4bVmt9gQSL+7I3DBQ8EdMqB2qbU7LSbqCW1e5imWSMYGf9ScdscbT6fXmucfT73UdJuftNv++jkEqs0Q3OnqSf4uuM9awr3U9W8K30Ecmn2Oo2qvtJEnly7OoyuPvAEcjHQcd646eDV7U56rpf56NntVMD9bblSn7remqtq7X1+X/DGkiabpC29xbgCS2IVWgAGcHkfN656dfpwapeIPDkXibU8WN5eLfE7mgLhNwx1Vc5DHsT6d81jQa3dnWL61WdfsV0hYRFMFCemCzfKQTjK/lg4rZv9MbV9Ds2EV5bz2qgeedgkGMHhv4lI9R1r1fZypyUubfr666/MxlhY4WDpOV5+etrOzv67K25zOt+Dp4dS/4mAWaNSoaZkCyoccMGHcdPb1xW54Z1O8gt5EgupLxI32BZMGdMnI4Cj5TjsAfrVqIyapb4ZrtbiM4Pybi+MjJOcHp9c1X0u2hh1tZBI0c0wwJGY7EPA64yrA9hxg10VKjnDlnuvuM44z2cfbVXdNvT1/Lz7bbl1b+3nlVrorbych1l5ZVPQkMM4yTz7n3q7p2iwQXjRK0MrMqykIUVAR329j78k8Yx0rSsraZYZkvIYJvKyCwyxAI5446n6jn1qvqWk6XcrZzK00MsI2hmHylT7jkYPr/+rzHWTfKr/mv8zwqWMeNrOSb5U9bbWWjXp/XY5bWtMvtI1uOSxiaa3bojHPlZ544AI9j3qsuoatpd433pFLblRAQVOe4YkAj2I+hrsb2FoLf9zN5rAll3HeRwevPT35/nVNGt9UZvtgVNygOxcukJJGM5UEHtnJ4NdlPEe770U7BiMZCnB1HFct213f8AwCHSbtbw273VqrQ3EeCcHao56dgOew/oKZqPgSz8QXTLb3C+ZbsJRFI5VgScMAT1BUnqB+FP0vTv7Ela3F/ZzWrl3iSaQ7jk52hm7+me/sav6rfadfXiy2qyNcx27K8kcZLPxkE5IAOMZ5weua5pVpRn+6v+i9bnwtbG18ZNU6V+ZtN6aRXnfb9FcraT8V9c0TRd00UU0MqHDrAoMXUc7WO1gR1I4z6HFZviH4lXGteHWM6yttImKOgOf7wDA4wDyB1G49OgqaT4fPg1ZI1uriSGRN2Lr7yqeCMnjHOcH/AnWiFrb2sdxd2a3EM0QWWW1APlN/tDJHXsPz71v7DDwn7SME9d1ofbZxWwNDDRpxgnJxtdK2umy7Lp9+5pW9hN400SGeeHz7do1kdc5EZwNrkN94H1/wAnnL/4c/2NqEhtVmj3gOVjf5Y+OMbeCp/Tj8ek+HOmf2Vqsdtp8l8ttcRkQrMSY+fvKAvHQk4PHf1z1s/hibXbBJoFvVurbMUqyYSZCMZYMACw4GcjIPXkV58se8NVcb2j/n3MMHmf7iMVZW3Xn/W/V69zx+Pwhq9qMbdQ8lTuQyfPjpuXcCDz1wcnk8em9ouj3Gs2UcMcc0jQ/I0ezcCBjptJ2tgEdPTsa3JtP+13bIt3qlvfxSAEPjy5SO5P0+vGap295D/akbz5t5C5Vx5vyyHrwen4nqD9SO2eLnUjfqvL+r/IeMzidKFnZRW+n9XZDBczaFe27SR3SMp8iQ7MMmQeRjgfXt/PvtJOkeINPw05+1Z/dyMuJJuQcH6c+/FZc2oW75jspI5LiN1kSNn5nAPQqOB1PT071r2HjzzYLqP7NZ2txF+9BkVVGOo2kr2xgjNeBjKtSqrwg011vb9Nj4yObYjFYqp7ODttva/9af8AD7Zeo203h55Ga4uPLQ7fNh3FcHBAkXrtPQn9ansLvTfFE6TWXkxXGzdvOGUnH91sEY6A8nnnmtq61WHx3obW95DiPYTHNCiKjY7dmZeemcjjvXmWm61J4T19I7J/JtrRNsou4zwCNx27uqEepOO9ThoTxEWpaVI+ej/D8LHRisvn9YpRnsrOX8sW3pe28rbK3y006G8ivZdbliedodoOwKwEkZxkhSf4T1GSfx7yanqkMtmkzNbOsT+W0ykFmzyN4YYzyc4OOM1U17xFDqnlvP8AYWsVmB863YSbOeCw6Y659PpmqyaZqMUMyW8KyWTykoj7njz1IA5/L6Y6DHbGnopT0t/T17+R9Bg8rkm3UtG7dltbr85flsJqZ0+cJdO1naxxv5c5hlKsq/wkqB3IXB69fwZqOh2/iKxjjhnufLU7RBNJt9jj1DDpkelZK6fdaZceemnwrasCZE8kKy54JAz6YOD/ACxWpfm5sLVLiOOaOFj80iwMY3x0IIPGPU9Qfqa6+Rxa5Jen+R7144HCyjTfvP7l3fqYcvwyk0ePyraO1l0+6jcSEsobp/Af4WHvxz7Vy/hfxNq3w2RT9olv7W1n2PbrIxkdVyDlehO0jgEc5HbNekQXWqNdqwjS6gmGPJ2dcE56kKD05PPHeua1LSNL07ULy6uPtg+1OBLJI58sALtJXZ6ZxgdR0PArso4hyvCuua/bW/8AXc/P8dWnVqxrVXzOTaSWrsktfRW3XV2Xc2fEOv2euXLXVvYww3VxGX80R/K2MrkhfunjlsH8qz9G+JckMAF1p929vDJud413SDHUq5yAFPQnoDzjpWX4jj1Lw0kn2d57nSbciTbKm2QR9+VGGUdfm6cZwRV/TNF1DXUN9p8kdnMkeWMAyAc/x9VIIxkYJyc8VP1ejGl73w9NXp/kfSUcsoyzCMKtlb3pa7dfvb2XRee3R3fje21ktO48k4WVknwCmOjNuyrAjuKPE/h24stIum0tYFxtnCxZ/cZ74TIZTn6DHtVfS9N/sa2hW+fdFcRbDHM7HymP3gpGSRznnsPTmqt14htfDFhE2652K32dwh/eRdMfMoBwcDjr09OOFQUZpUej9U/6sfd4eEcZB08LG8LPo7Nr9Lv5sy7TXtW8KWsL6hY3U+nzZXqZNgzhgXyMdOhGev4Wl0+3uZo/srSSQtgqAvyEc9MHAIHcjninaeLg/a7a1vNTlsp5MhJpdyn0+YHjtxjoPTGYJI8Z8tGjnUkNvm4c+mR/U11U/ek57Py/VPqezj60cBhI0I25kle3f+tV5fhcv9B/tCGNo7eYT42GQR7WHHUcYz7/AKCq1rql9o4MSypJJg7N/wDrWz2Iz/8AXOKn0bVru/Lx20zRXCYPlF9qyY9QOM+/U+/SrM9s0U7PdGHzMH95Nwi9SD6ADHXI49KrmcfcnZnwtNqV62Ia956rq7d+y/rzKct1NrMyzXBmjvEO04ztb/e7fj+taUvhm1v03MkUlx97aEA/INycf5NWrnRVv7Z0j8sTBS6FWUrnHTOc47dcfj0z7dmCQyLHcQzRrsY5OfXgnqpHrkc1kql/4btb+vuPEx+OnjcSsPT0grXS0+X9f8NTsbdoLuWPy28wfdiIw0Z6/KcbdpxnGT+mTak1qEWGyMrb3VvJg/MDlTzyG+XA5BIIwAO1Ub+2uNRWTy7mNVim38ENtPB5HYep/lUWrW1xoB/0y1R45PnUsrOmeh9u4OBW/LGbV3r2PZxFOGBwDVR3nJWsvN9fwO307Q7jU9Haa8jtlhyQzwkMEx0Y8Y7DkdcHPbHE+LdAvNEv99isc0TAFB5mMfKAcDBBBByOMce9bXw68QtqEMn9mrbvEiHfEV2Ow7j8ux54NWfFFzHbqtwtpcQyNkN+5O04OM9evv3yM1x0ZVKOIcJbdv8AgHkYtVKmDgppOX8uyXr59+yOKksLPxJp6tcxW6zEAuSw3EH0xwCMd6p382r+AVjvLQSXljIBtaGUs6qeoZTwRyeePTpzV5bmfRNSk+0WS3EMmcgKenrjOAeT+VWtR0RW0ttrXT2d4hG4kBVyMHBHXHHT2617CnZqMtYvp/WxxYCi50pOdv0b2urPbp+C6mzb6pHdWateW0jQGIxkqctBk8HkfdOe3v1FVNF8LRXN9LBaSNbq0ZJE0bERZwM716qeP4T+Fbth8OVsdYktIbq7WN3YpHv+aMMOQMnJGf0qnfeGdY8DeKredRNJCp2hnDM8BI55B6HPQ/X6eT9aptuFGVm9Uv6/r9fJzPNoV68Y0nrzJW8uv3I5HWfFOpeCL6O4tZNWhvNPdJpIopy6yhD82xc8ccgkH3zxXrPhz4s2vxRFwdPuPsusRp9pIEgRL1ehyyE4kAIPzduwANV7jw//AMLItt101qMqYZHhG2Y8EHJ3BQwPBX6HB74WmeCrfwf4jjhuI4Uv4B5MdyEIklx2JHG/btOe/wBK5cVLCYmPvK1WPbX1v3Xc2o47B4SU525pN8sUtdVu/wCuv3HpOm20PxD0u3mu0s11NR5U2J1hkmPOOjYJPH3sk+nNYHiHwKttceWkhWTfuEF6B50gyM7Bxgden6ZrEs/EUG5f3kkMTNiQeQy5YNg4B54BznAODzWL4315NdtZ10+4uF1CNSokwzFyoypAx1H1yemccV5+Hy/EKpy05NR7W2/4H5HDjMrx+Jw1otpq19NLv9dNunbqdgvh7Tb83EdzHDp9zbndGVjO+IEZ+YZGIzjk9vT1ZNqp067j+1SQz6b08wFZokDAD7w+bZz16AHJ6Anx4fGKbTdVhn1a1mKp8syS2rR+aCcnbIQEPHIBPb6Y9C06603xXahdPa4t44WLbbnEKoCMjGAdwOeh556jjPfVy2rQXNWbcX9y9Op7nDvDFSgk60nzt720in1X97df0jUuNUj1dCmmm1hgjwTGW3NkbvuH7rBuce/qKmvLmG+tLe8v4o5LFM5dWBlVemCjDGOoOABXK6taWSXEzNYzQvHneqxjEh5/njrkbvU9ag8KalFPcJDdXbQWM6FWUOIpI2I645znPY9R27X9T9znhfT7/v6s9LE4GOIxscPRbhSg97Xa1WvnN/hsdLc3kGnaiyWumwT6XMRlmtyGOeCGUfnnHT14rMm8QRaKWkt0urWAPiS3hO2NipwCCMjOOh9vTmq18qywiOz1CZorf/V+eQ0iMpIwGBO5TjO09/yrUg8UR3lsiX4VjJGYZo1CRyuy4zyp44GckelVGnyxTtzd+/3M9apRhTnLli77RTbur9XveT/A0brU/tVjDcQzNe2N0oPnEDdg59Byc46jr35rnjDqGn28q2sx+yyNu8nmKQZ4Iz0HrjHb3oh8S2/hu4a1W88+zkJmiDzqC6/xBSfm3DqemefenaX4n0+eQql1DGzLgmdxGz49CD9Dnvz71VOjOCdlden9WZjjqEqainDprdddN/69DmLy0vNL1CSODUtShkuGIQO26JS2e69OcHJz2681Z0CHV/EmmD+3rQXUfnENOxRS5+6So6c8Hp6+1bWu6lYxW8gW4sZmMva4UPngg7hhf68fSuD1D4pv4R1SZNYnisVacyC5hRtiAhcMxIwVPqCO+cV6lFVK0fcir/j8up4MaeJniPaUaatFNczWvnZLXTa+q+Z017Gvhvz4reW8tYY8x7Jst5O4n1GChyeB057VNpniDV7h5oraytbdoUx5k5YeTnH8cf3lJxxtAPU4qHXtGt/G7+dpuoyJqSN5kDLLtEgbgqDu+ZT9eMjtmuXk1nWJkEn2GeO6tXMUskud0Ix/eBOQevP6dQU6Uakdbc3W/wDX4/0/eyvJZTrzqtKU5uycui6+r1/S253Vlq15ZQ7ryO3dZvlkiS58whl5+XPK4wSM5469qz9Q8HSRahdeXIs1pdfvVLSrzxjAZT98ehB/w5/wh4ik1O7/ANIaOeaI+WZNhjYr3BOSBjpgHnjjFerWGi6gFjZjZ/vBgEpgsQOckcbsYOcDt26+biFKhW5nZK233H6JiMdRyfALDxkvaS39Etl5f15HJ6bp7XFlGskPlOi7WbhfN7jGCee/uc10WnaVD4qsGit5mW8h+ZUuEB8wdsHOB3GQfXjmtO3tGlvxGyRpuO10RfmznBJHGf51Q1G1v9P1CRrVbiRW6FWLHI9F7H6Hp+VYSxHtHZOz3XY/L8Xm1TGV209I6b6d7vz79tvMxwreFtVWSVbeO4VuHC7hF/Qp69MZrpobqPXEaO5jtbjcAyOAGxkdjz8ue/TmsnU7H+09Odru3PmKuWRoyrH6E8cg9OnXvgVTj0j+zvJktPOtTC2Q0h2Lgj6c9iM5xTnGNVXb97ueTXl7KPs+a8pat+XZdvRdTQu9OhPk+TatZmM7dqj5O+NrEgEHtyKrzT/YfMkS4nLRuH2yKQf++WJXtzjqeeDViXUp5btmgWT7QoLyoIFXzRnk4GA3P8WQfrVxrhpLd5LrYryIQSsqrIpI7jHOc9qnmlG3Nr/XmdWWYa0nf5K+r776+v3Dbu/V1ElxY5aSPDTCE7TwR8wwfT6YH58zqmjSa9BJHA0kcS8+XGxHPTIPP+B/OtnzI1htzKbqRU4xMC20gn5d3cH0q/e2FvbwreWsckMoOGAY5HIzjP0HrVU6nsmrfLsd2YYiNJqKjzVZK/kl1/rp8zzrTYpvD+r299G00V0MJI6pu8wZ4z7/AIHiuwstYjs7hf7Qj86G5+bAYxSJng88gcD9KZd6el0zGSTzWdd4y2HYdDjPORnJrnbzStQ0Jf3as1rjcDKPLcj/AGT7evcfQ16EuTEb6P8ArrvoeXOUnQ9nzabt97dF1t+ZrarNY+G75mVr24srpyMykMI8jHVR64PPrVK/8RyaFKzW10t1bXDhgk4zg4wdp6e/I9faren6JH4hgjhEiBZzg7ptuCRkNnGMdMjjvWlpnwmgiupob63iuZd27zVf5k4BBz0I69DmsXWoUtKru+3ddzojHAYOl+/k3KTWndvp5LUtePPGq2k0n+h+TfWDMyO53SOV6YHAwcdv/wBWtaeJtJ+J3hf7K6jTdTtYleILuIugB90gk7T97GBtP04rkvH+qWHxL0aT7P8A2pZ6nHGN0Vzp+xXGeCjjgH35BHtWV4S1O18V+GbVtQmbT9Vsg0EjlfKZ2Tg7WBxzjPXB9689ZbTdGNR3jKL6X0+T3i/w6ank4Th9RzSVKCfNNWju2ruzfra1t7dLdN62ur5bSZ4IbaGRY+ZnTyQx4wcY5JHU4x/Xkda+IOn+J70W9xqVudQRvKltoLldsxXlfvenI+Ugj8sYer6T4gsNZZ1vL26tvNyJoIghdGPIkduCOeQCCevvVjXfCEHifR5NrJZ6moL280cYVVdGBBwQRx6Dkg9SBXuYfC0oNSbVujXT18j7Ctw/hsqwsaDalX6Jbrrdt3d/u1d76nYaTcWbXwE19drbsNrxTSApxgqfm4x15XGcdqy9e1PRvD/i6YReTJbvlnCsPkB/i2qcn05455JrjdN8R+K9AvoV1iy02SzkkEW+WNjGSf8AZJAH0zjHpWxrcWi+NbeGRhY6eiZAty+1lbGHVG6kHrhsjnvWv1Xkq3k24tWujujlUFgbVqjVpc8nHWy/NyfRfebE02n6zqC26SXX9mXX7sL98Qv3XvkdwDnA47irXgzSdN8Ezq325rPTnykbRS5t1bn5ZA/CnrwDxz078/4eax0WeaGMWf2dbjZILRv3jrtGx3XkHsMjjvgUy1+INpo1/eW8wZdPYgzwpC+xAc5ckKR3Bzk4444pVKM5wcIXt27/APBPLyGnWzDFPEUFKFGDf/Av3b/Dv36fxP4kbSL795591YTE+UYGXbIoHIXqFYenfHX053UfEelo/mQ2epXVqrrIJDD5hhJ4G/AwMkkfe6j89nXfCWk65olvdWNzcSRNtmSJbokqRgFQdoXleRnHT6Z7Lwt8Mpl0lbgvb3mm3URR2clWkX6rgbwfXk+54riljKFCmnLfa21/+CezWxWXYDFeylfnlZxW2/Xz1f8AXTioIf8AhILdbu1VhLIpjaaOTaoA/v8AIwfXg59ahk+F+rT6nJIby4uLhmDmJYBGrj0yRk9/mznjnGON7SfAmqeEvEMyWO5rG4lEoUXLKrBuG68FiOx6+1WF08+ZN9laaDULdDh2gZfY4IJA6A9O3sKbxVpXoyVradd+/YMJmc5tKlbm5ry0T1tdJvoku2uvU51PBUkz+U0tvZahbuAyuCZTnuGyBz19c+1Gl+IIfD2seXqtg0/msw3G2XzS3fDYbggn35NX/EerXcUsFzfWMsgYlDKiFJGz1DFc5GeeQPw6HjvF9u+pyrIjXUUO8PkFvkboDgkE8dcfrXZQpusuWq9H2/R7njZlhsVmFVupOyum2u3S3Xv6eqPSpfGXhPVh51qlvY3qTKTlQY2K8HdxkHH1/lWpqHwosfGvheb+zLrTbiaNWkRHLZVecqBzuX8McnpXid3DfpHN9nt43ZsSncdmD0PP8WR69PXirHw1+Oy/D7XIbjU7HzrEOPNhYAvgjDgYwTkZP17GufEZRWjDnwU3zR1Sbvfy1OXGYN06ypUZPlej6t9/z2+bNpPA2reAZiiyaWumJPIY/kMkluePu5Iwp69PXB9In8Eaw/iBWt54LiGRAyAEnzB9CevPpg/pXqUVlb3+uz29jpt9Nptz80cs1rtVULcDdk4IB4x1FX4fC8M8SwzQyWd1Z7gDjY0oH9wg9x3Iwa4f7aaXNNata6d+63unufQ4rPo5NR+ryt7SLV9nZ7W3vdrbqeW2zXFje4vrdPPAx5zgxKT7gnqfXHJ46mu++HWuQ63YT2cL2s15buoMIlUFhyVIJIJxgjAweO1a2p+CIfHtmVsJJIbqE4Dyg/vAexzkd8EcZ4PHbzm1uNQ+H3jSNJrcW95EzRs00bCBgpBBK8rtwOxzz9BUyxFPG03COk10/rp6HwFbHVsXioyteU5KKjfa+yfa27sd1r1zdWWsJNJeW9uwbbt84MvByCQeMY67c1VvdUurv7RHbTQidSzFVUMD/ugH/wDXmi01T/hKNUmtby2trv7R90yRFowSDwMnoDggYzjHOamj8ELqdxA6Ws2mOnysDlArfdIQ4Oc9cEdvrXHGUKaXtlZpeX/DnuYynhcFRnGtJb6vS3y6+npe3aul5eajHGklveq0imHMbBhC3oQckg88c/Wq9raR6ZNtupmjiwcBnO0HkkNu4yMdK3r3Tb7wVZJeW4u5VW5CmWMfKemCcjHoMjH4YrsRq+l+J7KRtRspopPKwxmjLQsBnqwzg9DnnGPWuGpmnJ71ON4d1v8AcfIYPNJZnmHs8PD3dLW3e+3lp66/f5pqDSaQ3mbZvs8i5hnhIkjde4BH3WHp3/lX0nTbrxfZzQW/nyeWPldQGmx7jrjtxxW1e/DyRI1+xXXmafKfNjVZv9WeMqGAx0wRnmjS9HXTdUhZG8ub/VsxPyuPY/3s+uc16CxVN0+aD9707d1+Z93PG0MppxUUpVZL7r7/AD/TZGPb+HZ9BgP2wzSQtGUYDAfAPJOMYIwe3Wug8HzQ2KyRuk9wjn5kdNysv9frwabeXE2h66ZLqGe6tZnBdlkAIB4brwT+WfbnGf8A8J3pfhDX4YWm1Ca0uE4XyT5mDjgFSQMHjkAHB9K5606teDSTk2r6f10PzfMM0xc68qivKTfLpt6eiOx1LTpNBg8xrCGa1k4DeQokQH3wcfz47VieIks7+zVcbWbdhZYR5gP1wc9c810Gh+O9F01f3V1qjWd0QNkqRxzRZHIJyAQODyAe3HfrP7O0HxJAM3drNJLGHxEximBHHK8qx+hr5+WZTwklKtTl6pP8U9vv16XPSwMop8soNt6Ky3d97a6efY8Jkkm8NSxyFYyoIIKjCNjAzjrz/wDWPv0ngfxPH4nV4447izuYmYxllIV8E5UdcgjkZ/pWhqHg7Q71rqGz1K8guGG4QugUlucjOfmyPWvLdbkvvBWo2l9ajWN1vMJPLZVHnDOWUYPOQcgevGOcD6en7LHR5Y3U+l016aM5Vh6levGdn1bbW2qWi7rof//Z",xf="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAIlUExURUxpcQcBAQEBAQ8CAAIBAQEBAAIBAQQBAQIBAQwCAAQBAQIBAQMBAQsBAQMBAQIBAQIBAREDAAMBAQMBAQMBAQMBAQIBAAMBAQQBARQDAQQBAQQBAQMBAQIBAQUBAQMBAAUBAQMBAQMBAQIBAAQBAAMBAQQBAQQBAaITAJcRAAMBAYAOAD0HAN+dM92LGk0IAOCpUFsKAN+XI+GkP9RpBC4FAGkMANuDDsxSAth3Dh8EAdyRGrswANd9C3UNAJEQANuIDtRxBiEEAGAKAM9lBD4HAC4GANyRMEsJAKYVAK4rARoDADQFALgfAM5eBn8PAIYhAtiIGrwnAFALABQDAHIdAl0VAcpIAxwDAMUyAFARAdNqDcpWA3QYAWcMANZ+J8pEAdh5CCcEAJUSAJAfAV4OACYEALw1AEwOAKAZAN6bRqkaAEkHAD4HAMM/AEkKAb0vAdZrBdJYArUlAGMLAMtKAK4iAJkVANmPLc9bBawZAHMNAH0PADsGAIAQAFoNALpbDpkXAJ87BtN+GLQ+AbZEBI8oA59ODJ1ACMJyH7t5N82RSawfAAIBAdpzArYdAL4kAK0YAOWtROvTrdRZAOrPoeOiKs5IAOi5ZOa7bunGi9JQAOnDgcMuAMw/ANx8A9ZhAdlrAeGWFeWoNee1WIwPAOCOC8k1AN+EBOOdHsQ+AOrAduaxTxICAHUNAO3YuezLleCwYebIl+O8e6EfALJdE3xOIIjlmqAAAACNdFJOUwADaA9zhXoBgwfobt8K12N/G75WxvFczrQVq6M/MCJRmymUOEX5j0v//or+/v3+/v7+/v7+/v7+/v7l9f7l7u3w2v/s0O3z/dzu/u7g8f7gZ+rk8PZbQfbY7jX3w07b/uTyutx0I86rLIf808CpvZDS5+68xtGcwu3e46zEzJR1r6qC25f+/pX5yv3yPMed12oAACAASURBVHja5FjtcuM2EjQAiiQKxQNhpHCGhA9BQAlVev8HTA8l79qO5LXvkh9JuOVd19ogOT093T16evrsYnJh09Pf9mLGPLGnf/jF3l7T9KZdX+jc9I8G4OlfCAD7FwIw/dsZMP0fDJimv2GxfyIA058LwPQe1ulTqk1bJd+xWLytFCZ5JuT/CMAf6/0TAZjuXG9/9oB8X+4BE954Y0ot0vjpyyI4bT8WQrIFp43xy18VC64l33ToIwKPkf4VAEzK7Y0nEUJtObYcvDDyMwB+4i4XkbwJxVhXk9Va55ZzlH8hANdXYG8BmNhdAKZfAiC9WBZpYjWSIY+W1q0eh3EdrEmJPRwB9go8E6ZkPWg+DmpcR46vYVBKOfNdDjDJqDQpp68B8BaC7f0Web3uDfxDAFjK0aRYam6lGJNK1cM4z7vdPIbQ/GMAbhR8Ep0P6ziibjo2r+s6rPM8r6M14lskYKYk730qSbAvAvBzDqiTJrQSa6y9eLm83yym6QEAzMvosknOad5aCCVVt5WP+i10QLzpBrsLAEt8nUdUrbQi2AZgQefxnf7eGMiqBhtqbaGITw1qmu68CIY3Op0d13p0FY1MXrL3unkXgLKU7FIA5edVcZebu73+moX0CYOxTI8YQE+WouHASqcHOkkMmHcXusM8j/o7CMjCMUE5W8jP9NVA+gYCAMCd5dxxlWspwNGTsN1RyrcPNcLEkKremo63BxC77ZqdWSCFSlcxPQaALSmDMdvpHyfPx8PpsoExfAcBGZWymjutg6BnTd8DYDHV2WytzVrbYLzVrhELXoeE3Z2rhaZO+OrW28vj63zBhfa5rNHVlTf5EIDFi9I1xG9+e/xw2B+O2xAMowICj/H/0IwaqlMwkV4WOOkDJWD3EZCmBNtrt5gCFyAlDVyoScCZX0Xj3jyZHpNh0nS1XgcfQLzs94fTRmG6diu/ecGHR0JtRakVz9Qap7fju/VyPBx/ez4+7y8XYtQ8K7O1gH0lgaDoCgq4VlKLqXj2dQDYYmLmPcUMAHpafO9OAwBDknpr3T0AfIxASC6+qt35vFtpjvf/fT6crrTemK3y1dA+PDCWGLJ2LpQA37j98jgfzqeX4wU32O0OGwva8ujpf7RBsZjucqgl9BDBg3vHHgEgInR8Ea1nm2Dq2sLPA14ypYU9BAAc9qgfM6A3BRuVHnfHF4zw7gYA+Zmy4uOTQbhsu1VKtxThg/NNBxS+veG2u0rhgIn+IgATNEumAmARxmoNSSx3IgF7dPlgoxQ4HMEDPuhWs+uhEpPuAsBw8wXWT2Lfh5v1OYSg17qvdUAVRyfea4DEuJrYYhtGXpGcsrrRZeXX83R8Pm5ztCqdfg0AQ3KW3qBXgugIEQcIyS93AvVDAJAjgkEQKKmEzEduQ4AkhhqTvA8AWadB9vG+ND4M85napfm61T1sprajdANv2mbgZ/1ISxVHo4XM92YDUWClc3BStd7kbz0dgCgSAo/yVwDIhN8xcWEAAQ6AaCrgwIio8osASIkUaDDQQC4lyJIatK0hQ08wBuLjFEq6MwkTxBYquWCYnRrIAxFjwH5QWW0IoCyy87ETAj8YIEIN0YvU9IjUH/CI7sgvZsKLqH88wBiG9UI8IA0hM/oUANxRMgwrBhkoPIENEksZm76mAai+1Ggq4mwtnjDoSBTKQQRsR7YDk94DwFKttK8R4KgfgGF3gfpCy29ePmMZoCZSqCE7GMgKf/Q/WAftMxHD72x3NtDMacw/oXWECT4/71YiwRYqwKYuPgeAyVIk88k0qLbctoFv5ADpvek9xtxQbjQ0AUFDnTruVz0xw8Dp3/QAXIPItmAEFDBR+NU95946x/ufzq/aN1AF8xbo1pVU4Pa4qBFVtELsTuS6VmU4j3YUYADg5eXlGSay25+HW6gCiqp8AgClKYzAgkTWGjq5IJ4Wgc4s8jEAtPG81r9gk3HOIrVZSD4KgvT3WiAoGIpNHVML1fx8BdFti7GmRfoiaPFvDnqJAKXGcaA0uLFgJRKQAmIu1MALuwGwQPpx4X/g1KFZPXCcA+G6xVI0jJfT88vhcnk+zCcahyuS7eMsb40TVAb+wfcV+V8U20spbPIZpMLNYYPTfQ1AQ18RwBSHjvDnCo6bRN4RIcuBKI5RxyDhETDF+ENPmUG3W6QRMJVSINoYrHKUwQaI2HAlLoDAiquwJFF9Y2A3DVgsrcrqfMlYWxq5BsV/rDHYIjgQVMP5PM/75+NxP9OGCAiHVb9LdTRGKZkKfSa581KApb2Y2LGYonGCDNygnuivs8Pen0ZiwjGxbb+etr/WEPpMtLVYcDEFkqVUbYUqNkNIeUdm/Cq4hXIG9qUkQJcQstU2c967to5z/AUFxTBDA3iGhOD+RAsrXwHIKJfEHQdcVy7PxJJx0OpywgiACxwgnl9O5wsWxEwrEq7yRoFE8tj4mqmtYNinpSSzpOTI+uljlVBMxzCjAE2RlnYxuUzv4DOLQMDDxgcG41hvlatOa4BW+NomAS7KO4k7yA4mBNtecyVCUs7gifAm5YD0hL5zrXQAE7BLYgGw1HRscnA4vEfycPt1dMsNgGLnM9xuPAzQTc0v+/EyEli7l8Nm/0BgGI5HxEqE0RbclozWIH86HtY0tA3QojsIPxB+UZqFqCR0C4EWHcEeQ8ZEYX7Zan4HAAWFGGoOwUsfEchqUwC7RloFgZpD7zvAULlBF1zDwoJKbp/PkAIGiE2kT61gk3wYTydUwHutAMASCPgzzMOVDLz5DlhVvjHAE0Ggb+fTCt88HJ6P43g4rVzB/OZbbjrv95DC/Yoc1rjlmJAxvjJgKR28MpTWkCXkEzbOVis0jDIliYKoTdNa3hBJkKG2pR4765vP37xpyDe9weOhlEH3mirPDedxExhTQxkZ1INOhUYjAcdGHLoxYMHgppAVJh4QK3L//ZleEQe75sQiXCAxtM05hHze6aMSV28ARO52lwtUbgRIh8Nvz+t5/5/fThgapRB9IJ3rejyeTofDYei4wXxR0Aj1+tkaKx2Uy56ybkhbgof8OvzB7oKhB63hZx2ajN5gNDGmZMA/P5tjYos3FPS1NWBA59j7jQt4MawmONZ/58ncdRxXjjDsIZsciaR4V7PFi9hqcZow4WQDJxvYgAEvDOxk5wQbOdhgozPY5GTGwk/gR/E7+itq1sIEI0giu6v/+i/FcVXCXhRAcdmVMp+uY/U+Znq60l9r4axgRjexP+jUB4EsW6U6AHTSwvt/SoKpFIMVL/PPAlxXvfW+Hw5xwEGT+qIhT5J22MrUe2uFBKmL3TasmMJfpgHZuFQ/54NHXCoO/brgWtja02Va9xFAIHNUGlBmUqPsXl7znmVAxWl6LwChVxxLs8LA63y7XAmkKdw3zSqlTZdbOKapMBqULo2pZCwHU47LrXoI0ZHb0OH1sCm+36SBxbIJ+7P/hh/LNJP6aTEBGOO9JKjErMfTQwZxQYHtamfauLRd14L188s5r8sD9Wh7bhq5vo+EChXXPjj4kJtV1TuAT9cG9QAb0MAFAryzGaiSAkw3OVn5VO8oTGf8Giwsr/t7AU6jTvky+F9WkY3bKRxViqoVME3ZLBUkKvgVTZPhbHon7Ip1u1/Dd9VEuIPNWE/rTpIAjGetkgB0Ma+BbFrQH4kWYmIpRLDCVmuxXPahwnGCNfos6+vcqrTOuzY/v1AACyv0dTYAJMzQsMthGksxVbR5TwHeIXCamnm9T6kms1ThFSfJ8TWcGOhnbQ2mVJof6BRLhcOEDJt5uhwf4+2LeDC45U7MGU+kEdmDnFEgLlQtFfiHwUTMCrXbl4lIhehN1+r4cI0jTW7jIojTGag1sWlNFCx3HUtPSSFicbBO0nApUiBxSmL/eHmIQJVaW5/ztjN09uaGusvP56yDRoa8zrDAtt6sszIcVRHX8pGn4vqnCIN5djjPUYlpWYmRqa6u9Mra0BMyy4IR192RFQutHZLVVj1jEx9D/yv7ikutuEa5nFCDRp5CpELW4ltjzj7Q0niFaDrVWibaCMTBLeKqjpc5LnTqrPKqITKugXd9Pdh0bLAyJXy6wNnie5yXDFTGHBZGAGjew4cFW8vBZpnpslb2dnB9a/Isr7eSANDmnXd5VxuDOgwShTZntpJm0MGjANKPsiUIVpRQlrpe7rGMQmfiuxwcotaIodJYQzTh6TTp+VY9WuD5pr1hl0HDIc4ndqXXWblN71DbPRzQE5fC6gM0CEoUj79O4YgRej7e9cDPD3ZzEbyG+7NDZNsu7wY6vjwUt9uC6MMHh94ddi/c3CVcclRjSP9OR/XVDe2Xr67/8uMt3rbSmeycZJ3tTWaGrqt70+U5pTBdK65gC4RTUoUz2x9dEMtusJzAFrAvDWvWS3E4cIbNbRVPUuziQxsD++fd9l3uYhuf3l08S9LLPe3rXlY7AaZC6iEF2J9OxDsSSgQZb1gtUGvTzPcqnGS8dClsLwoGi/tCU+jUDnHUJkmSGSmarpaiYdvibKglsArWZRzJe6QHQUAYGwMDtIP5619+/207DK7r8uycs/e869HEgX9auqKrs8wLJPFnIkjTVB53ABClueQsEhqMd8lQu/UWH3JFgMSCCHlTINiLnBRW+/hlfPgAXPw8B3qaKEBdjkUTxcUqXcDxi3eJ90HE/lynDJopxGNh+7BFV7w2HBCWtfMo1ODY+F0yvN98XAPhrBvE+8tjrZiDjTYCseARJYJu9IqTAgFPN+H5OmtN/48v7Na3ed5bk3dZcu7arDfwP1fjBTcmFg4MEDQR3Ity616AEwIGVXFiQi8ap1bsByff5Iuih/sRInWQTvi0B6Y/XIgy+9j4glmBvBatvAtW7ayPlwkfuCmxcCiw31O8TGRmgsaRvDs2I5p7uV6PT89TatqWvnWuzvsldkVpyTVbXvM+syR52dTG55GztYWtZaAAORb3ahEEhIXJhr5NurbOOkBo2q7t1cD2zy+/fkwk/5iWdwkUkSfO75YKTAdpuFSTdEB1o6bTDeqBJkg8woj0rJKtC/PLJtTuvNNAbII86+QP8ZZHJcewIn4XRB819Bat6lmqIoRFm4KmxJdbtc/oyS4kKfIwCfOOCuCQRAab4mAc1dp8DuZbEztRqzrDFfVJXrP2pOs6s0Xe2XZIZTAr+JrvwbQbId24DMo7Z9Bd2w/S76bn0JPPyct///ypk7MHTS+56c5Z3oNssVH4Dn95+FBEiCMel7S0hGSqOy9BsWoRLCHwVLh8H0OARXWvTv93f01zpQAyMAIj6yFVgy3T1OM5N+THuhhB48pgWwog6azAURF1EcrbZQlmScNPpzWNgMc2B2WWtLpv6xoTUKRtrIP4a+vLOkPRXBR5A9SVJKU9X62gaGQHT2Xh8zqB9aANqK4FNwDCHszrl89/+/Brcv4Pr5cznJAlWW5Mb6yYMa1sEV7ee1inel3TsoS6UCpuv9xG0Uv6wB+2vQWVVC2O6eH3B/YI2RTuhYAEC13U3NWA8s2bulRx5OthXlYV4E1dXO5Jtozv4UnmqyFBcy2bVAajaOCAiut/KwVNKzA8bFGpG1Mqn37n5iY/9/JEx3V5Het14oc49EWpubkSSJ+u8ZD3bdt3r5+S/bCTDFL1w+tb+fu3V96+UABDYXxLAVQ9dHXrgHUwxg8WPwrxjMus8J1iOMV4rrCMxSxzCh4PHZUoD+ZYyVh7xw3xoXofjl5uQhIxa6ALveOgymIfv3a9/EI5HHkEy9EFh0ZmyjJlriodz6OMhsKlsFG8+eGPr+3gv30zvwB378vBl06jfTbJanfw2wa5WeLVMm4FprUoMT3ysPm58q2xHTd/++enJPn0MfvwDTsU//ZL//1fb1+H0iYgn0SwWSp4KKIt3doISBZXrY7vRiZQMw58R7pMX/AqOAKHhR5wMOW2P1PG10kSEXd4en463df3acJzeNPwBVTLLVA91hxIYIvcAcgeVNS2WxT14FrGuuNUTbLr26wCLiGjRqI8QlVnf/+YGAOLffr1s+2MtZ0/ECVU/tJHPUne9ZA7HuoOfWI1Auq7PApQtoQAg2x+g//dj48fXn/4+O3ty9fv37EPLj8nKILb+Eafko8XB1zICLXqt8dA4IJi40xk+BTsMYse09NNVLkvRpmeKEq+ihOUpB7M1fGC7RUdezTDLMjZOEYAn7pBdHpOLdt2Nf4TDZaAaryoWNoEDRC4aBlquHB/mnOwdTsAz+RPWdv1bCLrf3T/o91adhrHtih2HNuJ47djHx+/H9h9TSTEAAYMuqRCREhBulcClaKSugZpETEgyoQZRfMFd9AfUcPmG3sdB2hoCAV1+9akpRYIn3323mutvdex0umINktdrKwGAXA8mfTRF+0yggoxC1tsrDRipguJs4nXVFZ/qJ1Od2aVpu1PSRpcfjkcL65QdtPNPphQ33GcoSZ0Z+hQlkU0ShrLmYZxC+RoQ0pih3Ylo5SRzowBhoVeKVliZGaWADFCyEW0MWhbHLHdO0EeF7379QEiCMLELCg6Qw8I3oSntGo8D+Ce56hqcHIkOBp5UxSxqsZG7fdivhUChS40qGCA9nxugUqkAbpUE1wf7I8OUyCEhwYAHKOAA+B7BZUJLtUYgiMUbCbDcVlO8hb1Jv35hTfsj0H/dz58GG//dCl0r/Y1HB+UgiEBsaaLxex41k0RI89q9NUJuEhHR2ZTGOSAi3y27SiycwN8oCwLvtUvYMhNJRQhVKiit2MC3b0LAOebBY+bhZ5F7wNysDrSU3YShzg5SjkFNqSM2YCr5LydZCUvhioXhavlWdkIECte36IUgbJaGWD8+/efD05Q/qAzQbeLtAisPrDco25Ymmo5uxG00FwFoFd3oX4Gw80W7iYecagzur293dr5w/r1cqqRHCg5QGJpmnd4KV5+tV3rWhDxfeF9FYdugrMB8USDXSLzcthi11aKGqgGOANBQiUkcZaUrq1UehKy/eNdADZ6auxC7LfMX1TaeYOBnEXpOzmBIISw4+WUauiSQQ6aiA6h82UvdtWVm6HDJqCQPw7NjS5D8KASu7P5dE4GnneK0iUWMJymGhhBQNGk6rISE0HuqVxbApxpiyC7/aGVNsSx5jk6ynD727et8cft329HfYgMbzD5OPy4O5mcXC4+XJUioS6x3Ox+JMYxDwAkK5s5yTYT7qBFtKqs2uQJYwO8zshcWdh5Xtm6iNTAz5QPAyHJh2audaA5dHaQyuznUfT4kIoEhMh5hf9hyBXPRrSKzjINnLKI7+wcaAMFtIcRoE2kX2gegDHkKcTb3CNkP7AgYzQKJo8Lhl4AOqaUKnFStr+9sdrA8sTz+lpgUM9DCQXzyXh0cHK7t/evk8HQo1QbnG7v7uwdz7X5xVehm9I8VPK4CLkHF0SGEODo6H9s7IVDi92cEoH3gDw10jsHDkHyV2lViXUUskFnbD7y0dQ6blEB3qVik0I0KSSA/uTzQeo4XYVUlFQ8iHWOj2O8CCTZVB/tkTpRyciS2KVBykgTsWbH871DYpFjwDZlMx4UCKXd3BEF4E2lmHWP691lAELYCRUQBguhAspr073Rwd7PW9/2PcZ9gIL90Wh3fLK1dTS1pghiU9VqyHfKv/YCXCeOEtdlE3hoVSb9ZfA6SsCsFDeE3jdAUqhih3pgoAOgV9TFY8tQj41EbR1MUgakC25c46BOoFuDgHhBUxm4Tzk3aKWAzwpdAk6o9u4NPe1IhLFJCB+RNhDG+czTpuOxAxDRmJALqIZkaGRRnp3mFgUchXaEU99nQGuLiWsBaIif6w8n4+3trZ8O9vsawNFDDPa/jUa3O9Pr49FsCjSdLfU46nUeOx0klocFal5UUMwo09pOiRNAnym8y0Zb3YBQMBA26dGBGBCzT/2a7UyFDesUnqlIG5kLUdqn3cYhBo/bcZzUBvgGgax0LQE9sPfUSpEl7eAnF1LQKRmXjotzxFbRQtijiXnXs5xMNIsw75tZSBCxjwLA9jolTwJqBMD9YLEzOR3vng6ArbsgyPvjXZDiQX9zMj48JvpFDR30bDnPEskPgW6CHvmRgpyXGf/XGT8EkaGVoDSpzIalboaKUTf+/stxFtYA0AQ5k9ipQCG+LNqIFShgQ3NrYDXQqKQBZaiS+JGl636bispiRKupUoMXiTY+3QR/p6y0uxq4/OHO9mnfQ2EG+EDOZKuIhxK484cUgDKFLcAEcWH1d0e7U4DLEKLY0TZ3P/53CCCYgp/yYSfyX/anIJPUSEdt+IlhC+0UuwpcG3zeQ226bpXnAMmSLbe558tR1fR90yySzDzPFDcF/KNlyGwk7Wl507AWbeUKuCWf9Z4FoF2o1pBizEACJhUcg78HTc4kYqP1teFk2G9ZPlKgxgfeGXOfuMTUgk3doGyLMLm5di6+3V4f4eaJBfw43dxEFgVoynpmcp21Bh1J8iHVpA3mzObZFD9voJXkJugytzE+rnXvPvO9PhyCbT7VntpLKkadDSgqpQuZRK2uoOfgBtBZSRj3uBcC0Hp84jjroJ591UWrElPK1nngyRaU1gA610CGpLXPvpyTuCcl0I7HkzpjmxxV9U05V35dXhye7BMWP2u6e+p5NKlrw4j++oU1rxKYzJc6nThh6zUIRzAEcCU2w2BLfe5N/oCoALVg1g5wzwGUOgIA3auEvu+ra/00d+tlZhuAxLA/Ly8a2aDa0EsbIWBzjjKOE7Pt/huS9CwD2Or9Prbqub44OBdmgaiT0+lsfvRlsg/0xJ/o+K8H4CEQcSY2uHZGkNwkdPkCseXWWBtfOMvyawgpxTdpQAlv0To266jz/Owv2Y7bnwJROP9UiigcqN0mEF3QBDFiVuwnjnNpnTvL93+7+lwr5XI53w0udr4unWmaqN/764/tmpHKG2xUiMxPoihJC/VdVlk3jYo4AT1ydaWEdorZ8pz7fgBWzmNO6kVVWMaFTGfz1CoX/3HZ7kp664MNKG7/083N0lhejEeH10dXn84TkHfudY/uk39ZwulGgntjBoksEbvqxrsCoBZ+xqdlu1qqC90uypfOz6136etEaUT0TvAGkKcORJDae/uLFZYCv3y5Wi6Otg+PFstzkzm9XnzRsjYDyk4IRsAGOJ0ic5m95T0BULkii4PUNZe/hbUhQ8IV3DsCsIFSrco8TRpgOxEVVTU/v+mpw8P5VFM1f7la6Dc35fnZWUftrey5b71/NicoOnwumqVQR0oC7Kz9dwQAtx1FHRroPrSVkGZr+956kxoX1wkR6CIXPp8x0vrGpx4PKWCq/tmZ2Tnz8R913YOmV//Zkm0JkWkUZSV3Xv+Al3s6JwZh5PeyzOR+JAAbuHXADsOG9z0vu3eid85weiSj2pN+KACmFBERqW+Wr13+mgCs1ravQN5bgOiNdt51YVi993ntRdv3XwtAc7z/Be8KoNci1JsD8I+/5Gs3Gn8LALsp6f6lDff+17SS9L/EeEVoVn//4TP+6Sed/8fX1+uJiCS94VnoKk1feGjyw9//6Nna+qeIPelNDw//pOVaehNHtvAAtgFTNlDYuKjiUTi2mXaQEAtYsEhLINDcIdJIN2iUVRaRLpvbrdmMdFf5CfyMLJ3feM8pAyE8kvRtXXeH9CNlfL46r6K+r946yUVs8hfEMr98xrvPAfCD039Oq/XuHY75vpcct6j2PVQgw9oCr/Pk6p/KMeducNlQJCadLMN+5q3feaaMhcx46CdzOVjf5RooYrKK/2PK2qXFn9KNI3u13W21c7ni/zkpqCnPIVGs00b1jSKet7ptqMjFH7BiPxdq5tQyL//DT7LTm2aUWDDo1MuwKqn+mPIzj5oX+LJQqlXMfOJNrWq32asrTlBFifYMJGX0UCvyeQSgk7W28V1EDnHO+jEHSqehgaCj/YrBoyETtN5rfdIH0k8nutVc0Gs3kAgY4K7aRyoZ1Cl3arjNs9VqGhUUWMA3rddVEHzu4atXQdOyut1GGxWAqFzPfR4+nIVGo9puNXvIVM1YjaBkxHokOOVGnP0MAkpz1YGFrFaqa0appiE/PpvN1hrvN7RFq4VETOT2FLZiVUXOV/rbcqkedBsfQJBXHzl00YWaPUUtzDavkIJZ/bQD4YeTLcUCQV4ptKKtIMspo47PHBr7Mnv1MQJWs1ZGZZEu4woMjJnj2A6lPA5yFw2AxNetBmWkAey1qkqluBUrKAl2NkiJUu/MXRv54Fnk+1ZSlaNSN5Q63fNyozP2N7rNupEqnLhR7nQ6Zdz/tkPTDU0ai7jezX3kydVyJWKO6Xiu6YWhS92NaS6JadoapLQL4s92TdM6WWQq70zeyk53f0T2slEu11oXEcigardWhwhSOqWDsQBjthcgNzT/sfPi7rfDhRSC2unuImM2WK+4Hox6er37/lEQGStgNgnDdAS+uMly0R9NVy6taPV28axcs1wxFKGvstdnov2RRNWulDJWroBEvXrjvBUolGqj9YrTm3qNHjMu8WJ+jATtWiv3gRcAhj2twognpe3YBLyeCcm8ZZJMkwTMoR6NKhAFmfdu0dUI2g0+Q0z4nqxWi7vxeAAQLD0a18/5QKZZUlwYRWc5mHpqmpQhw0QgAkpzVzqrHoV3DbpN9VkwRlBB3aHgU0I8pLxtbNws9HUD/PfdCEYtDdMZMSV1YdJdcr9+fFwvBn24pgkRMbpGodS03nGhaoeB/egA4PjT6XS0GAzGL9cv435/lJheXD5zjoRVy6Kcbhe36rQGBIC7mw1xHM+jcitdw2MsToM5n6tBtsUIMlJdX4pgxIhrI28Tt7YhEzGpG0HOuuzBeava03gsHFsyxW/aJIv+YtG/Hr+Mh/3E0wuCeqYnstXMpdrXvqpF3ia9wtV0NBoNhi/jL1/Gz9eDwSgBTP3y6fo+V9b2tr9ioMfUDHFHwiSOryBRmaDeOtHPFnsocNQw9x0M1yUziW0jQWF5vxYRuAP1s91u27qYATOFfwAAIABJREFURnLdWkVEvpTCA++dLkZJMur3B9e/f3kZ9qehw21ihhvCe7mzXggpuGYY3HbDLXwjMLl/PRx+uQYQwYuGS9clhaviSdosnQKANkibUBMgMB2hR34Up25Qbxyds5evZlHSmEbQfnRBciSvexAFJllz6XuAJRW1oNW23omA2BNcwFQTtGCqAOi//H49HkASCNOsFtpGxzrV+rew/EguKIU3dDe7C5NHsv3TYLFIQlJqHY0uBoZWOHPFEpIY1BJiegwyM3LYlOquedQXZ1qpWPstiLGAUuQx5P24NtUjDwFwhB+VmxdOc8lY1QD3QGQE6Vd4rnrmZZg+/C6l42XScu449qtBzUemuW2bSBd3dwi4o92oMBn08T4uL7fzRxGg6NxnEIhkzIlpe1QgE9PjMR7OYZTbb9NA5ipVor29IonkpTiywQOY7wviebbicfqllnV2Yw43yg1dYsaNdQ4A9GHSXXNv994Sl7C3GKIU0/A9fCuTEM6dbd0Ee9356/jBMB3tt96O7ioPPoeAHkMicKCLoh68egy3jaG5CRpv0oBVKxnnRgtCWCGiHswph1JOKCXYkQlRPjmWJoNr7hyK5rkQUcEX1NwaSzwTsvdmX9Q3WOFNu3fY1uatZlBCgjj1XNfkAuLOTXNAfzpZT8JN0ocEuILX9JZ29s0MZLqlyqn92L/o0odQBscC86EaOhzFdxAG2fZhQc9XNe0sALpwnEgwxpCybSJlDRCwobBGvaNmBok6qIMoVSQqPCUAFqb2huT2djEaqZnbAQD/Yxqvuj/UbWk6x7fiThiaqvEFv4EU2O+H5uS34WD8/OtiNZ9upgq/kPhvCim0QachEHGo4wyrH066kLF0HEdsAdBahy5QvDK0s/4D2FGOG92crW/BA8AFbAJlFVY1vfZhQ5BpXNWV/LcCmUP4Io4ZUr9cfFzz7m6TwIO7yABP7Uf2LyvvhXuZdj0LEPMYgw73waFdckyymA2SzXQ1Xzw/P0MRmcxmCxVSCADNHrZDeFzQMQC+58QFxnTwYBrphbgAJUDy7RkUFaNXPXCBXM04GV/wOYMFnITMCSBwup6sXBM8FPly8Hdf71y9+nDeCgzBMbzgF9LjpUBfMZdwJavFNI1lAAAQCLcRbfK99tXqaBKi//7bX98o5Nv7tQ09NH9aTFYrd7kJR+Pxr88vg8XXl/lsoTpkDJMDB/qlgQqBoxjQGQUPEDFSF1PB/usCAcVbh00tPP7R6CiC1Mc5gZRsUygl3HmaJ5DOKIN/lnEEX4cnGhXbWekAOkxCqY0klxTqDiyA7p8mSZrJ0AVw3gGCbYsf2nsTrJJ3f0vI7G+on1BzoAx4DrVv1+vJ/AEaCUgE19fD6cvzeHZzB8MTjAKivSo/M92TGqj7umA6EjKgg6MRhkABT/LZrxExBvaVsBhsj/p6jX0uIeejcIOilBHu8/3Jc5hfiJlQoSEoF53cPgEEHKlg3mMUCeh2OWMw0Cbrx/tluqZJpv2RAiDNA9AjwyRquzC22G+zxeTu64N8/M4Bt9vZ/WTpzue33x6+LkJ3NZ32oSEefnm5ub4ZbLOJ+/01BjJXRxkMVi7gAVCxfU48eFQoSrbHhABbdj9iNF+TQKaKbBAR7wHwfeYh/ReJZkII5kvOHm8p3rYAHWWMCQYs1LZUs3yjp4HTAkjxXwUfFoAS2v9bbGYm0IPhMjgMR9jSwcxBHITKDeDFz+1S2OPdH3fz2c3Xbwxaj/XDP56hb54S9+HffzzMl0tYEaxWo/FwOBz34fd0hL4Y/vbnqwP2KqrkRxGsQqFP8X1ZiHTKPR9ppowzmDGCqhxYpIk4tbOChPn8vg8u6BxFHYU47X84FHwTfljYNILKbMcOdITgBx5DWV/qA0s73p2G1C7zNXfun75zAWtfwPnp4eHWgWiGmxDMnaa5WsBaCJzBxZhaezamR771gPy/vs/u5nezh5v1+tb+++af/5kNxsPB8r9MXF1v2+YVnhPbsRmajWkqZMTZYZhZsT4AwRcWCi54mZojQYbkiInKTCUt4VEIs0JUZTtKjdKSvQ7DsIt0soACvQhkJAM078a+2g/cOZQcTPDHjUTzfD3neY7fQyrutUK/2tjM2YrmjUblolozddtUd7CN5F6sfD7oOA8IJ/J8LAmQpWBfCWK2IEsMy4IczcsIWVChnCjQNCOAQEYr7218fqrbyhdLS2A/0kQg8SUJyB/P5nOYADSXnVTkeNzdxmPb4BtakHCrnWUXbpZPnwidOE56UleWCoNIcsLQ0xwGEIMNYhrZI+hJBTywSeMWDVvoSFxu9+on/v8cYBLL88w4McNWc7/XU/csYti0DSq4bDQaDZt4ZDL5r9tPgrifetBWrxo3FTS38ZsSnkbFY+Qck8cExbNmMsfnwAEABBBOuAVMAR6FnZAvZCnw6xsHzK3OA18SOxEwRQF6kcxCGUIbgjzjcf8NGx/FCCXggUCFGGRrfKGQ5/Kl9dny9D2RC8zWqRQBVpqhR3yfbBtQ5LyQmA6VrYEoCtUAgY/immKiEp8LHVqY5fDci6RVV+vtsJrzyUStt8xw/6iZErNheKRWruiVHYPA6/paDQaR0Om31FqtYty9Oe38eB4ChodboWXxcgGymWUEMSPwAmrAAvgCx0kclnWOEsQsA+SHs+HY8oO1eyWolQC4IrAcqCRIFFZgQQfSbAHiyFMIaEAjKTzxzYIvKUB7SLa70z628kRieSl5ewz1Cvb5esvXqzu7gFQMn5imgjZnL/CoAYHI7QYd2u8N+MLKjEM8iUx1v54+/TulqxdPU08rHz575baqu1qqjlTDMIAHlYlv2EHQj4PeacfbUmvGw5vD0o+XKIdmSsD1OF4Ag0sszWPEkVZDSUgFiRNQ1PLoBjy/jh5YyM+vZg5YWV8760YRTQfQ8gD3pFIJz74XJPgBIcSNDRDBDMSTamAnx7VGvgAZwy1MRzNzD25BwiTtA1XVPfgzitIy6StF2czt7DYc09FxmgAfVOAXXozW8cygkgjcvSmIggFxnL57l6Z1za409+vW+cWfnn2qk0pFa6Vj1ddtvXpd1nU9CBSHooIor02KRPvzTRe4J8YKxchJBKwFTEMNS2eJO7VYQPRiMAyYiqCK8nksgfxi9i8KIJF3kyB0nEHAxYDsBXFJinKAHGJAM6A64P2Q+BzudOFWA7xoYEaFBVwTvJUxoZVH+ZhSVM3RbcpQAt7W05T4ptOwK0ZOiRTFptBxVGgAdG/mFAXeh2uQPD8D0eXHUt9r/fBDu62SCuW11OF4/PGfH85rO7ta3b1UNV8rQgfQdBN8qNmbtu6RqkaMR3c+KyFAAD4mYS+JoNMDCcE6Ay8zgoCJwAt5dpaEjMAiliFXZxezDJjbWBg4EdH6Ay7q9yIZWZPYsCOWdTCLaQbglclGQgwz7WBc5j+JY+VsSr+8utYzbV0LQw3sZRNdU4llqZam27sKFeNgzFZsADRdQxKD0oii+Dwuw0pZCd253e21yP7e87Q+3Cah5pPicAI+OK8Z25bbvHR93x1vqRNStjTIHcXQioQoNBXMmjCub6PQERwniiJxSQaLoU45JO7IqyDueOx8Gj0e+gQElYe3iLeyDFj+Y+KloeMdR0m75XU7kSDnbZ14Cq/o0LlpVmZFAScq2Myy7i1ygoRAyUp34RaWHz389njgaKrnabphRqYG8S8P6/sHx2ZjEDgBjRugiuFvbhdr2TgEL8Ziow2kDETnXn8bet7+RC+PRqpPQkWzmhfjCxdsHg+t5uWQELfpFotbZcvS4bNaVQt1hqO42zMScXvjjFNAp9mKUJAhwJCkkoRDPMD7PO6hQC8ENMghqLNyXuYgLyAV5qfPgJlbjzzPd5LkpF1PT7rdbgQdS3F8KBcHoGynwYLhOBakcDSGVcxK+IgHjul01x6AjLh/dtxvmaSotsl1GA2UpJ362tPDr373dXs3Vgwn4Flkcv5mY7uKBPCnTZCUIM5px5xmwPLr73X1y62JOtkqeoRovus2L/7zs6u6w/FIbbqjojuyrJF7brnDypRE4YIhNeshc8vLG2f5CG7OCH/sRHEO5AMtRw2QroB6eR5rF/dykXtRgIgyiERASTq/eD8b7C2vCY4SAOXw2m8Pvj89Pe0rfGDqBEuoYaD+2kH8QwkKiIDAipQIiCK3uLAIDnhw9pb0PJOoakttJb3QgW+iuUeHR385qFUbu3okxZxd8X1DNxp4jc1NRsD5Kj/gpg5Yed/2nzdHW+Vy0a1bIWS9BbG/3Ds6rG/VVddyR+dD1xpfjkfDi20Ugzjggi/5zqwJbrw8Ewuc0qCcfsKzjpEzOJG/ukIUFDD5sfz5LHjclANBkdMCK95HMbG8un6iKAMwKla89snZ6fGpGTO2bQ50BWsG9FzVsBu5KaOnAEED4EbgiFicF29BEj7o1d020cB+t3nQ67c103M0g+y/s97t7U2q1fC0HyYG1L+taaSCTBjIBfRskwkYEUHwzuu/euWnX45dd3zpplY6GrrFSvny6Nkffvv7Yb1lWal1fn7x4cPz5nh4Wa6BC/kM0IO7swpYXT/r8OzAhEpJ0yRy9Gzx+qdd5CEyc9OA0ZZcXsoYgAQqsVQQv1idOuBHM1YUQRoQq3XS7R/3t2MeeoJJfBsrHxpwY6bhGsAroPhjwC+a73RffAMBvPPaIc1/+MSz2vuHb/rffaeqGmXr7quWrqc/N7eGe19DQLfKQOC3a6MiUUyIBgd8w/Q6iYhTsbn3f2vVmx/33Ob50Gq1reG5tUVqzw+/Ovr3vy6aW/v79YPm+JdPz6/TD+NfioZiTHlF3F7/PIiQ4Y6iBKhk2AOkDvgMrUGFGwxPZemS6fBNKAaggPKSmE1GpWAR/X/70eNOf+CbCVARy+t0T0JyXY2Sfk+rGEYAeaNNtMx+iH+D4QToCTJuT7DRyTcv1+Z+tfwSPK/7nma1jl69OTl4c2BtA13QmqFCOVb9etvd+3hxqRlXO9fXxdE1SP3QBFQAF/e6eRnH+3Pvj9Kj5qf/UXF1v2ljWXw6naZdyjItjQuBVZtJm9SukZBXAxO5Wd9uXFs2ttddTANupxbBs3QjoBAgZcNHunTaaB8mBY/Q8IBM0wcvo0rhiT9wj0n6sbzxgPE9Pvf8Po7PfZLcHY2zuq70Jg4SqZi4p3//33fDSfXne/f+/sPgbd9RBuOhrogq6ya1t1M7f4aBt69k3BuDkAqyz51Pcu201VUO8wjuU9TybgGcmygeT9g1LNyzTO5eWgiG59Pjtx//1O1o9ecqJJvACgZjWVO6VBcIVvJ6Ba9HQxqGSW4AVoVOyD3adyXsC4RyxbVHj90auNVossjkhGJHTFZatT2ggzzAXpJhWYznPDxKHM+czaOjKG5ZUSzQaTeMTMDrVUulR+VLLhM8v6MfKsosnd49/n63Ws1ObIYlKQqyhUyPjkf7P//2629v3vTwqDU8PlZ1CJYISR6otz4Ofr50526Di5gkwOPOBXLugAXQTfh/WtNgb7rwfBoADAuufVS8C9fCuVuulbK0VS5l5HZNh09SVZEosjxsnxMqbcxZHYMowF5g46mUkAeCCNLCvxi8UBS+eerewdJCuylomtbqFixGbRS6FZHjOY5XBUHFjk5SjD7YoE6o2EmM6DuS7DNa3bYgaHL7WfenlT/NhdBrhZkleraYHFUf7O9XRzjJU1FieJjaZAg8Sq6/G30AIhiJWqO0KZtNUdQ1KV9vlc+OUFm643chbxFbpV1D2edzFVcosBlHXEqVgZtpkZTrQswreSC48tEu/ya0fGMewMeXOnKmDRjImJAArEpjXvhBLK41CnWOphGCb3Gc2uRTUhCUdnkltLwWDhfl0kP3Ds6vtRpJBlUeVCrrpPmiAbg9iSK1IxQytLR6JOm/H8ZAxscopz9hODkQbrXreZlp15+/eDg/XPniP54D4KH17b828eTzWm3PJsjYpsakDQ8mSbEY8X5gWbPN2DQxSGi0YQqqnsaZTuPZo4926k0IwKIbAM+crbiKwx8KGvg0yiv1jDR34VJ03uWGmHs81Xz9ocD1f8597Ys3bocztLduNlRKgxQyVA+WSaWwKajxekFkGcVmeKpvOSwXi+XL5YOduRtyN+cN/+LC0NW7O42kgpL71SfvNkRYyngyjuMKYsUkH/CuptRE7MShDg9jpN1jNKOeK3aKAcFoG8na1hzGLj6tZMk4kf7Lj3u4YtYLTYUA1q+xShIkg4Qd/nm0gU8nhOMcf5A4BIypUkmOkFp/9YdPfrobAFDtFIcBBwDwdneA0CIpjRQNgZtbclg+x8m0JMkZz2kEgoErp47mxaVrOY/kyYBo4VmZpg1ZokG+pIgpvzlTEEFScdIhSdxuUpEo0wam5Aqp8nLA9/KUx18ptQwIQPa4ur4hOrjlOPh0M05OyZ7dplMcSlBHKXI2dvDJZKa2G4vhcC5cAmBMNp6ermCrUDPRcHL/QXaMs7UHu7ZFJLIaq2f/owHt30jPSNuye72+rTOijgqNWgEVmkh9+Gls9Du3gQuVn2NpjAfAZTMy7WntAKVWVbUu8Kurm8A68yDRQVRoEhDQS2sgjpbP+otXv13GJMganxCRGZbXaNhPAR+ycVhCr9JkTmLRI1AeuDLpW4TaLrn6usyWwgtLZz21tTbNoqZeBfbCUgxyLEjhGDWdOr20riZGdvToZNafEKDwRtm9F8CBQuHlRol7cPD4zNAF8iCmB/fvrw8TVnW00es7id83LHFw/1+MJOB9hyL6w0kPPrqeVdlCRRWaJoVefbLUz4e9Luv1YZwXtDenMZ18ptNosVqj1eq2SgBHHOB2XopG+Hpd5XimCGU86AvfPhXjf7y+sEhjQJhoCZ4/qBYeC+TbenYjGp+ISZBdTuyIg3UlJ/ZYZNjSJUiBMr1868zOO/dtsCVlWIZQFJE5oRyEFNyJRByCcIixvrfdTCeipI1P0NSeHG8XGrlwaCUMZUCoXDvzc64Wi+1merC9i5NRlMTdLjjxfmzh9vq93cM34z4VoQh7OBwev0/v78msaQqyyfCFV597AgvuZDIgNk/TggCpLAv+3AFi6jsHsGNzLCNp3mLHG4ukio2CCVfI+AWvPxA8m77/6satyxn3BBNWA9DSkMphktF8XrEcEQpzQ5zFpzGNY3nSQqLBcJ2OsFYKeleufnwAd8IhiZcjVFxETJRzCAdpvEzg7kLsvvJETHxIWGPLVvqj0eBQM/PhTmunIa/UDz552nc7RSNbTQ82nBNHwacM4cwGvb5l2++qg+3RwKHivfTbt6PRRE82jY5h1FsFwmj88rkr9F3I1RYejPZ4aNkQFgP+5VZXZBs75fJrcxUSAztSOxrFhsqFRtdErE/OeTyZlZdnd7B09aY7oA9Qx9IcAkrHIt58XQP1YRb22qYYjTaB6VNxkOMIxxnVFGifL/QpAF/dWlkMBVclKcVqUZWZRjhZFnWRcHqTvq4kYTnxflpBTXFjQ+RYkaPNLpDj8sHNTwu45ffn6w2r98GeWbpF4oq4PiYmeG8yGB8/GX8Y9O3B2+oQSoOIFAJ1SjvNJpl7eO7Lzu6FtbXQ3K/CUr4MUM2V8gEgS/vg9b9FiaM9GYkXRbFbbh90kwWV9tdLoMfXvv48WeF6qV4fp7lSHonIoDvPCkisdWs/qk0deH5GRSSjGg2kIbFpMIZ/MfzFKxrn7qxcCADL4LhonIxiEZIQs9lebzS2myhpTqAmiFkRLsuwEWpbQ0gQ8stbW190Zu+EFv0LckRTe1baIjb+Vk3b44mNp99Xq/s6MekPBz88eT/oE6RZhfDUas2CWP6/FyTOX7/89eW7847K6clFnnrbVKye+KIG0At4DBFAoFg6JRP9j71r7UoryaLyiARECEjk8lQERMVntEmCClFyFR94EcQWFCRcJEZgQCGNAwpi1LDQBO3ppTG2iXnQZrJa12Ki/r6pq52kzeCzJ/3Js/Sj16pTdarqVO29TxCk8T4uyH0Kv36CkVvCBD5wKW92KW3B4LSLGwkbfvQ/mp1xV+42GZA2KWJecYdAngtGEoU1hm42JD7+Nn0NJMuwEURQl0anQ2zxx5tbbyYeo0jYvlm+rEDsmymdWqUqvzMIHKgd6OYdf9zn8EtKeFKpC1WvKNKvP9hR1Z03a1uNjePjdt3aWmpTN/Hhl7uD23c+TJg3lw3obDT2DbYAJ6Jjb7Jg8jOhCiab1mqzTaGqOpC+gp0fzA2NQq6BjbZ4KDgN8bjeUgywKPgzwKiQhwHBsDTNAUG8a3mRQMi8NjP3UF7Zpoa721p35Tq7AXHb7WawBAU72EzesRbgxHgMhgSW0a6bKIpOaUP2ide/PZkJoGXLWx/LKsO9zzfsZvv4gy1dWKdyudgV3yILhPwiiEJ1sLvb4KY1HVIXNj9vnJz0q1OvftlIdYR1z1/X/qt9a9y+va1D41m4DDgygcjj5UIUTHCJymZ7o3GHFiRxfRTYNkBVqtIpOTjUBaPxyLQD7OUsiF50bA6RJBhBFGJjD98gn8LHTBEQAwiiUBiNym5t+R6sQdQGYKFpFk2NuHjCb0GKN8A6xKKwaEpN9zQ4WqOGDfvcbLxGYZ8Iw61NE2tvHtwbHB9PqdVht43GEmfBhhXwaBhBGlbYtErlgLHzfiDgT6fB2lnWodt48/peo/3VhsFgNgStJ8CzCBwxH6KxiBRaRSHf5/VqNDVge0fUbZQ6xW6ZQkqhOTwejwvyeMV5+BLGty4U4CtKuEyomEdllXKLrI/iiLELrsF2FpUmVV4Ow9MhvwH1stjTHi+r8H+xQRJeMXAA5HJh950VXNQAzpaqtCKMaIzytSb1snncDnINjwdxe1g3suFrODJwuqJqu5QOMAosKupGwh1l28uvUorOu6+W7U+azXaDOoT6fzqNASqQCQqoFQwcme7ygC0R7uqC25TgCNjXCsM0yOviMtnca3l4SV4RKQu8iS6RFAiILKKQLxbpI4puClVptKHqDvPyx5QcCU51gNHr9tgcED4bUpDAwDNBtsiDeNehYok3GkLhtBpBjGrz24a0Sq57DPzngLqRIMQUZW+98DpIs5hMfGFF6XXIG0J1cNnm8p68o/EOOAgaBu1+d9Dl9fWfjtPMkfBKQXiTCyUxzxSKaGAwLQeUIDefnnYUY6+lxRIOjnMS1BEnZIgLOGQCTkzXx4O2tm6l2o2GDfJBs83jjYAMz8HN45YQTyhZRJLlgsVYIBLlyYQF3gg47agQTblhwmzuCKtRv0HnDkKsbhZXclLriyCokCjAkUUEkaS06FEc9ECeVpkfuDvs7tDDfwaiFpEw/2yo/5f3pqgbgZUs1sCAVhsMRn3e3GsSCeHMGj2HKFJSgXMpBvJWWyDimN4FKYjN6/B5i/OIRbgjIcvsGG/gWTJGNgC//P6l/ogWZJn2j+g/giGwBceDUw5iEZ3POBkjjpd9ffHOIY+MkDnOwNDQkN8fMMWWRjgXpGxY4vGohxuZ1mo9wWgowC/AhGTzOef743xyDgm7H/NFbBpbJBpymkyYdtjFmkDQx0PueMgfiP+Ua7VaGAzhxUk7pKW5mTl9/2UYO/nOJWvU69F6PD7TUiwSu/A/JywF4r4QSCn0S07T5fhGBM7so58exq0x/OU5RyTCZemnHP3SUiwatcaco+T8kcuQlUZGRvXOWNyK43Au23zcyFzEJ/zuVKmTwpkEhhGjHf0VFpbFMvKXWkEQ5Odc2ZVd2ZVd2ZVd2d9pX5WayIf8+cvQn/+v7TmU2vqOmhvfppZiyaF0zSGHmfGZ/HvZll9KnOL4jQ1GpR4dZRDIpL/F04K8EiYRh+fSc/F0PlZ9RyBiXM4Dn+nzlxi8L9XmMSqgSCyLReMxgVWI+77dx6qWyjBZXCqFi9FuKFLKdWYxni4TAA+cPwg++wp3xNwnXFR/4Yg/f+RzEpljikYioSCacPti1otUUMcSoX4rGWcx6WdNequFcPZwMWQYU4BNox7REiiH/BQpjUItFDDOJ6GAKVlwZHR+Tg6HcFiskoGVo8CkAHDnnzWYYIRAIpMwgNNB//3uxHzyYH8/YfPGLOfL7vIt1qdW/f0Z0+LkjL538knL0NzQ0BzurEgTYXhR7J3oD17GTexquG+nr6+PeoNH5HPOcsGR1oeQWMyliSVMZilUXIoVgONjIXTO6wCs3qzFqY/FfFNuf9QyQrCY4uj+YMPtxSQwGxoXn+0BktU529Lb2F7b2N7bWDvW3FzV29s7Odly33TqtCXky7gsCAP0/sFOerajVFbCMGw0HqEEaEy6+LRVCIsgjqCQWAyxaFLgxGc7P2iN01qt1+crGj2nBgcYcJEsag8FbZ2JxHwo/kgfiyCJwerb7ZnF5GIy0dnpExDO+g5jpncsU9s42P5gsra+/vfm5nst9S8+ZdbH7jutJ4UBgc6m0bEiRRia8XP/2w4ODhbk8kQioajsk0opVB4v9+RVCBPPopeUcDFs9RFprWYBTNt9YMlEpL9/lHOONZzMEUe9yI/7GlVPz+Dwvj8QmrIl9oer22s/AQ8cVC4otD7hGfk5zvQkU/ug+m11Q09DfX19Vcu9e81v1zNj67XNvUNz2bNrHA9Md0yCmyL9ys/cqTxY/M/ifFlZZ2cawy49wwCv0EkiAFjkclkYZJpGOfpGa116vqdp7XlDz+2ePVXaHTdxzpq9OIKAiMC7wOMHg8Ptw+AnmdzfHx6rqv30qT150Ndat5CwP7Wc6gHC6NPk2Fh1dX3V3du3Vt+t1v97dfVW7ctf19+/q6q61TyX9XamECts86fgP7LKhWRmrOHj8ubyXo30h66dnZtSCk2QfT/M53Mk3ENc+BeqZ2VduudOU+rjdmp7K7UiV8zvJ5xnCOGQGQUOVaVCtbC7tw96316VybS3L45lMr++zFSBGWBMzM8nh2espzgyn+D0Dw7fvTVWm6n6bfXF+ruf378nQxRgAAAgAElEQVR/sf7y5e8/v1tfvdXY3DKXJQpwEEbWlh7vPghhRTK5d2drc3ujrK61pqamUkl7Rr2W7USAy2NLD+WUb37hN4IJIC/fXFlJLa+kXm2nyhU1TT0N8yET+ZRDESlfdGNgT/FfOq7/t4kji18UiYoQUqUiFFRE2zuhztysd722d20fG75sETncYgIcyRXCuVxBCXA6QdFBddxBe2qsqlK8O85m7WS9drz2+svaniTqpn/fvQ1N4oQQRfnJWc978/nynj3zzn1+WSLzsP+hCERxNhwOl9Z/qeejAId4MpN5dH3mXR/xvjfwYOrWi9R8OpGcCG9kIuZyqV4rFusrS8VavVNrx59+t3zhADM4DNzff0EX4hdk1yXz1YLd1FwBEyJzfzoz9MUfD8DA8aBkCE4D9zFIYi7yqEt1zbZsJAkYJRKe/3Lu9tzguxlw6pPPley5myonZzfvTOSj/MR0ppvvlBZXlmtOo1sM52uhcPTp5IHTbR+cHJ26/+yx5/+U9mJJoIGZ50N3+Hy+s75YyredmumYkQ3z+ttfj50cHvntUmp/AlRVFGXVba7qGmJYwwwzSVXVLz85uX+AwODwyFhwxGqs7wE9UXa9VUUQNapbWOY4m+q24l6bnLz7YODdDPjgMiNSb0Hibv66GenWzWQ6sVzqLK0tdmqOU+x0gMlt/unM/YG30TP3/Pmzx19Pe4XsuWwiFg9FIwB6Pp3eKHXW1tbrjtPp1PO16Mb49299THlobGThgJ+eygmqhFIUY5dS5GquKAiS9NfP9mfg+LHhraphTwIlicFaehKiNCUzqhgexjrF51/cmhx9B4KPnj40IsuQZkH+dfNsCMhr8koqvbK4tLbUqTuR4nJppWg2IqGLM4NvVX33X924euUqSC6Rs6l0JWKatXqxZn5149vS0uJaqWTGiyulYr3N37s0M7cPOx+MDR9Agd6bS9cAAxKEjxEisihcvvzFidF9w1COjAwdmEBCsSS6wCPmalbDoBjZGsX/eTh1sCEeHj310c0slmV4x82fH0W7NWCtrdvhtaXF0ko0l8zXO8tmqxKfCF3cp+VHRycf/5lg4vONNMYpPzs90e128/lao3z1RnhxaakTjsXM4spK3omHrl+6u/f9/zDy5jjsnsXLUk8isiSpASBdIjKKEJNBCS/3ho7vmyPy++Ai38KZ/RrSk0WfQeIYAyUoVMsKRrquI/TNqwdvTdHYarxPH/lQYEQkopjNbqZjoXwxXykXjM7Syvp6phBLtqP1mtNyHOfCxb1GcHjy/ovznMhcr522NWTjVGE6k4nnu10+bcWK6+vrv5QtI15b7jqVBh+6uI9B7w8P7aFvYGEYST2CpQXOdUUVYhE4EDWBE4TgBuexT0/2NyWjZ0a25zWoO+ELMifJIiFMRIxgWq5WyhpGWpAAcu317X0ZGIVC6fTt438f45goSoLgYg90LJJMduMtoP7KesmCCCp8qNJqmDWH52f6v20amJv94d+ICISWG0oKChdfzFIj0WrwsW6o5dSLndJG0qoYuYjTaLWdxvjMXgiMHjszNrZ3+1QXqQuywEEIrsSpAIJgnknwu9UkndrTmn98ZnjPv6scJ1FKmA1g1DBwgCCaNhvJhE81DRNBIH97vXdQ8eG7z5/98OLlP25KHLwnh/Um9elmwk9HO+12rdutF0vhR62ckYtD/MUgAWdnd1M4+L/ZJ9Oe4TPCqKfrmjWPXawpqWQi5XTyZr4LYlBa6raq1Uqu0e7WGhNn96rAZyMBh/shIKiM9BbA+jQiYy64gA26DA7w21SHoSP9EDj6UXCQttfblT/GZD0QTdpEQB4su9hV5qfnZfBCErxOlK+9vtUnYwOTz19c8UErBSZKxCVYKQBZaFZJhEI1ILJZ73SW1hvVWCXXcmrRJJ/j+Uu7s5Z/vPivbz0jNw825SJd01dTzbJVKNjU8/haEpS/nS91VuqNaqsK8dedC+OR8f6+6OiJkbGRvkkdqgrEZ0gURaZrDDHYeB+LTAYF2J7h8WHf5enfDZ6A4kfgIEFvciAJBLme7QW7AKkgMiOuC0gAD+3BH3gRR+iN51O78wPm/nnjCnZdQJqAREH2wTOAxUpz1VqtrE6E+EatBBYG8leJxeOZe9OZZCwzPrldUw7MjD9NxmOxhEtkgrJKuZGrNMyEUaa6Z7WqRibeMDv1ehtKYgBAPn4n8/TS9dk+Bp3amksAtk8A84LEyXJPkqiLoZTVNcIwLLtsI0JcDYErcoEIDH3cx4H3jgwNyYK6lYHegiq4MtX1ZtMDGPgcprYvYQ1sRA7URBAYA39RZePJwx0IHJ18cp5CrchA/qFilBEU32h+VVOMpm2kPc+oxh91u6bTjsbT0F7NQ3dwdiP0405R/f34vVws5hkKgqdUlRRvNkzHWqXwHIOP80ahnDAi+Xwr2fDSVS8JXcaFzvjcbgbeH9oSPSRjBNskSQKT5J4g6pi4FKxfFFQV6RjLBDwMUACMWOBu9U0RGTw2ck5Qg1ld4BGcqEHNgEl1msm+jX3DbhoEsomhkiwglyFdhuJioZf6aicBgw9fnncRJZLIREzE4GxzWdeqaYyaml0oeKmmUi4kI8VWLL3pp7IiO/dTZiIcubSdgMHZCwkjp2hlhAqKtuphja/mKhXLS+Ry0WKjValaCc/gO0ljPqvpvpWIRWt1Z3K3KTl0k7IUwgqDRfRgg1UG24BdA/IBAkhAVVjgXgTpVlmTWcCD3uu+BBwa/gsolxuc00UuJyCMNYSMVsKCNTUtqkMz5DOB+qlgbdAaUCpJInBgW4emXl2xbQrQl4PmAVVzVplPVlcTFAitG14zVba9ZiIXTnoFX9MV3xVS6Z9//m5mO4Kp2a8Tq2VNyd3xjHjC8LyUZeRWc16mFUvWo23wPatasOImX4D6AEo6LxYKhS/c31Hhk99AlRtUK4RQkQMwyNQVfM2uBOObwP9ESpuFJoiarVtWE5NgBkPvv5/uJGDgWE9goO4IQesDPunaNsK+lU7YRFCsgl5WXN0GWhQKRtX7Pw/X9xo3csc58hDy4IfQJz80cPShElrLlTNeaakaOFMwpzbbUM5n8os41CG5CzW5+JLjmpI0BafhSkajvbkdXyYzmtFaP1axlxxs/79+5B/xy4IRu5rv9/v5NbsjCCHKEQSu8/CrB2fx/bvMw4Q4GtGRCS2MmcK0VyR1SlaLLFVcgtL4wOioVXWe7/Vj/vr1Dx8zzYOdLSoi7U/u8Hwy3mSGCkGx/kOqZUWbJhwXTSVNEzLmJlk5c6Mw9NdfnBXg3nYbM7ac4A4yt9c76jlQ6rRVmeYtQBvAC7u6ZSkQBW6tg26A36x61862N84v/mnmxQAtPL94FfRWE0x6MJNzT2dlbKOsTh1mbK0IFbkESusYTNN3nm2fOvKLu1cdL0PqtC2KU2Ps2zFcWzXxzV6mhWKCc2u0NobLVNU0t7VE3tnZPuOg2zt/FW2morY2oU+G2vc5D7c2D8YR2yxoTnkO70RR/RTZXMxnr/YG+eDuxwcobO9EQsQB7P6s7CHD9tFBpbNuRRoxFr2Bj3MyVeNOVDafBd7aEUTi+WkBzl940SatilMsTSTL/bV+wgH1frw3H5AkjV+JzgByiV5SzqlkbtnvrcGy/HP7JBF8sv1QxC0RnMIqqUxIxgaUqYpPx7mYaymV0dJIximaL2sYQy7qOPnH7vaFMwq9v5V0JwIM8almZOnwoAoPf/EPx/z64yrPeUSrogmFVmw4GIY8SkiYD/778REaN57HLkvLdo4SwP0vuyqtBeMavm2u6863zeBLtFYKoRBaBSMDgZw/u3RcgPOXth/PI47YX7pZhuodrQa5xmXpdDxtVLa86g2tSEEeqWgqS5uk30kFiOLKi8WTw8871wkAy0yeDxO3tRGGlWKZZtKKrLQ0tKiNaVtrw2JaqVRIgUzhXt36z+kPxq49fRQN6XoSL62ENefVaHRwWIwuH9AxEcMc0mlh/wqZW2EspQN4CcP58IePKnDumnI991Ury9IJ3vQyB71UHXlj5dCRbhIgatJyYzAnwIfX/Z7fffbpsRNbvPVkMxER/oUWLM/cstffy41i4CEAOZ4HkGYudc2Zkk2VWwt/0VvrzVzntAAXPv0ua/UQSkWbeJZIKWnRiDpNWj9RdVYPpgOlc0LAZeNpUVyWxsjuzpKtpw9OJmjjyeOI/LIOmQhJpCIsebQ/Acj3c38QjkK4H5r7fu5LiTHjPCetjOfD7z9ubl786qpqXW8YuTA+gSdFCv3WQFs5A/nXqQslBwBzLmIHbgiRSNXMW/37rxeOj88/2dKRziARSnmrvePUI7Vmia6bYjr5X1/Fbc1kXbM0lVxTAbfqIRqk3pXnxyc/F198nmnT5IxUUeaILFMNmaLHZbuStLiLOJmOGwSgqirGozw/8BNQlYtPuf7ypIcLG3fp4PCdP5p83VrD0XAz+jBqcvK7w8qPqiKnBeHTajrg/tIdQ2hDWmCc3Fr8uI2y/bd5q/by1usjs3LD26DMqcAgOLMMJIAKOIwXDa07j7LsQecUK3snE/DJxu6WaHkCw+Bk8ELLTp0pVWsG82EwM35TWIMONg2BUGnGNN7W9Rxc/JeX9/AG51487uwKNXEzTF2mXRdS00hVz5Lxin8YdaawKiyWlTeTSZUXftLB0GHZ1ZMCfHLpURgWK9NiOlqP85Y2htLRTxgifvPAkIiS/YMlY6uimo7f/dxlacqV5GLwr1MKuHfu3O0rvUSQiDlu5gqb23nwelIICDbqDOJA81ymUNd0tnychtY8PXfRv5PnB+xGkdOCAlScBav9sl87GTd1ajrgSs3zqqHWNk01mYyHjgddg0uMMQC9609BghdufUPSlgxNKyhaG7dppiTJFYvmMpxMp3tBmZQhqanlNZ+sNHDGqQO7BFFiu8ebwxd+s9VNB61WRsM6agEzWh28pVbJal0pacQ6lj06nFKEKh9/Nk1jYcjdf58i4NzC4nOnnAu4JTTHTWuojcgPJlaINIhrDVnSMCYaa5kFnQteg+HrB8vfbhx/QXPh0qOYxcLtz3nUlkez0qOdGmYMRZacm7yqQO4WL5NpE5e9wIENyuJ4FnzxrDs7evEPNwmxNqKJkPCLc7B8xwIyBdQbWxTD2R6PinB6sL/uDyouFAy+k7GYpW726LgAC7+6bkjhD5vxSlTHGHlaFO+WWiZoMY4GmsTJ+v4ECdhU++/HDaGbTqo2yTef3T7bQ1748mEHKtlENaQeqstAVuE0tDIrgWbAv8bYNPAW8+W1o96bbsNq9aj/+LfH388sfPkoy4zyysRGLDhy56K4Az/h1JQK1j3LA+vnlDbT0WhFpW5v2ev3XZa4M/fPzzsvuvDZABGVDHkrbH/meJukguQTkyrdWl0U+WB0UORktP/jhw/vl2oFPu7axFTWT3aOIXDpjwMyGA2MKHxOWltVlRWjFcOgOfv7H246cd1eRowopP9uRLjgGgwQ3fz+bEvt4uKN3auv5r2kheJlGCyImbIAvIUMWmtkyrqZaKoKFwSQrze91dXe6psvtu53CF7YuPHcy0jmxC0HbrMEbDOOZ+V80HDYeaYFzaE5eXE4AgBmAZJWEKRpCTn9dvtGd/5+h9BwOATTcDkvHacUOVI/sCOHJpemsiv7SLOH+6MPP74b+6is0+2yKw3L/fn9jkTPb/w+JHcOB0SNv1Yh56gZ98fTitiq+fn9eM/jkVi5/Pan0fjg7UQjXWLAlXz85JQCzt/beLnZ1qXLhwzGz0Xk6/xeba20SoPE4F/+z9XZ/bSNpWFciItRL3rBxV6MtOrN3thKcIbEJbbq2Wm7lVAt4WWRhogGFtBSUajEpougoruiO1VBc7PHsXFsE8ffjr/igcxu5v/bx8DQdrjgAuFw/J73vM/vOa998HwfKZzavlcprezN8W6/e7dfjn/6/vpJpZtTNNEkB9dBvZG3v7BBtIHbB9YZVgxucQMzi0UAd/UpykSXrl6Kfz25fvp2/VjKJYujL8XUSyaTygSBNKAVQqIRPSaWr6pqpkZheH41cDFFlxifbTmTCv3H5WuY/+r7x82Gatb9PNig8kTLAp81Q51xwT4NcxTujYuwvXB1dT42G4YBogJOcvnm/i1HT02vvLU1jlL8Zgn6ti17cB5wU8Sw/MTRDF9zUVVRWrUkdieV2vWuB6Lwp82bAHz98p9ULlATx3FteNfEsT0rLfegeFmGhNialnq+1wx1zOfwcm6+PNIIYiuS17vlErq/eyAIMHIKJWYxVxFzDSZAs2UbwIyq5fq6GupxoA5649GG0y05npZtTqSo569vIjj14XGzHteZ3IlbUEdBb6h61oxdm2MWNnD1Oa5U1d7VeW/BT7B+bJZ12cXOzvav27AnyzY5hQOLQT4wLnnmOVigGgor8VDKkIVhmpI8SWyXcHTtZsujtviv7ZVrlH756q3M/aKAYAMoqIEp923iplmW5pRCLIQxdbNALzQrCCa1h1gCD59WK/Mif3Dd2pg5OlrE7+ddjo0C6fSUj/XwopHnmoHPSYLUikI9LILReJAFhmbDM0Gq4GhF6fX7m4OcVp48CmIYANqOWQUB4NUsTTULNsjlOOLu9XoDhK/X710QzSmtqCDVtcXOh+m7ACwm6Rklp4g2bINhEWCwIFAZ1Kt85zArBoOQKBWgjat1FXu+jMBPw8WTBzc7YlNLmxLhBBTdVAMuyw6CaGm+npHYd7B2mrFe4B5i1LOMG87XYLb+U63Ot94cXXPIvd2Dd4nLtloxqQdWs9zuM5Hvph5kOuWkHBcEahyEpqkjpPaEBkMNh5eywm8dfn9jRdafHfK6OptTws8XbVppjcyB7iN+yHaSano0KMyLXn9QRKyP6ZEnNJXnRutw/a4Z/X7V8E8VW2NRHVzonQFWyS+rvgt+7cp5Of4WaiMQyzckKMEEq6BKL5/c9nlfLnUYNkasxBSyh+UL3FG63l6/GJmMzNWj/nisNknsFmbkKrARIImamHd2Xt0+S767LLEaUN5zdTcE60SmqhbmqJHF8PRuPdTNSA+hSQiMQEFlcf/z1DB9s3P78vTM2mHbnY3YfGPwX1NoZP3x1ZiBaAEKLC9X62G9Ho1HZljMlvUMwCLYQuvRt9ufenEdlhUFWnaNxMb4nUSBFlBzvk8NKRBXbnk+rSSUlgaeojiECJXqnEyv/nD7vz6mt3dQrnN8gd5gVVMYXoqyNPzJmNi5hOQzgRQpF6qB6+FiKEjNerv08vYYp5X9DiO5BDHyA11PffhWDDmMeoOLkSQTjRmfj0cIBn6sazIM6+UcaJvberZ9S7Izzw6XpWZIuP4g2uCioBj1oJhFpvOG0yR6cd4rkD/FqB/xKC1WItgG1w6eLN310x4ctF0hmdgkLe0eIADTTV86ngC9qlUrNlLpRyy7VA9ElB8bnDAUu8PFzq2Z/OrF9jvi0aAe14Fh8kGSDkRaCHTosSPy/XFP9xAAXidAOYuuTB7WLq2ju/cvlnb2HzMg2agpEZ0H6vmsa8S6OhpcFKGltQbn44GKjzJDVSc5RkbNV8/Y5eOdu+M4Pz7bZOOgWb/oFTxRYfvMwQgh6I8WjIZfH6P8wxeEEb7n5TvVzumk9egva3ftUXiRzZaMSlyuG8cWbEjtfGXe0CZPf5qrnZU8wDcoyg95GhBXkb1csWWwWufoV5ReecuR3PNy1y1FsIua79m1SRx6hiDTBqOHnOxouuoTwwsxKzZMk3d0t6V+b+nfT45bAT+LPIgdP4v9JOH8JlY9LKzrbPQwg27sOUyo1l1YuVyce3jGdnaW7vbz1p8db0ms2p+Nfm64jYwhJIiurq56/b4ZuqPzc3NcMIx5MVrgLVZtK/Qcu/Vobff+p5bqg5NlWHnZ8y3ip0bXSGDqa4lhQLPnCGsltrDAA9TP5pB+ItAGGO/Cie3enWn7/bJhKJLjEc5xDPhNB6ZB9F0RoqQInI/6kGgBASXBUFkJ3IW8evRZW+jr7Z2DrbZUIrwbxkD5Zpo4DVUNUk3r5v3+YLbcD0I9IHXG430/51qd3aVPXZWp7bXjfzzfON9jo5AgT8odsNF5P0RWkHzv6qoooqaGMlBnLKaIJFpc+PbRzuctCZDAc/g9Axlg20oXWnZaqeRamp7Whhq8kJEIaexZYgmfMKugZkozNnfv3PTUix/eOXD0sCHEKz8Eau0k3mn14bzIxC6EkD11Y2QDZaOu2uB87Xj/xeddifXdnWabNKEY9RjmwRXoCWiA4bpCYqvFBZMkPKNpJMYiSCXPY5v7XzxpM7XyYf/15v++STzevAjTmHWas0U/ClLP6+71+qOYcXU9iM2Qj4Og7m3tr3189eVTSb8/+dvzSdfwYADLzUAr423KAVRLggbkVBIfQG9o+SUsGD2kvvtusbV5sPLZudYvjjYX5a4V+/l153N4eZbIZKFWnauHcWwlPoTcBb7KiQHEzQX3+HBn5su22IcnbySvtIyxAR41RInMfqNUKJnR9UzX8xxVEMlFGD9vb7U3jz/e+82DZSvbu08arJDz9XpWb3JRPTb3PBQsPuqNTT/n1dh3VZ1vY0DttZmZ6d8+l/aH93/vrArPW01eWm5JGklkSnTggIjlwZ0mbKD7TjeZzF3SCtVdPtjs7G5/3uCfmt7e7yyvtlh/dXW1xZE/i7TgpeRHMYVHgZ2cHfyfvet9bVu9wjG6YPzBbPpoaDNKL4xxkSesgBo0bRIIBIUW2SCH2BK2mIQkF1TLRro2gzZxfJeFQlrkWLUUpUlstU2uxWrF2/+3V2m/3Da/y+guy0lCPknWOXp0znteP89Rfv896DVf7YHl8XtcsozP9KvZsmrVVx4s7W7v49srjw5A/zyp/vDHH9DoCJiLHDrj3T2QYNzlJYk0zS/ZfuksrFtUngB9hYPjBWT7nfvzq5cPY88DD39tCbQG4PE+zpssIXW/5JYkVNz7v3v+9G8/1imzXayWHv3lX39/Cwra9sGbvcM3r93CJPKQ3ffJtxXv91bbvK3ryi+/2k3BnG60m1az3TZNo7n+55cvD8FDXUAOQFrYdQa13XwyzO3NH05HoVjcl9yWntE0iZWVqilJZqu0uj/ef/iP1mQCkLc9GRT2x/jhwYODw9ctC9iZRDdNVsmitD0u1Lv1uknlpWpXCkELNgkQzJniS0vLUoGyaNqAzyS4QTl48d49Tpa5ovr8u6dPDl8fbR+xALFHyaIKtNruDlggvVpdKbV1ucydwU/JKbIs66JO22WZF5+V3h1uHyabuK+3j6IBSMS7P4O+ePegLjXbeu4MclRFtJP4tS1DtdrrAE8t1iEkaWlpO/RHeNDYBSvtl4+qJmMwZ+ufM+W+0O2alq3btm0YBolRoXtcOB6Pp0PPwfOUyTC0oPLnk7qz2WwuxRt2efHe9+s//vQ+2ZI4OgArb5AQD3d2VkorpWazzWmQcjbbD0plFEXsKSnQIso23cL3QVNwsLtz5IQhvvKnvZ39atOyDdVWzmYZgnJg2yovVkCI9XazS1KSRI0J3EWwArK8A4rhA3BrBZU7j2DEG4Zu8+DTKyK31lMFoUNMXGJMUAhJWgZJqxxfVlIXspwTMCpQJgst3vntXx+BRQ1IB6AE7u/ulp5Y622ZU8QLNaDJjNCEBZcSZd7uUvhyC/TDYwCFlmo0VyzblmFOzJ5HcMspUBbkFkhJZWCARZkmGZokI6nbatVLpbrUBXe3L5//AmK4L2c+1dcUtACLolZe2xAshqYF3ebE8mVc8V9cDHTv+ZPVR4/3Xr4BK6THpXqb00UNSkFXVIEq8AKkMla33axLlNXsgrQhi3AWylxROHH68sRK32AYY4M2jHZyPM/z8MWShS+JRyA52aDsyddXK6Symvps/UlptdpqldZl25CvLWDVOMOwDdoyZFHnMjcR3KQrZeC5qnK6Dn2U7dzgJLnKzYTL6VSFK3Oq0NZVW4S1MnyDU4ii2Nd1g4MUeOGGlhNt1b6AWfnftBScy2U1Dsop8M1lKmmI57Wv0vloPLzwjS39TQ+/tVu7tVu7tVu7tVu7tV+lpb/6zfO/cvc/Sef/T0PwUQJ/3TfP/++5AZ3yADRFg653I79++sQ3djytKBmOg+UXXGWTYRg12ZlIXwv/yeCHO3fuf5w+ccMhGt/o6UlpSm+tU1xDiiSJsFskRpC0wNCfy+0u3AjQyvzd58++e7r5+7t3K5oCZ6+ZClJaLqvw/T6XkMFuhqAbBT2rifCCyJAoShANrINhaNghi7SDemGjuKbBl540p1VSqd7a2kaR2GKpbg1hNskNRtB1rnKdiqDIKgg5GqMYS4OTcb3Na22MZMuVMre1sdUrpxagila5+p6SJqtbPEOgaPEY3HUBDeZThqQZxGfsuEMyKp9KXZTT0llRF3ociYQxQrEYi7hoo0YgFAmeIgG+WkUoy5WFCiMAzBFIxxsGIQJ+PIyVr4YDDYbLiz2BETbQ2JvHm70ttoOs9SpXjBzfN0iqEccYdewUaTKaDl/QRZLuNkxBIByXYPjzdyeTCRqiapAEFgcROSbIVtXzPLQqmZgTg/DJp8ngskvgaXpjs4OwBYHxnOksGAb+yIu8yOlcZW8uzXU6L16YTLHYieN5cBLEcTA/6XQ6a1fa1k2VeyrzDq+xDdd1RtNjZ+oPaQx1iFaNZRMpO0Ey/GllO7PuZTVOFWjC8fxhRCFOUcqPfL+6XG1JQa0Zd2idv7QiZESaokkKixvFYjTzsEIhdmb+cOh7jcnm5Xkkt9nxRjFKFGPP809ObfBhMPDRDlO+gvsKpwMAjCVTMmnX833PYdGZH0ZuvlZj4xO0SDMvUJI/c6gQSPswrxsMSRBRMPLzbuh54G8YVzEEeVCr1k0CAfjJXRKBMk2REggAypII6kfRcWEaxqjvk0i3S3OX1tNNdB4A1Hlz4Pjgw4fBcHj6b+6hG/1LsQflRF03LPoxT6YAABUDSURBVOld3SIZgXKGQTD1vGAWjJxwjjYavocRBOEVyO8XvxDQJ3W/YhtG1zJdJ5wFmHPsBYH3Lg/wO5ngj/MIi0bIhLAuiQDUo6k84bqFApbPm8TUzROzUXWl6hQI07IY7bII9FE0cR64PfgwTFwHv4PBcD73Y0S+ZNWegUXbbreXl35awSmSJiKAPHDsLJhNh4PhKI5jFC1EThhK63cWc58PNEpnckK7a1JVyolGs1mjgE1ns1HkeLMgGudr1dp8jkiS2RHuXxABSOkzJoV4YTRBPfTYcUajaDoN0dqyF7h5vGuo5YsDIBJFkgDoD04Stz8FAOBgHgde3MletGrJaX1bNdrV1f1/v12aOCRZ8KezDwN/MDzF0gzz/Jhl8UI0qUmt9p3PBfTpDCRbbQlfrhYiNI4bbOT7Qx8d+cPR1HUwdpkFCZnApYBYu3cGfD4arILSJ5DYNIycIMBC30OGs9AbjVxs6iOFKtFl+hdPotlEEAJDMTSe+8l1gwtPbDA4mQ/8k3hNPHcoNszpKtW1rDqy/fjhP98+jApuOPP8D41a7A+SMAYRwPKIXcbxcQ3FW7+5+xkEtIpMN5ut8eO8MwoxBAcgCAZYfszWHgTT2QCpsQ6GTrBJ+B8+zu+1bSyL44R5CPPQhz7mZaDswrYM9yKuBLKwzcoQEFOoqAuJae3imH3I4IdOk6U7aR9mu2mHEgaU+MqSdeXr2JbuOtEPiGT1D9wjT2ebXbs19ouNhe/3nPM9n2OuLu3tffelU7medxr1RqPpUhLJ3JMSxy+PgsGJUKkg7a4a6Y3DrwL5zru8j6Qmyhl4/9Jxyi2ypQdCOZR2kJ+83dsowdad05c//azi4+MWCuL7g0Hc7RHBPc/rxkqbwxUcTsQNp5KBFbXya9H76X9vH9/aazY7r162TKViuUZFW8hF4qUeRN5smbnvFFKRiy5RsaBSbz19/mCfwxcdXa82q5RSXWYs8TPhcYJFCjyBVFNr6693v1YD37wDk0KlAxa8yAtQwF7yUoAyC5ylX/iSsWmDwPa3+68O/vaDqdV+qKmV+MGDwXAaIip8d3F9NZl0Mztjnus6fhR6RhurlUB9+c97txexh/Rm49WBOddqpnpeUzApd3wKnkEt4HaSuBFkhFAVFWPNODq8t7PpSLS7Z51DPWoeya6LmlWUQ+aUMcy4CINKTUWaUSWvj75yHNbWHpGRLOfQvuBRcPg25/7vRnBjl+tfnjTPNuwv2Lrz+ODNX88rlYcPB3E8+vf5Vfy0bQiPiYjOxkODZ1JgHLc8PwxYv4uBSuTq32/XwNZZHSLX66lBpFWUWqWlqTSVAyo8AfDQ9yGXIpalqqYquPWb8eJPdze4wNb7+ouGruu9Xq/dxqkseWAjEmE+eKmstbDZJshFWD/7opU9bqIqoiynKwAAD4IE8P1PTmAvHXgjb6Ld5xsm3n+8rIyGce3jw+9r55OL4bT1SHmqTq1As9TQhUpIF6AJDhYuTyTDYZi4R3+5JcDd3Qa0Bxcv3KRtzn79GJsRtIIoCq/NMfE85svM82lEJEXRzK7x6s/frdfANx+auy/qjaPXB6ZSiwNJyqEBcCYotN8sTbvdblsWIgGoPv0SQUKGEFSFL0INOCsNlqDAZycEmpIAiPY2WOCLI2108eD8YnB/eHkRXy5qg48XNTO6jl0voSz1BKwuUK+vmW0XqceI0u79cvezAD/u1kXqIU1RqayVN0FhaGCcAUkuLDOkfYJzzzD8lJT73yRU/de9NQF2zuR+p9OICNKIZs6sIE1Y4nkcajnnNk+gB8u55yWi2/jCoXg7zWYTSQgRJuX+0ud8uVz54Kf1rxTgft7cQIRbew09UGrnca0WK8o4ni9Airg2mg3jtDyGClDI54KGwcIvj/PBCKG+1LklwE69LjMno6aJCa5MYrNM3CTxc6xNu0KERO0zpcuEqmm5QyF99tcE2ENSf7ceRaQLRqHO5gDi0IaghrzSDJ0MijrJAa08pG9G2u23TIYKyJtSYcgcyr0oMwCeKxz8IwWWxUlnfSrafo9c0jt48qj19FHrSUUJAm2MtdnkYqQo0/F8niZpyEVAaZRm3FDxtZaCTT+789+O8uNJw/UYDWLQb6ZMg9XxXWHaH05nOZBUlsgoJ1rCsdL2uNzT64/XBPhQEla16vmyS2OIQxCWK2fVHuKZz+Eajp+UE0Ei7W6ebHd+43LezE8g9xrALP7KBYoiX8HcpzQAHgAk3t8gHqrq5fa8R08Oeu0nVuSHriDXk/MYG3g2jVwUwWBApsEilPB41AJjQNLRLQGeS/UqhHn6sIaD+XwB9Me6mhu6WsXitp0lXLhSgrGHVEOjlNT7p/9vgtvvZJH1G1XGHRqNYqUcwhxoA6FezWwastRNIJsz2+fM2JwB+7wAAmK5lDcboCOEHvpezm8NRPZKgDw/3cDfelQ/CtS50npzTFtDw/FEYs3PB5cmd+fWeDjTAOzJPJ7UHlqz0fk4CFTj3bPPJfBYB/sOU7NmumEYudRH8WSmRFN4lSuxbSheLqsiTRHGqqC0s0ZCH7ykcBKwTkaRUlHDFPqfA+5HQucGXFjGEAKAGgdw/HSjB7xdSjB+omreb9SlkgPhyQtwArsUYwUDZQmAp6wL8KHTcI961LxsPWodU+1qxJnqLiq18bBre1owmygQ1WQaDwb378ezcay4Qa/+9rMHbL9vNmXdlQ1LjcAFLeK0J7E1DabzShCESUlhmQjTcr+fJ3BAU2l3rQns55LnZHlbcwkKgzSDn8uyHC/CEsO5GywCEsF1ODrJOxt3PZ3ZeRXmB5lJu/W84KsaKGEIRuHVaFTOBuCJyyVa7wKnh7r+SqfdmarM1cCyrgxJmc4vDTLUsiykeBZYs2k4iz8OBg8GUOaWhnvvzm61wf1G9QQhg0lYXWgQdqd/FY+HljIdWpalCZFC8S4wdqNAk40qDFrrRv6sSliWnRz3XIIp5NANo2lKI1XcQPu2ReB5apTdZAjSvLMRBE59qS754NayYaxIqCQ/VAAE8+XvIzHzVt2xv/bH5vZhkyA9Em6gqrJQRtdKYMyHw1mqXhq+pwovjaKhRea1y6vJg+/vx5Xp+OnB2enOt7c5oK4TGcCHhFhZQLM0utgaYSrPVijhZ04CoQ0CpdUVIIC+/vfyngym5x+1YPqH6ZvZzDQBoNAihEKwbQ6DYRiJ1EUSR5vn+nv+kjMOfZ/lxSriDqiRlwng3JTN0OYSKj9w8jUPeXZ4Uq+/1ttR4IZJqlUIvbbMdm1O1UtNlDehuO5iPJ+NJpDXl3E8m14rb35+u3drFnjeQHUdq9jEAniXOjcU1oHjiuz1QwDblAHRENWstOOaprtRvb8OY3fOZAoyYQz0H6aJ3Y5NqBU0nYrVUJtR15UwIb2+F24GoS1YrLOUCok5n9o+K1gBQvyHsDP4bRu5wniKAg1yCNqipx7aY9HLEIMZAhRBE6AAAbyxYYDESOhAFpBFslrUqIwmlW5GtICRBuBuKJGaoSeiLQ60poaASfMf7KObQ1xL7s0+0DIf533f73tDUtD/kIaBI6Y2bdrRwB0bfP6m17Mno4Ctksidn+lSFUXJhbnSF+dJlIRJkhfe8vxc1y4LM7tM8vWLp/84+UYDH5xaJcspWQPoSeVq6kppLCGbZUdUzL3I1gDFCb1Ynm02nQR80Pa33HB6aokGODZlnIZJdeUulnpBQp0gydslQBNConIwGkp7x2z+BAowttoQ+LUAYIPt4odfY973/akNKREqxO8U4FffW1buvxtxstLnZiFVmoDv8Dqj4VqqfF0mZbLWQyMJ4eSDhWmEncPJ6Tcd0BagLNk600OdCTl3Z6JPVwYgAYNIMA9X6yIP54tFx/M8XKnat7fI2ClpR3BprLgGKgrd3tezsnYJKXLwRhVRLTSCyQjT3o44+BYEbzxtvs5B2jMHGfwvCcZ14FLsAiOlQ3y3Bf74xopkPRlWarXsoDyXKeCvQWKXGKEJMWadRST0cBldhEm0OM+0IDi2nzz+Jlh/8AXKa+PSXGXALx29Yuch0OxFRla5lLS41JJQ2ywXgacPZB75vS0X8TUSMW6VlCMDjINEVT+jAhoikUxVgGIQJI8HQ2yd7pqG43jW1KA/N5cdvK8dhMU36+F6OHAs6tO64ajhdwrwtudTMKk4HoaZHiVFns5ktMqUG2aLPa0tfkkikeYlCLQGnGvog1H31ju+P3Rx10pogkJQEaGDCgeo44J8ZBTKyUlohKtkrrumZhgrROzpFh0/gY+NiGMQMaNyxjMiWAbdKOFzJWNRqOve/iHCdOdk72U9A+0H+wStn13XwM2QiNPrmw6AmOSPpxggguJPd0jylZ1YKyeqqiA09GJVJNWMA8Oz4GfN3XQA43h+SaRA4TpbdOZfTCMIRr3n305W2jvbR4RzwwQeLqKUCw3Yha7XGiQ6LlDn3IwKFMkyOHbAA8i2i/iBAPJaSUJF7BqV0ExtbYSwHoH9gClBATtL7xgzXn/cVYBxytspWOrDUoj5kArxdS6UMqgbRKWaIrSlAx48t1HXgiVy7YXzMFsXUczMpSvK3Fx4m89hRPL8UlMVCvWwszzrZObTw8nBrRc6PrMJGjgslcw1Erh8uZI8jrJ1RxO0Etd9k4nI4KqsvWNgxrW9DWZ/dGtc5TRCimYGj9e6hqAPVwTwKDEoS5nLXQdLtLMFXo7r6wYQMPXrqxlmAFYYwyqIQVkomvrusBlaFNcnd030mW0f+N0JwouLziZba0SQ845STJYemP6CJoqtypiboMurUL/U96EAR7cmU896SQIgE6dk4VExU0lRlso9v5wvKIYgV5dVRda5DPQwcEa+5TzZlubHaoo5xwJ0swL+4qnMdSSLtOKmC2hAlJIDtyzxri3CX/s1ZB/RXGM2a6B6FOEWfNq+R7btjjG2IMaebDn8lPrTanJI+r+c/bwhCZxIJeH/gDza/zd3NZ1dXaUx17ILIOL2SX2ITJP3t549efveB7FTcQOqCeRyFUtDxfVc7+x5bgl/R6apMNaat39MxhO/62ybar084IgyUflOmQL9NU1Fcr3DSBsB4ytpIFkSBzOFd27wfKwpBu+PG3x9HRAKescgiuEmbkekgNAY1fXJFv95/JFEXEwODW/z02ezXAORCi0XQ1coNWsf3a0gSHDv4myzXJoFMff2nk6O/nxrqPfwuW3D8ioRNMkgklcp+Jiq+P6+bmYrN5VwEqxYEWIGyO763e7W505e+RaGtrVHsgLfByCggE4c8HKWVlciJ4PBAKIEJq92TsTaaw7eB9ofNzNekwaDKQJEtFJQ+7zmDX659YO7tsrf/RD0vc9fPI3IIiGBxfoB/BgrpWKAycrIzjtf5psl4ID54l9Hr2+/KP4hsDAe7SfEWGzMgUhtPIMsi70hJoYBdhTHpVYYx2PVOMBcve2n8OikdzDNISxbkATVDJS07rs3BQBlF5yW4OQoKqc7N7ofnXTHNU/rdhQ4S0H3IAy0I/1rTnlE2yo0H7dR9JNetyv48Aeu0N5c5wLCuyEHxUgbJIIXYGuMp1F2efHLmbe38c7N7G9/+cP/jLQeftdFoh2KZxs9wLO05DLPcStAirEZqDsGdAgOj1E57vWmu8a6r8nBke1bNhGxqKHyLJ1V4CEgCJVyUDTu+V1YZPd8R8Lzg55V17Tdy2mn4PFMNDdMJKASNUJ182krRL4+6PXGXI7UTG1opKq4wlaZ5CPrHUNVpME5QA3W4cVCD5ee7iHjn79rh5q3VkB7Q8XohWt2NuDjooTr5ZSliKHwMq1SlZOR5owmIwe5py93vVX6wauj3nTc7TrAMiCAgoGZNRJICBQQdXuWBYkLTU/veTk9LAEf03Yj4IaBb2Zg7XZAjYc+sdCnD9ufHnr8Y/t8Grig6u+tVu04AxpfTXvWWIqruFJgxSpfGWfeRRju/9THwd9/+6ff357rP4Ta+6xOhxtoG0D3lDkaQzwWvgMEpVgRIVJYyHG6p/d8PwZkEptObfCuWVzBwZWqIovKkjNkjbsOdGrvyf03enzo+WNUi68J+GYnBIyxwdOpjca7j/3uxO2971rpytxfFcaKJHBwJaU7Lm96b3DzMH9oAs9s/topzKe/uTPVfvjoydG7EZXaMjAcS0LVmAAPgVAro6hiLHFY7Vg2rOH7vnvz8es3vfH0CEoJAsJVPfZTVkpiUSarBtTTtv/fDv+zA59OpyCEHAk4cZA9QIF01gBiT+879tGz6feQBw4Do4w0y0oEeOB/2ruC1zahMB7nIXgQJoXBgyVs0OsrEgfZeAjvwQNvQw9xYA2pzKLxkG6DFgOjSCwEyc2BNKWnpewSD3X7B/el7cagXdLLYOv8nbwofu/p+34f3+/jBwvuxp8uO8VibC3z4tXrcrmEErXb3TvYat3qbgri8Oi9hwcv3+x6ZNXKWGiDweDybJ4TqkL6AnIZMa6T9Sor5MP+MQK5cD4nqcvU87KErc9hSZcFtfSNIjXRTzIDYtYqAxvfKlWLVx0muMBxf72sxBkOD6N47HUuciMqgXapbHQYpFAVUUrzxSLvdoGSd7tv994db7Vut/YEKfS5R3c8eEIJNW1ldcbjClisxXmn+EzL5dd5ZOhub30IYi9LuR5pWMNuMmKQyoGiYFU9r7SsbZqbhU5NUcwsHpM4mZqzSI2AAapxajq9TQIhAdmBi4GmF9jA2iImbhC4MXDBC+ZGUIkvjA8LvPPi47PHj7bvslxqSrIy5ASWi1BtrlqQ7VgM3+885imnhVWeaqTX982N7qWibQacjVw4r2Q7yyw6m82iapYk955+FPdRaK/iRaiXTcXQUe6nDUJHLmMs1RlfSaL4yE2xVsDfT7UzOH475Iu36+0dPNlutdFdzW1BkpHJic4YieF23cxUrKlkp8CnBiWnFdEn95X6ySES0U+xoSxLyFakP287K8g97gIjOBmuZrgD3sF5juH0hXSmU65TfXw4Pn7aaiu/EXqthLHO1LcngZ9M/H7DSRKmZdOUJgn8zhPTRI2/HE2hZ7knJlIcSUKKCe/PuRVZNMLcDY6G/ectp30l+71b6Na88eWTFeHHboWTsLFvi6KjIKnxL0Byfq2UBMfeV/oBT6Z9JxSvPdPWDjDfGOs9MG28fF31NW9s8zbo3q+m3h8qHnRwNWrUqFGjRo0aNWr8Z/gOfU5Wu24n41QAAAAASUVORK5CYII=",Mf=function(e){Fe(n,e);var t=Ge(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Me(this,n),(i=t.call(this,r)).mesh=e,i.color=r.color||"#17b2ff",i.distortion=r.distortion||3.7,i.speed=r.speed||1,i.size=r.size||1,i.water=new bf(i.mesh.geometry,{textureWidth:512,textureHeight:512,waterNormals:(new rc).load(Bf,(function(e){e.wrapS=e.wrapT=qe})),alpha:1,sunDirection:new cp(0,1,0),sunColor:16777215,waterColor:i.color,distortionScale:i.distortion,size:i.size}),i.mesh.material0||(i.mesh.material0=i.mesh.material),i.material=i.mesh.material=i.water.material,i}return Te(n,[{key:"setSpeed",value:function(e){this.speed=e,this.material.uniforms.baseSpeed.value=e}},{key:"setDistortion",value:function(e){this.distortion=e,this.material.uniforms.noiseScale.value=e}},{key:"setColor",value:function(e){this.material.uniforms.waterColor.value=new Qi(e)}},{key:"setSize",value:function(e){this.material.uniforms.size.value=e}},{key:"clear",value:function(){this.mesh.material=this.mesh.material0,this.paused=!0,AMRT.render()}},{key:"update",value:function(e){this.paused||(this.water.material.uniforms.time.value+=1/60*this.speed)}},{key:"onBeforeRender",value:function(e,t,n,i){this.water.material.uniforms.sunDirection.value=n.position.clone().normalize(),this.water.onBeforeRender(e,t,n)}},{key:"dispose",value:function(){this.material.dispose()}}]),n}(wf),Ef=function e(t,n){Fr.call(this,t),this.type="Reflector";var i=this,r=void 0!==(n=n||{}).color?new Qi(n.color):new Qi(8355711),A=n.textureWidth||512,a=n.textureHeight||512,o=n.clipBias||0,s=n.shader||e.ReflectorShader,l=void 0!==n.recursion?n.recursion:0,c=new wi,u=new rn,h=new rn,d=new rn,g=new Tn,p=new rn(0,0,-1),f=new vn,m=new rn,v=new rn,C=new vn,y=new Tn,I=new Xr,w=new Cn(A,a,{minFilter:rt,magFilter:rt,format:dt,stencilBuffer:!1});qt.isPowerOfTwo(A)&&qt.isPowerOfTwo(a)||(w.texture.generateMipmaps=!1);var b=new Wr({uniforms:kr.clone(s.uniforms),fragmentShader:s.fragmentShader,vertexShader:s.vertexShader});b.uniforms.tDiffuse.value=w.texture,b.uniforms.color.value=r,b.uniforms.textureMatrix.value=y,this.material=b,this.onBeforeRender=function(e,t,n){if("recursion"in n.userData){if(n.userData.recursion===l)return;n.userData.recursion++}if(h.setFromMatrixPosition(i.matrixWorld),d.setFromMatrixPosition(n.matrixWorld),g.extractRotation(i.matrixWorld),u.set(0,0,1),u.applyMatrix4(g),m.subVectors(h,d),!(m.dot(u)>0)){m.reflect(u).negate(),m.add(h),g.extractRotation(n.matrixWorld),p.set(0,0,-1),p.applyMatrix4(g),p.add(d),v.subVectors(h,p),v.reflect(u).negate(),v.add(h),I.position.copy(m),I.up.set(0,1,0),I.up.applyMatrix4(g),I.up.reflect(u),I.lookAt(v),I.far=n.far,I.updateMatrixWorld(),I.projectionMatrix.copy(n.projectionMatrix),I.userData.recursion=0,y.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),y.multiply(I.projectionMatrix),y.multiply(I.matrixWorldInverse),y.multiply(i.matrixWorld),c.setFromNormalAndCoplanarPoint(u,h),c.applyMatrix4(I.matrixWorldInverse),f.set(c.normal.x,c.normal.y,c.normal.z,c.constant);var r=I.projectionMatrix;C.x=(Math.sign(f.x)+r.elements[8])/r.elements[0],C.y=(Math.sign(f.y)+r.elements[9])/r.elements[5],C.z=-1,C.w=(1+r.elements[10])/r.elements[14],f.multiplyScalar(2/f.dot(C)),r.elements[2]=f.x,r.elements[6]=f.y,r.elements[10]=f.z+1-o,r.elements[14]=f.w,i.visible=!1;var A=e.getRenderTarget(),a=e.vr.enabled,s=e.shadowMap.autoUpdate;e.vr.enabled=!1,e.shadowMap.autoUpdate=!1,e.setRenderTarget(w),e.clear(),e.render(t,I),e.vr.enabled=a,e.shadowMap.autoUpdate=s,e.setRenderTarget(A);var b=n.viewport;void 0!==b&&e.state.viewport(b),i.visible=!0}},this.getRenderTarget=function(){return w}};(Ef.prototype=Object.create(Fr.prototype)).constructor=Ef,Ef.ReflectorShader={uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:["uniform mat4 textureMatrix;","varying vec4 vUv;","void main() {","\tvUv = textureMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform vec3 color;","uniform sampler2D tDiffuse;","varying vec4 vUv;","float blendOverlay( float base, float blend ) {","\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );","}","vec3 blendOverlay( vec3 base, vec3 blend ) {","\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );","}","void main() {","\tvec4 base = texture2DProj( tDiffuse, vUv );","\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );","}"].join("\n")};var Tf=function(e){Fe(n,e);var t=Ge(n);function n(e,i){var r;return Me(this,n),(r=t.call(this,i)).mesh=e,r.mirror=new Ef(r.mesh.geometry,{clipBias:.003,textureWidth:1024*x,textureHeight:1024*x,color:"#777777",recursion:1}),r.mesh.material0||(r.mesh.material0=r.mesh.material),r.mirror.position.copy(e.position),r.mirror.rotation.copy(e.rotation),r.mirror.scale.copy(e.scale),r.mirror.updateMatrixWorld(!0),r.mesh.material=r.mirror.material,r}return Te(n,[{key:"clear",value:function(){this.mesh.material=this.mesh.material0,this.paused=!0,AMRT.render()}},{key:"update",value:function(e){}},{key:"onBeforeRender",value:function(e,t,n,i){this.mirror.onBeforeRender(e,t,n)}},{key:"dispose",value:function(){this.material.dispose()}}]),n}(wf),Sf=function(){function e(t,n){Me(this,e),this.times=t||[],this.values=n||[]}return Te(e,[{key:"lerp",value:function(e){for(var t=0,n=this.times.length;t<n&&e>this.times[t];)t++;if(0==t)return this.values[0];if(t==n)return this.values[n-1];var i=(e-this.times[t-1])/(this.times[t]-this.times[t-1]);return this.values[0]instanceof rn?this.values[t-1].clone().lerp(this.values[t],i):this.values[t-1]+i*(this.values[t]-this.values[t-1])}}]),e}(),Ff=["attribute vec3  customColor;","attribute float customOpacity;","attribute float customSize;","attribute float customAngle;","attribute float customVisible;","varying vec4  vColor;","varying float vAngle;","void main()","{","if ( customVisible > 0.5 )","vColor = vec4( customColor, customOpacity );","else","vColor = vec4(0.0, 0.0, 0.0, 0.0);","vAngle = customAngle;","vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","gl_PointSize = customSize * ( 300.0 / length( mvPosition.xyz ) );","gl_Position = projectionMatrix * mvPosition;","}"].join("\n"),Uf=["uniform sampler2D textured;","varying vec4 vColor;","varying float vAngle;","void main()","{","gl_FragColor = vColor;","float c = cos(vAngle);","float s = sin(vAngle);","vec2 rotatedUV = vec2(c * (gl_PointCoord.x - 0.5) + s * (gl_PointCoord.y - 0.5) + 0.5,","c * (gl_PointCoord.y - 0.5) - s * (gl_PointCoord.x - 0.5) + 0.5);","vec4 rotatedTexture = texture2D( textured,  rotatedUV );","gl_FragColor = gl_FragColor * rotatedTexture;","}"].join("\n"),Rf=function(e){Fe(n,e);var t=Ge(n);function n(e){var i;return Me(this,n),(i=t.call(this,e)).isParticle=!0,i.type=n.OBJ_TYPE.POINTS,i.positionStyle=n.SHAPE_TYPE.CUBE,i.positionBase=new rn,i.positionSpread=new rn,i.positionRadius=0,i.velocityStyle=n.SHAPE_TYPE.CUBE,i.velocityBase=new rn,i.velocitySpread=new rn,i.speedBase=0,i.speedSpread=0,i.accelerationBase=new rn,i.accelerationSpread=new rn,i.angleBase=0,i.angleSpread=0,i.angleVelocityBase=0,i.angleVelocitySpread=0,i.angleAccelerationBase=0,i.angleAccelerationSpread=0,i.sizeBase=0,i.sizeSpread=0,i.sizeTween=new Sf,i.colorBase=new rn(1,1,1),i.colorSpread=new rn(0,0,0),i.colorTween=new Sf,i.opacityBase=1,i.opacitySpread=0,i.opacityTween=new Sf,i.blendStyle=1,i.particleArray=[],i.particlesPerSecond=100,i.particleDeathAge=1,i.emitterAge=0,i.emitterAlive=!0,i.emitterDeathAge=60,i.particleCount=i.particlesPerSecond*Math.min(i.particleDeathAge,i.emitterDeathAge),i.particleVertexShader=Ff,i.particleFragmentShader=Uf,i.clock=new uu,i}return Te(n,[{key:"setValues",value:function(e){if(void 0!==e){for(var t in e.positionBase=this.options.position||e.positionBase,Array.isArray(e.positionBase)&&(e.positionBase=(new rn).fromArray(e.positionBase)),e.positionSpread=this.options.range||e.positionSpread,Array.isArray(e.positionSpread)&&(e.positionSpread=(new rn).fromArray(e.positionSpread)),e.velocityBase=this.options.direction||e.velocityBase,Array.isArray(e.velocityBase)&&(e.velocityBase=(new rn).fromArray(e.velocityBase)),void 0!==this.options.density&&(e.particlesPerSecond=this.options.density),this.sizeTween=new Sf,this.colorTween=new Sf,this.opacityTween=new Sf,e)this[t]=e[t];this.particleArray=[],this.emitterAge=0,this.emitterAlive=!0,this.particleCount=this.particlesPerSecond*Math.min(this.particleDeathAge,this.emitterDeathAge),this.particleGeometry=new ur,this.particleGeometry.setAttribute("customVisible",new Xi(new Float32Array(1*this.particleCount),1)),this.particleGeometry.setAttribute("customAngle",new Xi(new Float32Array(1*this.particleCount),1)),this.particleGeometry.setAttribute("customSize",new Xi(new Float32Array(1*this.particleCount),1)),this.particleGeometry.setAttribute("customColor",new Xi(new Float32Array(3*this.particleCount),3)),this.particleGeometry.setAttribute("customOpacity",new Xi(new Float32Array(1*this.particleCount),1)),this.particleGeometry.setAttribute("position",new Xi(new Float32Array(3*this.particleCount),3)),this.particleMaterial=new Wr({uniforms:{textured:{type:"t",value:this.particleTexture}},vertexShader:Ff,fragmentShader:Uf,transparent:!0,blending:1,depthWrite:!1}),this.particleMesh=new ns,this.particleMesh.renderOrder=-1,this.initialize()}}},{key:"randomValue",value:function(e,t){return e+t*(Math.random()-.5)}},{key:"randomVector3",value:function(e,t){var n=new rn(Math.random()-.5,Math.random()-.5,Math.random()-.5);return(new rn).addVectors(e,(new rn).multiplyVectors(t,n))}},{key:"createParticle",value:function(){var e=new Lf;if(e.sizeTween=this.sizeTween,e.colorTween=this.colorTween,e.opacityTween=this.opacityTween,this.positionStyle==n.SHAPE_TYPE.CUBE&&(e.position=this.randomVector3(this.positionBase,this.positionSpread)),this.positionStyle==n.SHAPE_TYPE.SPHERE){var t=2*Math.random()-1,i=6.2832*Math.random(),r=Math.sqrt(1-t*t),A=new rn(r*Math.cos(i),r*Math.sin(i),t);e.position=(new rn).addVectors(this.positionBase,A.multiplyScalar(this.positionRadius))}if(this.velocityStyle==n.SHAPE_TYPE.CUBE&&(e.velocity=this.randomVector3(this.velocityBase,this.velocitySpread)),this.velocityStyle==n.SHAPE_TYPE.SPHERE){var a=(new rn).subVectors(e.position,this.positionBase),o=this.randomValue(this.speedBase,this.speedSpread);e.velocity=a.normalize().multiplyScalar(o)}e.acceleration=this.randomVector3(this.accelerationBase,this.accelerationSpread),e.angle=this.randomValue(this.angleBase,this.angleSpread),e.angleVelocity=this.randomValue(this.angleVelocityBase,this.angleVelocitySpread),e.angleAcceleration=this.randomValue(this.angleAccelerationBase,this.angleAccelerationSpread),e.size=this.randomValue(this.sizeBase,this.sizeSpread);var s=this.randomVector3(this.colorBase,this.colorSpread);return e.color=(new Qi).setHSL(s.x,s.y,s.z),e.opacity=this.randomValue(this.opacityBase,this.opacitySpread),e.age=0,e.alive=0,e}},{key:"initialize",value:function(){for(var e=0;e<this.particleCount;e++){this.particleArray[e]=this.createParticle();var t=this.particleArray[e];if(this.type==n.OBJ_TYPE.SPRITE){var i=new Bo(new co({map:this.particleTexture,transparent:!0}));i.visible=Boolean(t.alive),i.material.opacity=t.opacity,i.position.copy(t.position),i.material.rotation=t.angle,i.scale.set(t.size,t.size),i.renderOrder=5001,this.add(i)}else this.particleGeometry.attributes.customVisible.setX(e,this.particleArray[e].alive),this.particleGeometry.attributes.customColor.setXYZ(e,this.particleArray[e].color.r,this.particleArray[e].color.g,this.particleArray[e].color.b),this.particleGeometry.attributes.customOpacity.setX(e,this.particleArray[e].opacity),this.particleGeometry.attributes.customSize.setX(e,this.particleArray[e].size),this.particleGeometry.attributes.customAngle.setX(e,this.particleArray[e].angle),this.particleGeometry.attributes.position.setXYZ(e,this.particleArray[e].position.x,this.particleArray[e].position.y,this.particleArray[e].position.z)}this.type==n.OBJ_TYPE.POINTS&&(this.particleMaterial.blending=this.blendStyle,this.particleMesh=new ns(this.particleGeometry,this.particleMaterial),this.add(this.particleMesh),this.particleMesh.renderOrder=-100)}},{key:"update",value:function(){var e=this.clock.getDelta()/2,t=[];e=e>.1?.1:e;for(var i=0;i<this.particleCount;i++)if(this.particleArray[i].alive){this.particleArray[i].update(e),this.particleArray[i].age>this.particleDeathAge&&(this.particleArray[i].alive=0,t.push(i));var r=this.particleArray[i];if(this.type==n.OBJ_TYPE.POINTS)this.particleGeometry.attributes.customVisible.setX(i,this.particleArray[i].alive),this.particleGeometry.attributes.customColor.setXYZ(i,this.particleArray[i].color.r,this.particleArray[i].color.g,this.particleArray[i].color.b),this.particleGeometry.attributes.customOpacity.setX(i,this.particleArray[i].opacity),this.particleGeometry.attributes.customSize.setX(i,this.particleArray[i].size),this.particleGeometry.attributes.customAngle.setX(i,this.particleArray[i].angle),this.particleGeometry.attributes.customVisible.needsUpdate=!0,this.particleGeometry.attributes.customColor.needsUpdate=!0,this.particleGeometry.attributes.customOpacity.needsUpdate=!0,this.particleGeometry.attributes.customSize.needsUpdate=!0,this.particleGeometry.attributes.customAngle.needsUpdate=!0,this.particleGeometry.attributes.position.setXYZ(i,this.particleArray[i].position.x,this.particleArray[i].position.y,this.particleArray[i].position.z),this.particleGeometry.attributes.position.needsUpdate=!0;else if(this.type==n.OBJ_TYPE.SPRITE){var A=this.children[i];A.visible=Boolean(r.alive),A.material.opacity=r.opacity,A.position.copy(r.position),A.material.rotation=r.angle,A.scale.set(r.size,r.size)}}if(this.emitterAlive){if(this.emitterAge<this.particleDeathAge){var a=Math.round(this.particlesPerSecond*(this.emitterAge+0)),o=Math.round(this.particlesPerSecond*(this.emitterAge+e));o>this.particleCount&&(o=this.particleCount);for(var s=a;s<o;s++)this.particleArray[s].alive=1}for(var l=0;l<t.length;l++){var c=t[l];this.particleArray[c]=this.createParticle(),this.particleArray[c].alive=1;var u=this.particleArray[c].position;this.type==this.type==n.OBJ_TYPE.POINTS?(this.particleGeometry.attributes.position.setXYZ(c,u.x,u.y,u.z),this.particleGeometry.attributes.position.needsUpdate=!0):this.children[c].position.copy(u)}this.emitterAge+=e,this.emitterAge>this.emitterDeathAge&&(this.emitterAlive=!1),pn.render()}}},{key:"destroy",value:function(){this.remove(this.particleMesh)}}]),n}(wf);Rf.SHAPE_TYPE=Object.freeze({CUBE:1,SPHERE:2}),Rf.OBJ_TYPE=Object.freeze({POINTS:1,MESH:2,SPRITE:3});var Lf=function(){function e(){Me(this,e),this.position=new rn,this.velocity=new rn,this.acceleration=new rn,this.angle=0,this.angleVelocity=0,this.angleAcceleration=0,this.size=16,this.color=new Qi,this.opacity=1,this.age=0,this.alive=0,this.sizeTween=null,this.colorTween=null,this.opacityTween=null}return Te(e,[{key:"update",value:function(e){if(this.position.add(this.velocity.clone().multiplyScalar(e)),this.velocity.add(this.acceleration.clone().multiplyScalar(e)),this.angle+=.01745329251*this.angleVelocity*e,this.angleVelocity+=.01745329251*this.angleAcceleration*e,this.age+=e,this.sizeTween.times.length>0&&(this.size=this.sizeTween.lerp(this.age)),this.colorTween.times.length>0){var t=this.colorTween.lerp(this.age);this.color=(new Qi).setHSL(t.x,t.y,t.z)}this.opacityTween.times.length>0&&(this.opacity=this.opacityTween.lerp(this.age))}}]),e}(),Hf=function(e){Fe(n,e);var t=Ge(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Me(this,n),(e=t.call(this,i)).type=Rf.OBJ_TYPE.SPRITE,i.speed=i.speed||1;var r={positionStyle:Rf.SHAPE_TYPE.SPHERE,positionBase:new rn(0,10,0),positionRadius:.2,velocityStyle:Rf.SHAPE_TYPE.SPHERE,speedBase:20,speedSpread:5,angleBase:0,angleSpread:360,angleVelocityBase:0,angleVelocitySpread:360,accelerationBase:new rn(0,0,0),particleTexture:(new rc).load(xf),blendStyle:2,sizeTween:new Sf([0,.3,1.3],[5,20,1]),opacityTween:new Sf([.2,.3,.5],[.75,1,0]),colorTween:new Sf([.4,.8,1],[new rn(.02,1,.5),new rn(.05,1,0)]),particlesPerSecond:200,particleDeathAge:.5,emitterDeathAge:.2};return e.texture=r.particleTexture,e.TextureAnimator(void 0,4,4,16,55),r.sizeTween.values.forEach((function(e,t){r.sizeTween.values[t]=e*x})),e.setValues(r),e._clock=new uu,e}return Te(n,[{key:"TextureAnimator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.texture,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;this.tilesHorizontal=t,this.tilesVertical=n,this.numberOfTiles=i,e.wrapS=e.wrapT=qe,e.repeat.set(1/this.tilesHorizontal,1/this.tilesVertical),this.tileDisplayDuration=r,this.currentDisplayTime=0,this.currentTile=0}},{key:"update",value:function(){Pe(Ue(n.prototype),"update",this).call(this),this.updateOffset()}},{key:"updateOffset",value:function(){var e=1200*this._clock.getDelta();for(this.currentDisplayTime+=e;this.currentDisplayTime>this.tileDisplayDuration;){this.currentDisplayTime-=this.tileDisplayDuration,this.currentTile++,this.currentTile==this.numberOfTiles&&(this.currentTile=0);var t=this.currentTile%this.tilesHorizontal/this.tilesHorizontal,n=Math.floor(this.currentTile/this.tilesHorizontal)/this.tilesVertical;this.texture.offset.set(t,n)}}}]),n}(Rf),Gf=function(){function e(t){var n=this;Me(this,e),this.viewer=t,this.ParticleSystemManager=gf,t.controls.addEventListener("change",(function(){n.rain&&n.rain.position.copy(n.viewer.camera.position),n.snow&&n.snow.position.copy(n.viewer.camera.position)}))}return Te(e,[{key:"addRain",value:function(){this.rain||(this.rain=new If(yf.RAIN),this.viewer.root.add(this.rain),this.rain.translateY(100),this.rain.position.copy(this.viewer.camera.position))}},{key:"removeRain",value:function(){this.rain&&this.viewer.root.remove(this.rain)}},{key:"addSnow",value:function(){this.snow||(this.snow=new If(yf.SNOW),this.viewer.root.add(this.snow),this.snow.translateY(100),this.snow.position.copy(this.viewer.camera.position))}},{key:"removeSnow",value:function(){this.snow&&this.viewer.root.remove(this.snow)}},{key:"addFire",value:function(){var e=new If(yf.CANDLE);return this.viewer.root.add(e),e}},{key:"removeFire",value:function(e){this.viewer.root.remove(e)}},{key:"addSmoke",value:function(){var e=new If(yf.FLAME);return this.viewer.root.add(e),e}},{key:"removeSmoke",value:function(e){this.viewer.root.remove(e)}},{key:"addSprayWater",value:function(e,t){var n=new If(yf.WATER_SPRAY);return n.rotateY(qt.degToRad(t)),n.rotateZ(qt.degToRad(e)),this.viewer.root.add(n),n}},{key:"removeSprayWater",value:function(e){this.viewer.root.remove(e)}},{key:"addWaterSurface",value:function(e,t){var n=new Mf(e,t);return this.viewer.add(n),n}},{key:"removeWaterSurface",value:function(e){e.mesh.material=e.mesh.material0,this.viewer.remove(e)}},{key:"addMirror",value:function(e){var t=new Tf(e);return this.viewer.add(t),t}},{key:"removeMirror",value:function(e){this.viewer.remove(e)}},{key:"addExplosion",value:function(){var e=new Hf;return this.viewer.add(e),e}}]),e}(),Pf=function(){function e(t,n,i){var r=this,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50;Me(this,e),this.camera=new Gc(n/-2,n/2,i/2,i/-2,.1,1e3),this.camera.position.set(0,0,1),this.bottom=A;var a=(new rc).load(t,(function(){a.wrapT=a.wrapS=qe,a.repeat.multiplyScalar(.994),r.planeWidth=176,r.planeHeight=60;var e=new AA(r.planeWidth,r.planeHeight);r.plane=new Fr(e,new Zi({map:a,transparent:!0})),r.fitCamera(),r.camera.position.y=i/2-A-r.planeHeight/2}));pn.getRenderer().autoClear=!1,pn.addBeforeRenderTask((function(e,t,n){r.onBeforeRender(e,t,n)})),pn.addAfterRenderTask((function(e,t,n){r.onAfterRender(e,t,n)}))}return Te(e,[{key:"onBeforeRender",value:function(e,t,n){pn.getRenderer().clear(),this.plane&&e.domElement.width/e.domElement.height!==this.camera.aspect&&this.onResize(e.domElement.width,e.domElement.height)}},{key:"onAfterRender",value:function(){this.plane&&pn.getRenderer().render(this.plane,this.camera)}},{key:"fitCamera",value:function(){var e,t=(new oi).setFromObject(this.plane).getSize(new rn),n=this.planeWidth/t.x,i=this.planeHeight/t.y;t.x>=t.y?(e=n)*t.y>this.planeHeight&&(e=i):(e=i)*t.x>this.planeWidth&&(e=n),this.camera.zoom=e,this.camera.updateProjectionMatrix()}},{key:"onResize",value:function(e,t){this.camera.aspect=e/t,this.camera.left=e/-2,this.camera.right=e/2,this.camera.top=t/2,this.camera.bottom=t/-2,this.camera.updateProjectionMatrix(),this.camera.position.y=t/2-this.bottom-this.planeHeight/2}}]),e}(),Qf=function(e){Fe(n,e);var t=Ge(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},A=arguments.length>2?arguments[2]:void 0;Me(this,n),i=t.call(this,e,r);var a=A.touchStart,o=A.touchMove,s=A.touchEnd,l=A.onUnload;return A.touchStart=function(e){"function"==typeof a&&a.call(A,e),me("canvas","touchstart")(e)},A.touchMove=function(e){"function"==typeof o&&o.call(A,e),me("canvas","touchmove")(e)},A.touchEnd=function(e){"function"==typeof s&&s.call(A,e),me("canvas","touchend")(e)},A.onUnload=function(){k(i.domElement),"function"==typeof l&&l.call(A)},i}return Te(n,[{key:"resize",value:function(){var e=this;wx.createSelectorQuery().select("#c").boundingClientRect((function(t){console.log(t),e.containerRect=t,e.camera.aspect=e.containerRect.width/e.containerRect.height,e.camera.updateProjectionMatrix(),e.domElement.style.width=e.containerRect.width+"px",e.domElement.style.height=e.containerRect.height+"px",e.renderManager.resize(e.containerRect)})).exec()}}]),n}(function(e){Fe(n,e);var t=Ge(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Me(this,n),(i=t.call(this,e,r)).operator=null,i.picker=null,i.materialEditor=null,i.transform=null,!r.isMap&&i.initialize(r),i}return Te(n,[{key:"screenShot",get:function(){return mg.screenShot.bind(this)}},{key:"encircleScreenShot",get:function(){return mg.encircleScreenShot.bind(this)}},{key:"intersectObjects",get:function(){return this.picker.intersectObjects.bind(this.picker)}},{key:"intersectObject",get:function(){return this.picker.intersectObject.bind(this.picker)}},{key:"intersectModels",get:function(){return this.picker.intersectModels.bind(this.picker)}},{key:"screenToVector",get:function(){return this.picker.screenToVector.bind(this.picker)}},{key:"vectorToScreen",get:function(){return this.picker.vectorToScreen.bind(this.picker)}},{key:"enableOutline",get:function(){return Ud.enableOutline},set:function(e){Ud.enableOutline=e}},{key:"outline",get:function(){return Ud.outline}},{key:"enableUnrealBloom",get:function(){return Ud.enableUnrealBloom},set:function(e){Ud.enableUnrealBloom=e}},{key:"unrealBloom",get:function(){return Ud.unrealBloom}},{key:"enableDof",get:function(){return Ud.enableDof},set:function(e){Ud.enableDof=e}},{key:"dof",get:function(){return Ud.dof}},{key:"mapLoader",get:function(){return gg}},{key:"enableTransform",set:function(e){e?(!this.transform&&(this.transform=new Hp(this)),this.transform.enabled=!0,this.transform.setMode(Gp.TRANSLATE)):(this.transform.enabled=!1,this.transform.setTarget(null))}},{key:"initialize",value:function(e){Pe(Ue(n.prototype),"initialize",this).call(this,e),this.picker=new $g,this.operator=new lp(this),this.effectManager=new Gf(this),this.hotSpotManager=new Dp(this)}},{key:"addWatermark",value:function(e){new Pf(e,this.containerRect.width,this.containerRect.height)}},{key:"dispose",value:function(){this.enableOutline=!1,this.enableDof=!1,this.enableUnrealBloom=!1,Pe(Ue(n.prototype),"dispose",this).call(this)}}]),n}(op)),Df=function(e){Fe(n,e);var t=Ge(n);function n(e,i){var r;return Me(this,n),(r=t.call(this)).target=i||e.modelGroup,r.viewer=e,r._enabled=!1,r._clipPlane=new wi(new rn(-1,0,0),0),r.Empty=Object.freeze([]),r.viewer.renderer.localClippingEnabled=!0,r.clipPlanes=[r._clipPlane],r._controls=new _n,r.viewer.add(r._controls),r.target.getWorldPosition(r._controls.position),r._init(),pn.render(),r}return Te(n,[{key:"_init",value:function(){var e=this;this.target.traverse((function(t){t.isMesh&&(Array.isArray(t.material)?t.material:[t.material]).forEach((function(t){t.clippingPlanes=e.Empty,t.clipIntersection=!0}))}));var t=.5*Math.PI,n=(new oi).setFromObject(this.target).getSize(new rn),i=Math.max(n.x,n.y,n.z),r=new Fr(new AA(i,i),new Zi({color:16777215,side:2,opacity:.3,transparent:!0}));this.helper=r,this.helper.renderOrder=11e3,r.rotation.y=t,r.visible=!1,this._controls.add(r);var A=new Up(this.viewer.camera,this.viewer.domElement,!0);this.control=A,A.attach(r),A.visible=!1,this.viewer.add(A),A.addEventListener("dragging-changed",(function(t){e.viewer.controls.enabled=!t.value})),A.addEventListener("objectChange",(function(n){var i=n.target.axis;if(i){var A=r.getWorldPosition(new rn),a="X"===e._axis?A.x:"Y"===e._axis?A.y:A.z;if(i!==e._axis)switch(e._axis=i,r.rotation.set(0,0,0),i){case"X":e._clipPlane.normal=new rn(-1,0,0),r.position.set(a,0,0),r.rotation.y=t;break;case"Y":e._clipPlane.normal=new rn(0,-1,0),r.position.set(0,a,0),r.rotation.x=t;break;case"Z":e._clipPlane.normal=new rn(0,0,-1),r.position.set(0,0,a)}switch(i){case"X":case"Y":case"Z":e._clipPlane.constant=a}}}))}},{key:"enabled",get:function(){return this._enabled},set:function(e){var t=this;this.helper.position.set(0,0,0),this.target.getWorldPosition(this._controls.position),this._enabled=e,this.control.visible=e,this.helper.visible=e,this.target.traverse((function(n){n.isMesh&&(Array.isArray(n.material)?n.material:[n.material]).forEach((function(n){n.clippingPlanes=e?t.clipPlanes:t.Empty}))})),pn.render()}}]),n}(Yt),Nf=function(){function e(){Me(this,e)}return Te(e,null,[{key:"createLine",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#ffffff",n=new Qr;return e.forEach((function(e){n.vertices.push((new rn).copy(e))})),new _o(n,new Vo({color:t}))}},{key:"createSprite",value:function(e,t){var n=new Bo(new co({map:(new rc).load(e,(function(e){pn.render()}))}));return n.scale.set(t,t,t),n}},{key:"createPointLight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#ffffff",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=new Hc(e,t,n);return i}},{key:"createSpotLight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#ffffff",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,r=new Rc(e,t,n,i);return r}},{key:"createBoundingBox",value:function(e,t){return new Hh(e,t)}},{key:"createFontMesh",value:function(e,t,n){(n=n||{}).font=e;var i=new tl(t,n);return i.computeBoundingBox(),new Fr(i,new zh([new Bl({color:n.color,shading:1}),new Bl({color:n.color,shading:2})]))}},{key:"createLightHelper",value:function(e){var t;return e.isDirectionalLight?t=new Th(e,1):e.isSpotLight?t=new Ah(e):e.isPointLight&&(t=new uh(e)),t}},{key:"createPlane",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#ffffff",i=new AA(e,t),r=new Fr(i,new Zi({color:n}));return r.rotation.x=-Math.PI/2,r}}]),e}(),Vf=Be;e.ACESFilmicToneMapping=5,e.AMRTBasicMaterial=Fl,e.AddEquation=ke,e.AddOperation=2,e.AdditiveBlending=2,e.AlphaFormat=1021,e.AlwaysDepth=1,e.AlwaysStencilFunc=519,e.AmbientLight=Dc,e.AmbientLightProbe=ou,e.Anchor=Pp,e.AnimationClip=Xl,e.AnimationLoader=$l,e.AnimationMixer=Nu,e.AnimationObjectGroup=Qu,e.AnimationUtils=Rl,e.ArcCurve=oc,e.ArrayCamera=qa,e.ArrowHelper=Vh,e.Audio=mu,e.AudioAnalyser=bu,e.AudioContext=nu,e.AudioListener=fu,e.AudioLoader=iu,e.AxesHelper=Oh,e.AxisHelper=function(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Oh(e)},e.BackSide=1,e.BasicDepthPacking=3200,e.BasicShadowMap=0,e.BinaryTextureLoader=function(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new tc(e)},e.Bone=Lo,e.BooleanKeyframeTrack=Dl,e.BoundingBoxHelper=function(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Hh(e,t)},e.Box2=Ku,e.Box3=oi,e.Box3Helper=Gh,e.BoxBufferGeometry=Nr,e.BoxGeometry=Dr,e.BoxHelper=Hh,e.BufferAttribute=Xi,e.BufferGeometry=ur,e.BufferGeometryLoader=Zc,e.ByteType=1010,e.Cache=jl,e.Camera=Zr,e.CameraHelper=Uh,e.CameraViewMode=np,e.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")},e.CanvasTexture=As,e.CatmullRomCurve3=dc,e.CineonToneMapping=4,e.CircleBufferGeometry=vl,e.CircleGeometry=ml,e.ClampToEdgeWrapping=$e,e.Clipping=Df,e.Clock=uu,e.ClosedSplineCurve3=Kh,e.Color=Qi,e.ColorKeyframeTrack=Nl,e.CompressedTexture=rs,e.CompressedTextureLoader=ec,e.ConeBufferGeometry=fl,e.ConeGeometry=pl,e.CubeCamera=zr,e.CubeGeometry=Dr,e.CubeReflectionMapping=ze,e.CubeRefractionMapping=Ke,e.CubeTexture=mA,e.CubeTextureLoader=ic,e.CubeUVReflectionMapping=je,e.CubeUVRefractionMapping=Je,e.CubicBezierCurve=mc,e.CubicBezierCurve3=vc,e.CubicInterpolant=Hl,e.CullFaceBack=1,e.CullFaceFront=2,e.CullFaceFrontBack=3,e.CullFaceNone=0,e.Curve=Ac,e.CurvePath=xc,e.CustomBlending=5,e.CylinderBufferGeometry=gl,e.CylinderGeometry=dl,e.Cylindrical=_u,e.DataTexture=Yr,e.DataTexture2DArray=vA,e.DataTexture3D=CA,e.DataTextureLoader=tc,e.DecrementStencilOp=7683,e.DecrementWrapStencilOp=34056,e.DefaultLoadingManager=Kl,e.DepthFormat=ft,e.DepthStencilFormat=mt,e.DepthTexture=as,e.DirectionalLight=Qc,e.DirectionalLightHelper=Th,e.DirectionalLightShadow=Pc,e.DiscreteInterpolant=Pl,e.DodecahedronBufferGeometry=Cs,e.DodecahedronGeometry=vs,e.DoubleSide=2,e.DstAlphaFactor=206,e.DstColorFactor=208,e.DynamicBufferAttribute=function(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new Xi(e,t).setDynamic(!0)},e.DynamicCopyUsage=35050,e.DynamicDrawUsage=_t,e.DynamicReadUsage=35049,e.EdgesGeometry=hl,e.EdgesHelper=function(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Yo(new hl(e.geometry),new Vo({color:void 0!==t?t:16777215}))},e.EllipseCurve=ac,e.EntityFactory=Nf,e.EqualDepth=4,e.EqualStencilFunc=514,e.EquirectangularReflectionMapping=303,e.EquirectangularRefractionMapping=Ye,e.Euler=Un,e.Event=ln,e.EventDispatcher=Yt,e.ExtrudeBufferGeometry=qs,e.ExtrudeBufferGeometry2=ed,e.ExtrudeGeometry=Js,e.ExtrudeGeometry2=$h,e.Face3=Oi,e.Face4=function(e,t,n,i,r,A,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Oi(e,t,n,r,A,a)},e.FaceColors=1,e.FaceNormalsHelper=Bh,e.FileLoader=ql,e.FlatShading=1,e.Float32Attribute=function(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new $i(e,t)},e.Float32BufferAttribute=$i,e.Float64Attribute=function(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new er(e,t)},e.Float64BufferAttribute=er,e.FloatType=ct,e.Fog=oo,e.FogExp2=ao,e.Font=$c,e.FontLoader=tu,e.FrontFaceDirectionCCW=1,e.FrontFaceDirectionCW=0,e.FrontSide=0,e.Frustum=qr,e.GammaEncoding=Dt,e.Geometry=Qr,e.GeometryUtils=Jh,e.GreaterDepth=6,e.GreaterEqualDepth=5,e.GreaterEqualStencilFunc=518,e.GreaterStencilFunc=516,e.GridHelper=vh,e.Group=Ja,e.HalfFloatType=ut,e.HemisphereLight=Sc,e.HemisphereLightHelper=fh,e.HemisphereLightProbe=au,e.IcosahedronBufferGeometry=ms,e.IcosahedronGeometry=fs,e.ImageBitmapLoader=Jc,e.ImageLoader=nc,e.ImageUtils=sn,e.ImmediateRenderObject=qu,e.IncrementStencilOp=7682,e.IncrementWrapStencilOp=34055,e.InstancedBufferAttribute=Wc,e.InstancedBufferGeometry=kc,e.InstancedInterleavedBuffer=Ou,e.InstancedMesh=No,e.Int16Attribute=function(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Yi(e,t)},e.Int16BufferAttribute=Yi,e.Int32Attribute=function(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Ji(e,t)},e.Int32BufferAttribute=Ji,e.Int8Attribute=function(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new _i(e,t)},e.Int8BufferAttribute=_i,e.IntType=1013,e.InterleavedBuffer=so,e.InterleavedBufferAttribute=lo,e.Interpolant=Ll,e.InterpolateDiscrete=Ft,e.InterpolateLinear=Ut,e.InterpolateSmooth=Rt,e.InvertStencilOp=5386,e.JSONLoader=function(){console.error("THREE.JSONLoader has been removed.")},e.KeepStencilOp=Zt,e.KeyframeTrack=Ql,e.LOD=To,e.LargeSceneLoader=Fp,e.LatheBufferGeometry=sl,e.LatheGeometry=ol,e.Layers=Rn,e.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")},e.LessDepth=2,e.LessEqualDepth=3,e.LessEqualStencilFunc=515,e.LessStencilFunc=513,e.Light=Tc,e.LightProbe=Au,e.LightProbeHelper=mh,e.LightShadow=Fc,e.Line=_o,e.Line3=Ju,e.LineBasicMaterial=Vo,e.LineCurve=Cc,e.LineCurve3=yc,e.LineDashedMaterial=Sl,e.LineLoop=jo,e.LinePieces=1,e.LineSegments=Yo,e.LineStrip=0,e.LinearEncoding=Pt,e.LinearFilter=rt,e.LinearInterpolant=Gl,e.LinearMipMapLinearFilter=1008,e.LinearMipMapNearestFilter=1007,e.LinearMipmapLinearFilter=at,e.LinearMipmapNearestFilter=At,e.LinearToneMapping=1,e.Loader=Yl,e.LoaderUtils=Oc,e.LoadingManager=zl,e.LogLuvEncoding=3003,e.LoopOnce=Tt,e.LoopPingPong=2202,e.LoopRepeat=St,e.LuminanceAlphaFormat=1025,e.LuminanceFormat=1024,e.MOUSE=Oe,e.Material=Wi,e.MaterialLoader=Vc,e.Math=qt,e.MathUtils=_h,e.Matrix3=on,e.Matrix4=Tn,e.MaxEquation=104,e.Mesh=Fr,e.MeshBasicMaterial=Zi,e.MeshDepthMaterial=Wa,e.MeshDistanceMaterial=Za,e.MeshFaceMaterial=function(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e},e.MeshLambertMaterial=El,e.MeshMatcapMaterial=Tl,e.MeshNormalMaterial=Ml,e.MeshPhongMaterial=Bl,e.MeshPhysicalMaterial=bl,e.MeshStandardMaterial=wl,e.MeshToonMaterial=xl,e.MinEquation=103,e.MirroredRepeatWrapping=et,e.MixOperation=1,e.MultiMaterial=zh,e.MultiplyBlending=4,e.MultiplyOperation=0,e.NearestFilter=tt,e.NearestMipMapLinearFilter=1005,e.NearestMipMapNearestFilter=1004,e.NearestMipmapLinearFilter=it,e.NearestMipmapNearestFilter=nt,e.NeverDepth=0,e.NeverStencilFunc=512,e.NoBlending=0,e.NoColors=0,e.NoToneMapping=0,e.NormalBlending=1,e.NotEqualDepth=7,e.NotEqualStencilFunc=517,e.NumberKeyframeTrack=Vl,e.Object3D=_n,e.ObjectLoader=_c,e.ObjectSpaceNormalMap=1,e.OctahedronBufferGeometry=ps,e.OctahedronGeometry=gs,e.OneFactor=We,e.OneMinusDstAlphaFactor=207,e.OneMinusDstColorFactor=209,e.OneMinusSrcAlphaFactor=Xe,e.OneMinusSrcColorFactor=203,e.OrthographicCamera=Gc,e.PCFShadowMap=1,e.PCFSoftShadowMap=2,e.ParametricBufferGeometry=ls,e.ParametricGeometry=ss,e.Particle=function(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Bo(e)},e.ParticleBasicMaterial=function(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Jo(e)},e.ParticleSystem=function(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new ns(e,t)},e.ParticleSystemMaterial=function(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Jo(e)},e.Path=Mc,e.PerspectiveCamera=Xr,e.Plane=wi,e.PlaneBufferGeometry=AA,e.PlaneGeometry=rA,e.PlaneHelper=Ph,e.PointCloud=function(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new ns(e,t)},e.PointCloudMaterial=function(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Jo(e)},e.PointLight=Hc,e.PointLightHelper=uh,e.Points=ns,e.PointsMaterial=Jo,e.PolarGridHelper=Ch,e.PolyhedronBufferGeometry=us,e.PolyhedronGeometry=cs,e.PositionalAudio=wu,e.PositionalAudioHelper=yh,e.PropertyBinding=Pu,e.PropertyMixer=Bu,e.QuadraticBezierCurve=Ic,e.QuadraticBezierCurve3=wc,e.Quaternion=en,e.QuaternionKeyframeTrack=kl,e.QuaternionLinearInterpolant=Ol,e.REVISION="111",e.RGBADepthPacking=Wt,e.RGBAFormat=gt,e.RGBA_ASTC_10x10_Format=37819,e.RGBA_ASTC_10x5_Format=37816,e.RGBA_ASTC_10x6_Format=37817,e.RGBA_ASTC_10x8_Format=37818,e.RGBA_ASTC_12x10_Format=37820,e.RGBA_ASTC_12x12_Format=37821,e.RGBA_ASTC_4x4_Format=37808,e.RGBA_ASTC_5x4_Format=37809,e.RGBA_ASTC_5x5_Format=37810,e.RGBA_ASTC_6x5_Format=37811,e.RGBA_ASTC_6x6_Format=37812,e.RGBA_ASTC_8x5_Format=37813,e.RGBA_ASTC_8x6_Format=37814,e.RGBA_ASTC_8x8_Format=37815,e.RGBA_BPTC_Format=36492,e.RGBA_ETC2_EAC_Format=Et,e.RGBA_PVRTC_2BPPV1_Format=xt,e.RGBA_PVRTC_4BPPV1_Format=Bt,e.RGBA_S3TC_DXT1_Format=Ct,e.RGBA_S3TC_DXT3_Format=yt,e.RGBA_S3TC_DXT5_Format=It,e.RGBDEncoding=kt,e.RGBEEncoding=Nt,e.RGBEFormat=pt,e.RGBELoader=kh,e.RGBFormat=dt,e.RGBM16Encoding=Ot,e.RGBM7Encoding=Vt,e.RGB_ETC1_Format=36196,e.RGB_ETC2_Format=Mt,e.RGB_PVRTC_2BPPV1_Format=bt,e.RGB_PVRTC_4BPPV1_Format=wt,e.RGB_S3TC_DXT1_Format=vt,e.RawShaderMaterial=Il,e.Ray=vi,e.Raycaster=ku,e.RectAreaLight=Nc,e.RectAreaLightHelper=hh,e.RedFormat=1028,e.ReinhardToneMapping=2,e.RenderOrder2=Kt,e.RenderOrder3=3e3,e.RenderOrder5=zt,e.RepeatWrapping=qe,e.ReplaceStencilOp=7681,e.ReverseSubtractEquation=102,e.RingBufferGeometry=al,e.RingGeometry=Al,e.Scene=zn,e.SceneUtils=qh,e.ShaderChunk=$r,e.ShaderLib=tA,e.ShaderMaterial=Wr,e.ShadowMaterial=yl,e.Shape=Ec,e.ShapeBufferGeometry=cl,e.ShapeGeometry=ll,e.ShapePath=qc,e.ShapeUtils=Ks,e.ShortType=1011,e.Skeleton=Ro,e.SkeletonHelper=ch,e.SkinnedMesh=So,e.SmoothShading=2,e.Sphere=ci,e.SphereBufferGeometry=rl,e.SphereGeometry=il,e.Spherical=Xu,e.SphericalHarmonics3=ru,e.SphericalReflectionMapping=305,e.Spline=jh,e.SplineCurve=bc,e.SplineCurve3=Yh,e.SpotLight=Rc,e.SpotLightHelper=Ah,e.SpotLightShadow=Uc,e.Sprite=Bo,e.SpriteMaterial=co,e.SrcAlphaFactor=Ze,e.SrcAlphaSaturateFactor=210,e.SrcColorFactor=202,e.StaticCopyUsage=35046,e.StaticDrawUsage=Xt,e.StaticReadUsage=35045,e.StereoCamera=cu,e.StreamCopyUsage=35042,e.StreamDrawUsage=35040,e.StreamReadUsage=35041,e.StringKeyframeTrack=Wl,e.SubtractEquation=101,e.SubtractiveBlending=3,e.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},e.TWEEN=hn,e.TangentSpaceNormalMap=0,e.TetrahedronBufferGeometry=ds,e.TetrahedronGeometry=hs,e.TextBufferGeometry=nl,e.TextGeometry=tl,e.Texture=mn,e.TextureLoader=rc,e.TorusBufferGeometry=xs,e.TorusGeometry=Bs,e.TorusKnotBufferGeometry=bs,e.TorusKnotGeometry=ws,e.TransFormMode=Gp,e.TransformControls=Hp,e.Triangle=Li,e.TriangleFanDrawMode=2,e.TriangleStripDrawMode=1,e.TrianglesDrawMode=0,e.TubeBufferGeometry=Is,e.TubeGeometry=ys,e.UVMapping=_e,e.Uint16Attribute=function(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new ji(e,t)},e.Uint16BufferAttribute=ji,e.Uint32Attribute=function(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new qi(e,t)},e.Uint32BufferAttribute=qi,e.Uint8Attribute=function(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new zi(e,t)},e.Uint8BufferAttribute=zi,e.Uint8ClampedAttribute=function(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Ki(e,t)},e.Uint8ClampedBufferAttribute=Ki,e.Uncharted2ToneMapping=3,e.Uniform=Vu,e.UniformsLib=eA,e.UniformsUtils=kr,e.UnsignedByteType=ot,e.UnsignedInt248Type=ht,e.UnsignedIntType=lt,e.UnsignedShort4444Type=1017,e.UnsignedShort5551Type=1018,e.UnsignedShort565Type=1019,e.UnsignedShortType=st,e.VSMShadowMap=3,e.Vector2=$t,e.Vector3=rn,e.Vector4=vn,e.VectorKeyframeTrack=Zl,e.Vertex=function(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new rn(e,t,n)},e.VertexColors=2,e.VertexNormalsHelper=ih,e.VideoTexture=hr,e.Viewer=Qf,e.WebGLMultisampleRenderTarget=yn,e.WebGLRenderTarget=Cn,e.WebGLRenderTargetCube=Kr,e.WebGLRenderer=Ao,e.WebGLUtils=Ka,e.WireframeGeometry=os,e.WireframeHelper=function(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Yo(new os(e.geometry),new Vo({color:void 0!==t?t:16777215}))},e.WorkerBufferAttribute=tr,e.WrapAroundEnding=Gt,e.XHRLoader=function(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new ql(e)},e.ZeroCurvatureEnding=Lt,e.ZeroFactor=200,e.ZeroSlopeEnding=Ht,e.ZeroStencilOp=0,e.global=Vf,e.sRGBEncoding=Qt,Object.defineProperty(e,"__esModule",{value:!0})}));
